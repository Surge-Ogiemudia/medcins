function XA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var hC={exports:{}},lp={},pC={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),JA=Symbol.for("react.portal"),ZA=Symbol.for("react.fragment"),ej=Symbol.for("react.strict_mode"),tj=Symbol.for("react.profiler"),nj=Symbol.for("react.provider"),rj=Symbol.for("react.context"),ij=Symbol.for("react.forward_ref"),oj=Symbol.for("react.suspense"),sj=Symbol.for("react.memo"),aj=Symbol.for("react.lazy"),B1=Symbol.iterator;function lj(t){return t===null||typeof t!="object"?null:(t=B1&&t[B1]||t["@@iterator"],typeof t=="function"?t:null)}var mC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gC=Object.assign,yC={};function Il(t,e,n){this.props=t,this.context=e,this.refs=yC,this.updater=n||mC}Il.prototype.isReactComponent={};Il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vC(){}vC.prototype=Il.prototype;function h0(t,e,n){this.props=t,this.context=e,this.refs=yC,this.updater=n||mC}var p0=h0.prototype=new vC;p0.constructor=h0;gC(p0,Il.prototype);p0.isPureReactComponent=!0;var W1=Array.isArray,xC=Object.prototype.hasOwnProperty,m0={current:null},bC={key:!0,ref:!0,__self:!0,__source:!0};function _C(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)xC.call(e,r)&&!bC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ou,type:t,key:o,ref:s,props:i,_owner:m0.current}}function cj(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function g0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function uj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U1=/\/+/g;function rg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uj(""+t.key):e.toString(36)}function gf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ou:case JA:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rg(s,0):r,W1(i)?(n="",t!=null&&(n=t.replace(U1,"$&/")+"/"),gf(i,e,n,"",function(u){return u})):i!=null&&(g0(i)&&(i=cj(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(U1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",W1(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+rg(o,a);s+=gf(o,e,n,c,i)}else if(c=lj(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+rg(o,a++),s+=gf(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Od(t,e,n){if(t==null)return t;var r=[],i=0;return gf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},yf={transition:null},fj={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:yf,ReactCurrentOwner:m0};function wC(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:Od,forEach:function(t,e,n){Od(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Od(t,function(){e++}),e},toArray:function(t){return Od(t,function(e){return e})||[]},only:function(t){if(!g0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pt.Component=Il;pt.Fragment=ZA;pt.Profiler=tj;pt.PureComponent=h0;pt.StrictMode=ej;pt.Suspense=oj;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fj;pt.act=wC;pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gC({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=m0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)xC.call(e,c)&&!bC.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ou,type:t.type,key:i,ref:o,props:r,_owner:s}};pt.createContext=function(t){return t={$$typeof:rj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nj,_context:t},t.Consumer=t};pt.createElement=_C;pt.createFactory=function(t){var e=_C.bind(null,t);return e.type=t,e};pt.createRef=function(){return{current:null}};pt.forwardRef=function(t){return{$$typeof:ij,render:t}};pt.isValidElement=g0;pt.lazy=function(t){return{$$typeof:aj,_payload:{_status:-1,_result:t},_init:dj}};pt.memo=function(t,e){return{$$typeof:sj,type:t,compare:e===void 0?null:e}};pt.startTransition=function(t){var e=yf.transition;yf.transition={};try{t()}finally{yf.transition=e}};pt.unstable_act=wC;pt.useCallback=function(t,e){return or.current.useCallback(t,e)};pt.useContext=function(t){return or.current.useContext(t)};pt.useDebugValue=function(){};pt.useDeferredValue=function(t){return or.current.useDeferredValue(t)};pt.useEffect=function(t,e){return or.current.useEffect(t,e)};pt.useId=function(){return or.current.useId()};pt.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};pt.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};pt.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};pt.useMemo=function(t,e){return or.current.useMemo(t,e)};pt.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};pt.useRef=function(t){return or.current.useRef(t)};pt.useState=function(t){return or.current.useState(t)};pt.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};pt.useTransition=function(){return or.current.useTransition()};pt.version="18.3.1";pC.exports=pt;var b=pC.exports;const Te=ap(b),Hf=XA({__proto__:null,default:Te},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hj=b,pj=Symbol.for("react.element"),mj=Symbol.for("react.fragment"),gj=Object.prototype.hasOwnProperty,yj=hj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vj={key:!0,ref:!0,__self:!0,__source:!0};function SC(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)gj.call(e,r)&&!vj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pj,type:t,key:o,ref:s,props:i,_owner:yj.current}}lp.Fragment=mj;lp.jsx=SC;lp.jsxs=SC;hC.exports=lp;var l=hC.exports;function EC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=EC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=EC(t))&&(r&&(r+=" "),r+=e);return r}function xj(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}xj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Nu=t=>typeof t=="number"&&!isNaN(t),$s=t=>typeof t=="string",fo=t=>typeof t=="function",bj=t=>$s(t)||Nu(t),dy=t=>$s(t)||fo(t)?t:null,_j=(t,e)=>t===!1||Nu(t)&&t>0?t:e,fy=t=>b.isValidElement(t)||$s(t)||fo(t)||Nu(t);function wj(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Sj({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:s,preventExitTransition:a,done:c,nodeRef:u,isIn:f,playToast:h}){let m=n?`${t}--${s}`:t,E=n?`${e}--${s}`:e,C=b.useRef(0);return b.useLayoutEffect(()=>{let _=u.current,k=m.split(" "),S=g=>{g.target===u.current&&(h(),_.removeEventListener("animationend",S),_.removeEventListener("animationcancel",S),C.current===0&&g.type!=="animationcancel"&&_.classList.remove(...k))};_.classList.add(...k),_.addEventListener("animationend",S),_.addEventListener("animationcancel",S)},[]),b.useEffect(()=>{let _=u.current,k=()=>{_.removeEventListener("animationend",k),r?wj(_,c,i):c()};f||(a?k():(C.current=1,_.className+=` ${E}`,_.addEventListener("animationend",k)))},[f]),Te.createElement(Te.Fragment,null,o)}}function H1(t,e){return{content:CC(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function CC(t,e,n=!1){return b.isValidElement(t)&&!$s(t.type)?b.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):fo(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Ej({closeToast:t,theme:e,ariaLabel:n="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Cj({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:o,controlledProgress:s,progress:a,rtl:c,isIn:u,theme:f}){let h=i||s&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};s&&(m.transform=`scaleX(${a})`);let E=Ne("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),C=fo(o)?o({rtl:c,type:r,defaultClassName:E}):Ne(E,o),_={[s&&a>=1?"onTransitionEnd":"onAnimationEnd"]:s&&a<1?null:()=>{u&&n()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),Te.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:C,style:m,..._}))}var Tj=1,TC=()=>`${Tj++}`;function Ij(t,e,n){let r=1,i=0,o=[],s=[],a=e,c=new Map,u=new Set,f=g=>(u.add(g),()=>u.delete(g)),h=()=>{s=Array.from(c.values()),u.forEach(g=>g())},m=({containerId:g,toastId:v,updateId:I})=>{let M=g?g!==t:t!==1,N=c.has(v)&&I==null;return M||N},E=(g,v)=>{c.forEach(I=>{var M;(v==null||v===I.props.toastId)&&((M=I.toggle)==null||M.call(I,g))})},C=g=>{var v,I;(I=(v=g.props)==null?void 0:v.onClose)==null||I.call(v,g.removalReason),g.isActive=!1},_=g=>{if(g==null)c.forEach(C);else{let v=c.get(g);v&&C(v)}h()},k=()=>{i-=o.length,o=[]},S=g=>{var v,I;let{toastId:M,updateId:N}=g.props,T=N==null;g.staleId&&c.delete(g.staleId),g.isActive=!0,c.set(M,g),h(),n(H1(g,T?"added":"updated")),T&&((I=(v=g.props).onOpen)==null||I.call(v))};return{id:t,props:a,observe:f,toggle:E,removeToast:_,toasts:c,clearQueue:k,buildToast:(g,v)=>{if(m(v))return;let{toastId:I,updateId:M,data:N,staleId:T,delay:p}=v,y=M==null;y&&i++;let x={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(v).filter(([A,R])=>R!=null)),toastId:I,updateId:M,data:N,isIn:!1,className:dy(v.className||a.toastClassName),progressClassName:dy(v.progressClassName||a.progressClassName),autoClose:v.isLoading?!1:_j(v.autoClose,a.autoClose),closeToast(A){c.get(I).removalReason=A,_(I)},deleteToast(){let A=c.get(I);if(A!=null){if(n(H1(A,"removed")),c.delete(I),i--,i<0&&(i=0),o.length>0){S(o.shift());return}h()}}};x.closeButton=a.closeButton,v.closeButton===!1||fy(v.closeButton)?x.closeButton=v.closeButton:v.closeButton===!0&&(x.closeButton=fy(a.closeButton)?a.closeButton:!0);let j={content:g,props:x,staleId:T};a.limit&&a.limit>0&&i>a.limit&&y?o.push(j):Nu(p)?setTimeout(()=>{S(j)},p):S(j)},setProps(g){a=g},setToggle:(g,v)=>{let I=c.get(g);I&&(I.toggle=v)},isToastActive:g=>{var v;return(v=c.get(g))==null?void 0:v.isActive},getSnapshot:()=>s}}var nr=new Map,Kc=[],hy=new Set,kj=t=>hy.forEach(e=>e(t)),IC=()=>nr.size>0;function Rj(){Kc.forEach(t=>RC(t.content,t.options)),Kc=[]}var Pj=(t,{containerId:e})=>{var n;return(n=nr.get(e||1))==null?void 0:n.toasts.get(t)};function kC(t,e){var n;if(e)return!!((n=nr.get(e))!=null&&n.isToastActive(t));let r=!1;return nr.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function Aj(t){if(!IC()){Kc=Kc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||bj(t))nr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=nr.get(t.containerId);e?e.removeToast(t.id):nr.forEach(n=>{n.removeToast(t.id)})}}var jj=(t={})=>{nr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function RC(t,e){fy(t)&&(IC()||Kc.push({content:t,options:e}),nr.forEach(n=>{n.buildToast(t,e)}))}function Oj(t){var e;(e=nr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function PC(t,e){nr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function Nj(t){let e=t.containerId||1;return{subscribe(n){let r=Ij(e,t,kj);nr.set(e,r);let i=r.observe(n);return Rj(),()=>{i(),nr.delete(e)}},setProps(n){var r;(r=nr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=nr.get(e))==null?void 0:n.getSnapshot()}}}function Mj(t){return hy.add(t),()=>{hy.delete(t)}}function Lj(t){return t&&($s(t.toastId)||Nu(t.toastId))?t.toastId:TC()}function Mu(t,e){return RC(t,e),e.toastId}function cp(t,e){return{...e,type:e&&e.type||t,toastId:Lj(e)}}function up(t){return(e,n)=>Mu(e,cp(t,n))}function ze(t,e){return Mu(t,cp("default",e))}ze.loading=(t,e)=>Mu(t,cp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Dj(t,{pending:e,error:n,success:r},i){let o;e&&(o=$s(e)?ze.loading(e,i):ze.loading(e.render,{...i,...e}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,f,h)=>{if(f==null){ze.dismiss(o);return}let m={type:u,...s,...i,data:h},E=$s(f)?{render:f}:f;return o?ze.update(o,{...m,...E}):ze(E.render,{...m,...E}),h},c=fo(t)?t():t;return c.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),c}ze.promise=Dj;ze.success=up("success");ze.info=up("info");ze.error=up("error");ze.warning=up("warning");ze.warn=ze.warning;ze.dark=(t,e)=>Mu(t,cp("default",{theme:"dark",...e}));function $j(t){Aj(t)}ze.dismiss=$j;ze.clearWaitingQueue=jj;ze.isActive=kC;ze.update=(t,e={})=>{let n=Pj(t,e);if(n){let{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:TC()};o.toastId!==t&&(o.staleId=t);let s=o.render||i;delete o.render,Mu(s,o)}};ze.done=t=>{ze.update(t,{progress:1})};ze.onChange=Mj;ze.play=t=>PC(!0,t);ze.pause=t=>PC(!1,t);function Fj(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=b.useRef(Nj(t)).current;i(t);let o=(e=b.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function s(a){if(!o)return[];let c=new Map;return t.newestOnTop&&o.reverse(),o.forEach(u=>{let{position:f}=u.props;c.has(f)||c.set(f,[]),c.get(f).push(u)}),Array.from(c,u=>a(u[0],u[1]))}return{getToastToRender:s,isToastActive:kC,count:o==null?void 0:o.length}}function zj(t){let[e,n]=b.useState(!1),[r,i]=b.useState(!1),o=b.useRef(null),s=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:f,closeOnClick:h}=t;Oj({id:t.toastId,containerId:t.containerId,fn:n}),b.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{E()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||S(),window.addEventListener("focus",k),window.addEventListener("blur",S)}function E(){window.removeEventListener("focus",k),window.removeEventListener("blur",S)}function C(T){if(t.draggable===!0||t.draggable===T.pointerType){g();let p=o.current;s.canCloseOnClick=!0,s.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(s.start=T.clientX,s.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(s.start=T.clientY,s.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function _(T){let{top:p,bottom:y,left:x,right:j}=o.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=x&&T.clientX<=j&&T.clientY>=p&&T.clientY<=y?S():k()}function k(){n(!0)}function S(){n(!1)}function g(){s.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",M)}function v(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",M)}function I(T){let p=o.current;if(s.canDrag&&p){s.didMove=!0,e&&S(),t.draggableDirection==="x"?s.delta=T.clientX-s.start:s.delta=T.clientY-s.start,s.start!==T.clientX&&(s.canCloseOnClick=!1);let y=t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;p.style.transform=`translate3d(${y},0)`,p.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function M(){v();let T=o.current;if(s.canDrag&&s.didMove&&T){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let N={onPointerDown:C,onPointerUp:_};return a&&c&&(N.onMouseEnter=S,t.stacked||(N.onMouseLeave=k)),h&&(N.onClick=T=>{f&&f(T),s.canCloseOnClick&&u(!0)}),{playToast:k,pauseToast:S,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:N}}var Vj=typeof window<"u"?b.useLayoutEffect:b.useEffect,dp=({theme:t,type:e,isLoading:n,...r})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Bj(t){return Te.createElement(dp,{...t},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Wj(t){return Te.createElement(dp,{...t},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Uj(t){return Te.createElement(dp,{...t},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Hj(t){return Te.createElement(dp,{...t},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function qj(){return Te.createElement("div",{className:"Toastify__spinner"})}var py={info:Wj,warning:Bj,success:Uj,error:Hj,spinner:qj},Kj=t=>t in py;function Gj({theme:t,type:e,isLoading:n,icon:r}){let i=null,o={theme:t,type:e};return r===!1||(fo(r)?i=r({...o,isLoading:n}):b.isValidElement(r)?i=b.cloneElement(r,o):n?i=py.spinner():Kj(e)&&(i=py[e](o))),i}var Qj=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=zj(t),{closeButton:s,children:a,autoClose:c,onClick:u,type:f,hideProgressBar:h,closeToast:m,transition:E,position:C,className:_,style:k,progressClassName:S,updateId:g,role:v,progress:I,rtl:M,toastId:N,deleteToast:T,isIn:p,isLoading:y,closeOnClick:x,theme:j,ariaLabel:A}=t,R=Ne("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":x}),V=fo(_)?_({rtl:M,position:C,type:f,defaultClassName:R}):Ne(R,_),F=Gj(t),W=!!I||!c,q={closeToast:m,type:f,theme:j},L=null;return s===!1||(fo(s)?L=s(q):b.isValidElement(s)?L=b.cloneElement(s,q):L=Ej(q)),Te.createElement(E,{isIn:p,done:T,position:C,preventExitTransition:n,nodeRef:r,playToast:o},Te.createElement("div",{id:N,tabIndex:0,onClick:u,"data-in":p,className:V,...i,style:k,ref:r,...p&&{role:v,"aria-label":A}},F!=null&&Te.createElement("div",{className:Ne("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!y})},F),CC(a,t,!e),L,!t.customProgressBar&&Te.createElement(Cj,{...g&&!W?{key:`p-${g}`}:{},rtl:M,theme:j,delay:c,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:S,controlledProgress:W,progress:I||0})))},Yj=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Xj=Sj(Yj("bounce",!0)),Jj={position:"top-right",transition:Xj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Zj(t){let e={...Jj,...t},n=t.stacked,[r,i]=b.useState(!0),o=b.useRef(null),{getToastToRender:s,isToastActive:a,count:c}=Fj(e),{className:u,style:f,rtl:h,containerId:m,hotKeys:E}=e;function C(k){let S=Ne("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":h});return fo(u)?u({position:k,rtl:h,defaultClassName:S}):Ne(S,dy(u))}function _(){n&&(i(!0),ze.play())}return Vj(()=>{var k;if(n){let S=o.current.querySelectorAll('[data-in="true"]'),g=12,v=(k=e.position)==null?void 0:k.includes("top"),I=0,M=0;Array.from(S).reverse().forEach((N,T)=>{let p=N;p.classList.add("Toastify__toast--stacked"),T>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=v?"top":"bot");let y=I*(r?.2:1)+(r?0:g*T);p.style.setProperty("--y",`${v?y:y*-1}px`),p.style.setProperty("--g",`${g}`),p.style.setProperty("--s",`${1-(r?M:0)}`),I+=p.offsetHeight,M+=.025})}},[r,c,n]),b.useEffect(()=>{function k(S){var g;let v=o.current;E(S)&&((g=v.querySelector('[tabIndex="0"]'))==null||g.focus(),i(!1),ze.pause()),S.key==="Escape"&&(document.activeElement===v||v!=null&&v.contains(document.activeElement))&&(i(!0),ze.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[E]),Te.createElement("section",{ref:o,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),ze.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},s((k,S)=>{let g=S.length?{...f}:{...f,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:C(k),"data-stacked":n,style:g,key:`c-${k}`},S.map(({content:v,props:I})=>Te.createElement(Qj,{...I,stacked:n,collapseAll:_,isIn:a(I.toastId,I.containerId),key:`t-${I.key}`},v)))}))}var my={},AC={exports:{}},jr={},jC={exports:{}},OC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var B=L.length;L.push(z);e:for(;0<B;){var K=B-1>>>1,Y=L[K];if(0<i(Y,z))L[K]=z,L[B]=Y,B=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],B=L.pop();if(B!==z){L[0]=B;e:for(var K=0,Y=L.length,X=Y>>>1;K<X;){var ne=2*(K+1)-1,fe=L[ne],me=ne+1,U=L[me];if(0>i(fe,B))me<Y&&0>i(U,fe)?(L[K]=U,L[me]=B,K=me):(L[K]=fe,L[ne]=B,K=ne);else if(me<Y&&0>i(U,B))L[K]=U,L[me]=B,K=me;else break e}}return z}function i(L,z){var B=L.sortIndex-z.sortIndex;return B!==0?B:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,h=null,m=3,E=!1,C=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function I(L){if(_=!1,v(L),!C)if(n(c)!==null)C=!0,W(M);else{var z=n(u);z!==null&&q(I,z.startTime-L)}}function M(L,z){C=!1,_&&(_=!1,S(p),p=-1),E=!0;var B=m;try{for(v(z),h=n(c);h!==null&&(!(h.expirationTime>z)||L&&!j());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var Y=K(h.expirationTime<=z);z=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),v(z)}else r(c);h=n(c)}if(h!==null)var X=!0;else{var ne=n(u);ne!==null&&q(I,ne.startTime-z),X=!1}return X}finally{h=null,m=B,E=!1}}var N=!1,T=null,p=-1,y=5,x=-1;function j(){return!(t.unstable_now()-x<y)}function A(){if(T!==null){var L=t.unstable_now();x=L;var z=!0;try{z=T(!0,L)}finally{z?R():(N=!1,T=null)}}else N=!1}var R;if(typeof g=="function")R=function(){g(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=A,R=function(){F.postMessage(null)}}else R=function(){k(A,0)};function W(L){T=L,N||(N=!0,R())}function q(L,z){p=k(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,W(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var B=m;m=z;try{return L()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=m;m=L;try{return z()}finally{m=B}},t.unstable_scheduleCallback=function(L,z,B){var K=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,L={id:f++,callback:z,priorityLevel:L,startTime:B,expirationTime:Y,sortIndex:-1},B>K?(L.sortIndex=B,e(u,L),n(c)===null&&L===n(u)&&(_?(S(p),p=-1):_=!0,q(I,B-K))):(L.sortIndex=Y,e(c,L),C||E||(C=!0,W(M))),L},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(L){var z=m;return function(){var B=m;m=z;try{return L.apply(this,arguments)}finally{m=B}}}})(OC);jC.exports=OC;var eO=jC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO=b,kr=eO;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NC=new Set,Gc={};function ea(t,e){tl(t,e),tl(t+"Capture",e)}function tl(t,e){for(Gc[t]=e,t=0;t<e.length;t++)NC.add(e[t])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gy=Object.prototype.hasOwnProperty,nO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q1={},K1={};function rO(t){return gy.call(K1,t)?!0:gy.call(q1,t)?!1:nO.test(t)?K1[t]=!0:(q1[t]=!0,!1)}function iO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oO(t,e,n,r){if(e===null||typeof e>"u"||iO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var y0=/[\-:]([a-z])/g;function v0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y0,v0);Fn[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y0,v0);Fn[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y0,v0);Fn[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function x0(t,e,n,r){var i=Fn.hasOwnProperty(e)?Fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oO(e,n,i,r)&&(n=null),r||i===null?rO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Eo=tO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nd=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),yy=Symbol.for("react.profiler"),MC=Symbol.for("react.provider"),LC=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),vy=Symbol.for("react.suspense"),xy=Symbol.for("react.suspense_list"),w0=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),DC=Symbol.for("react.offscreen"),G1=Symbol.iterator;function Xl(t){return t===null||typeof t!="object"?null:(t=G1&&t[G1]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,ig;function gc(t){if(ig===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ig=e&&e[1]||""}return`
`+ig+t}var og=!1;function sg(t,e){if(!t||og)return"";og=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{og=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gc(t):""}function sO(t){switch(t.tag){case 5:return gc(t.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return t=sg(t.type,!1),t;case 11:return t=sg(t.type.render,!1),t;case 1:return t=sg(t.type,!0),t;default:return""}}function by(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case Sa:return"Portal";case yy:return"Profiler";case b0:return"StrictMode";case vy:return"Suspense";case xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LC:return(t.displayName||"Context")+".Consumer";case MC:return(t._context.displayName||"Context")+".Provider";case _0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w0:return e=t.displayName||null,e!==null?e:by(t.type)||"Memo";case Mo:e=t._payload,t=t._init;try{return by(t(e))}catch{}}return null}function aO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return by(e);case 8:return e===b0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $C(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lO(t){var e=$C(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Md(t){t._valueTracker||(t._valueTracker=lO(t))}function FC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$C(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _y(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Q1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zC(t,e){e=e.checked,e!=null&&x0(t,"checked",e,!1)}function wy(t,e){zC(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sy(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sy(t,e,n){(e!=="number"||qf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yc=Array.isArray;function Fa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ey(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(yc(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function VC(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function J1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ld,WC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ld=Ld||document.createElement("div"),Ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ld.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cO=["Webkit","ms","Moz","O"];Object.keys(Ic).forEach(function(t){cO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ic[e]=Ic[t]})});function UC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ic.hasOwnProperty(t)&&Ic[t]?(""+e).trim():e+"px"}function HC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uO=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ty(t,e){if(e){if(uO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function Iy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ky=null;function S0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ry=null,za=null,Va=null;function Z1(t){if(t=$u(t)){if(typeof Ry!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=gp(e),Ry(t.stateNode,t.type,e))}}function qC(t){za?Va?Va.push(t):Va=[t]:za=t}function KC(){if(za){var t=za,e=Va;if(Va=za=null,Z1(t),e)for(t=0;t<e.length;t++)Z1(e[t])}}function GC(t,e){return t(e)}function QC(){}var ag=!1;function YC(t,e,n){if(ag)return t(e,n);ag=!0;try{return GC(t,e,n)}finally{ag=!1,(za!==null||Va!==null)&&(QC(),KC())}}function Yc(t,e){var n=t.stateNode;if(n===null)return null;var r=gp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var Py=!1;if(ho)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){Py=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Py=!1}function dO(t,e,n,r,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var kc=!1,Kf=null,Gf=!1,Ay=null,fO={onError:function(t){kc=!0,Kf=t}};function hO(t,e,n,r,i,o,s,a,c){kc=!1,Kf=null,dO.apply(fO,arguments)}function pO(t,e,n,r,i,o,s,a,c){if(hO.apply(this,arguments),kc){if(kc){var u=Kf;kc=!1,Kf=null}else throw Error(ue(198));Gf||(Gf=!0,Ay=u)}}function ta(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function e_(t){if(ta(t)!==t)throw Error(ue(188))}function mO(t){var e=t.alternate;if(!e){if(e=ta(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return e_(i),t;if(o===r)return e_(i),e;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function JC(t){return t=mO(t),t!==null?ZC(t):null}function ZC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZC(t);if(e!==null)return e;t=t.sibling}return null}var eT=kr.unstable_scheduleCallback,t_=kr.unstable_cancelCallback,gO=kr.unstable_shouldYield,yO=kr.unstable_requestPaint,sn=kr.unstable_now,vO=kr.unstable_getCurrentPriorityLevel,E0=kr.unstable_ImmediatePriority,tT=kr.unstable_UserBlockingPriority,Qf=kr.unstable_NormalPriority,xO=kr.unstable_LowPriority,nT=kr.unstable_IdlePriority,fp=null,Ri=null;function bO(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(fp,t,void 0,(t.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:SO,_O=Math.log,wO=Math.LN2;function SO(t){return t>>>=0,t===0?32:31-(_O(t)/wO|0)|0}var Dd=64,$d=4194304;function vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=vc(a):(o&=s,o!==0&&(r=vc(o)))}else s=n&~i,s!==0?r=vc(s):o!==0&&(r=vc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pi(e),i=1<<n,r|=t[n],e&=~i;return r}function EO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-pi(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=EO(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function jy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rT(){var t=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),t}function lg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pi(e),t[e]=n}function TO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function C0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var It=0;function iT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oT,T0,sT,aT,lT,Oy=!1,Fd=[],Ho=null,qo=null,Ko=null,Xc=new Map,Jc=new Map,$o=[],IO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n_(t,e){switch(t){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":Xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(e.pointerId)}}function Zl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=$u(e),e!==null&&T0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kO(t,e,n,r,i){switch(e){case"focusin":return Ho=Zl(Ho,t,e,n,r,i),!0;case"dragenter":return qo=Zl(qo,t,e,n,r,i),!0;case"mouseover":return Ko=Zl(Ko,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xc.set(o,Zl(Xc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jc.set(o,Zl(Jc.get(o)||null,t,e,n,r,i)),!0}return!1}function cT(t){var e=Rs(t.target);if(e!==null){var n=ta(e);if(n!==null){if(e=n.tag,e===13){if(e=XC(n),e!==null){t.blockedOn=e,lT(t.priority,function(){sT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ky=r,n.target.dispatchEvent(r),ky=null}else return e=$u(n),e!==null&&T0(e),t.blockedOn=n,!1;e.shift()}return!0}function r_(t,e,n){vf(t)&&n.delete(e)}function RO(){Oy=!1,Ho!==null&&vf(Ho)&&(Ho=null),qo!==null&&vf(qo)&&(qo=null),Ko!==null&&vf(Ko)&&(Ko=null),Xc.forEach(r_),Jc.forEach(r_)}function ec(t,e){t.blockedOn===e&&(t.blockedOn=null,Oy||(Oy=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,RO)))}function Zc(t){function e(i){return ec(i,t)}if(0<Fd.length){ec(Fd[0],t);for(var n=1;n<Fd.length;n++){var r=Fd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ho!==null&&ec(Ho,t),qo!==null&&ec(qo,t),Ko!==null&&ec(Ko,t),Xc.forEach(e),Jc.forEach(e),n=0;n<$o.length;n++)r=$o[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$o.length&&(n=$o[0],n.blockedOn===null);)cT(n),n.blockedOn===null&&$o.shift()}var Ba=Eo.ReactCurrentBatchConfig,Xf=!0;function PO(t,e,n,r){var i=It,o=Ba.transition;Ba.transition=null;try{It=1,I0(t,e,n,r)}finally{It=i,Ba.transition=o}}function AO(t,e,n,r){var i=It,o=Ba.transition;Ba.transition=null;try{It=4,I0(t,e,n,r)}finally{It=i,Ba.transition=o}}function I0(t,e,n,r){if(Xf){var i=Ny(t,e,n,r);if(i===null)vg(t,e,r,Jf,n),n_(t,r);else if(kO(i,t,e,n,r))r.stopPropagation();else if(n_(t,r),e&4&&-1<IO.indexOf(t)){for(;i!==null;){var o=$u(i);if(o!==null&&oT(o),o=Ny(t,e,n,r),o===null&&vg(t,e,r,Jf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vg(t,e,r,null,n)}}var Jf=null;function Ny(t,e,n,r){if(Jf=null,t=S0(r),t=Rs(t),t!==null)if(e=ta(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jf=t,null}function uT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vO()){case E0:return 1;case tT:return 4;case Qf:case xO:return 16;case nT:return 536870912;default:return 16}default:return 16}}var zo=null,k0=null,xf=null;function dT(){if(xf)return xf;var t,e=k0,n=e.length,r,i="value"in zo?zo.value:zo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return xf=i.slice(t,1<r?1-r:void 0)}function bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zd(){return!0}function i_(){return!1}function Or(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zd:i_,this.isPropagationStopped=i_,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zd)},persist:function(){},isPersistent:zd}),e}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=Or(kl),Du=Yt({},kl,{view:0,detail:0}),jO=Or(Du),cg,ug,tc,hp=Yt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tc&&(tc&&t.type==="mousemove"?(cg=t.screenX-tc.screenX,ug=t.screenY-tc.screenY):ug=cg=0,tc=t),cg)},movementY:function(t){return"movementY"in t?t.movementY:ug}}),o_=Or(hp),OO=Yt({},hp,{dataTransfer:0}),NO=Or(OO),MO=Yt({},Du,{relatedTarget:0}),dg=Or(MO),LO=Yt({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),DO=Or(LO),$O=Yt({},kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FO=Or($O),zO=Yt({},kl,{data:0}),s_=Or(zO),VO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WO[t])?!!e[t]:!1}function P0(){return UO}var HO=Yt({},Du,{key:function(t){if(t.key){var e=VO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P0,charCode:function(t){return t.type==="keypress"?bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qO=Or(HO),KO=Yt({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a_=Or(KO),GO=Yt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P0}),QO=Or(GO),YO=Yt({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),XO=Or(YO),JO=Yt({},hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZO=Or(JO),eN=[9,13,27,32],A0=ho&&"CompositionEvent"in window,Rc=null;ho&&"documentMode"in document&&(Rc=document.documentMode);var tN=ho&&"TextEvent"in window&&!Rc,fT=ho&&(!A0||Rc&&8<Rc&&11>=Rc),l_=" ",c_=!1;function hT(t,e){switch(t){case"keyup":return eN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function nN(t,e){switch(t){case"compositionend":return pT(e);case"keypress":return e.which!==32?null:(c_=!0,l_);case"textInput":return t=e.data,t===l_&&c_?null:t;default:return null}}function rN(t,e){if(Ca)return t==="compositionend"||!A0&&hT(t,e)?(t=dT(),xf=k0=zo=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fT&&e.locale!=="ko"?null:e.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iN[t.type]:e==="textarea"}function mT(t,e,n,r){qC(r),e=Zf(e,"onChange"),0<e.length&&(n=new R0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pc=null,eu=null;function oN(t){TT(t,0)}function pp(t){var e=ka(t);if(FC(e))return t}function sN(t,e){if(t==="change")return e}var gT=!1;if(ho){var fg;if(ho){var hg="oninput"in document;if(!hg){var d_=document.createElement("div");d_.setAttribute("oninput","return;"),hg=typeof d_.oninput=="function"}fg=hg}else fg=!1;gT=fg&&(!document.documentMode||9<document.documentMode)}function f_(){Pc&&(Pc.detachEvent("onpropertychange",yT),eu=Pc=null)}function yT(t){if(t.propertyName==="value"&&pp(eu)){var e=[];mT(e,eu,t,S0(t)),YC(oN,e)}}function aN(t,e,n){t==="focusin"?(f_(),Pc=e,eu=n,Pc.attachEvent("onpropertychange",yT)):t==="focusout"&&f_()}function lN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pp(eu)}function cN(t,e){if(t==="click")return pp(e)}function uN(t,e){if(t==="input"||t==="change")return pp(e)}function dN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yi=typeof Object.is=="function"?Object.is:dN;function tu(t,e){if(yi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gy.call(e,i)||!yi(t[i],e[i]))return!1}return!0}function h_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p_(t,e){var n=h_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h_(n)}}function vT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xT(){for(var t=window,e=qf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qf(t.document)}return e}function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fN(t){var e=xT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vT(n.ownerDocument.documentElement,n)){if(r!==null&&j0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=p_(n,o);var s=p_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hN=ho&&"documentMode"in document&&11>=document.documentMode,Ta=null,My=null,Ac=null,Ly=!1;function m_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ly||Ta==null||Ta!==qf(r)||(r=Ta,"selectionStart"in r&&j0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ac&&tu(Ac,r)||(Ac=r,r=Zf(My,"onSelect"),0<r.length&&(e=new R0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ta)))}function Vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ia={animationend:Vd("Animation","AnimationEnd"),animationiteration:Vd("Animation","AnimationIteration"),animationstart:Vd("Animation","AnimationStart"),transitionend:Vd("Transition","TransitionEnd")},pg={},bT={};ho&&(bT=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function mp(t){if(pg[t])return pg[t];if(!Ia[t])return t;var e=Ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bT)return pg[t]=e[n];return t}var _T=mp("animationend"),wT=mp("animationiteration"),ST=mp("animationstart"),ET=mp("transitionend"),CT=new Map,g_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,e){CT.set(t,e),ea(e,[t])}for(var mg=0;mg<g_.length;mg++){var gg=g_[mg],pN=gg.toLowerCase(),mN=gg[0].toUpperCase()+gg.slice(1);us(pN,"on"+mN)}us(_T,"onAnimationEnd");us(wT,"onAnimationIteration");us(ST,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(ET,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gN=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function y_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pO(r,e,void 0,t),t.currentTarget=null}function TT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;y_(i,a,u),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;y_(i,a,u),o=c}}}if(Gf)throw t=Ay,Gf=!1,Ay=null,t}function Dt(t,e){var n=e[Vy];n===void 0&&(n=e[Vy]=new Set);var r=t+"__bubble";n.has(r)||(IT(e,t,2,!1),n.add(r))}function yg(t,e,n){var r=0;e&&(r|=4),IT(n,t,r,e)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[Bd]){t[Bd]=!0,NC.forEach(function(n){n!=="selectionchange"&&(gN.has(n)||yg(n,!1,t),yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bd]||(e[Bd]=!0,yg("selectionchange",!1,e))}}function IT(t,e,n,r){switch(uT(e)){case 1:var i=PO;break;case 4:i=AO;break;default:i=I0}n=i.bind(null,e,n,t),i=void 0,!Py||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Rs(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}YC(function(){var u=o,f=S0(n),h=[];e:{var m=CT.get(t);if(m!==void 0){var E=R0,C=t;switch(t){case"keypress":if(bf(n)===0)break e;case"keydown":case"keyup":E=qO;break;case"focusin":C="focus",E=dg;break;case"focusout":C="blur",E=dg;break;case"beforeblur":case"afterblur":E=dg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=o_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=NO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=QO;break;case _T:case wT:case ST:E=DO;break;case ET:E=XO;break;case"scroll":E=jO;break;case"wheel":E=ZO;break;case"copy":case"cut":case"paste":E=FO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=a_}var _=(e&4)!==0,k=!_&&t==="scroll",S=_?m!==null?m+"Capture":null:m;_=[];for(var g=u,v;g!==null;){v=g;var I=v.stateNode;if(v.tag===5&&I!==null&&(v=I,S!==null&&(I=Yc(g,S),I!=null&&_.push(ru(g,I,v)))),k)break;g=g.return}0<_.length&&(m=new E(m,C,null,n,f),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==ky&&(C=n.relatedTarget||n.fromElement)&&(Rs(C)||C[po]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=u,C=C?Rs(C):null,C!==null&&(k=ta(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=u),E!==C)){if(_=o_,I="onMouseLeave",S="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=a_,I="onPointerLeave",S="onPointerEnter",g="pointer"),k=E==null?m:ka(E),v=C==null?m:ka(C),m=new _(I,g+"leave",E,n,f),m.target=k,m.relatedTarget=v,I=null,Rs(f)===u&&(_=new _(S,g+"enter",C,n,f),_.target=v,_.relatedTarget=k,I=_),k=I,E&&C)t:{for(_=E,S=C,g=0,v=_;v;v=da(v))g++;for(v=0,I=S;I;I=da(I))v++;for(;0<g-v;)_=da(_),g--;for(;0<v-g;)S=da(S),v--;for(;g--;){if(_===S||S!==null&&_===S.alternate)break t;_=da(_),S=da(S)}_=null}else _=null;E!==null&&v_(h,m,E,_,!1),C!==null&&k!==null&&v_(h,k,C,_,!0)}}e:{if(m=u?ka(u):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var M=sN;else if(u_(m))if(gT)M=uN;else{M=lN;var N=aN}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=cN);if(M&&(M=M(t,u))){mT(h,M,n,f);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Sy(m,"number",m.value)}switch(N=u?ka(u):window,t){case"focusin":(u_(N)||N.contentEditable==="true")&&(Ta=N,My=u,Ac=null);break;case"focusout":Ac=My=Ta=null;break;case"mousedown":Ly=!0;break;case"contextmenu":case"mouseup":case"dragend":Ly=!1,m_(h,n,f);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":m_(h,n,f)}var T;if(A0)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Ca?hT(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(fT&&n.locale!=="ko"&&(Ca||p!=="onCompositionStart"?p==="onCompositionEnd"&&Ca&&(T=dT()):(zo=f,k0="value"in zo?zo.value:zo.textContent,Ca=!0)),N=Zf(u,p),0<N.length&&(p=new s_(p,t,null,n,f),h.push({event:p,listeners:N}),T?p.data=T:(T=pT(n),T!==null&&(p.data=T)))),(T=tN?nN(t,n):rN(t,n))&&(u=Zf(u,"onBeforeInput"),0<u.length&&(f=new s_("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=T))}TT(h,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yc(t,n),o!=null&&r.unshift(ru(t,o,i)),o=Yc(t,e),o!=null&&r.push(ru(t,o,i))),t=t.return}return r}function da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Yc(n,o),c!=null&&s.unshift(ru(n,c,a))):i||(c=Yc(n,o),c!=null&&s.push(ru(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var yN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(yN,`
`).replace(vN,"")}function Wd(t,e,n){if(e=x_(e),x_(t)!==e&&n)throw Error(ue(425))}function eh(){}var Dy=null,$y=null;function Fy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zy=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,bN=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(t){return b_.resolve(null).then(t).catch(_N)}:zy;function _N(t){setTimeout(function(){throw t})}function xg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zc(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function __(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Rl,iu="__reactProps$"+Rl,po="__reactContainer$"+Rl,Vy="__reactEvents$"+Rl,wN="__reactListeners$"+Rl,SN="__reactHandles$"+Rl;function Rs(t){var e=t[Ti];if(e)return e;for(var n=t.parentNode;n;){if(e=n[po]||n[Ti]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=__(t);t!==null;){if(n=t[Ti])return n;t=__(t)}return e}t=n,n=t.parentNode}return null}function $u(t){return t=t[Ti]||t[po],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function gp(t){return t[iu]||null}var By=[],Ra=-1;function ds(t){return{current:t}}function zt(t){0>Ra||(t.current=By[Ra],By[Ra]=null,Ra--)}function Mt(t,e){Ra++,By[Ra]=t.current,t.current=e}var rs={},Jn=ds(rs),hr=ds(!1),Fs=rs;function nl(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function th(){zt(hr),zt(Jn)}function w_(t,e,n){if(Jn.current!==rs)throw Error(ue(168));Mt(Jn,e),Mt(hr,n)}function kT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,aO(t)||"Unknown",i));return Yt({},n,r)}function nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,Fs=Jn.current,Mt(Jn,t),Mt(hr,hr.current),!0}function S_(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=kT(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,zt(hr),zt(Jn),Mt(Jn,t)):zt(hr),Mt(hr,n)}var Yi=null,yp=!1,bg=!1;function RT(t){Yi===null?Yi=[t]:Yi.push(t)}function EN(t){yp=!0,RT(t)}function fs(){if(!bg&&Yi!==null){bg=!0;var t=0,e=It;try{var n=Yi;for(It=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yi=null,yp=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(t+1)),eT(E0,fs),i}finally{It=e,bg=!1}}return null}var Pa=[],Aa=0,rh=null,ih=0,Br=[],Wr=0,zs=null,no=1,ro="";function Ss(t,e){Pa[Aa++]=ih,Pa[Aa++]=rh,rh=t,ih=e}function PT(t,e,n){Br[Wr++]=no,Br[Wr++]=ro,Br[Wr++]=zs,zs=t;var r=no;t=ro;var i=32-pi(r)-1;r&=~(1<<i),n+=1;var o=32-pi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,no=1<<32-pi(e)+i|n<<i|r,ro=o+t}else no=1<<o|n<<i|r,ro=t}function O0(t){t.return!==null&&(Ss(t,1),PT(t,1,0))}function N0(t){for(;t===rh;)rh=Pa[--Aa],Pa[Aa]=null,ih=Pa[--Aa],Pa[Aa]=null;for(;t===zs;)zs=Br[--Wr],Br[Wr]=null,ro=Br[--Wr],Br[Wr]=null,no=Br[--Wr],Br[Wr]=null}var Cr=null,Sr=null,Ht=!1,fi=null;function AT(t,e){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function E_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cr=t,Sr=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cr=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zs!==null?{id:no,overflow:ro}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cr=t,Sr=null,!0):!1;default:return!1}}function Wy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uy(t){if(Ht){var e=Sr;if(e){var n=e;if(!E_(t,e)){if(Wy(t))throw Error(ue(418));e=Go(n.nextSibling);var r=Cr;e&&E_(t,e)?AT(r,n):(t.flags=t.flags&-4097|2,Ht=!1,Cr=t)}}else{if(Wy(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Ht=!1,Cr=t}}}function C_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cr=t}function Ud(t){if(t!==Cr)return!1;if(!Ht)return C_(t),Ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fy(t.type,t.memoizedProps)),e&&(e=Sr)){if(Wy(t))throw jT(),Error(ue(418));for(;e;)AT(t,e),e=Go(e.nextSibling)}if(C_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Cr?Go(t.stateNode.nextSibling):null;return!0}function jT(){for(var t=Sr;t;)t=Go(t.nextSibling)}function rl(){Sr=Cr=null,Ht=!1}function M0(t){fi===null?fi=[t]:fi.push(t)}var CN=Eo.ReactCurrentBatchConfig;function nc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T_(t){var e=t._init;return e(t._payload)}function OT(t){function e(S,g){if(t){var v=S.deletions;v===null?(S.deletions=[g],S.flags|=16):v.push(g)}}function n(S,g){if(!t)return null;for(;g!==null;)e(S,g),g=g.sibling;return null}function r(S,g){for(S=new Map;g!==null;)g.key!==null?S.set(g.key,g):S.set(g.index,g),g=g.sibling;return S}function i(S,g){return S=Jo(S,g),S.index=0,S.sibling=null,S}function o(S,g,v){return S.index=v,t?(v=S.alternate,v!==null?(v=v.index,v<g?(S.flags|=2,g):v):(S.flags|=2,g)):(S.flags|=1048576,g)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,g,v,I){return g===null||g.tag!==6?(g=Ig(v,S.mode,I),g.return=S,g):(g=i(g,v),g.return=S,g)}function c(S,g,v,I){var M=v.type;return M===Ea?f(S,g,v.props.children,I,v.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mo&&T_(M)===g.type)?(I=i(g,v.props),I.ref=nc(S,g,v),I.return=S,I):(I=If(v.type,v.key,v.props,null,S.mode,I),I.ref=nc(S,g,v),I.return=S,I)}function u(S,g,v,I){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=kg(v,S.mode,I),g.return=S,g):(g=i(g,v.children||[]),g.return=S,g)}function f(S,g,v,I,M){return g===null||g.tag!==7?(g=Ms(v,S.mode,I,M),g.return=S,g):(g=i(g,v),g.return=S,g)}function h(S,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ig(""+g,S.mode,v),g.return=S,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nd:return v=If(g.type,g.key,g.props,null,S.mode,v),v.ref=nc(S,null,g),v.return=S,v;case Sa:return g=kg(g,S.mode,v),g.return=S,g;case Mo:var I=g._init;return h(S,I(g._payload),v)}if(yc(g)||Xl(g))return g=Ms(g,S.mode,v,null),g.return=S,g;Hd(S,g)}return null}function m(S,g,v,I){var M=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return M!==null?null:a(S,g,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nd:return v.key===M?c(S,g,v,I):null;case Sa:return v.key===M?u(S,g,v,I):null;case Mo:return M=v._init,m(S,g,M(v._payload),I)}if(yc(v)||Xl(v))return M!==null?null:f(S,g,v,I,null);Hd(S,v)}return null}function E(S,g,v,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return S=S.get(v)||null,a(g,S,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Nd:return S=S.get(I.key===null?v:I.key)||null,c(g,S,I,M);case Sa:return S=S.get(I.key===null?v:I.key)||null,u(g,S,I,M);case Mo:var N=I._init;return E(S,g,v,N(I._payload),M)}if(yc(I)||Xl(I))return S=S.get(v)||null,f(g,S,I,M,null);Hd(g,I)}return null}function C(S,g,v,I){for(var M=null,N=null,T=g,p=g=0,y=null;T!==null&&p<v.length;p++){T.index>p?(y=T,T=null):y=T.sibling;var x=m(S,T,v[p],I);if(x===null){T===null&&(T=y);break}t&&T&&x.alternate===null&&e(S,T),g=o(x,g,p),N===null?M=x:N.sibling=x,N=x,T=y}if(p===v.length)return n(S,T),Ht&&Ss(S,p),M;if(T===null){for(;p<v.length;p++)T=h(S,v[p],I),T!==null&&(g=o(T,g,p),N===null?M=T:N.sibling=T,N=T);return Ht&&Ss(S,p),M}for(T=r(S,T);p<v.length;p++)y=E(T,S,p,v[p],I),y!==null&&(t&&y.alternate!==null&&T.delete(y.key===null?p:y.key),g=o(y,g,p),N===null?M=y:N.sibling=y,N=y);return t&&T.forEach(function(j){return e(S,j)}),Ht&&Ss(S,p),M}function _(S,g,v,I){var M=Xl(v);if(typeof M!="function")throw Error(ue(150));if(v=M.call(v),v==null)throw Error(ue(151));for(var N=M=null,T=g,p=g=0,y=null,x=v.next();T!==null&&!x.done;p++,x=v.next()){T.index>p?(y=T,T=null):y=T.sibling;var j=m(S,T,x.value,I);if(j===null){T===null&&(T=y);break}t&&T&&j.alternate===null&&e(S,T),g=o(j,g,p),N===null?M=j:N.sibling=j,N=j,T=y}if(x.done)return n(S,T),Ht&&Ss(S,p),M;if(T===null){for(;!x.done;p++,x=v.next())x=h(S,x.value,I),x!==null&&(g=o(x,g,p),N===null?M=x:N.sibling=x,N=x);return Ht&&Ss(S,p),M}for(T=r(S,T);!x.done;p++,x=v.next())x=E(T,S,p,x.value,I),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?p:x.key),g=o(x,g,p),N===null?M=x:N.sibling=x,N=x);return t&&T.forEach(function(A){return e(S,A)}),Ht&&Ss(S,p),M}function k(S,g,v,I){if(typeof v=="object"&&v!==null&&v.type===Ea&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Nd:e:{for(var M=v.key,N=g;N!==null;){if(N.key===M){if(M=v.type,M===Ea){if(N.tag===7){n(S,N.sibling),g=i(N,v.props.children),g.return=S,S=g;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mo&&T_(M)===N.type){n(S,N.sibling),g=i(N,v.props),g.ref=nc(S,N,v),g.return=S,S=g;break e}n(S,N);break}else e(S,N);N=N.sibling}v.type===Ea?(g=Ms(v.props.children,S.mode,I,v.key),g.return=S,S=g):(I=If(v.type,v.key,v.props,null,S.mode,I),I.ref=nc(S,g,v),I.return=S,S=I)}return s(S);case Sa:e:{for(N=v.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(S,g.sibling),g=i(g,v.children||[]),g.return=S,S=g;break e}else{n(S,g);break}else e(S,g);g=g.sibling}g=kg(v,S.mode,I),g.return=S,S=g}return s(S);case Mo:return N=v._init,k(S,g,N(v._payload),I)}if(yc(v))return C(S,g,v,I);if(Xl(v))return _(S,g,v,I);Hd(S,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(S,g.sibling),g=i(g,v),g.return=S,S=g):(n(S,g),g=Ig(v,S.mode,I),g.return=S,S=g),s(S)):n(S,g)}return k}var il=OT(!0),NT=OT(!1),oh=ds(null),sh=null,ja=null,L0=null;function D0(){L0=ja=sh=null}function $0(t){var e=oh.current;zt(oh),t._currentValue=e}function Hy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wa(t,e){sh=t,L0=ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fr=!0),t.firstContext=null)}function Yr(t){var e=t._currentValue;if(L0!==t)if(t={context:t,memoizedValue:e,next:null},ja===null){if(sh===null)throw Error(ue(308));ja=t,sh.dependencies={lanes:0,firstContext:t}}else ja=ja.next=t;return e}var Ps=null;function F0(t){Ps===null?Ps=[t]:Ps.push(t)}function MT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,F0(e)):(n.next=i.next,i.next=n),e.interleaved=n,mo(t,r)}function mo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lo=!1;function z0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ao(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mo(t,n)}return i=r.interleaved,i===null?(e.next=e,F0(r)):(e.next=i.next,i.next=e),r.interleaved=e,mo(t,n)}function _f(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}function I_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var i=t.updateQueue;Lo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(o!==null){var h=i.baseState;s=0,f=u=c=null,a=o;do{var m=a.lane,E=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,_=a;switch(m=e,E=n,_.tag){case 1:if(C=_.payload,typeof C=="function"){h=C.call(E,h,m);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,m=typeof C=="function"?C.call(E,h,m):C,m==null)break e;h=Yt({},h,m);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=E,c=h):f=f.next=E,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Bs|=s,t.lanes=s,t.memoizedState=h}}function k_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var Fu={},Pi=ds(Fu),ou=ds(Fu),su=ds(Fu);function As(t){if(t===Fu)throw Error(ue(174));return t}function V0(t,e){switch(Mt(su,e),Mt(ou,t),Mt(Pi,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cy(e,t)}zt(Pi),Mt(Pi,e)}function ol(){zt(Pi),zt(ou),zt(su)}function DT(t){As(su.current);var e=As(Pi.current),n=Cy(e,t.type);e!==n&&(Mt(ou,t),Mt(Pi,n))}function B0(t){ou.current===t&&(zt(Pi),zt(ou))}var Kt=ds(0);function lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _g=[];function W0(){for(var t=0;t<_g.length;t++)_g[t]._workInProgressVersionPrimary=null;_g.length=0}var wf=Eo.ReactCurrentDispatcher,wg=Eo.ReactCurrentBatchConfig,Vs=0,Qt=null,xn=null,Cn=null,ch=!1,jc=!1,au=0,TN=0;function Bn(){throw Error(ue(321))}function U0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yi(t[n],e[n]))return!1;return!0}function H0(t,e,n,r,i,o){if(Vs=o,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wf.current=t===null||t.memoizedState===null?PN:AN,t=n(r,i),jc){o=0;do{if(jc=!1,au=0,25<=o)throw Error(ue(301));o+=1,Cn=xn=null,e.updateQueue=null,wf.current=jN,t=n(r,i)}while(jc)}if(wf.current=uh,e=xn!==null&&xn.next!==null,Vs=0,Cn=xn=Qt=null,ch=!1,e)throw Error(ue(300));return t}function q0(){var t=au!==0;return au=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Qt.memoizedState=Cn=t:Cn=Cn.next=t,Cn}function Xr(){if(xn===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Cn===null?Qt.memoizedState:Cn.next;if(e!==null)Cn=e,xn=t;else{if(t===null)throw Error(ue(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Cn===null?Qt.memoizedState=Cn=t:Cn=Cn.next=t}return Cn}function lu(t,e){return typeof e=="function"?e(t):e}function Sg(t){var e=Xr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=xn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,u=o;do{var f=u.lane;if((Vs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,s=r):c=c.next=h,Qt.lanes|=f,Bs|=f}u=u.next}while(u!==null&&u!==o);c===null?s=r:c.next=a,yi(r,e.memoizedState)||(fr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Qt.lanes|=o,Bs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eg(t){var e=Xr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);yi(o,e.memoizedState)||(fr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $T(){}function FT(t,e){var n=Qt,r=Xr(),i=e(),o=!yi(r.memoizedState,i);if(o&&(r.memoizedState=i,fr=!0),r=r.queue,K0(BT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Cn!==null&&Cn.memoizedState.tag&1){if(n.flags|=2048,cu(9,VT.bind(null,n,r,i,e),void 0,null),In===null)throw Error(ue(349));Vs&30||zT(n,e,i)}return i}function zT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VT(t,e,n,r){e.value=n,e.getSnapshot=r,WT(e)&&UT(t)}function BT(t,e,n){return n(function(){WT(e)&&UT(t)})}function WT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yi(t,n)}catch{return!0}}function UT(t){var e=mo(t,1);e!==null&&mi(e,t,1,-1)}function R_(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=RN.bind(null,Qt,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HT(){return Xr().memoizedState}function Sf(t,e,n,r){var i=Si();Qt.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function vp(t,e,n,r){var i=Xr();r=r===void 0?null:r;var o=void 0;if(xn!==null){var s=xn.memoizedState;if(o=s.destroy,r!==null&&U0(r,s.deps)){i.memoizedState=cu(e,n,o,r);return}}Qt.flags|=t,i.memoizedState=cu(1|e,n,o,r)}function P_(t,e){return Sf(8390656,8,t,e)}function K0(t,e){return vp(2048,8,t,e)}function qT(t,e){return vp(4,2,t,e)}function KT(t,e){return vp(4,4,t,e)}function GT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QT(t,e,n){return n=n!=null?n.concat([t]):null,vp(4,4,GT.bind(null,e,t),n)}function G0(){}function YT(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&U0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XT(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&U0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JT(t,e,n){return Vs&21?(yi(n,e)||(n=rT(),Qt.lanes|=n,Bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fr=!0),t.memoizedState=n)}function IN(t,e){var n=It;It=n!==0&&4>n?n:4,t(!0);var r=wg.transition;wg.transition={};try{t(!1),e()}finally{It=n,wg.transition=r}}function ZT(){return Xr().memoizedState}function kN(t,e,n){var r=Xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eI(t))tI(e,n);else if(n=MT(t,e,n,r),n!==null){var i=rr();mi(n,t,r,i),nI(n,e,r)}}function RN(t,e,n){var r=Xo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eI(t))tI(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,yi(a,s)){var c=e.interleaved;c===null?(i.next=i,F0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=MT(t,e,i,r),n!==null&&(i=rr(),mi(n,t,r,i),nI(n,e,r))}}function eI(t){var e=t.alternate;return t===Qt||e!==null&&e===Qt}function tI(t,e){jc=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}var uh={readContext:Yr,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},PN={readContext:Yr,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:Yr,useEffect:P_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4194308,4,GT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sf(4,2,t,e)},useMemo:function(t,e){var n=Si();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Si();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kN.bind(null,Qt,t),[r.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:R_,useDebugValue:G0,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=R_(!1),e=t[0];return t=IN.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qt,i=Si();if(Ht){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),In===null)throw Error(ue(349));Vs&30||zT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,P_(BT.bind(null,r,o,t),[t]),r.flags|=2048,cu(9,VT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Si(),e=In.identifierPrefix;if(Ht){var n=ro,r=no;n=(r&~(1<<32-pi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AN={readContext:Yr,useCallback:YT,useContext:Yr,useEffect:K0,useImperativeHandle:QT,useInsertionEffect:qT,useLayoutEffect:KT,useMemo:XT,useReducer:Sg,useRef:HT,useState:function(){return Sg(lu)},useDebugValue:G0,useDeferredValue:function(t){var e=Xr();return JT(e,xn.memoizedState,t)},useTransition:function(){var t=Sg(lu)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:$T,useSyncExternalStore:FT,useId:ZT,unstable_isNewReconciler:!1},jN={readContext:Yr,useCallback:YT,useContext:Yr,useEffect:K0,useImperativeHandle:QT,useInsertionEffect:qT,useLayoutEffect:KT,useMemo:XT,useReducer:Eg,useRef:HT,useState:function(){return Eg(lu)},useDebugValue:G0,useDeferredValue:function(t){var e=Xr();return xn===null?e.memoizedState=t:JT(e,xn.memoizedState,t)},useTransition:function(){var t=Eg(lu)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:$T,useSyncExternalStore:FT,useId:ZT,unstable_isNewReconciler:!1};function ui(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xp={isMounted:function(t){return(t=t._reactInternals)?ta(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rr(),i=Xo(t),o=ao(r,i);o.payload=e,n!=null&&(o.callback=n),e=Qo(t,o,i),e!==null&&(mi(e,t,i,r),_f(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rr(),i=Xo(t),o=ao(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Qo(t,o,i),e!==null&&(mi(e,t,i,r),_f(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rr(),r=Xo(t),i=ao(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qo(t,i,r),e!==null&&(mi(e,t,r,n),_f(e,t,r))}};function A_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,o):!0}function rI(t,e,n){var r=!1,i=rs,o=e.contextType;return typeof o=="object"&&o!==null?o=Yr(o):(i=pr(e)?Fs:Jn.current,r=e.contextTypes,o=(r=r!=null)?nl(t,i):rs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function j_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xp.enqueueReplaceState(e,e.state,null)}function Ky(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},z0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yr(o):(o=pr(e)?Fs:Jn.current,i.context=nl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xp.enqueueReplaceState(i,i.state,null),ah(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sl(t,e){try{var n="",r=e;do n+=sO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Cg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ON=typeof WeakMap=="function"?WeakMap:Map;function iI(t,e,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fh||(fh=!0,iv=r),Gy(t,e)},n}function oI(t,e,n){n=ao(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gy(t,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function O_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ON;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KN.bind(null,t,e,n),e.then(t,t))}function N_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ao(-1,1),e.tag=2,Qo(n,e,1))),n.lanes|=1),t)}var NN=Eo.ReactCurrentOwner,fr=!1;function tr(t,e,n,r){e.child=t===null?NT(e,null,n,r):il(e,t.child,n,r)}function L_(t,e,n,r,i){n=n.render;var o=e.ref;return Wa(e,i),r=H0(t,e,n,r,o,i),n=q0(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,go(t,e,i)):(Ht&&n&&O0(e),e.flags|=1,tr(t,e,r,i),e.child)}function D_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!nx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sI(t,e,o,r,i)):(t=If(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(s,r)&&t.ref===e.ref)return go(t,e,i)}return e.flags|=1,t=Jo(o,r),t.ref=e.ref,t.return=e,e.child=t}function sI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(tu(o,r)&&t.ref===e.ref)if(fr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(fr=!0);else return e.lanes=t.lanes,go(t,e,i)}return Qy(t,e,n,r,i)}function aI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Na,_r),_r|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mt(Na,_r),_r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Mt(Na,_r),_r|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Mt(Na,_r),_r|=r;return tr(t,e,i,n),e.child}function lI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qy(t,e,n,r,i){var o=pr(n)?Fs:Jn.current;return o=nl(e,o),Wa(e,i),n=H0(t,e,n,r,o,i),r=q0(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,go(t,e,i)):(Ht&&r&&O0(e),e.flags|=1,tr(t,e,n,i),e.child)}function $_(t,e,n,r,i){if(pr(n)){var o=!0;nh(e)}else o=!1;if(Wa(e,i),e.stateNode===null)Ef(t,e),rI(e,n,r),Ky(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yr(u):(u=pr(n)?Fs:Jn.current,u=nl(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&j_(e,s,r,u),Lo=!1;var m=e.memoizedState;s.state=m,ah(e,r,s,i),c=e.memoizedState,a!==r||m!==c||hr.current||Lo?(typeof f=="function"&&(qy(e,n,f,r),c=e.memoizedState),(a=Lo||A_(e,n,a,r,m,c,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,LT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ui(e.type,a),s.props=u,h=e.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yr(c):(c=pr(n)?Fs:Jn.current,c=nl(e,c));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||m!==c)&&j_(e,s,r,c),Lo=!1,m=e.memoizedState,s.state=m,ah(e,r,s,i);var C=e.memoizedState;a!==h||m!==C||hr.current||Lo?(typeof E=="function"&&(qy(e,n,E,r),C=e.memoizedState),(u=Lo||A_(e,n,u,r,m,C,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Yy(t,e,n,r,o,i)}function Yy(t,e,n,r,i,o){lI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&S_(e,n,!1),go(t,e,o);r=e.stateNode,NN.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=il(e,t.child,null,o),e.child=il(e,null,a,o)):tr(t,e,a,o),e.memoizedState=r.state,i&&S_(e,n,!0),e.child}function cI(t){var e=t.stateNode;e.pendingContext?w_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w_(t,e.context,!1),V0(t,e.containerInfo)}function F_(t,e,n,r,i){return rl(),M0(i),e.flags|=256,tr(t,e,n,r),e.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Jy(t){return{baseLanes:t,cachePool:null,transitions:null}}function uI(t,e,n){var r=e.pendingProps,i=Kt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Mt(Kt,i&1),t===null)return Uy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=wp(s,r,0,null),t=Ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jy(n),e.memoizedState=Xy,t):Q0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MN(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Jo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Jo(a,o):(o=Ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Jy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Xy,r}return o=t.child,t=o.sibling,r=Jo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Q0(t,e){return e=wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qd(t,e,n,r){return r!==null&&M0(r),il(e,t.child,null,n),t=Q0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MN(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Cg(Error(ue(422))),qd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=wp({mode:"visible",children:r.children},i,0,null),o=Ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&il(e,t.child,null,s),e.child.memoizedState=Jy(s),e.memoizedState=Xy,o);if(!(e.mode&1))return qd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ue(419)),r=Cg(o,r,void 0),qd(t,e,s,r)}if(a=(s&t.childLanes)!==0,fr||a){if(r=In,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mo(t,i),mi(r,t,i,-1))}return tx(),r=Cg(Error(ue(421))),qd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Sr=Go(i.nextSibling),Cr=e,Ht=!0,fi=null,t!==null&&(Br[Wr++]=no,Br[Wr++]=ro,Br[Wr++]=zs,no=t.id,ro=t.overflow,zs=e),e=Q0(e,r.children),e.flags|=4096,e)}function z_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hy(t.return,e,n)}function Tg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(tr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z_(t,n,e);else if(t.tag===19)z_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Mt(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tg(e,!0,n,null,o);break;case"together":Tg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function go(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LN(t,e,n){switch(e.tag){case 3:cI(e),rl();break;case 5:DT(e);break;case 1:pr(e.type)&&nh(e);break;case 4:V0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Mt(oh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Mt(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?uI(t,e,n):(Mt(Kt,Kt.current&1),t=go(t,e,n),t!==null?t.sibling:null);Mt(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mt(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,aI(t,e,n)}return go(t,e,n)}var fI,Zy,hI,pI;fI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zy=function(){};hI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,As(Pi.current);var o=null;switch(n){case"input":i=_y(t,i),r=_y(t,r),o=[];break;case"select":i=Yt({},i,{value:void 0}),r=Yt({},r,{value:void 0}),o=[];break;case"textarea":i=Ey(t,i),r=Ey(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eh)}Ty(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Dt("scroll",t),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};pI=function(t,e,n,r){n!==r&&(e.flags|=4)};function rc(t,e){if(!Ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DN(t,e,n){var r=e.pendingProps;switch(N0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return pr(e.type)&&th(),Wn(e),null;case 3:return r=e.stateNode,ol(),zt(hr),zt(Jn),W0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(av(fi),fi=null))),Zy(t,e),Wn(e),null;case 5:B0(e);var i=As(su.current);if(n=e.type,t!==null&&e.stateNode!=null)hI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Wn(e),null}if(t=As(Pi.current),Ud(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ti]=e,r[iu]=o,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<xc.length;i++)Dt(xc[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":Q1(r,o),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",r);break;case"textarea":X1(r,o),Dt("invalid",r)}Ty(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Wd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Wd(r.textContent,a,t),i=["children",""+a]):Gc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Dt("scroll",r)}switch(n){case"input":Md(r),Y1(r,o,!0);break;case"textarea":Md(r),J1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=eh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ti]=e,t[iu]=r,fI(t,e,!1,!1),e.stateNode=t;e:{switch(s=Iy(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),i=r;break;case"iframe":case"object":case"embed":Dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<xc.length;i++)Dt(xc[i],t);i=r;break;case"source":Dt("error",t),i=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=r;break;case"details":Dt("toggle",t),i=r;break;case"input":Q1(t,r),i=_y(t,r),Dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yt({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":X1(t,r),i=Ey(t,r),Dt("invalid",t);break;default:i=r}Ty(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?HC(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WC(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qc(t,c):typeof c=="number"&&Qc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Dt("scroll",t):c!=null&&x0(t,o,c,s))}switch(n){case"input":Md(t),Y1(t,r,!1);break;case"textarea":Md(t),J1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Fa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)pI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=As(su.current),As(Pi.current),Ud(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ti]=e,(o=r.nodeValue!==n)&&(t=Cr,t!==null))switch(t.tag){case 3:Wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ti]=e,e.stateNode=r}return Wn(e),null;case 13:if(zt(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ht&&Sr!==null&&e.mode&1&&!(e.flags&128))jT(),rl(),e.flags|=98560,o=!1;else if(o=Ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ue(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[Ti]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),o=!1}else fi!==null&&(av(fi),fi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?bn===0&&(bn=3):tx())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return ol(),Zy(t,e),t===null&&nu(e.stateNode.containerInfo),Wn(e),null;case 10:return $0(e.type._context),Wn(e),null;case 17:return pr(e.type)&&th(),Wn(e),null;case 19:if(zt(Kt),o=e.memoizedState,o===null)return Wn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)rc(o,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=lh(t),s!==null){for(e.flags|=128,rc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mt(Kt,Kt.current&1|2),e.child}t=t.sibling}o.tail!==null&&sn()>al&&(e.flags|=128,r=!0,rc(o,!1),e.lanes=4194304)}else{if(!r)if(t=lh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ht)return Wn(e),null}else 2*sn()-o.renderingStartTime>al&&n!==1073741824&&(e.flags|=128,r=!0,rc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=sn(),e.sibling=null,n=Kt.current,Mt(Kt,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return ex(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_r&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function $N(t,e){switch(N0(e),e.tag){case 1:return pr(e.type)&&th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ol(),zt(hr),zt(Jn),W0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return B0(e),null;case 13:if(zt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(Kt),null;case 4:return ol(),null;case 10:return $0(e.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var Kd=!1,Qn=!1,FN=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nn(t,e,r)}else n.current=null}function ev(t,e,n){try{n()}catch(r){nn(t,e,r)}}var V_=!1;function zN(t,e){if(Dy=Xf,t=xT(),j0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,f=0,h=t,m=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(E=h.firstChild)!==null;)m=h,h=E;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=s),m===o&&++f===r&&(c=s),(E=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($y={focusedElem:t,selectionRange:n},Xf=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,k=C.memoizedState,S=e.stateNode,g=S.getSnapshotBeforeUpdate(e.elementType===e.type?_:ui(e.type,_),k);S.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(I){nn(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return C=V_,V_=!1,C}function Oc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ev(e,n,o)}i=i.next}while(i!==r)}}function bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mI(t){var e=t.alternate;e!==null&&(t.alternate=null,mI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ti],delete e[iu],delete e[Vy],delete e[wN],delete e[SN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gI(t){return t.tag===5||t.tag===3||t.tag===4}function B_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(r!==4&&(t=t.child,t!==null))for(nv(t,e,n),t=t.sibling;t!==null;)nv(t,e,n),t=t.sibling}function rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rv(t,e,n),t=t.sibling;t!==null;)rv(t,e,n),t=t.sibling}var On=null,di=!1;function Ao(t,e,n){for(n=n.child;n!==null;)yI(t,e,n),n=n.sibling}function yI(t,e,n){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(fp,n)}catch{}switch(n.tag){case 5:Qn||Oa(n,e);case 6:var r=On,i=di;On=null,Ao(t,e,n),On=r,di=i,On!==null&&(di?(t=On,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(di?(t=On,n=n.stateNode,t.nodeType===8?xg(t.parentNode,n):t.nodeType===1&&xg(t,n),Zc(t)):xg(On,n.stateNode));break;case 4:r=On,i=di,On=n.stateNode.containerInfo,di=!0,Ao(t,e,n),On=r,di=i;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ev(n,e,s),i=i.next}while(i!==r)}Ao(t,e,n);break;case 1:if(!Qn&&(Oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nn(n,e,a)}Ao(t,e,n);break;case 21:Ao(t,e,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,Ao(t,e,n),Qn=r):Ao(t,e,n);break;default:Ao(t,e,n)}}function W_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FN),e.forEach(function(r){var i=QN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ci(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:On=a.stateNode,di=!1;break e;case 3:On=a.stateNode.containerInfo,di=!0;break e;case 4:On=a.stateNode.containerInfo,di=!0;break e}a=a.return}if(On===null)throw Error(ue(160));yI(o,s,i),On=null,di=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){nn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vI(e,t),e=e.sibling}function vI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ci(e,t),wi(t),r&4){try{Oc(3,t,t.return),bp(3,t)}catch(_){nn(t,t.return,_)}try{Oc(5,t,t.return)}catch(_){nn(t,t.return,_)}}break;case 1:ci(e,t),wi(t),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(ci(e,t),wi(t),r&512&&n!==null&&Oa(n,n.return),t.flags&32){var i=t.stateNode;try{Qc(i,"")}catch(_){nn(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&zC(i,o),Iy(a,s);var u=Iy(a,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];f==="style"?HC(i,h):f==="dangerouslySetInnerHTML"?WC(i,h):f==="children"?Qc(i,h):x0(i,f,h,u)}switch(a){case"input":wy(i,o);break;case"textarea":VC(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Fa(i,!!o.multiple,E,!1):m!==!!o.multiple&&(o.defaultValue!=null?Fa(i,!!o.multiple,o.defaultValue,!0):Fa(i,!!o.multiple,o.multiple?[]:"",!1))}i[iu]=o}catch(_){nn(t,t.return,_)}}break;case 6:if(ci(e,t),wi(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){nn(t,t.return,_)}}break;case 3:if(ci(e,t),wi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(_){nn(t,t.return,_)}break;case 4:ci(e,t),wi(t);break;case 13:ci(e,t),wi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(J0=sn())),r&4&&W_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Qn=(u=Qn)||f,ci(e,t),Qn=u):ci(e,t),wi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Me=t,f=t.child;f!==null;){for(h=Me=f;Me!==null;){switch(m=Me,E=m.child,m.tag){case 0:case 11:case 14:case 15:Oc(4,m,m.return);break;case 1:Oa(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(_){nn(r,n,_)}}break;case 5:Oa(m,m.return);break;case 22:if(m.memoizedState!==null){H_(h);continue}}E!==null?(E.return=m,Me=E):H_(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=UC("display",s))}catch(_){nn(t,t.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){nn(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ci(e,t),wi(t),r&4&&W_(t);break;case 21:break;default:ci(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gI(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qc(i,""),r.flags&=-33);var o=B_(t);rv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=B_(t);nv(t,a,s);break;default:throw Error(ue(161))}}catch(c){nn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VN(t,e,n){Me=t,xI(t)}function xI(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var i=Me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Kd;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Qn;a=Kd;var u=Qn;if(Kd=s,(Qn=c)&&!u)for(Me=i;Me!==null;)s=Me,c=s.child,s.tag===22&&s.memoizedState!==null?q_(i):c!==null?(c.return=s,Me=c):q_(i);for(;o!==null;)Me=o,xI(o),o=o.sibling;Me=i,Kd=a,Qn=u}U_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Me=o):U_(t)}}function U_(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qn||bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ui(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&k_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Zc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Qn||e.flags&512&&tv(e)}catch(m){nn(e,e.return,m)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function H_(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function q_(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bp(4,e)}catch(c){nn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){nn(e,i,c)}}var o=e.return;try{tv(e)}catch(c){nn(e,o,c)}break;case 5:var s=e.return;try{tv(e)}catch(c){nn(e,s,c)}}}catch(c){nn(e,e.return,c)}if(e===t){Me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Me=a;break}Me=e.return}}var BN=Math.ceil,dh=Eo.ReactCurrentDispatcher,Y0=Eo.ReactCurrentOwner,qr=Eo.ReactCurrentBatchConfig,bt=0,In=null,pn=null,Ln=0,_r=0,Na=ds(0),bn=0,uu=null,Bs=0,_p=0,X0=0,Nc=null,ur=null,J0=0,al=1/0,Qi=null,fh=!1,iv=null,Yo=null,Gd=!1,Vo=null,hh=0,Mc=0,ov=null,Cf=-1,Tf=0;function rr(){return bt&6?sn():Cf!==-1?Cf:Cf=sn()}function Xo(t){return t.mode&1?bt&2&&Ln!==0?Ln&-Ln:CN.transition!==null?(Tf===0&&(Tf=rT()),Tf):(t=It,t!==0||(t=window.event,t=t===void 0?16:uT(t.type)),t):1}function mi(t,e,n,r){if(50<Mc)throw Mc=0,ov=null,Error(ue(185));Lu(t,n,r),(!(bt&2)||t!==In)&&(t===In&&(!(bt&2)&&(_p|=n),bn===4&&Fo(t,Ln)),mr(t,r),n===1&&bt===0&&!(e.mode&1)&&(al=sn()+500,yp&&fs()))}function mr(t,e){var n=t.callbackNode;CO(t,e);var r=Yf(t,t===In?Ln:0);if(r===0)n!==null&&t_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&t_(n),e===1)t.tag===0?EN(K_.bind(null,t)):RT(K_.bind(null,t)),bN(function(){!(bt&6)&&fs()}),n=null;else{switch(iT(r)){case 1:n=E0;break;case 4:n=tT;break;case 16:n=Qf;break;case 536870912:n=nT;break;default:n=Qf}n=II(n,bI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bI(t,e){if(Cf=-1,Tf=0,bt&6)throw Error(ue(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=Yf(t,t===In?Ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var i=bt;bt|=2;var o=wI();(In!==t||Ln!==e)&&(Qi=null,al=sn()+500,Ns(t,e));do try{HN();break}catch(a){_I(t,a)}while(!0);D0(),dh.current=o,bt=i,pn!==null?e=0:(In=null,Ln=0,e=bn)}if(e!==0){if(e===2&&(i=jy(t),i!==0&&(r=i,e=sv(t,i))),e===1)throw n=uu,Ns(t,0),Fo(t,r),mr(t,sn()),n;if(e===6)Fo(t,r);else{if(i=t.current.alternate,!(r&30)&&!WN(i)&&(e=ph(t,r),e===2&&(o=jy(t),o!==0&&(r=o,e=sv(t,o))),e===1))throw n=uu,Ns(t,0),Fo(t,r),mr(t,sn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Es(t,ur,Qi);break;case 3:if(Fo(t,r),(r&130023424)===r&&(e=J0+500-sn(),10<e)){if(Yf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zy(Es.bind(null,t,ur,Qi),e);break}Es(t,ur,Qi);break;case 4:if(Fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-pi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BN(r/1960))-r,10<r){t.timeoutHandle=zy(Es.bind(null,t,ur,Qi),r);break}Es(t,ur,Qi);break;case 5:Es(t,ur,Qi);break;default:throw Error(ue(329))}}}return mr(t,sn()),t.callbackNode===n?bI.bind(null,t):null}function sv(t,e){var n=Nc;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=ph(t,e),t!==2&&(e=ur,ur=n,e!==null&&av(e)),t}function av(t){ur===null?ur=t:ur.push.apply(ur,t)}function WN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~X0,e&=~_p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pi(e),r=1<<n;t[n]=-1,e&=~r}}function K_(t){if(bt&6)throw Error(ue(327));Ua();var e=Yf(t,0);if(!(e&1))return mr(t,sn()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=jy(t);r!==0&&(e=r,n=sv(t,r))}if(n===1)throw n=uu,Ns(t,0),Fo(t,e),mr(t,sn()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,ur,Qi),mr(t,sn()),null}function Z0(t,e){var n=bt;bt|=1;try{return t(e)}finally{bt=n,bt===0&&(al=sn()+500,yp&&fs())}}function Ws(t){Vo!==null&&Vo.tag===0&&!(bt&6)&&Ua();var e=bt;bt|=1;var n=qr.transition,r=It;try{if(qr.transition=null,It=1,t)return t()}finally{It=r,qr.transition=n,bt=e,!(bt&6)&&fs()}}function ex(){_r=Na.current,zt(Na)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xN(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(N0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&th();break;case 3:ol(),zt(hr),zt(Jn),W0();break;case 5:B0(r);break;case 4:ol();break;case 13:zt(Kt);break;case 19:zt(Kt);break;case 10:$0(r.type._context);break;case 22:case 23:ex()}n=n.return}if(In=t,pn=t=Jo(t.current,null),Ln=_r=e,bn=0,uu=null,X0=_p=Bs=0,ur=Nc=null,Ps!==null){for(e=0;e<Ps.length;e++)if(n=Ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ps=null}return t}function _I(t,e){do{var n=pn;try{if(D0(),wf.current=uh,ch){for(var r=Qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ch=!1}if(Vs=0,Cn=xn=Qt=null,jc=!1,au=0,Y0.current=null,n===null||n.return===null){bn=1,uu=e,pn=null;break}e:{var o=t,s=n.return,a=n,c=e;if(e=Ln,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=N_(s);if(E!==null){E.flags&=-257,M_(E,s,a,o,e),E.mode&1&&O_(o,u,e),e=E,c=u;var C=e.updateQueue;if(C===null){var _=new Set;_.add(c),e.updateQueue=_}else C.add(c);break e}else{if(!(e&1)){O_(o,u,e),tx();break e}c=Error(ue(426))}}else if(Ht&&a.mode&1){var k=N_(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),M_(k,s,a,o,e),M0(sl(c,a));break e}}o=c=sl(c,a),bn!==4&&(bn=2),Nc===null?Nc=[o]:Nc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=iI(o,c,e);I_(o,S);break e;case 1:a=c;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yo===null||!Yo.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=oI(o,a,e);I_(o,I);break e}}o=o.return}while(o!==null)}EI(n)}catch(M){e=M,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function wI(){var t=dh.current;return dh.current=uh,t===null?uh:t}function tx(){(bn===0||bn===3||bn===2)&&(bn=4),In===null||!(Bs&268435455)&&!(_p&268435455)||Fo(In,Ln)}function ph(t,e){var n=bt;bt|=2;var r=wI();(In!==t||Ln!==e)&&(Qi=null,Ns(t,e));do try{UN();break}catch(i){_I(t,i)}while(!0);if(D0(),bt=n,dh.current=r,pn!==null)throw Error(ue(261));return In=null,Ln=0,bn}function UN(){for(;pn!==null;)SI(pn)}function HN(){for(;pn!==null&&!gO();)SI(pn)}function SI(t){var e=TI(t.alternate,t,_r);t.memoizedProps=t.pendingProps,e===null?EI(t):pn=e,Y0.current=null}function EI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$N(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,pn=null;return}}else if(n=DN(n,e,_r),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);bn===0&&(bn=5)}function Es(t,e,n){var r=It,i=qr.transition;try{qr.transition=null,It=1,qN(t,e,n,r)}finally{qr.transition=i,It=r}return null}function qN(t,e,n,r){do Ua();while(Vo!==null);if(bt&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(TO(t,o),t===In&&(pn=In=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gd||(Gd=!0,II(Qf,function(){return Ua(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qr.transition,qr.transition=null;var s=It;It=1;var a=bt;bt|=4,Y0.current=null,zN(t,n),vI(n,t),fN($y),Xf=!!Dy,$y=Dy=null,t.current=n,VN(n),yO(),bt=a,It=s,qr.transition=o}else t.current=n;if(Gd&&(Gd=!1,Vo=t,hh=i),o=t.pendingLanes,o===0&&(Yo=null),bO(n.stateNode),mr(t,sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fh)throw fh=!1,t=iv,iv=null,t;return hh&1&&t.tag!==0&&Ua(),o=t.pendingLanes,o&1?t===ov?Mc++:(Mc=0,ov=t):Mc=0,fs(),null}function Ua(){if(Vo!==null){var t=iT(hh),e=qr.transition,n=It;try{if(qr.transition=null,It=16>t?16:t,Vo===null)var r=!1;else{if(t=Vo,Vo=null,hh=0,bt&6)throw Error(ue(331));var i=bt;for(bt|=4,Me=t.current;Me!==null;){var o=Me,s=o.child;if(Me.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Me=u;Me!==null;){var f=Me;switch(f.tag){case 0:case 11:case 15:Oc(8,f,o)}var h=f.child;if(h!==null)h.return=f,Me=h;else for(;Me!==null;){f=Me;var m=f.sibling,E=f.return;if(mI(f),f===u){Me=null;break}if(m!==null){m.return=E,Me=m;break}Me=E}}}var C=o.alternate;if(C!==null){var _=C.child;if(_!==null){C.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}Me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Me=s;else e:for(;Me!==null;){if(o=Me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oc(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Me=S;break e}Me=o.return}}var g=t.current;for(Me=g;Me!==null;){s=Me;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Me=v;else e:for(s=g;Me!==null;){if(a=Me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bp(9,a)}}catch(M){nn(a,a.return,M)}if(a===s){Me=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,Me=I;break e}Me=a.return}}if(bt=i,fs(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(fp,t)}catch{}r=!0}return r}finally{It=n,qr.transition=e}}return!1}function G_(t,e,n){e=sl(n,e),e=iI(t,e,1),t=Qo(t,e,1),e=rr(),t!==null&&(Lu(t,1,e),mr(t,e))}function nn(t,e,n){if(t.tag===3)G_(t,t,n);else for(;e!==null;){if(e.tag===3){G_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){t=sl(n,t),t=oI(e,t,1),e=Qo(e,t,1),t=rr(),e!==null&&(Lu(e,1,t),mr(e,t));break}}e=e.return}}function KN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rr(),t.pingedLanes|=t.suspendedLanes&n,In===t&&(Ln&n)===n&&(bn===4||bn===3&&(Ln&130023424)===Ln&&500>sn()-J0?Ns(t,0):X0|=n),mr(t,e)}function CI(t,e){e===0&&(t.mode&1?(e=$d,$d<<=1,!($d&130023424)&&($d=4194304)):e=1);var n=rr();t=mo(t,e),t!==null&&(Lu(t,e,n),mr(t,n))}function GN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CI(t,n)}function QN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),CI(t,n)}var TI;TI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hr.current)fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fr=!1,LN(t,e,n);fr=!!(t.flags&131072)}else fr=!1,Ht&&e.flags&1048576&&PT(e,ih,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ef(t,e),t=e.pendingProps;var i=nl(e,Jn.current);Wa(e,n),i=H0(null,e,r,t,i,n);var o=q0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(o=!0,nh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,z0(e),i.updater=xp,e.stateNode=i,i._reactInternals=e,Ky(e,r,t,n),e=Yy(null,e,r,!0,o,n)):(e.tag=0,Ht&&o&&O0(e),tr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ef(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XN(r),t=ui(r,t),i){case 0:e=Qy(null,e,r,t,n);break e;case 1:e=$_(null,e,r,t,n);break e;case 11:e=L_(null,e,r,t,n);break e;case 14:e=D_(null,e,r,ui(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),Qy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),$_(t,e,r,i,n);case 3:e:{if(cI(e),t===null)throw Error(ue(387));r=e.pendingProps,o=e.memoizedState,i=o.element,LT(t,e),ah(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=sl(Error(ue(423)),e),e=F_(t,e,r,n,i);break e}else if(r!==i){i=sl(Error(ue(424)),e),e=F_(t,e,r,n,i);break e}else for(Sr=Go(e.stateNode.containerInfo.firstChild),Cr=e,Ht=!0,fi=null,n=NT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===i){e=go(t,e,n);break e}tr(t,e,r,n)}e=e.child}return e;case 5:return DT(e),t===null&&Uy(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Fy(r,i)?s=null:o!==null&&Fy(r,o)&&(e.flags|=32),lI(t,e),tr(t,e,s,n),e.child;case 6:return t===null&&Uy(e),null;case 13:return uI(t,e,n);case 4:return V0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=il(e,null,r,n):tr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),L_(t,e,r,i,n);case 7:return tr(t,e,e.pendingProps,n),e.child;case 8:return tr(t,e,e.pendingProps.children,n),e.child;case 12:return tr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Mt(oh,r._currentValue),r._currentValue=s,o!==null)if(yi(o.value,s)){if(o.children===i.children&&!hr.current){e=go(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ao(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Hy(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Hy(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}tr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wa(e,n),i=Yr(i),r=r(i),e.flags|=1,tr(t,e,r,n),e.child;case 14:return r=e.type,i=ui(r,e.pendingProps),i=ui(r.type,i),D_(t,e,r,i,n);case 15:return sI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ui(r,i),Ef(t,e),e.tag=1,pr(r)?(t=!0,nh(e)):t=!1,Wa(e,n),rI(e,r,i),Ky(e,r,i,n),Yy(null,e,r,!0,t,n);case 19:return dI(t,e,n);case 22:return aI(t,e,n)}throw Error(ue(156,e.tag))};function II(t,e){return eT(t,e)}function YN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,n,r){return new YN(t,e,n,r)}function nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XN(t){if(typeof t=="function")return nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_0)return 11;if(t===w0)return 14}return 2}function Jo(t,e){var n=t.alternate;return n===null?(n=Hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function If(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")nx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ea:return Ms(n.children,i,o,e);case b0:s=8,i|=8;break;case yy:return t=Hr(12,n,e,i|2),t.elementType=yy,t.lanes=o,t;case vy:return t=Hr(13,n,e,i),t.elementType=vy,t.lanes=o,t;case xy:return t=Hr(19,n,e,i),t.elementType=xy,t.lanes=o,t;case DC:return wp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MC:s=10;break e;case LC:s=9;break e;case _0:s=11;break e;case w0:s=14;break e;case Mo:s=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Hr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ms(t,e,n,r){return t=Hr(7,t,r,e),t.lanes=n,t}function wp(t,e,n,r){return t=Hr(22,t,r,e),t.elementType=DC,t.lanes=n,t.stateNode={isHidden:!1},t}function Ig(t,e,n){return t=Hr(6,t,null,e),t.lanes=n,t}function kg(t,e,n){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lg(0),this.expirationTimes=lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rx(t,e,n,r,i,o,s,a,c){return t=new JN(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},z0(o),t}function ZN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kI(t){if(!t)return rs;t=t._reactInternals;e:{if(ta(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(pr(n))return kT(t,n,e)}return e}function RI(t,e,n,r,i,o,s,a,c){return t=rx(n,r,!0,t,i,o,s,a,c),t.context=kI(null),n=t.current,r=rr(),i=Xo(n),o=ao(r,i),o.callback=e??null,Qo(n,o,i),t.current.lanes=i,Lu(t,i,r),mr(t,r),t}function Sp(t,e,n,r){var i=e.current,o=rr(),s=Xo(i);return n=kI(n),e.context===null?e.context=n:e.pendingContext=n,e=ao(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qo(i,e,s),t!==null&&(mi(t,i,s,o),_f(t,i,s)),s}function mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ix(t,e){Q_(t,e),(t=t.alternate)&&Q_(t,e)}function eM(){return null}var PI=typeof reportError=="function"?reportError:function(t){console.error(t)};function ox(t){this._internalRoot=t}Ep.prototype.render=ox.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));Sp(t,e,null,null)};Ep.prototype.unmount=ox.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ws(function(){Sp(null,t,null,null)}),e[po]=null}};function Ep(t){this._internalRoot=t}Ep.prototype.unstable_scheduleHydration=function(t){if(t){var e=aT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$o.length&&e!==0&&e<$o[n].priority;n++);$o.splice(n,0,t),n===0&&cT(t)}};function sx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function tM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=mh(s);o.call(u)}}var s=RI(e,r,t,0,null,!1,!1,"",Y_);return t._reactRootContainer=s,t[po]=s.current,nu(t.nodeType===8?t.parentNode:t),Ws(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=mh(c);a.call(u)}}var c=rx(t,0,!1,null,null,!1,!1,"",Y_);return t._reactRootContainer=c,t[po]=c.current,nu(t.nodeType===8?t.parentNode:t),Ws(function(){Sp(e,c,n,r)}),c}function Tp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=mh(s);a.call(c)}}Sp(e,s,t,i)}else s=tM(n,e,t,i,r);return mh(s)}oT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vc(e.pendingLanes);n!==0&&(C0(e,n|1),mr(e,sn()),!(bt&6)&&(al=sn()+500,fs()))}break;case 13:Ws(function(){var r=mo(t,1);if(r!==null){var i=rr();mi(r,t,1,i)}}),ix(t,1)}};T0=function(t){if(t.tag===13){var e=mo(t,134217728);if(e!==null){var n=rr();mi(e,t,134217728,n)}ix(t,134217728)}};sT=function(t){if(t.tag===13){var e=Xo(t),n=mo(t,e);if(n!==null){var r=rr();mi(n,t,e,r)}ix(t,e)}};aT=function(){return It};lT=function(t,e){var n=It;try{return It=t,e()}finally{It=n}};Ry=function(t,e,n){switch(e){case"input":if(wy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gp(r);if(!i)throw Error(ue(90));FC(r),wy(r,i)}}}break;case"textarea":VC(t,n);break;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}};GC=Z0;QC=Ws;var nM={usingClientEntryPoint:!1,Events:[$u,ka,gp,qC,KC,Z0]},ic={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rM={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JC(t),t===null?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||eM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{fp=Qd.inject(rM),Ri=Qd}catch{}}jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nM;jr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sx(e))throw Error(ue(200));return ZN(t,e,null,n)};jr.createRoot=function(t,e){if(!sx(t))throw Error(ue(299));var n=!1,r="",i=PI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rx(t,1,!1,null,null,n,!1,r,i),t[po]=e.current,nu(t.nodeType===8?t.parentNode:t),new ox(e)};jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=JC(e),t=t===null?null:t.stateNode,t};jr.flushSync=function(t){return Ws(t)};jr.hydrate=function(t,e,n){if(!Cp(e))throw Error(ue(200));return Tp(null,t,e,!0,n)};jr.hydrateRoot=function(t,e,n){if(!sx(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=PI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=RI(e,null,t,1,n??null,i,!1,o,s),t[po]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ep(e)};jr.render=function(t,e,n){if(!Cp(e))throw Error(ue(200));return Tp(null,t,e,!1,n)};jr.unmountComponentAtNode=function(t){if(!Cp(t))throw Error(ue(40));return t._reactRootContainer?(Ws(function(){Tp(null,null,t,!1,function(){t._reactRootContainer=null,t[po]=null})}),!0):!1};jr.unstable_batchedUpdates=Z0;jr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cp(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return Tp(t,e,n,!1,r)};jr.version="18.3.1-next-f1338f8080-20240426";function AI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AI)}catch(t){console.error(t)}}AI(),AC.exports=jr;var ax=AC.exports;const Yd=ap(ax);var X_=ax;my.createRoot=X_.createRoot,my.hydrateRoot=X_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}var Bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bo||(Bo={}));const J_="popstate";function iM(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:c=""}=na(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),lv("",{pathname:s,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof o=="string"?o:gh(o))}function r(i,o){lx(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return sM(e,n,r,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oM(){return Math.random().toString(36).substr(2,8)}function Z_(t,e){return{usr:t.state,key:t.key,idx:e}}function lv(t,e,n,r){return n===void 0&&(n=null),du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:n,key:e&&e.key||r||oM()})}function gh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Bo.Pop,c=null,u=f();u==null&&(u=0,s.replaceState(du({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function h(){a=Bo.Pop;let k=f(),S=k==null?null:k-u;u=k,c&&c({action:a,location:_.location,delta:S})}function m(k,S){a=Bo.Push;let g=lv(_.location,k,S);n&&n(g,k),u=f()+1;let v=Z_(g,u),I=_.createHref(g);try{s.pushState(v,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(I)}o&&c&&c({action:a,location:_.location,delta:1})}function E(k,S){a=Bo.Replace;let g=lv(_.location,k,S);n&&n(g,k),u=f();let v=Z_(g,u),I=_.createHref(g);s.replaceState(v,"",I),o&&c&&c({action:a,location:_.location,delta:0})}function C(k){let S=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof k=="string"?k:gh(k);return g=g.replace(/ $/,"%20"),ln(S,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,S)}let _={get action(){return a},get location(){return t(i,s)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(J_,h),c=k,()=>{i.removeEventListener(J_,h),c=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let S=C(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:E,go(k){return s.go(k)}};return _}var ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ew||(ew={}));function aM(t,e,n){return n===void 0&&(n="/"),lM(t,e,n)}function lM(t,e,n,r){let i=typeof e=="string"?na(e):e,o=cx(i.pathname||"/",n);if(o==null)return null;let s=jI(t);cM(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let u=_M(o);a=vM(s[c],u)}return a}function jI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Zo([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(ln(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jI(o.children,e,f,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:gM(u,o.index),routesMeta:f})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let c of OI(o.path))i(o,s,c)}),e}function OI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=OI(r.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function cM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uM=/^:[\w-]+$/,dM=3,fM=2,hM=1,pM=10,mM=-2,tw=t=>t==="*";function gM(t,e){let n=t.split("/"),r=n.length;return n.some(tw)&&(r+=mM),e&&(r+=fM),n.filter(i=>!tw(i)).reduce((i,o)=>i+(uM.test(o)?dM:o===""?hM:pM),r)}function yM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vM(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",h=xM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Zo([o,h.pathname]),pathnameBase:CM(Zo([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=Zo([o,h.pathnameBase]))}return s}function xM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let _=a[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const C=a[h];return E&&!C?u[m]=void 0:u[m]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function bM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _M(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:SM(n,e):e,search:TM(r),hash:IM(i)}}function SM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ux(t,e){let n=EM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=na(t):(i=du({},t),ln(!i.pathname||!i.pathname.includes("?"),Rg("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),Rg("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),Rg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let c=wM(i,a),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Zo=t=>t.join("/").replace(/\/\/+/g,"/"),CM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NI=["post","put","patch","delete"];new Set(NI);const RM=["get",...NI];new Set(RM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}const fx=b.createContext(null),PM=b.createContext(null),hs=b.createContext(null),Ip=b.createContext(null),Co=b.createContext({outlet:null,matches:[],isDataRoute:!1}),MI=b.createContext(null);function AM(t,e){let{relative:n}=e===void 0?{}:e;Pl()||ln(!1);let{basename:r,navigator:i}=b.useContext(hs),{hash:o,pathname:s,search:a}=DI(t,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:Zo([r,s])),i.createHref({pathname:c,search:a,hash:o})}function Pl(){return b.useContext(Ip)!=null}function ps(){return Pl()||ln(!1),b.useContext(Ip).location}function LI(t){b.useContext(hs).static||b.useLayoutEffect(t)}function xr(){let{isDataRoute:t}=b.useContext(Co);return t?UM():jM()}function jM(){Pl()||ln(!1);let t=b.useContext(fx),{basename:e,future:n,navigator:r}=b.useContext(hs),{matches:i}=b.useContext(Co),{pathname:o}=ps(),s=JSON.stringify(ux(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return LI(()=>{a.current=!0}),b.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=dx(u,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zo([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,s,o,t])}function zu(){let{matches:t}=b.useContext(Co),e=t[t.length-1];return e?e.params:{}}function DI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(hs),{matches:i}=b.useContext(Co),{pathname:o}=ps(),s=JSON.stringify(ux(i,r.v7_relativeSplatPath));return b.useMemo(()=>dx(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function OM(t,e){return NM(t,e)}function NM(t,e,n,r){Pl()||ln(!1);let{navigator:i}=b.useContext(hs),{matches:o}=b.useContext(Co),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=ps(),f;if(e){var h;let k=typeof e=="string"?na(e):e;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||ln(!1),f=k}else f=u;let m=f.pathname||"/",E=m;if(c!=="/"){let k=c.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=aM(t,{pathname:E}),_=FM(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Zo([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Zo([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&_?b.createElement(Ip.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Bo.Pop}},_):_}function MM(){let t=WM(),e=kM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const LM=b.createElement(MM,null);class DM extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Co.Provider,{value:this.props.routeContext},b.createElement(MI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $M(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(fx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Co.Provider,{value:e},r)}function FM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||ln(!1),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:E}=n,C=h.route.loader&&m[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||C){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,h,m)=>{let E,C=!1,_=null,k=null;n&&(E=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||LM,c&&(u<0&&m===0?(HM("route-fallback"),C=!0,k=null):u===m&&(C=!0,k=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),g=()=>{let v;return E?v=_:C?v=k:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=f,b.createElement($M,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(DM,{location:n.location,revalidation:n.revalidation,component:_,error:E,children:g(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):g()},null)}var $I=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($I||{}),FI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FI||{});function zM(t){let e=b.useContext(fx);return e||ln(!1),e}function VM(t){let e=b.useContext(PM);return e||ln(!1),e}function BM(t){let e=b.useContext(Co);return e||ln(!1),e}function zI(t){let e=BM(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function WM(){var t;let e=b.useContext(MI),n=VM(),r=zI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function UM(){let{router:t}=zM($I.UseNavigateStable),e=zI(FI.UseNavigateStable),n=b.useRef(!1);return LI(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fu({fromRouteId:e},o)))},[t,e])}const nw={};function HM(t,e,n){nw[t]||(nw[t]=!0)}function qM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function KM(t){let{to:e,replace:n,state:r,relative:i}=t;Pl()||ln(!1);let{future:o,static:s}=b.useContext(hs),{matches:a}=b.useContext(Co),{pathname:c}=ps(),u=xr(),f=dx(e,ux(a,o.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(f);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Zt(t){ln(!1)}function GM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bo.Pop,navigator:o,static:s=!1,future:a}=t;Pl()&&ln(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:o,static:s,future:fu({v7_relativeSplatPath:!1},a)}),[c,a,o,s]);typeof r=="string"&&(r=na(r));let{pathname:f="/",search:h="",hash:m="",state:E=null,key:C="default"}=r,_=b.useMemo(()=>{let k=cx(f,c);return k==null?null:{location:{pathname:k,search:h,hash:m,state:E,key:C},navigationType:i}},[c,f,h,m,E,C,i]);return _==null?null:b.createElement(hs.Provider,{value:u},b.createElement(Ip.Provider,{children:n,value:_}))}function QM(t){let{children:e,location:n}=t;return OM(cv(e),n)}new Promise(()=>{});function cv(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let o=[...e,i];if(r.type===b.Fragment){n.push.apply(n,cv(r.props.children,o));return}r.type!==Zt&&ln(!1),!r.props.index||!r.props.children||ln(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=cv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function YM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JM(t,e){return t.button===0&&(!e||e==="_self")&&!XM(t)}const ZM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eL="6";try{window.__reactRouterVersion=eL}catch{}const tL="startTransition",rw=Hf[tL];function nL(t){let{basename:e,children:n,future:r,window:i}=t,o=b.useRef();o.current==null&&(o.current=iM({window:i,v5Compat:!0}));let s=o.current,[a,c]=b.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},f=b.useCallback(h=>{u&&rw?rw(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>s.listen(f),[s,f]),b.useEffect(()=>qM(r),[r]),b.createElement(GM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const rL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vu=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h}=e,m=YM(e,ZM),{basename:E}=b.useContext(hs),C,_=!1;if(typeof u=="string"&&iL.test(u)&&(C=u,rL))try{let v=new URL(window.location.href),I=u.startsWith("//")?new URL(v.protocol+u):new URL(u),M=cx(I.pathname,E);I.origin===v.origin&&M!=null?u=M+I.search+I.hash:_=!0}catch{}let k=AM(u,{relative:i}),S=oL(u,{replace:s,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h});function g(v){r&&r(v),v.defaultPrevented||S(v)}return b.createElement("a",uv({},m,{href:C||k,onClick:_||o?r:g,ref:n,target:c}))});var iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iw||(iw={}));var ow;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ow||(ow={}));function oL(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,c=xr(),u=ps(),f=DI(t,{relative:s});return b.useCallback(h=>{if(JM(h,n)){h.preventDefault();let m=r!==void 0?r:gh(u)===gh(f);c(t,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,c,f,r,i,n,t,o,s,a])}var sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},BI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4;let m=(a&15)<<2|u>>6,E=u&63;c||(E=64,s||(m=64)),r.push(n[f],n[h],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new aL;const m=o<<2|a>>4;if(r.push(m),u!==64){const E=a<<4&240|u>>2;if(r.push(E),h!==64){const C=u<<6&192|h;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lL=function(t){const e=VI(t);return BI.encodeByteArray(e,!0)},yh=function(t){return lL(t).replace(/\./g,"")},WI=function(t){try{return BI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=()=>cL().__FIREBASE_DEFAULTS__,dL=()=>{if(typeof process>"u"||typeof sw>"u")return;const t=sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WI(t[1]);return e&&JSON.parse(e)},kp=()=>{try{return uL()||dL()||fL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UI=t=>{var e,n;return(n=(e=kp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HI=t=>{const e=UI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qI=()=>{var t;return(t=kp())===null||t===void 0?void 0:t.config},KI=t=>{var e;return(e=kp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yh(JSON.stringify(n)),yh(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function mL(){var t;const e=(t=kp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xL(){const t=Zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bL(){return!mL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _L(){try{return typeof indexedDB=="object"}catch{return!1}}function wL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="FirebaseError";class Wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SL,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?EL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wi(i,a,r)}}function EL(t,e){return t.replace(CL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CL=/\{\$([^}]+)}/g;function TL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(aw(o)&&aw(s)){if(!vh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IL(t,e){const n=new kL(t,e);return n.subscribe.bind(n)}class kL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pg),i.error===void 0&&(i.error=Pg),i.complete===void 0&&(i.complete=Pg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jL(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AL(t){return t===Cs?void 0:t}function jL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const NL={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},ML=vt.INFO,LL={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},DL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hx{constructor(e){this.name=e,this._logLevel=ML,this._logHandler=DL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const $L=(t,e)=>e.some(n=>t instanceof n);let lw,cw;function FL(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zL(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QI=new WeakMap,dv=new WeakMap,YI=new WeakMap,Ag=new WeakMap,px=new WeakMap;function VL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(es(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QI.set(n,t)}).catch(()=>{}),px.set(e,t),e}function BL(t){if(dv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dv.set(t,e)}let fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WL(t){fv=t(fv)}function UL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jg(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),es(r)}:zL().includes(t)?function(...e){return t.apply(jg(this),e),es(QI.get(this))}:function(...e){return es(t.apply(jg(this),e))}}function HL(t){return typeof t=="function"?UL(t):(t instanceof IDBTransaction&&BL(t),$L(t,FL())?new Proxy(t,fv):t)}function es(t){if(t instanceof IDBRequest)return VL(t);if(Ag.has(t))return Ag.get(t);const e=HL(t);return e!==t&&(Ag.set(t,e),px.set(e,t)),e}const jg=t=>px.get(t);function qL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=es(s);return r&&s.addEventListener("upgradeneeded",c=>{r(es(s.result),c.oldVersion,c.newVersion,es(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const KL=["get","getKey","getAll","getAllKeys","count"],GL=["put","add","delete","clear"],Og=new Map;function uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Og.get(e))return Og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KL.includes(n)))return;const o=async function(s,...a){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Og.set(e,o),o}WL(t=>({...t,get:(e,n,r)=>uw(e,n)||t.get(e,n,r),has:(e,n)=>!!uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hv="@firebase/app",dw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new hx("@firebase/app"),XL="@firebase/app-compat",JL="@firebase/analytics-compat",ZL="@firebase/analytics",e5="@firebase/app-check-compat",t5="@firebase/app-check",n5="@firebase/auth",r5="@firebase/auth-compat",i5="@firebase/database",o5="@firebase/data-connect",s5="@firebase/database-compat",a5="@firebase/functions",l5="@firebase/functions-compat",c5="@firebase/installations",u5="@firebase/installations-compat",d5="@firebase/messaging",f5="@firebase/messaging-compat",h5="@firebase/performance",p5="@firebase/performance-compat",m5="@firebase/remote-config",g5="@firebase/remote-config-compat",y5="@firebase/storage",v5="@firebase/storage-compat",x5="@firebase/firestore",b5="@firebase/vertexai-preview",_5="@firebase/firestore-compat",w5="firebase",S5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="[DEFAULT]",E5={[hv]:"fire-core",[XL]:"fire-core-compat",[ZL]:"fire-analytics",[JL]:"fire-analytics-compat",[t5]:"fire-app-check",[e5]:"fire-app-check-compat",[n5]:"fire-auth",[r5]:"fire-auth-compat",[i5]:"fire-rtdb",[o5]:"fire-data-connect",[s5]:"fire-rtdb-compat",[a5]:"fire-fn",[l5]:"fire-fn-compat",[c5]:"fire-iid",[u5]:"fire-iid-compat",[d5]:"fire-fcm",[f5]:"fire-fcm-compat",[h5]:"fire-perf",[p5]:"fire-perf-compat",[m5]:"fire-rc",[g5]:"fire-rc-compat",[y5]:"fire-gcs",[v5]:"fire-gcs-compat",[x5]:"fire-fst",[_5]:"fire-fst-compat",[b5]:"fire-vertex","fire-js":"fire-js",[w5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,C5=new Map,mv=new Map;function fw(t,e){try{t.container.addComponent(e)}catch(n){yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(mv.has(e))return yo.debug(`There were multiple attempts to register component ${e}.`),!1;mv.set(e,t);for(const n of xh.values())fw(n,t);for(const n of C5.values())fw(n,t);return!0}function Rp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ii(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Bu("app","Firebase",T5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=S5;function XI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(n||(n=qI()),!n)throw ts.create("no-options");const o=xh.get(i);if(o){if(vh(n,o.options)&&vh(r,o.config))return o;throw ts.create("duplicate-app",{appName:i})}const s=new OL(i);for(const c of mv.values())s.addComponent(c);const a=new I5(n,r,s);return xh.set(i,a),a}function mx(t=pv){const e=xh.get(t);if(!e&&t===pv&&qI())return XI();if(!e)throw ts.create("no-app",{appName:t});return e}function Ai(t,e,n){var r;let i=(r=E5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yo.warn(a.join(" "));return}Us(new is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="firebase-heartbeat-database",R5=1,hu="firebase-heartbeat-store";let Ng=null;function JI(){return Ng||(Ng=qL(k5,R5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),Ng}async function P5(t){try{const n=(await JI()).transaction(hu),r=await n.objectStore(hu).get(ZI(t));return await n.done,r}catch(e){if(e instanceof Wi)yo.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yo.warn(n.message)}}}async function hw(t,e){try{const r=(await JI()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,ZI(t)),await r.done}catch(n){if(n instanceof Wi)yo.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yo.warn(r.message)}}}function ZI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1024,j5=30*24*60*60*1e3;class O5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=j5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pw(),{heartbeatsToSend:r,unsentEntries:i}=N5(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return yo.warn(n),""}}}function pw(){return new Date().toISOString().substring(0,10)}function N5(t,e=A5){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _L()?wL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mw(t){return yh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){Us(new is("platform-logger",e=>new QL(e),"PRIVATE")),Us(new is("heartbeat",e=>new O5(e),"PRIVATE")),Ai(hv,dw,t),Ai(hv,dw,"esm2017"),Ai("fire-js","")}L5("");var D5="firebase",$5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(D5,$5,"app");var gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,e2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,p){function y(){}y.prototype=p.prototype,T.D=p.prototype,T.prototype=new y,T.prototype.constructor=T,T.C=function(x,j,A){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return p.prototype[j].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,p,y){y||(y=0);var x=Array(16);if(typeof p=="string")for(var j=0;16>j;++j)x[j]=p.charCodeAt(y++)|p.charCodeAt(y++)<<8|p.charCodeAt(y++)<<16|p.charCodeAt(y++)<<24;else for(j=0;16>j;++j)x[j]=p[y++]|p[y++]<<8|p[y++]<<16|p[y++]<<24;p=T.g[0],y=T.g[1],j=T.g[2];var A=T.g[3],R=p+(A^y&(j^A))+x[0]+3614090360&4294967295;p=y+(R<<7&4294967295|R>>>25),R=A+(j^p&(y^j))+x[1]+3905402710&4294967295,A=p+(R<<12&4294967295|R>>>20),R=j+(y^A&(p^y))+x[2]+606105819&4294967295,j=A+(R<<17&4294967295|R>>>15),R=y+(p^j&(A^p))+x[3]+3250441966&4294967295,y=j+(R<<22&4294967295|R>>>10),R=p+(A^y&(j^A))+x[4]+4118548399&4294967295,p=y+(R<<7&4294967295|R>>>25),R=A+(j^p&(y^j))+x[5]+1200080426&4294967295,A=p+(R<<12&4294967295|R>>>20),R=j+(y^A&(p^y))+x[6]+2821735955&4294967295,j=A+(R<<17&4294967295|R>>>15),R=y+(p^j&(A^p))+x[7]+4249261313&4294967295,y=j+(R<<22&4294967295|R>>>10),R=p+(A^y&(j^A))+x[8]+1770035416&4294967295,p=y+(R<<7&4294967295|R>>>25),R=A+(j^p&(y^j))+x[9]+2336552879&4294967295,A=p+(R<<12&4294967295|R>>>20),R=j+(y^A&(p^y))+x[10]+4294925233&4294967295,j=A+(R<<17&4294967295|R>>>15),R=y+(p^j&(A^p))+x[11]+2304563134&4294967295,y=j+(R<<22&4294967295|R>>>10),R=p+(A^y&(j^A))+x[12]+1804603682&4294967295,p=y+(R<<7&4294967295|R>>>25),R=A+(j^p&(y^j))+x[13]+4254626195&4294967295,A=p+(R<<12&4294967295|R>>>20),R=j+(y^A&(p^y))+x[14]+2792965006&4294967295,j=A+(R<<17&4294967295|R>>>15),R=y+(p^j&(A^p))+x[15]+1236535329&4294967295,y=j+(R<<22&4294967295|R>>>10),R=p+(j^A&(y^j))+x[1]+4129170786&4294967295,p=y+(R<<5&4294967295|R>>>27),R=A+(y^j&(p^y))+x[6]+3225465664&4294967295,A=p+(R<<9&4294967295|R>>>23),R=j+(p^y&(A^p))+x[11]+643717713&4294967295,j=A+(R<<14&4294967295|R>>>18),R=y+(A^p&(j^A))+x[0]+3921069994&4294967295,y=j+(R<<20&4294967295|R>>>12),R=p+(j^A&(y^j))+x[5]+3593408605&4294967295,p=y+(R<<5&4294967295|R>>>27),R=A+(y^j&(p^y))+x[10]+38016083&4294967295,A=p+(R<<9&4294967295|R>>>23),R=j+(p^y&(A^p))+x[15]+3634488961&4294967295,j=A+(R<<14&4294967295|R>>>18),R=y+(A^p&(j^A))+x[4]+3889429448&4294967295,y=j+(R<<20&4294967295|R>>>12),R=p+(j^A&(y^j))+x[9]+568446438&4294967295,p=y+(R<<5&4294967295|R>>>27),R=A+(y^j&(p^y))+x[14]+3275163606&4294967295,A=p+(R<<9&4294967295|R>>>23),R=j+(p^y&(A^p))+x[3]+4107603335&4294967295,j=A+(R<<14&4294967295|R>>>18),R=y+(A^p&(j^A))+x[8]+1163531501&4294967295,y=j+(R<<20&4294967295|R>>>12),R=p+(j^A&(y^j))+x[13]+2850285829&4294967295,p=y+(R<<5&4294967295|R>>>27),R=A+(y^j&(p^y))+x[2]+4243563512&4294967295,A=p+(R<<9&4294967295|R>>>23),R=j+(p^y&(A^p))+x[7]+1735328473&4294967295,j=A+(R<<14&4294967295|R>>>18),R=y+(A^p&(j^A))+x[12]+2368359562&4294967295,y=j+(R<<20&4294967295|R>>>12),R=p+(y^j^A)+x[5]+4294588738&4294967295,p=y+(R<<4&4294967295|R>>>28),R=A+(p^y^j)+x[8]+2272392833&4294967295,A=p+(R<<11&4294967295|R>>>21),R=j+(A^p^y)+x[11]+1839030562&4294967295,j=A+(R<<16&4294967295|R>>>16),R=y+(j^A^p)+x[14]+4259657740&4294967295,y=j+(R<<23&4294967295|R>>>9),R=p+(y^j^A)+x[1]+2763975236&4294967295,p=y+(R<<4&4294967295|R>>>28),R=A+(p^y^j)+x[4]+1272893353&4294967295,A=p+(R<<11&4294967295|R>>>21),R=j+(A^p^y)+x[7]+4139469664&4294967295,j=A+(R<<16&4294967295|R>>>16),R=y+(j^A^p)+x[10]+3200236656&4294967295,y=j+(R<<23&4294967295|R>>>9),R=p+(y^j^A)+x[13]+681279174&4294967295,p=y+(R<<4&4294967295|R>>>28),R=A+(p^y^j)+x[0]+3936430074&4294967295,A=p+(R<<11&4294967295|R>>>21),R=j+(A^p^y)+x[3]+3572445317&4294967295,j=A+(R<<16&4294967295|R>>>16),R=y+(j^A^p)+x[6]+76029189&4294967295,y=j+(R<<23&4294967295|R>>>9),R=p+(y^j^A)+x[9]+3654602809&4294967295,p=y+(R<<4&4294967295|R>>>28),R=A+(p^y^j)+x[12]+3873151461&4294967295,A=p+(R<<11&4294967295|R>>>21),R=j+(A^p^y)+x[15]+530742520&4294967295,j=A+(R<<16&4294967295|R>>>16),R=y+(j^A^p)+x[2]+3299628645&4294967295,y=j+(R<<23&4294967295|R>>>9),R=p+(j^(y|~A))+x[0]+4096336452&4294967295,p=y+(R<<6&4294967295|R>>>26),R=A+(y^(p|~j))+x[7]+1126891415&4294967295,A=p+(R<<10&4294967295|R>>>22),R=j+(p^(A|~y))+x[14]+2878612391&4294967295,j=A+(R<<15&4294967295|R>>>17),R=y+(A^(j|~p))+x[5]+4237533241&4294967295,y=j+(R<<21&4294967295|R>>>11),R=p+(j^(y|~A))+x[12]+1700485571&4294967295,p=y+(R<<6&4294967295|R>>>26),R=A+(y^(p|~j))+x[3]+2399980690&4294967295,A=p+(R<<10&4294967295|R>>>22),R=j+(p^(A|~y))+x[10]+4293915773&4294967295,j=A+(R<<15&4294967295|R>>>17),R=y+(A^(j|~p))+x[1]+2240044497&4294967295,y=j+(R<<21&4294967295|R>>>11),R=p+(j^(y|~A))+x[8]+1873313359&4294967295,p=y+(R<<6&4294967295|R>>>26),R=A+(y^(p|~j))+x[15]+4264355552&4294967295,A=p+(R<<10&4294967295|R>>>22),R=j+(p^(A|~y))+x[6]+2734768916&4294967295,j=A+(R<<15&4294967295|R>>>17),R=y+(A^(j|~p))+x[13]+1309151649&4294967295,y=j+(R<<21&4294967295|R>>>11),R=p+(j^(y|~A))+x[4]+4149444226&4294967295,p=y+(R<<6&4294967295|R>>>26),R=A+(y^(p|~j))+x[11]+3174756917&4294967295,A=p+(R<<10&4294967295|R>>>22),R=j+(p^(A|~y))+x[2]+718787259&4294967295,j=A+(R<<15&4294967295|R>>>17),R=y+(A^(j|~p))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+p&4294967295,T.g[1]=T.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+j&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.u=function(T,p){p===void 0&&(p=T.length);for(var y=p-this.blockSize,x=this.B,j=this.h,A=0;A<p;){if(j==0)for(;A<=y;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<p;)if(x[j++]=T.charCodeAt(A++),j==this.blockSize){i(this,x),j=0;break}}else for(;A<p;)if(x[j++]=T[A++],j==this.blockSize){i(this,x),j=0;break}}this.h=j,this.o+=p},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var p=1;p<T.length-8;++p)T[p]=0;var y=8*this.o;for(p=T.length-8;p<T.length;++p)T[p]=y&255,y/=256;for(this.u(T),T=Array(16),p=y=0;4>p;++p)for(var x=0;32>x;x+=8)T[y++]=this.g[p]>>>x&255;return T};function o(T,p){var y=a;return Object.prototype.hasOwnProperty.call(y,T)?y[T]:y[T]=p(T)}function s(T,p){this.h=p;for(var y=[],x=!0,j=T.length-1;0<=j;j--){var A=T[j]|0;x&&A==p||(y[j]=A,x=!1)}this.g=y}var a={};function c(T){return-128<=T&&128>T?o(T,function(p){return new s([p|0],0>p?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return k(u(-T));for(var p=[],y=1,x=0;T>=y;x++)p[x]=T/y|0,y*=4294967296;return new s(p,0)}function f(T,p){if(T.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(T.charAt(0)=="-")return k(f(T.substring(1),p));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(p,8)),x=h,j=0;j<T.length;j+=8){var A=Math.min(8,T.length-j),R=parseInt(T.substring(j,j+A),p);8>A?(A=u(Math.pow(p,A)),x=x.j(A).add(u(R))):(x=x.j(y),x=x.add(u(R)))}return x}var h=c(0),m=c(1),E=c(16777216);t=s.prototype,t.m=function(){if(_(this))return-k(this).m();for(var T=0,p=1,y=0;y<this.g.length;y++){var x=this.i(y);T+=(0<=x?x:4294967296+x)*p,p*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(_(this))return"-"+k(this).toString(T);for(var p=u(Math.pow(T,6)),y=this,x="";;){var j=I(y,p).g;y=S(y,j.j(p));var A=((0<y.g.length?y.g[0]:y.h)>>>0).toString(T);if(y=j,C(y))return A+x;for(;6>A.length;)A="0"+A;x=A+x}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var p=0;p<T.g.length;p++)if(T.g[p]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=S(this,T),_(T)?-1:C(T)?0:1};function k(T){for(var p=T.g.length,y=[],x=0;x<p;x++)y[x]=~T.g[x];return new s(y,~T.h).add(m)}t.abs=function(){return _(this)?k(this):this},t.add=function(T){for(var p=Math.max(this.g.length,T.g.length),y=[],x=0,j=0;j<=p;j++){var A=x+(this.i(j)&65535)+(T.i(j)&65535),R=(A>>>16)+(this.i(j)>>>16)+(T.i(j)>>>16);x=R>>>16,A&=65535,R&=65535,y[j]=R<<16|A}return new s(y,y[y.length-1]&-2147483648?-1:0)};function S(T,p){return T.add(k(p))}t.j=function(T){if(C(this)||C(T))return h;if(_(this))return _(T)?k(this).j(k(T)):k(k(this).j(T));if(_(T))return k(this.j(k(T)));if(0>this.l(E)&&0>T.l(E))return u(this.m()*T.m());for(var p=this.g.length+T.g.length,y=[],x=0;x<2*p;x++)y[x]=0;for(x=0;x<this.g.length;x++)for(var j=0;j<T.g.length;j++){var A=this.i(x)>>>16,R=this.i(x)&65535,V=T.i(j)>>>16,F=T.i(j)&65535;y[2*x+2*j]+=R*F,g(y,2*x+2*j),y[2*x+2*j+1]+=A*F,g(y,2*x+2*j+1),y[2*x+2*j+1]+=R*V,g(y,2*x+2*j+1),y[2*x+2*j+2]+=A*V,g(y,2*x+2*j+2)}for(x=0;x<p;x++)y[x]=y[2*x+1]<<16|y[2*x];for(x=p;x<2*p;x++)y[x]=0;return new s(y,0)};function g(T,p){for(;(T[p]&65535)!=T[p];)T[p+1]+=T[p]>>>16,T[p]&=65535,p++}function v(T,p){this.g=T,this.h=p}function I(T,p){if(C(p))throw Error("division by zero");if(C(T))return new v(h,h);if(_(T))return p=I(k(T),p),new v(k(p.g),k(p.h));if(_(p))return p=I(T,k(p)),new v(k(p.g),p.h);if(30<T.g.length){if(_(T)||_(p))throw Error("slowDivide_ only works with positive integers.");for(var y=m,x=p;0>=x.l(T);)y=M(y),x=M(x);var j=N(y,1),A=N(x,1);for(x=N(x,2),y=N(y,2);!C(x);){var R=A.add(x);0>=R.l(T)&&(j=j.add(y),A=R),x=N(x,1),y=N(y,1)}return p=S(T,j.j(p)),new v(j,p)}for(j=h;0<=T.l(p);){for(y=Math.max(1,Math.floor(T.m()/p.m())),x=Math.ceil(Math.log(y)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),A=u(y),R=A.j(p);_(R)||0<R.l(T);)y-=x,A=u(y),R=A.j(p);C(A)&&(A=m),j=j.add(A),T=S(T,R)}return new v(j,T)}t.A=function(T){return I(this,T).h},t.and=function(T){for(var p=Math.max(this.g.length,T.g.length),y=[],x=0;x<p;x++)y[x]=this.i(x)&T.i(x);return new s(y,this.h&T.h)},t.or=function(T){for(var p=Math.max(this.g.length,T.g.length),y=[],x=0;x<p;x++)y[x]=this.i(x)|T.i(x);return new s(y,this.h|T.h)},t.xor=function(T){for(var p=Math.max(this.g.length,T.g.length),y=[],x=0;x<p;x++)y[x]=this.i(x)^T.i(x);return new s(y,this.h^T.h)};function M(T){for(var p=T.g.length+1,y=[],x=0;x<p;x++)y[x]=T.i(x)<<1|T.i(x-1)>>>31;return new s(y,T.h)}function N(T,p){var y=p>>5;p%=32;for(var x=T.g.length-y,j=[],A=0;A<x;A++)j[A]=0<p?T.i(A+y)>>>p|T.i(A+y+1)<<32-p:T.i(A+y);return new s(j,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,e2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,Ls=s}).apply(typeof gw<"u"?gw:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t2,wc,n2,kf,gv,r2,i2,o2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,P){return d==Array.prototype||d==Object.prototype||(d[w]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var w=0;w<d.length;++w){var P=d[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var P=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var G=d[D];if(!(G in P))break e;P=P[G]}d=d[d.length-1],D=P[d],w=w(D),w!=D&&w!=null&&e(P,d,{configurable:!0,writable:!0,value:w})}}function o(d,w){d instanceof String&&(d+="");var P=0,D=!1,G={next:function(){if(!D&&P<d.length){var te=P++;return{value:w(te,d[te]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return o(this,function(w,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function c(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function f(d,w,P){return d.call.apply(d.bind,arguments)}function h(d,w,P){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),d.apply(w,G)}}return function(){return d.apply(w,arguments)}}function m(d,w,P){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function E(d,w){var P=Array.prototype.slice.call(arguments,1);return function(){var D=P.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function C(d,w){function P(){}P.prototype=w.prototype,d.aa=w.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(D,G,te){for(var ye=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ye[jt-2]=arguments[jt];return w.prototype[G].apply(D,ye)}}function _(d){const w=d.length;if(0<w){const P=Array(w);for(let D=0;D<w;D++)P[D]=d[D];return P}return[]}function k(d,w){for(let P=1;P<arguments.length;P++){const D=arguments[P];if(c(D)){const G=d.length||0,te=D.length||0;d.length=G+te;for(let ye=0;ye<te;ye++)d[G+ye]=D[ye]}else d.push(D)}}class S{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function g(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var M=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function N(d,w,P){for(const D in d)w.call(P,d[D],D,d)}function T(d,w){for(const P in d)w.call(void 0,d[P],P,d)}function p(d){const w={};for(const P in d)w[P]=d[P];return w}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,w){let P,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(P in D)d[P]=D[P];for(let te=0;te<y.length;te++)P=y[te],Object.prototype.hasOwnProperty.call(D,P)&&(d[P]=D[P])}}function j(d){var w=1;d=d.split(":");const P=[];for(;0<w&&d.length;)P.push(d.shift()),w--;return d.length&&P.push(d.join(":")),P}function A(d){a.setTimeout(()=>{throw d},0)}function R(){var d=z;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class V{constructor(){this.h=this.g=null}add(w,P){const D=F.get();D.set(w,P),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new S(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let q,L=!1,z=new V,B=()=>{const d=a.Promise.resolve(void 0);q=()=>{d.then(K)}};var K=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(P){A(P)}var w=F;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}L=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};a.addEventListener("test",P,w),a.removeEventListener("test",P,w)}catch{}return d}();function fe(d,w){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(M){e:{try{I(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else P=="mouseover"?w=d.fromElement:P=="mouseout"&&(w=d.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&fe.aa.h.call(this)}}C(fe,X);var me={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),J=0;function H(d,w,P,D,G){this.listener=d,this.proxy=null,this.src=w,this.type=P,this.capture=!!D,this.ha=G,this.key=++J,this.da=this.fa=!1}function se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,w,P,D,G){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var ye=pe(d,w,D,G);return-1<ye?(w=d[ye],P||(w.fa=!1)):(w=new H(w,this.src,te,!!D,G),w.fa=P,d.push(w)),w};function ie(d,w){var P=w.type;if(P in d.g){var D=d.g[P],G=Array.prototype.indexOf.call(D,w,void 0),te;(te=0<=G)&&Array.prototype.splice.call(D,G,1),te&&(se(w),d.g[P].length==0&&(delete d.g[P],d.h--))}}function pe(d,w,P,D){for(var G=0;G<d.length;++G){var te=d[G];if(!te.da&&te.listener==w&&te.capture==!!P&&te.ha==D)return G}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),xe={};function Ee(d,w,P,D,G){if(Array.isArray(w)){for(var te=0;te<w.length;te++)Ee(d,w[te],P,D,G);return null}return P=rt(P),d&&d[U]?d.K(w,P,u(D)?!!D.capture:!1,G):Je(d,w,P,!1,D,G)}function Je(d,w,P,D,G,te){if(!w)throw Error("Invalid event type");var ye=u(G)?!!G.capture:!!G,jt=ke(d);if(jt||(d[ve]=jt=new Z(d)),P=jt.add(w,P,D,ye,te),P.proxy)return P;if(D=Se(),P.proxy=D,D.src=d,D.listener=P,d.addEventListener)ne||(G=ye),G===void 0&&(G=!1),d.addEventListener(w.toString(),D,G);else if(d.attachEvent)d.attachEvent(Ie(w.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Se(){function d(P){return w.call(d.src,d.listener,P)}const w=Ce;return d}function Q(d,w,P,D,G){if(Array.isArray(w))for(var te=0;te<w.length;te++)Q(d,w[te],P,D,G);else D=u(D)?!!D.capture:!!D,P=rt(P),d&&d[U]?(d=d.i,w=String(w).toString(),w in d.g&&(te=d.g[w],P=pe(te,P,D,G),-1<P&&(se(te[P]),Array.prototype.splice.call(te,P,1),te.length==0&&(delete d.g[w],d.h--)))):d&&(d=ke(d))&&(w=d.g[w.toString()],d=-1,w&&(d=pe(w,P,D,G)),(P=-1<d?w[d]:null)&&re(P))}function re(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[U])ie(w.i,d);else{var P=d.type,D=d.proxy;w.removeEventListener?w.removeEventListener(P,D,d.capture):w.detachEvent?w.detachEvent(Ie(P),D):w.addListener&&w.removeListener&&w.removeListener(D),(P=ke(w))?(ie(P,d),P.h==0&&(P.src=null,w[ve]=null)):se(d)}}}function Ie(d){return d in xe?xe[d]:xe[d]="on"+d}function Ce(d,w){if(d.da)d=!0;else{w=new fe(w,this);var P=d.listener,D=d.ha||d.src;d.fa&&re(d),d=P.call(D,w)}return d}function ke(d){return d=d[ve],d instanceof Z?d:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(d){return typeof d=="function"?d:(d[ge]||(d[ge]=function(w){return d.handleEvent(w)}),d[ge])}function _e(){Y.call(this),this.i=new Z(this),this.M=this,this.F=null}C(_e,Y),_e.prototype[U]=!0,_e.prototype.removeEventListener=function(d,w,P,D){Q(this,d,w,P,D)};function be(d,w){var P,D=d.F;if(D)for(P=[];D;D=D.F)P.push(D);if(d=d.M,D=w.type||w,typeof w=="string")w=new X(w,d);else if(w instanceof X)w.target=w.target||d;else{var G=w;w=new X(D,d),x(w,G)}if(G=!0,P)for(var te=P.length-1;0<=te;te--){var ye=w.g=P[te];G=Le(ye,D,!0,w)&&G}if(ye=w.g=d,G=Le(ye,D,!0,w)&&G,G=Le(ye,D,!1,w)&&G,P)for(te=0;te<P.length;te++)ye=w.g=P[te],G=Le(ye,D,!1,w)&&G}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var P=d.g[w],D=0;D<P.length;D++)se(P[D]);delete d.g[w],d.h--}}this.F=null},_e.prototype.K=function(d,w,P,D){return this.i.add(String(d),w,!1,P,D)},_e.prototype.L=function(d,w,P,D){return this.i.add(String(d),w,!0,P,D)};function Le(d,w,P,D){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,te=0;te<w.length;++te){var ye=w[te];if(ye&&!ye.da&&ye.capture==P){var jt=ye.listener,jn=ye.ha||ye.src;ye.fa&&ie(d.i,ye),G=jt.call(jn,D)!==!1&&G}}return G&&!D.defaultPrevented}function Re(d,w,P){if(typeof d=="function")P&&(d=m(d,P));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(d,w||0)}function it(d){d.g=Re(()=>{d.g=null,d.i&&(d.i=!1,it(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Tt extends Y{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function et(d){Y.call(this),this.h=d,this.g={}}C(et,Y);var Pe=[];function at(d){N(d.g,function(w,P){this.g.hasOwnProperty(P)&&re(w)},d),d.g={}}et.prototype.N=function(){et.aa.N.call(this),at(this)},et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=a.JSON.stringify,Pn=a.JSON.parse,Lr=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function bi(){}bi.prototype.h=null;function ar(d){return d.h||(d.h=d.i())}function Dr(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){X.call(this,"d")}C(ai,X);function ee(){X.call(this,"c")}C(ee,X);var Ue={},O=null;function ae(){return O=O||new _e}Ue.La="serverreachability";function he(d){X.call(this,Ue.La,d)}C(he,X);function qe(d){const w=ae();be(w,new he(w))}Ue.STAT_EVENT="statevent";function lt(d,w){X.call(this,Ue.STAT_EVENT,d),this.stat=w}C(lt,X);function ct(d){const w=ae();be(w,new lt(w,d))}Ue.Ma="timingevent";function gt(d,w){X.call(this,Ue.Ma,d),this.size=w}C(gt,X);function Fe(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},w)}function Xe(){this.g=!0}Xe.prototype.xa=function(){this.g=!1};function wn(d,w,P,D,G,te){d.info(function(){if(d.g)if(te)for(var ye="",jt=te.split("&"),jn=0;jn<jt.length;jn++){var _t=jt[jn].split("=");if(1<_t.length){var zn=_t[0];_t=_t[1];var Vn=zn.split("_");ye=2<=Vn.length&&Vn[1]=="type"?ye+(zn+"="+_t+"&"):ye+(zn+"=redacted&")}}else ye=null;else ye=te;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+w+`
`+P+`
`+ye})}function $r(d,w,P,D,G,te,ye){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+w+`
`+P+`
`+te+" "+ye})}function rn(d,w,P,D){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Bt(d,P)+(D?" "+D:"")})}function Vt(d,w){d.info(function(){return"TIMEOUT: "+w})}Xe.prototype.info=function(){};function Bt(d,w){if(!d.g)return w;if(!w)return null;try{var P=JSON.parse(w);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var D=P[d];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var te=G[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ye=1;ye<G.length;ye++)G[ye]=""}}}}return Ke(P)}catch{return w}}var Fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nt;function ko(){}C(ko,bi),ko.prototype.g=function(){return new XMLHttpRequest},ko.prototype.i=function(){return{}},Nt=new ko;function _i(d,w,P,D){this.j=d,this.i=w,this.l=P,this.R=D||1,this.U=new et(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}var bd={},ot={};function An(d,w,P){d.L=1,d.v=Ed(Ki(w)),d.m=P,d.P=!0,s1(d,null)}function s1(d,w){d.F=Date.now(),_d(d),d.A=Ki(d.v);var P=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),b1(P.i,"t",D),d.C=0,P=d.j.J,d.h=new xd,d.g=$1(d.j,P?w:null,!d.m),0<d.O&&(d.M=new Tt(m(d.Y,d,d.g),d.O)),w=d.U,P=d.g,D=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Pe[0]=G.toString()),G=Pe);for(var te=0;te<G.length;te++){var ye=Ee(P,G[te],D||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),qe(),wn(d.i,d.u,d.A,d.l,d.R,d.m)}_i.prototype.ca=function(d){d=d.target;const w=this.M;w&&Gi(d)==3?w.j():this.Y(d)},_i.prototype.Y=function(d){try{if(d==this.g)e:{const Vn=Gi(this.g);var w=this.g.Ba();const ua=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||I1(this.g)))){this.J||Vn!=4||w==7||(w==8||0>=ua?qe(3):qe(2)),Gm(this);var P=this.g.Z();this.X=P;t:if(a1(this)){var D=I1(this.g);d="";var G=D.length,te=Gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Wl(this);var ye="";break t}this.h.i=new a.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,d+=this.h.i.decode(D[w],{stream:!(te&&w==G-1)});D.length=0,this.h.g+=d,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=P==200,$r(this.i,this.u,this.A,this.l,this.R,Vn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,jn=this.g;if((jt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(jt)){var _t=jt;break t}}_t=null}if(P=_t)rn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qm(this,P);else{this.o=!1,this.s=3,ct(12),xs(this),Wl(this);break e}}if(this.P){P=!0;let li;for(;!this.J&&this.C<ye.length;)if(li=jA(this,ye),li==ot){Vn==4&&(this.s=4,ct(14),P=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(li==bd){this.s=4,ct(15),rn(this.i,this.l,ye,"[Invalid Chunk]"),P=!1;break}else rn(this.i,this.l,li,null),Qm(this,li);if(a1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||ye.length!=0||this.h.h||(this.s=1,ct(16),P=!1),this.o=this.o&&P,!P)rn(this.i,this.l,ye,"[Invalid Chunked Response]"),xs(this),Wl(this);else if(0<ye.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),tg(zn),zn.M=!0,ct(11))}}else rn(this.i,this.l,ye,null),Qm(this,ye);Vn==4&&xs(this),this.o&&!this.J&&(Vn==4?N1(this.j,this):(this.o=!1,_d(this)))}else QA(this.g),P==400&&0<ye.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),xs(this),Wl(this)}}}catch{}finally{}};function a1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function jA(d,w){var P=d.C,D=w.indexOf(`
`,P);return D==-1?ot:(P=Number(w.substring(P,D)),isNaN(P)?bd:(D+=1,D+P>w.length?ot:(w=w.slice(D,D+P),d.C=D+P,w)))}_i.prototype.cancel=function(){this.J=!0,xs(this)};function _d(d){d.S=Date.now()+d.I,l1(d,d.I)}function l1(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Fe(m(d.ba,d),w)}function Gm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}_i.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Vt(this.i,this.A),this.L!=2&&(qe(),ct(17)),xs(this),this.s=2,Wl(this)):l1(this,this.S-d)};function Wl(d){d.j.G==0||d.J||N1(d.j,d)}function xs(d){Gm(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,at(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Qm(d,w){try{var P=d.j;if(P.G!=0&&(P.g==d||Ym(P.h,d))){if(!d.K&&Ym(P.h,d)&&P.G==3){try{var D=P.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)Pd(P),kd(P);else break e;eg(P),ct(18)}}else P.za=G[1],0<P.za-P.T&&37500>G[2]&&P.F&&P.v==0&&!P.C&&(P.C=Fe(m(P.Za,P),6e3));if(1>=d1(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else _s(P,11)}else if((d.K||P.g==d)&&Pd(P),!g(w))for(G=P.Da.g.parse(w),w=0;w<G.length;w++){let _t=G[w];if(P.T=_t[0],_t=_t[1],P.G==2)if(_t[0]=="c"){P.K=_t[1],P.ia=_t[2];const zn=_t[3];zn!=null&&(P.la=zn,P.j.info("VER="+P.la));const Vn=_t[4];Vn!=null&&(P.Aa=Vn,P.j.info("SVER="+P.Aa));const ua=_t[5];ua!=null&&typeof ua=="number"&&0<ua&&(D=1.5*ua,P.L=D,P.j.info("backChannelRequestTimeoutMs_="+D)),D=P;const li=d.g;if(li){const jd=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jd){var te=D.h;te.g||jd.indexOf("spdy")==-1&&jd.indexOf("quic")==-1&&jd.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Xm(te,te.h),te.h=null))}if(D.D){const ng=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;ng&&(D.ya=ng,Lt(D.I,D.D,ng))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),D=P;var ye=d;if(D.qa=D1(D,D.J?D.ia:null,D.W),ye.K){f1(D.h,ye);var jt=ye,jn=D.L;jn&&(jt.I=jn),jt.B&&(Gm(jt),_d(jt)),D.g=ye}else j1(D);0<P.i.length&&Rd(P)}else _t[0]!="stop"&&_t[0]!="close"||_s(P,7);else P.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?_s(P,7):Zm(P):_t[0]!="noop"&&P.l&&P.l.ta(_t),P.v=0)}}qe(4)}catch{}}var OA=class{constructor(d,w){this.g=d,this.map=w}};function c1(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function u1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function d1(d){return d.h?1:d.g?d.g.size:0}function Ym(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Xm(d,w){d.g?d.g.add(w):d.h=w}function f1(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}c1.prototype.cancel=function(){if(this.i=h1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function h1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const P of d.g.values())w=w.concat(P.D);return w}return _(d.i)}function NA(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var w=[],P=d.length,D=0;D<P;D++)w.push(d[D]);return w}w=[],P=0;for(D in d)w[P++]=d[D];return w}function MA(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var w=[];d=d.length;for(var P=0;P<d;P++)w.push(P);return w}w=[],P=0;for(const D in d)w[P++]=D;return w}}}function p1(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var P=MA(d),D=NA(d),G=D.length,te=0;te<G;te++)w.call(void 0,D[te],P&&P[te],d)}var m1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LA(d,w){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var D=d[P].indexOf("="),G=null;if(0<=D){var te=d[P].substring(0,D);G=d[P].substring(D+1)}else te=d[P];w(te,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function bs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof bs){this.h=d.h,wd(this,d.j),this.o=d.o,this.g=d.g,Sd(this,d.s),this.l=d.l;var w=d.i,P=new ql;P.i=w.i,w.g&&(P.g=new Map(w.g),P.h=w.h),g1(this,P),this.m=d.m}else d&&(w=String(d).match(m1))?(this.h=!1,wd(this,w[1]||"",!0),this.o=Ul(w[2]||""),this.g=Ul(w[3]||"",!0),Sd(this,w[4]),this.l=Ul(w[5]||"",!0),g1(this,w[6]||"",!0),this.m=Ul(w[7]||"")):(this.h=!1,this.i=new ql(null,this.h))}bs.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Hl(w,y1,!0),":");var P=this.g;return(P||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Hl(w,y1,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(Hl(P,P.charAt(0)=="/"?FA:$A,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",Hl(P,VA)),d.join("")};function Ki(d){return new bs(d)}function wd(d,w,P){d.j=P?Ul(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Sd(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function g1(d,w,P){w instanceof ql?(d.i=w,BA(d.i,d.h)):(P||(w=Hl(w,zA)),d.i=new ql(w,d.h))}function Lt(d,w,P){d.i.set(w,P)}function Ed(d){return Lt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ul(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Hl(d,w,P){return typeof d=="string"?(d=encodeURI(d).replace(w,DA),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function DA(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var y1=/[#\/\?@]/g,$A=/[#\?:]/g,FA=/[#\?]/g,zA=/[#\?@]/g,VA=/#/g;function ql(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Ro(d){d.g||(d.g=new Map,d.h=0,d.i&&LA(d.i,function(w,P){d.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}t=ql.prototype,t.add=function(d,w){Ro(this),this.i=null,d=la(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(w),this.h+=1,this};function v1(d,w){Ro(d),w=la(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function x1(d,w){return Ro(d),w=la(d,w),d.g.has(w)}t.forEach=function(d,w){Ro(this),this.g.forEach(function(P,D){P.forEach(function(G){d.call(w,G,D,this)},this)},this)},t.na=function(){Ro(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),P=[];for(let D=0;D<w.length;D++){const G=d[D];for(let te=0;te<G.length;te++)P.push(w[D])}return P},t.V=function(d){Ro(this);let w=[];if(typeof d=="string")x1(this,d)&&(w=w.concat(this.g.get(la(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)w=w.concat(d[P])}return w},t.set=function(d,w){return Ro(this),this.i=null,d=la(this,d),x1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function b1(d,w,P){v1(d,w),0<P.length&&(d.i=null,d.g.set(la(d,w),_(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var P=0;P<w.length;P++){var D=w[P];const te=encodeURIComponent(String(D)),ye=this.V(D);for(D=0;D<ye.length;D++){var G=te;ye[D]!==""&&(G+="="+encodeURIComponent(String(ye[D]))),d.push(G)}}return this.i=d.join("&")};function la(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function BA(d,w){w&&!d.j&&(Ro(d),d.i=null,d.g.forEach(function(P,D){var G=D.toLowerCase();D!=G&&(v1(this,D),b1(this,G,P))},d)),d.j=w}function WA(d,w){const P=new Xe;if(a.Image){const D=new Image;D.onload=E(Po,P,"TestLoadImage: loaded",!0,w,D),D.onerror=E(Po,P,"TestLoadImage: error",!1,w,D),D.onabort=E(Po,P,"TestLoadImage: abort",!1,w,D),D.ontimeout=E(Po,P,"TestLoadImage: timeout",!1,w,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else w(!1)}function UA(d,w){const P=new Xe,D=new AbortController,G=setTimeout(()=>{D.abort(),Po(P,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:D.signal}).then(te=>{clearTimeout(G),te.ok?Po(P,"TestPingServer: ok",!0,w):Po(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Po(P,"TestPingServer: error",!1,w)})}function Po(d,w,P,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(P)}catch{}}function HA(){this.g=new Lr}function qA(d,w,P){const D=P||"";try{p1(d,function(G,te){let ye=G;u(G)&&(ye=Ke(G)),w.push(D+te+"="+encodeURIComponent(ye))})}catch(G){throw w.push(D+"type="+encodeURIComponent("_badmap")),G}}function Cd(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Cd,bi),Cd.prototype.g=function(){return new Td(this.l,this.j)},Cd.prototype.i=function(d){return function(){return d}}({});function Td(d,w){_e.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Td,_e),t=Td.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Gl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function _1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Kl(this):Gl(this),this.readyState==3&&_1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Kl(this))},t.Qa=function(d){this.g&&(this.response=d,Kl(this))},t.ga=function(){this.g&&Kl(this)};function Kl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Gl(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=w.next();return d.join(`\r
`)};function Gl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function w1(d){let w="";return N(d,function(P,D){w+=D,w+=":",w+=P,w+=`\r
`}),w}function Jm(d,w,P){e:{for(D in P){var D=!1;break e}D=!0}D||(P=w1(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):Lt(d,w,P))}function Jt(d){_e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Jt,_e);var KA=/^https?$/i,GA=["POST","PUT"];t=Jt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,P,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nt.g(),this.v=this.o?ar(this.o):ar(Nt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(te){S1(this,te);return}if(d=P||"",P=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)P.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())P.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(P.keys()).find(te=>te.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GA,w,void 0))||D||G||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of P)this.g.setRequestHeader(te,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{T1(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){S1(this,te)}};function S1(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,E1(d),Id(d)}function E1(d){d.A||(d.A=!0,be(d,"complete"),be(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,be(this,"complete"),be(this,"abort"),Id(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Id(this,!0)),Jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?C1(this):this.bb())},t.bb=function(){C1(this)};function C1(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Gi(d)!=4||d.Z()!=2)){if(d.u&&Gi(d)==4)Re(d.Ea,0,d);else if(be(d,"readystatechange"),Gi(d)==4){d.h=!1;try{const ye=d.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var D;if(D=ye===0){var G=String(d.D).match(m1)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),D=!KA.test(G?G.toLowerCase():"")}P=D}if(P)be(d,"complete"),be(d,"success");else{d.m=6;try{var te=2<Gi(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",E1(d)}}finally{Id(d)}}}}function Id(d,w){if(d.g){T1(d);const P=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||be(d,"ready");try{P.onreadystatechange=D}catch{}}}function T1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Gi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Gi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Pn(w)}};function I1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function QA(d){const w={};d=(d.g&&2<=Gi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(g(d[D]))continue;var P=j(d[D]);const G=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const te=w[G]||[];w[G]=te,te.push(P)}T(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ql(d,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||w}function k1(d){this.Aa=0,this.i=[],this.j=new Xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ql("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ql("baseRetryDelayMs",5e3,d),this.cb=Ql("retryDelaySeedMs",1e4,d),this.Wa=Ql("forwardChannelMaxRetries",2,d),this.wa=Ql("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new c1(d&&d.concurrentRequestLimit),this.Da=new HA,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=k1.prototype,t.la=8,t.G=1,t.connect=function(d,w,P,D){ct(0),this.W=d,this.H=w||{},P&&D!==void 0&&(this.H.OSID=P,this.H.OAID=D),this.F=this.X,this.I=D1(this,null,this.W),Rd(this)};function Zm(d){if(R1(d),d.G==3){var w=d.U++,P=Ki(d.I);if(Lt(P,"SID",d.K),Lt(P,"RID",w),Lt(P,"TYPE","terminate"),Yl(d,P),w=new _i(d,d.j,w),w.L=2,w.v=Ed(Ki(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=w.v,P=!0),P||(w.g=$1(w.j,null),w.g.ea(w.v)),w.F=Date.now(),_d(w)}L1(d)}function kd(d){d.g&&(tg(d),d.g.cancel(),d.g=null)}function R1(d){kd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Pd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Rd(d){if(!u1(d.h)&&!d.s){d.s=!0;var w=d.Ga;q||B(),L||(q(),L=!0),z.add(w,d),d.B=0}}function YA(d,w){return d1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Fe(m(d.Ga,d,w),M1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new _i(this,this.j,d);let te=this.o;if(this.S&&(te?(te=p(te),x(te,this.S)):te=this.S),this.m!==null||this.O||(G.H=te,te=null),this.P)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var D=this.i[P];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=A1(this,G,w),P=Ki(this.I),Lt(P,"RID",d),Lt(P,"CVER",22),this.D&&Lt(P,"X-HTTP-Session-Id",this.D),Yl(this,P),te&&(this.O?w="headers="+encodeURIComponent(String(w1(te)))+"&"+w:this.m&&Jm(P,this.m,te)),Xm(this.h,G),this.Ua&&Lt(P,"TYPE","init"),this.P?(Lt(P,"$req",w),Lt(P,"SID","null"),G.T=!0,An(G,P,null)):An(G,P,w),this.G=2}}else this.G==3&&(d?P1(this,d):this.i.length==0||u1(this.h)||P1(this))};function P1(d,w){var P;w?P=w.l:P=d.U++;const D=Ki(d.I);Lt(D,"SID",d.K),Lt(D,"RID",P),Lt(D,"AID",d.T),Yl(d,D),d.m&&d.o&&Jm(D,d.m,d.o),P=new _i(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),w&&(d.i=w.D.concat(d.i)),w=A1(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Xm(d.h,P),An(P,D,w)}function Yl(d,w){d.H&&N(d.H,function(P,D){Lt(w,D,P)}),d.l&&p1({},function(P,D){Lt(w,D,P)})}function A1(d,w,P){P=Math.min(d.i.length,P);var D=d.l?m(d.l.Na,d.l,d):null;e:{var G=d.i;let te=-1;for(;;){const ye=["count="+P];te==-1?0<P?(te=G[0].g,ye.push("ofs="+te)):te=0:ye.push("ofs="+te);let jt=!0;for(let jn=0;jn<P;jn++){let _t=G[jn].g;const zn=G[jn].map;if(_t-=te,0>_t)te=Math.max(0,G[jn].g-100),jt=!1;else try{qA(zn,ye,"req"+_t+"_")}catch{D&&D(zn)}}if(jt){D=ye.join("&");break e}}}return d=d.i.splice(0,P),w.D=d,D}function j1(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;q||B(),L||(q(),L=!0),z.add(w,d),d.v=0}}function eg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Fe(m(d.Fa,d),M1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,O1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Fe(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),kd(this),O1(this))};function tg(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function O1(d){d.g=new _i(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Ki(d.qa);Lt(w,"RID","rpc"),Lt(w,"SID",d.K),Lt(w,"AID",d.T),Lt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Lt(w,"TO",d.ja),Lt(w,"TYPE","xmlhttp"),Yl(d,w),d.m&&d.o&&Jm(w,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=Ed(Ki(w)),P.m=null,P.P=!0,s1(P,d)}t.Za=function(){this.C!=null&&(this.C=null,kd(this),eg(this),ct(19))};function Pd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function N1(d,w){var P=null;if(d.g==w){Pd(d),tg(d),d.g=null;var D=2}else if(Ym(d.h,w))P=w.D,f1(d.h,w),D=1;else return;if(d.G!=0){if(w.o)if(D==1){P=w.m?w.m.length:0,w=Date.now()-w.F;var G=d.B;D=ae(),be(D,new gt(D,P)),Rd(d)}else j1(d);else if(G=w.s,G==3||G==0&&0<w.X||!(D==1&&YA(d,w)||D==2&&eg(d)))switch(P&&0<P.length&&(w=d.h,w.i=w.i.concat(P)),G){case 1:_s(d,5);break;case 4:_s(d,10);break;case 3:_s(d,6);break;default:_s(d,2)}}}function M1(d,w){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*w}function _s(d,w){if(d.j.info("Error code "+w),w==2){var P=m(d.fb,d),D=d.Xa;const G=!D;D=new bs(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wd(D,"https"),Ed(D),G?WA(D.toString(),P):UA(D.toString(),P)}else ct(2);d.G=0,d.l&&d.l.sa(w),L1(d),R1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function L1(d){if(d.G=0,d.ka=[],d.l){const w=h1(d.h);(w.length!=0||d.i.length!=0)&&(k(d.ka,w),k(d.ka,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.ra()}}function D1(d,w,P){var D=P instanceof bs?Ki(P):new bs(P);if(D.g!="")w&&(D.g=w+"."+D.g),Sd(D,D.s);else{var G=a.location;D=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var te=new bs(null);D&&wd(te,D),w&&(te.g=w),G&&Sd(te,G),P&&(te.l=P),D=te}return P=d.D,w=d.ya,P&&w&&Lt(D,P,w),Lt(D,"VER",d.la),Yl(d,D),D}function $1(d,w,P){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new Jt(new Cd({eb:P})):new Jt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function F1(){}t=F1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ad(){}Ad.prototype.g=function(d,w){return new br(d,w)};function br(d,w){_e.call(this),this.g=new k1(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!g(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!g(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new ca(this)}C(br,_e),br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){Zm(this.g)},br.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=Ke(d),d=P);w.i.push(new OA(w.Ya++,d)),w.G==3&&Rd(w)},br.prototype.N=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,br.aa.N.call(this)};function z1(d){ai.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const P in w){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}C(z1,ai);function V1(){ee.call(this),this.status=1}C(V1,ee);function ca(d){this.g=d}C(ca,F1),ca.prototype.ua=function(){be(this.g,"a")},ca.prototype.ta=function(d){be(this.g,new z1(d))},ca.prototype.sa=function(d){be(this.g,new V1)},ca.prototype.ra=function(){be(this.g,"b")},Ad.prototype.createWebChannel=Ad.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,o2=function(){return new Ad},i2=function(){return ae()},r2=Ue,gv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,kf=Fr,We.COMPLETE="complete",n2=We,Dr.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",_e.prototype.listen=_e.prototype.K,wc=Dr,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,t2=Jt}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const yw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new hx("@firebase/firestore");function oc(){return Hs.logLevel}function De(t,...e){if(Hs.logLevel<=vt.DEBUG){const n=e.map(gx);Hs.debug(`Firestore (${Al}): ${t}`,...n)}}function vo(t,...e){if(Hs.logLevel<=vt.ERROR){const n=e.map(gx);Hs.error(`Firestore (${Al}): ${t}`,...n)}}function qs(t,...e){if(Hs.logLevel<=vt.WARN){const n=e.map(gx);Hs.warn(`Firestore (${Al}): ${t}`,...n)}}function gx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+t;throw vo(e),new Error(e)}function kt(t,e){t||Ze()}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gn.UNAUTHENTICATED))}shutdown(){}}class F5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z5{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new s2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Gn(e)}}class V5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class B5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new V5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){kt(this.o===void 0);const r=o=>{o.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,De("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.R=n.token,new W5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=H5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function St(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tt(e)}static min(){return new tt(new gn(0,0))}static max(){return new tt(new gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(),r===void 0?r=e.length-n:r>e.length-n&&Ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ft extends pu{construct(e,n,r){return new Ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ft(n)}static emptyPath(){return new Ft([])}}const q5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends pu{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return q5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ae(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ae(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ae(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ae(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Ft.fromString(e))}static fromName(e){return new He(Ft.fromString(e).popFirst(5))}static empty(){return new He(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Ft(e.slice()))}}function K5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new gn(n+1,0):new gn(n,r));return new os(i,He.empty(),e)}function G5(t){return new os(t.readTime,t.key,-1)}class os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new os(tt.min(),He.empty(),-1)}static max(){return new os(tt.max(),He.empty(),-1)}}function Q5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:St(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==Y5)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new ce((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function J5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vx.oe=-1;function Pp(t){return t==null}function bh(t){return t===0&&1/t==-1/0}function Z5(t){return typeof t=="number"&&Number.isInteger(t)&&!bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jd(this.root,e,this.comparator,!0)}}class Jd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Nn.RED,this.left=i??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Nn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Er([])}unionWith(e){let n=new Dn(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new c2("Invalid base64 string: "+o):o}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(kt(!!t),typeof t=="string"){let e=0;const n=eD.exec(t);if(kt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bx(t){const e=t.mapValue.fields.__previous_value__;return xx(e)?bx(e):e}function mu(t){const e=ss(t.mapValue.fields.__local_write_time__.timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd={mapValue:{}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xx(t)?4:rD(t)?9007199254740991:nD(t)?10:11:Ze()}function $i(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ss(i.timestampValue),a=ss(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ks(i.bytesValue).isEqual(Ks(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return on(i.geoPointValue.latitude)===on(o.geoPointValue.latitude)&&on(i.geoPointValue.longitude)===on(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return on(i.integerValue)===on(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=on(i.doubleValue),a=on(o.doubleValue);return s===a?bh(s)===bh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vw(s)!==vw(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!$i(s[c],a[c])))return!1;return!0}(t,e);default:return Ze()}}function gu(t,e){return(t.values||[]).find(n=>$i(n,e))!==void 0}function ul(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return St(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return St(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=on(o.integerValue||o.doubleValue),c=on(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return bw(t.timestampValue,e.timestampValue);case 4:return bw(mu(t),mu(e));case 5:return St(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ks(o),c=Ks(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=St(a[u],c[u]);if(f!==0)return f}return St(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=St(on(o.latitude),on(s.latitude));return a!==0?a:St(on(o.longitude),on(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _w(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,f;const h=o.fields||{},m=s.fields||{},E=(a=h.value)===null||a===void 0?void 0:a.arrayValue,C=(c=m.value)===null||c===void 0?void 0:c.arrayValue,_=St(((u=E==null?void 0:E.values)===null||u===void 0?void 0:u.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return _!==0?_:_w(E,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Zd.mapValue&&s===Zd.mapValue)return 0;if(o===Zd.mapValue)return 1;if(s===Zd.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=s.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const m=St(c[h],f[h]);if(m!==0)return m;const E=ul(a[c[h]],u[f[h]]);if(E!==0)return E}return St(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ze()}}function bw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return St(t,e);const n=ss(t),r=ss(e),i=St(n.seconds,r.seconds);return i!==0?i:St(n.nanos,r.nanos)}function _w(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ul(n[i],r[i]);if(o)return o}return St(n.length,r.length)}function dl(t){return yv(t)}function yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return He.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=yv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${yv(n.fields[s])}`;return i+"}"}(t.mapValue):Ze()}function ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vv(t){return!!t&&"integerValue"in t}function _x(t){return!!t&&"arrayValue"in t}function Sw(t){return!!t&&"nullValue"in t}function Ew(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function nD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ia(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new dr(Lc(this.value))}}function u2(t){const e=[];return ia(t.fields,(n,r)=>{const i=new Tn([n]);if(Rf(r)){const o=u2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Yn(e,0,tt.min(),tt.min(),tt.min(),dr.empty(),0)}static newFoundDocument(e,n,r,i){return new Yn(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new Yn(e,2,n,tt.min(),tt.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,tt.min(),tt.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Cw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=He.comparator(He.fromName(s.referenceValue),n.key):r=ul(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function iD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class mn extends d2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sD(e,n,r):n==="array-contains"?new cD(e,r):n==="in"?new uD(e,r):n==="not-in"?new dD(e,r):n==="array-contains-any"?new fD(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aD(e,r):new lD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ul(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends d2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vi(e,n)}matches(e){return f2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function f2(t){return t.op==="and"}function h2(t){return oD(t)&&f2(t)}function oD(t){for(const e of t.filters)if(e instanceof vi)return!1;return!0}function xv(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(h2(t))return t.filters.map(e=>xv(e)).join(",");{const e=t.filters.map(n=>xv(n)).join(",");return`${t.op}(${e})`}}function p2(t,e){return t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&$i(r.value,i.value)}(t,e):t instanceof vi?function(r,i){return i instanceof vi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&p2(s,i.filters[a]),!0):!1}(t,e):void Ze()}function m2(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(m2).join(" ,")+"}"}(t):"Filter"}class sD extends mn{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class aD extends mn{constructor(e,n){super(e,"in",n),this.keys=g2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lD extends mn{constructor(e,n){super(e,"not-in",n),this.keys=g2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class cD extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _x(n)&&gu(n.arrayValue,this.value)}}class uD extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class dD extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gu(this.value.arrayValue,n)}}class fD extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_x(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Iw(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hD(t,e,n,r,i,o,s)}function wx(t){const e=nt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Pp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ue=n}return e.ue}function Sx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tw(t.startAt,e.startAt)&&Tw(t.endAt,e.endAt)}function bv(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pD(t,e,n,r,i,o,s,a){return new jl(t,e,n,r,i,o,s,a)}function Ap(t){return new jl(t)}function kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y2(t){return t.collectionGroup!==null}function Dc(t){const e=nt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dn(Tn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new yu(o,r))}),n.has(Tn.keyField().canonicalString())||e.ce.push(new yu(Tn.keyField(),r))}return e.ce}function ji(t){const e=nt(t);return e.le||(e.le=mD(e,Dc(t))),e.le}function mD(t,e){if(t.limitType==="F")return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new yu(i.field,o)});const n=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _v(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wv(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return Sx(ji(t),ji(e))&&t.limitType===e.limitType}function v2(t){return`${wx(ji(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m2(i)).join(", ")}]`),Pp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(ji(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Dc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){const u=Cw(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Dc(r),i)||r.endAt&&!function(s,a,c){const u=Cw(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Dc(r),i))}(t,e)}function gD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x2(t){return(e,n)=>{let r=!1;for(const i of Dc(t)){const o=yD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yD(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ul(c,u):Ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return l2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Xt(He.comparator);function xo(){return vD}const b2=new Xt(He.comparator);function Sc(...t){let e=b2;for(const n of t)e=e.insert(n.key,n);return e}function _2(t){let e=b2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function js(){return $c()}function w2(){return $c()}function $c(){return new Ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const xD=new Xt(He.comparator),bD=new Dn(He.comparator);function yt(...t){let e=bD;for(const n of t)e=e.add(n);return e}const _D=new Dn(St);function wD(){return _D}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function S2(t){return{integerValue:""+t}}function SD(t,e){return Z5(e)?S2(e):Ex(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this._=void 0}}function ED(t,e,n){return t instanceof vu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xx(o)&&(o=bx(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof xu?C2(t,e):t instanceof bu?T2(t,e):function(i,o){const s=E2(i,o),a=Rw(s)+Rw(i.Pe);return vv(s)&&vv(i.Pe)?S2(a):Ex(i.serializer,a)}(t,e)}function CD(t,e,n){return t instanceof xu?C2(t,e):t instanceof bu?T2(t,e):n}function E2(t,e){return t instanceof wh?function(r){return vv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class vu extends Np{}class xu extends Np{constructor(e){super(),this.elements=e}}function C2(t,e){const n=I2(e);for(const r of t.elements)n.some(i=>$i(i,r))||n.push(r);return{arrayValue:{values:n}}}class bu extends Np{constructor(e){super(),this.elements=e}}function T2(t,e){let n=I2(e);for(const r of t.elements)n=n.filter(i=>!$i(i,r));return{arrayValue:{values:n}}}class wh extends Np{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Rw(t){return on(t.integerValue||t.doubleValue)}function I2(t){return _x(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.field=e,this.transform=n}}function ID(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xu&&i instanceof xu||r instanceof bu&&i instanceof bu?ll(r.elements,i.elements,$i):r instanceof wh&&i instanceof wh?$i(r.Pe,i.Pe):r instanceof vu&&i instanceof vu}(t.transform,e.transform)}class kD{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mp{}function k2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cx(t.key,Kr.none()):new qu(t.key,t.data,Kr.none());{const n=t.data,r=dr.empty();let i=new Dn(Tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ms(t.key,r,new Er(i.toArray()),Kr.none())}}function RD(t,e,n){t instanceof qu?function(i,o,s){const a=i.value.clone(),c=Aw(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(i,o,s){if(!Pf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Aw(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(R2(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof qu?function(o,s,a,c){if(!Pf(o.precondition,s))return a;const u=o.value.clone(),f=jw(o.fieldTransforms,c,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(o,s,a,c){if(!Pf(o.precondition,s))return a;const u=jw(o.fieldTransforms,c,s),f=s.data;return f.setAll(R2(o)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Pf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function PD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=E2(r.transform,i||null);o!=null&&(n===null&&(n=dr.empty()),n.set(r.field,o))}return n||null}function Pw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ll(r,i,(o,s)=>ID(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qu extends Mp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Mp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function R2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Aw(t,e,n){const r=new Map;kt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,CD(s,a,n[i]))}return r}function jw(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,ED(o,s,e))}return r}class Cx extends Mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AD extends Mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&RD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w2();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=k2(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yt())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,r)=>Pw(n,r))&&ll(this.baseMutations,e.baseMutations,(n,r)=>Pw(n,r))}}class Tx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length);let i=function(){return xD}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Tx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,xt;function MD(t){switch(t){default:return Ze();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function P2(t){if(t===void 0)return vo("GRPC error has no .code"),le.UNKNOWN;switch(t){case fn.OK:return le.OK;case fn.CANCELLED:return le.CANCELLED;case fn.UNKNOWN:return le.UNKNOWN;case fn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case fn.INTERNAL:return le.INTERNAL;case fn.UNAVAILABLE:return le.UNAVAILABLE;case fn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case fn.NOT_FOUND:return le.NOT_FOUND;case fn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case fn.ABORTED:return le.ABORTED;case fn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case fn.DATA_LOSS:return le.DATA_LOSS;default:return Ze()}}(xt=fn||(fn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Ls([4294967295,4294967295],0);function Ow(t){const e=LD().encode(t),n=new e2;return n.update(e),new Uint8Array(n.digest())}function Nw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([i,o],0)]}class Ix{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ls.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ls.fromNumber(r)));return i.compare(DD)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ow(e),[r,i]=Nw(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ix(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Ow(e),[r,i]=Nw(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lp(tt.min(),i,new Xt(St),xo(),yt())}}class Ku{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ku(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class A2{constructor(e,n){this.targetId=e,this.me=n}}class j2{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Mw{constructor(){this.fe=0,this.ge=Dw(),this.pe=kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=yt(),n=yt(),r=yt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze()}}),new Ku(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Dw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $D{constructor(e){this.Le=e,this.Be=new Map,this.ke=xo(),this.qe=Lw(),this.Qe=new Xt(St)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(bv(o))if(r===0){const s=new He(o.path);this.Ue(n,s,Yn.newNoDocument(s,tt.min()))}else kt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ks(r).toUint8Array()}catch(c){if(c instanceof c2)return qs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ix(s,i,o)}catch(c){return qs(c instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&bv(a.target)){const c=new He(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Yn.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=yt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Lp(e,n,this.Qe,this.ke,r);return this.ke=xo(),this.qe=Lw(),this.Qe=new Xt(St),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Mw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dn(St),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Mw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Lw(){return new Xt(He.comparator)}function Dw(){return new Xt(He.comparator)}const FD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VD={and:"AND",or:"OR"};class BD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sv(t,e){return t.useProto3Json||Pp(e)?e:{value:e}}function Sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WD(t,e){return Sh(t,e.toTimestamp())}function Oi(t){return kt(!!t),tt.fromTimestamp(function(n){const r=ss(n);return new gn(r.seconds,r.nanos)}(t))}function kx(t,e){return Ev(t,e).canonicalString()}function Ev(t,e){const n=function(i){return new Ft(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function N2(t){const e=Ft.fromString(t);return kt(F2(e)),e}function Cv(t,e){return kx(t.databaseId,e.path)}function Mg(t,e){const n=N2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(L2(n))}function M2(t,e){return kx(t.databaseId,e)}function UD(t){const e=N2(t);return e.length===4?Ft.emptyPath():L2(e)}function Tv(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L2(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $w(t,e,n){return{name:Cv(t,e),fields:n.value.mapValue.fields}}function HD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(kt(f===void 0||typeof f=="string"),kn.fromBase64String(f||"")):(kt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),kn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const f=u.code===void 0?le.UNKNOWN:P2(u.code);return new Ae(f,u.message||"")}(s);n=new j2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mg(t,r.document.name),o=Oi(r.document.updateTime),s=r.document.createTime?Oi(r.document.createTime):tt.min(),a=new dr({mapValue:{fields:r.document.fields}}),c=Yn.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Af(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mg(t,r.document),o=r.readTime?Oi(r.readTime):tt.min(),s=Yn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Af([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mg(t,r.document),o=r.removedTargetIds||[];n=new Af([],o,i,null)}else{if(!("filter"in e))return Ze();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ND(i,o),a=r.targetId;n=new A2(a,s)}}return n}function qD(t,e){let n;if(e instanceof qu)n={update:$w(t,e.key,e.value)};else if(e instanceof Cx)n={delete:Cv(t,e.key)};else if(e instanceof ms)n={update:$w(t,e.key,e.data),updateMask:t4(e.fieldMask)};else{if(!(e instanceof AD))return Ze();n={verify:Cv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof vu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wh)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:WD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze()}(t,e.precondition)),n}function KD(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Oi(i.updateTime):Oi(o);return s.isEqual(tt.min())&&(s=Oi(o)),new kD(s,i.transformResults||[])}(n,e))):[]}function GD(t,e){return{documents:[M2(t,e.path)]}}function QD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=M2(t,i);const o=function(u){if(u.length!==0)return $2(vi.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:ba(m.field),direction:JD(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Sv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function YD(t){let e=UD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){const m=D2(h);return m instanceof vi&&h2(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(m=>function(C){return new yu(_a(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Pp(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,E=h.values||[];return new _h(E,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,E=h.values||[];return new _h(E,m)}(n.endAt)),pD(e,i,s,o,a,"F",c,u)}function XD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_a(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_a(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_a(n.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_a(n.unaryFilter.field);return mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(t):t.fieldFilter!==void 0?function(n){return mn.create(_a(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(r=>D2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze()}}(n.compositeFilter.op))}(t):Ze()}function JD(t){return FD[t]}function ZD(t){return zD[t]}function e4(t){return VD[t]}function ba(t){return{fieldPath:t.canonicalString()}}function _a(t){return Tn.fromServerFormat(t.fieldPath)}function $2(t){return t instanceof mn?function(n){if(n.op==="=="){if(Ew(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NAN"}};if(Sw(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ew(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NOT_NAN"}};if(Sw(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(n.field),op:ZD(n.op),value:n.value}}}(t):t instanceof vi?function(n){const r=n.getFilters().map(i=>$2(i));return r.length===1?r[0]:{compositeFilter:{op:e4(n.op),filters:r}}}(t):Ze()}function t4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function F2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,r,i,o=tt.min(),s=tt.min(),a=kn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.ct=e}}function r4(t){const e=YD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.un=new o4}addToCollectionParentIndex(e,n){return this.un.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(os.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class o4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Ft.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new fl(0)}static kn(){return new fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.changes=new Ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,Er.empty(),gn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yt()){const i=js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Sc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xo();const s=$c(),a=function(){return $c()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof ms)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),Fc(f.mutation,u,f.mutation.getFieldMask(),gn.now())):s.set(u.key,Er.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,f)=>s.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new a4(f,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$c();let i=new Xt((s,a)=>s-a),o=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||Er.empty();f=a.applyToLocalView(u,f),r.set(c,f);const h=(i.get(a.batchId)||yt()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,f=c.value,h=w2();f.forEach(m=>{if(!o.has(m)){const E=k2(n.get(m),r.get(m));E!==null&&h.set(m,E),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ce.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return He.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(js());let a=-1,c=o;return s.next(u=>ce.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?ce.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,yt())).next(f=>({batchId:a,changes:_2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next(r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Sc();return this.indexManager.getCollectionParents(e,o).next(a=>ce.forEach(a,c=>{const u=function(h,m){return new jl(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,m)=>{s=s.insert(h,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{const f=u.getKey();s.get(f)===null&&(s=s.insert(f,Yn.newInvalidDocument(f)))});let a=Sc();return s.forEach((c,u)=>{const f=o.get(c);f!==void 0&&Fc(f.mutation,u,Er.empty(),gn.now()),Op(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:r4(i.bundledQuery),readTime:Oi(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.overlays=new Xt(He.comparator),this.Ir=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=js();return ce.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=js(),o=n.length+1,s=new He(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xt((u,f)=>u-f);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=js(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=js(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new OD(n,r));let o=this.Ir.get(n);o===void 0&&(o=yt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.Tr=new Dn(En.Er),this.dr=new Dn(En.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new En(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new En(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new He(new Ft([])),r=new En(n,e),i=new En(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new He(new Ft([])),r=new En(n,e),i=new En(n,e+1);let o=yt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new En(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return He.comparator(e.key,n.key)||St(e.wr,n.wr)}static Ar(e,n){return St(e.wr,n.wr)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dn(En.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new En(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(St);return n.forEach(i=>{const o=new En(i,0),s=new En(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const s=new En(new He(o),0);let a=new Dn(St);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ce.forEach(n.mutations,i=>{const o=new En(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new En(n,0),i=this.br.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.Mr=e,this.docs=function(){return new Xt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=xo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yn.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xo();const s=n.path,a=new He(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Q5(G5(f),r)<=0||(i.has(f.key)||Op(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ze()}Or(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p4(this)}getSize(e){return ce.resolve(this.size)}}class p4 extends s4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.persistence=e,this.Nr=new Ol(n=>wx(n),Sx),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Rx,this.targetCount=0,this.kr=fl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Kn(n),ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vx(0),this.Kr=!1,this.Kr=!0,this.$r=new d4,this.referenceDelegate=e(this),this.Ur=new m4(this),this.indexManager=new i4,this.remoteDocumentCache=function(i){return new h4(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new n4(n),this.Gr=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new f4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new y4(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class y4 extends X5{constructor(e){super(),this.currentSequenceNumber=e}}class Px{constructor(e){this.persistence=e,this.Jr=new Rx,this.Yr=null}static Zr(e){return new Px(e)}get Xr(){if(this.Yr)return this.Yr;throw Ze()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,r=>{const i=He.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,tt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=yt(),i=yt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ax(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bL()?8:J5(Zn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new v4;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(oc()<=vt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(oc()<=vt.DEBUG&&De("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(oc()<=vt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ce.resolve())}Yi(e,n){if(kw(n))return ce.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wv(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=yt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,s,c.readTime)?this.Yi(e,wv(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return kw(n)||i.isEqual(tt.min())?ce.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ce.resolve(null):(oc()<=vt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.rs(e,s,n,K5(i,-1)).next(a=>a))})}ts(e,n){let r=new Dn(x2(e));return n.forEach((i,o)=>{Op(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return oc()<=vt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,os.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Xt(St),this._s=new Ol(o=>wx(o),Sx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function _4(t,e,n,r){return new b4(t,e,n,r)}async function z2(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=yt();for(const u of i){s.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of o){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function w4(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,f){const h=u.batch,m=h.keys();let E=ce.resolve();return m.forEach(C=>{E=E.next(()=>f.getEntry(c,C)).next(_=>{const k=u.docVersions.get(C);kt(k!==null),_.version.compareTo(k)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),f.addEntry(_)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=yt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function V2(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function S4(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let E=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(kn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(h,E),function(_,k,S){return _.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,E,f)&&a.push(n.Ur.updateTargetData(o,E))});let c=xo(),u=yt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(E4(o,s,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(tt.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return ce.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=i,o))}function E4(t,e,n){let r=yt(),i=yt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xo();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(tt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):De("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function C4(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T4(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ce.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Wo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Iv(t,e,n){const r=nt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Hu(s))throw s;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Fw(t,e,n){const r=nt(t);let i=tt.min(),o=yt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,f){const h=nt(c),m=h._s.get(f);return m!==void 0?ce.resolve(h.os.get(m)):h.Ur.getTargetData(u,f)}(r,s,ji(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:tt.min(),n?o:yt())).next(a=>(I4(r,gD(e),a),{documents:a,Ts:o})))}function I4(t,e,n){let r=t.us.get(e)||tt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class zw{constructor(){this.activeTargetIds=wD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k4{constructor(){this.so=new zw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=null;function Lg(){return ef===null?ef=function(){return 268435456+Math.round(2147483648*Math.random())}():ef++,"0x"+ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class j4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Lg(),c=this.xo(n,r.toUriEncodedString());De("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,c,u,i).then(f=>(De("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw qs("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=P4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Lg();return new Promise((s,a)=>{const c=new t2;c.setWithCredentials(!0),c.listenOnce(n2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kf.NO_ERROR:const f=c.getResponseJson();De(Un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case kf.TIMEOUT:De(Un,`RPC '${e}' ${o} timed out`),a(new Ae(le.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const h=c.getStatus();if(De(Un,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const C=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(S)>=0?S:le.UNKNOWN}(E.status);a(new Ae(C,E.message))}else a(new Ae(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ae(le.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{De(Un,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);De(Un,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Lg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=o2(),a=i2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=o.join("");De(Un,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=s.createWebChannel(f,c);let m=!1,E=!1;const C=new A4({Io:k=>{E?De(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(m||(De(Un,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),De(Un,`RPC '${e}' stream ${i} sending:`,k),h.send(k))},To:()=>h.close()}),_=(k,S,g)=>{k.listen(S,v=>{try{g(v)}catch(I){setTimeout(()=>{throw I},0)}})};return _(h,wc.EventType.OPEN,()=>{E||(De(Un,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),_(h,wc.EventType.CLOSE,()=>{E||(E=!0,De(Un,`RPC '${e}' stream ${i} transport closed`),C.So())}),_(h,wc.EventType.ERROR,k=>{E||(E=!0,qs(Un,`RPC '${e}' stream ${i} transport errored:`,k),C.So(new Ae(le.UNAVAILABLE,"The operation could not be completed")))}),_(h,wc.EventType.MESSAGE,k=>{var S;if(!E){const g=k.data[0];kt(!!g);const v=g,I=v.error||((S=v[0])===null||S===void 0?void 0:S.error);if(I){De(Un,`RPC '${e}' stream ${i} received error:`,I);const M=I.status;let N=function(y){const x=fn[y];if(x!==void 0)return P2(x)}(M),T=I.message;N===void 0&&(N=le.INTERNAL,T="Unknown error status: "+M+" with message "+I.message),E=!0,C.So(new Ae(N,T)),h.close()}else De(Un,`RPC '${e}' stream ${i} received:`,g),C.bo(g)}}),_(a,r2.STAT_EVENT,k=>{k.stat===gv.PROXY?De(Un,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===gv.NOPROXY&&De(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t){return new BD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new B2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ae(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O4 extends W2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=HD(this.serializer,e),r=function(o){if(!("targetChange"in o))return tt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?tt.min():s.readTime?Oi(s.readTime):tt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Tv(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=bv(c)?{documents:GD(o,c)}:{query:QD(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=O2(o,s.resumeToken);const u=Sv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(tt.min())>0){a.readTime=Sh(o,s.snapshotVersion.toTimestamp());const u=Sv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Tv(this.serializer),n.removeTarget=e,this.a_(n)}}class N4 extends W2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=KD(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Tv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Ev(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(le.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Ev(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(le.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class L4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vo(n),this.D_=!1):De("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{oa(this)&&(De("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=nt(c);u.L_.add(4),await Gu(u),u.q_.set("Unknown"),u.L_.delete(4),await $p(u)}(this))})}),this.q_=new L4(r,i)}}async function $p(t){if(oa(t))for(const e of t.B_)await e(!0)}async function Gu(t){for(const e of t.B_)await e(!1)}function U2(t,e){const n=nt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Mx(n)?Nx(n):Nl(n).r_()&&Ox(n,e))}function jx(t,e){const n=nt(t),r=Nl(n);n.N_.delete(e),r.r_()&&H2(n,e),n.N_.size===0&&(r.r_()?r.o_():oa(n)&&n.q_.set("Unknown"))}function Ox(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).A_(e)}function H2(t,e){t.Q_.xe(e),Nl(t).R_(e)}function Nx(t){t.Q_=new $D({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.q_.v_()}function Mx(t){return oa(t)&&!Nl(t).n_()&&t.N_.size>0}function oa(t){return nt(t).L_.size===0}function q2(t){t.Q_=void 0}async function $4(t){t.q_.set("Online")}async function F4(t){t.N_.forEach((e,n)=>{Ox(t,e)})}async function z4(t,e){q2(t),Mx(t)?(t.q_.M_(e),Nx(t)):t.q_.set("Unknown")}async function V4(t,e,n){if(t.q_.set("Online"),e instanceof j2&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(t,r)}else if(e instanceof Af?t.Q_.Ke(e):e instanceof A2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(tt.min()))try{const r=await V2(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=o.N_.get(u);f&&o.N_.set(u,f.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const f=o.N_.get(c);if(!f)return;o.N_.set(c,f.withResumeToken(kn.EMPTY_BYTE_STRING,f.snapshotVersion)),H2(o,c);const h=new Wo(f.target,c,u,f.sequenceNumber);Ox(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){De("RemoteStore","Failed to raise snapshot:",r),await Eh(t,r)}}async function Eh(t,e,n){if(!Hu(e))throw e;t.L_.add(1),await Gu(t),t.q_.set("Offline"),n||(n=()=>V2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await $p(t)})}function K2(t,e){return e().catch(n=>Eh(t,n,e))}async function Fp(t){const e=nt(t),n=as(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B4(e);)try{const i=await C4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,W4(e,i)}catch(i){await Eh(e,i)}G2(e)&&Q2(e)}function B4(t){return oa(t)&&t.O_.length<10}function W4(t,e){t.O_.push(e);const n=as(t);n.r_()&&n.V_&&n.m_(e.mutations)}function G2(t){return oa(t)&&!as(t).n_()&&t.O_.length>0}function Q2(t){as(t).start()}async function U4(t){as(t).p_()}async function H4(t){const e=as(t);for(const n of t.O_)e.m_(n.mutations)}async function q4(t,e,n){const r=t.O_.shift(),i=Tx.from(r,e,n);await K2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fp(t)}async function K4(t,e){e&&as(t).V_&&await async function(r,i){if(function(s){return MD(s)&&s!==le.ABORTED}(i.code)){const o=r.O_.shift();as(r).s_(),await K2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Fp(r)}}(t,e),G2(t)&&Q2(t)}async function Bw(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=oa(n);n.L_.add(3),await Gu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await $p(n)}async function G4(t,e){const n=nt(t);e?(n.L_.delete(2),await $p(n)):e||(n.L_.add(2),await Gu(n),n.q_.set("Unknown"))}function Nl(t){return t.K_||(t.K_=function(n,r,i){const o=nt(n);return o.w_(),new O4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$4.bind(null,t),Ro:F4.bind(null,t),mo:z4.bind(null,t),d_:V4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Mx(t)?Nx(t):t.q_.set("Unknown")):(await t.K_.stop(),q2(t))})),t.K_}function as(t){return t.U_||(t.U_=function(n,r,i){const o=nt(n);return o.w_(),new N4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U4.bind(null,t),mo:K4.bind(null,t),f_:H4.bind(null,t),g_:q4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Fp(t)):(await t.U_.stop(),t.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Lx(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dx(t,e){if(vo("AsyncQueue",`${e}: ${t}`),Hu(t))return new Ae(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=Sc(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new Ha(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.W_=new Xt(He.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hl{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new hl(e,n,Ha.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Y4{constructor(){this.queries=Uw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=nt(n),o=i.queries;i.queries=Uw(),o.forEach((s,a)=>{for(const c of a.j_)c.onError(r)})})(this,new Ae(le.ABORTED,"Firestore shutting down"))}}function Uw(){return new Ol(t=>v2(t),jp)}async function $x(t,e){const n=nt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Q4,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Dx(s,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&zx(n)}async function Fx(t,e){const n=nt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X4(t,e){const n=nt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&zx(n)}function J4(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function zx(t){t.Y_.forEach(e=>{e.next()})}var kv,Hw;(Hw=kv||(kv={})).ea="default",Hw.Cache="cache";class Vx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==kv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.key=e}}class X2{constructor(e){this.key=e}}class Z4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yt(),this.mutatedKeys=yt(),this.Aa=x2(e),this.Ra=new Ha(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Ww,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),E=Op(this.query,h)?h:null,C=!!m&&this.mutatedKeys.has(m.key),_=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let k=!1;m&&E?m.data.isEqual(E.data)?C!==_&&(r.track({type:3,doc:E}),k=!0):this.ga(m,E)||(r.track({type:2,doc:E}),k=!0,(c&&this.Aa(E,c)>0||u&&this.Aa(E,u)<0)&&(a=!0)):!m&&E?(r.track({type:0,doc:E}),k=!0):m&&!E&&(r.track({type:1,doc:m}),k=!0,(c||u)&&(a=!0)),k&&(E?(s=s.add(E),o=_?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,h)=>function(E,C){const _=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return _(E)-_(C)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new hl(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ww,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=yt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new X2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Y2(r))}),n}ba(e){this.Ta=e.Ts,this.da=yt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class e6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t6{constructor(e){this.key=e,this.va=!1}}class n6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ol(a=>v2(a),jp),this.Ma=new Map,this.xa=new Set,this.Oa=new Xt(He.comparator),this.Na=new Map,this.La=new Rx,this.Ba={},this.ka=new Map,this.qa=fl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function r6(t,e,n=!0){const r=rk(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await J2(r,e,n,!0),i}async function i6(t,e){const n=rk(t);await J2(n,e,!0,!1)}async function J2(t,e,n,r){const i=await T4(t.localStore,ji(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await o6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&U2(t.remoteStore,i),a}async function o6(t,e,n,r,i){t.Ka=(h,m,E)=>async function(_,k,S,g){let v=k.view.ma(S);v.ns&&(v=await Fw(_.localStore,k.query,!1).then(({documents:T})=>k.view.ma(T,v)));const I=g&&g.targetChanges.get(k.targetId),M=g&&g.targetMismatches.get(k.targetId)!=null,N=k.view.applyChanges(v,_.isPrimaryClient,I,M);return Kw(_,k.targetId,N.wa),N.snapshot}(t,h,m,E);const o=await Fw(t.localStore,e,!0),s=new Z4(e,o.Ts),a=s.ma(o.documents),c=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);Kw(t,n,u.wa);const f=new e6(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function s6(t,e,n){const r=nt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!jp(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Iv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jx(r.remoteStore,i.targetId),Rv(r,i.targetId)}).catch(Uu)):(Rv(r,i.targetId),await Iv(r.localStore,i.targetId,!0))}async function a6(t,e){const n=nt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jx(n.remoteStore,r.targetId))}async function l6(t,e,n){const r=m6(t);try{const i=await function(s,a){const c=nt(s),u=gn.now(),f=a.reduce((E,C)=>E.add(C.key),yt());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=xo(),_=yt();return c.cs.getEntries(E,f).next(k=>{C=k,C.forEach((S,g)=>{g.isValidDocument()||(_=_.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,C)).next(k=>{h=k;const S=[];for(const g of a){const v=PD(g,h.get(g.key).overlayedDocument);v!=null&&S.push(new ms(g.key,v,u2(v.value.mapValue),Kr.exists(!0)))}return c.mutationQueue.addMutationBatch(E,u,S,a)}).next(k=>{m=k;const S=k.applyToLocalDocumentSet(h,_);return c.documentOverlayCache.saveOverlays(E,k.batchId,S)})}).then(()=>({batchId:m.batchId,changes:_2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new Xt(St)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Qu(r,i.changes),await Fp(r.remoteStore)}catch(i){const o=Dx(i,"Failed to persist write");n.reject(o)}}async function Z2(t,e){const n=nt(t);try{const r=await S4(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?kt(s.va):i.removedDocuments.size>0&&(kt(s.va),s.va=!1))}),await Qu(n,r,e)}catch(r){await Uu(r)}}function qw(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=nt(s);c.onlineState=a;let u=!1;c.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(u=!0)}),u&&zx(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c6(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xt(He.comparator);s=s.insert(o,Yn.newNoDocument(o,tt.min()));const a=yt().add(o),c=new Lp(tt.min(),new Map,new Xt(St),s,a);await Z2(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),Bx(r)}else await Iv(r.localStore,e,!1).then(()=>Rv(r,e,n)).catch(Uu)}async function u6(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await w4(n.localStore,e);tk(n,r,null),ek(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(n,i)}catch(i){await Uu(i)}}async function d6(t,e,n){const r=nt(t);try{const i=await function(s,a){const c=nt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(kt(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);tk(r,e,n),ek(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qu(r,i)}catch(i){await Uu(i)}}function ek(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tk(t,e,n){const r=nt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Rv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||nk(t,r)})}function nk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(jx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Bx(t))}function Kw(t,e,n){for(const r of n)r instanceof Y2?(t.La.addReference(r.key,e),f6(t,r)):r instanceof X2?(De("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||nk(t,r.key)):Ze()}function f6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(De("SyncEngine","New document in limbo: "+n),t.xa.add(r),Bx(t))}function Bx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new He(Ft.fromString(e)),r=t.qa.next();t.Na.set(r,new t6(n)),t.Oa=t.Oa.insert(n,r),U2(t.remoteStore,new Wo(ji(Ap(n.path)),r,"TargetPurposeLimboResolution",vx.oe))}}async function Qu(t,e,n){const r=nt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Ax.Wi(c.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(c,u){const f=nt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ce.forEach(u,m=>ce.forEach(m.$i,E=>f.persistence.referenceDelegate.addReference(h,m.targetId,E)).next(()=>ce.forEach(m.Ui,E=>f.persistence.referenceDelegate.removeReference(h,m.targetId,E)))))}catch(h){if(!Hu(h))throw h;De("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const E=f.os.get(m),C=E.snapshotVersion,_=E.withLastLimboFreeSnapshotVersion(C);f.os=f.os.insert(m,_)}}}(r.localStore,o))}async function h6(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=await z2(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new Ae(le.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qu(n,r.hs)}}function p6(t,e){const n=nt(t),r=n.Na.get(e);if(r&&r.va)return yt().add(r.key);{let i=yt();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function rk(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c6.bind(null,e),e.Ca.d_=X4.bind(null,e.eventManager),e.Ca.$a=J4.bind(null,e.eventManager),e}function m6(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d6.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _4(this.persistence,new x4,e.initialUser,this.serializer)}Ga(e){return new g4(Px.Zr,this.serializer)}Wa(e){return new k4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class Pv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h6.bind(null,this.syncEngine),await G4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y4}()}createDatastore(e){const n=Dp(e.databaseInfo.databaseId),r=function(o){return new j4(o)}(e.databaseInfo);return function(o,s,a,c){return new M4(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new D4(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qw(this.syncEngine,n,0),function(){return Vw.D()?new Vw:new R4}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,f){const h=new n6(i,o,s,a,c,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=nt(i);De("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Gu(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pv.provider={build:()=>new Pv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gn.UNAUTHENTICATED,this.clientId=yx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{De("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(De("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $g(t,e){t.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await z2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y6(t);De("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Bw(e.remoteStore,i)),t._onlineComponents=e}async function y6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{await $g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qs("Error using user provided cache. Falling back to memory cache: "+n),await $g(t,new Ch)}}else De("FirestoreClient","Using default OfflineComponentProvider"),await $g(t,new Ch);return t._offlineComponents}async function ik(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),await Gw(t,t._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),await Gw(t,new Pv))),t._onlineComponents}function v6(t){return ik(t).then(e=>e.syncEngine)}async function Th(t){const e=await ik(t),n=e.eventManager;return n.onListen=r6.bind(null,e.syncEngine),n.onUnlisten=s6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a6.bind(null,e.syncEngine),n}function x6(t,e,n={}){const r=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,c,u){const f=new Wx({next:m=>{f.Za(),s.enqueueAndForget(()=>Fx(o,h));const E=m.docs.has(a);!E&&m.fromCache?u.reject(new Ae(le.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&c&&c.source==="server"?u.reject(new Ae(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new Vx(Ap(a.path),f,{includeMetadataChanges:!0,_a:!0});return $x(o,h)}(await Th(t),t.asyncQueue,e,n,r)),r.promise}function b6(t,e,n={}){const r=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,c,u){const f=new Wx({next:m=>{f.Za(),s.enqueueAndForget(()=>Fx(o,h)),m.fromCache&&c.source==="server"?u.reject(new Ae(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new Vx(a,f,{includeMetadataChanges:!0,_a:!0});return $x(o,h)}(await Th(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e,n){if(!n)throw new Ae(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ak(t,e,n,r){if(e===!0&&r===!0)throw new Ae(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yw(t){if(!He.isDocumentKey(t))throw new Ae(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xw(t){if(He.isDocumentKey(t))throw new Ae(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze()}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zp(t);throw new Ae(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ak("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ok((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a2;switch(r.type){case"firstParty":return new B5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qw.get(n);r&&(De("ComponentProvider","Removing Datastore"),Qw.delete(n),r.terminate())}(this),Promise.resolve()}}function lk(t,e,n,r={}){var i;const o=(t=ir(t,Vp))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Gn.MOCK_USER;else{a=GI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ae(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gn(u)}t._authCredentials=new F5(new s2(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class co extends To{constructor(e,n,r){super(e,n,Ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new He(e))}withConverter(e){return new co(this.firestore,e,this._path)}}function Ve(t,e,...n){if(t=yn(t),sk("collection","path",e),t instanceof Vp){const r=Ft.fromString(e,...n);return Xw(r),new co(t,null,r)}{if(!(t instanceof $n||t instanceof co))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return Xw(r),new co(t.firestore,null,r)}}function $e(t,e,...n){if(t=yn(t),arguments.length===1&&(e=yx.newId()),sk("doc","path",e),t instanceof Vp){const r=Ft.fromString(e,...n);return Yw(r),new $n(t,null,new He(r))}{if(!(t instanceof $n||t instanceof co))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return Yw(r),new $n(t.firestore,t instanceof co?t.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new B2(this,"async_queue_retry"),this.Vu=()=>{const r=Dg();r&&De("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new lo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hu(e))throw e;De("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw vo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Lx.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function eS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Fi extends Vp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zw(e),this._firestoreClient=void 0,await e}}}function ck(t,e){const n=typeof t=="object"?t:mx(),r=typeof t=="string"?t:"(default)",i=Rp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=HI("firestore");o&&lk(i,...o)}return i}function Yu(t){if(t._terminated)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_6(t),t._firestoreClient}function _6(t){var e,n,r;const i=t._freezeSettings(),o=function(a,c,u,f){return new tD(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ok(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new g6(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(kn.fromBase64String(e))}catch(n){throw new Ae(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=/^__.*__$/;class S6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class uk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class Ux{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ux(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ih(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(dk(this.Cu)&&w6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class E6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dp(e)}Qu(e,n,r,i=!1){return new Ux({Cu:e,methodName:n,qu:r,path:Tn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(t){const e=t._freezeSettings(),n=Dp(t._databaseId);return new E6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fk(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);qx("Data must be an object, but it was:",s,r);const a=hk(r,s);let c,u;if(o.merge)c=new Er(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const m=Av(e,h,n);if(!s.contains(m))throw new Ae(le.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mk(f,m)||f.push(m)}c=new Er(f),u=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=s.fieldTransforms;return new S6(new dr(a),c,u)}class Hp extends Ju{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hp}}class Hx extends Ju{_toFieldTransform(e){return new TD(e.path,new vu)}isEqual(e){return e instanceof Hx}}function C6(t,e,n,r){const i=t.Qu(1,e,n);qx("Data must be an object, but it was:",i,r);const o=[],s=dr.empty();ia(r,(c,u)=>{const f=Kx(e,c,n);u=yn(u);const h=i.Nu(f);if(u instanceof Hp)o.push(f);else{const m=Zu(u,h);m!=null&&(o.push(f),s.set(f,m))}});const a=new Er(o);return new uk(s,a,i.fieldTransforms)}function T6(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[Av(e,r,n)],c=[i];if(o.length%2!=0)throw new Ae(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Av(e,o[m])),c.push(o[m+1]);const u=[],f=dr.empty();for(let m=a.length-1;m>=0;--m)if(!mk(u,a[m])){const E=a[m];let C=c[m];C=yn(C);const _=s.Nu(E);if(C instanceof Hp)u.push(E);else{const k=Zu(C,_);k!=null&&(u.push(E),f.set(E,k))}}const h=new Er(u);return new uk(f,h,s.fieldTransforms)}function I6(t,e,n,r=!1){return Zu(n,t.Qu(r?4:3,e))}function Zu(t,e){if(pk(t=yn(t)))return qx("Unsupported field value:",e,t),hk(t,e);if(t instanceof Ju)return function(r,i){if(!dk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Zu(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=gn.fromDate(r);return{timestampValue:Sh(i.serializer,o)}}if(r instanceof gn){const o=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(i.serializer,o)}}if(r instanceof Bp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qs)return{bytesValue:O2(i.serializer,r._byteString)};if(r instanceof $n){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wp)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ex(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${zp(r)}`)}(t,e)}function hk(t,e){const n={};return l2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,(r,i)=>{const o=Zu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function pk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gn||t instanceof Bp||t instanceof Qs||t instanceof $n||t instanceof Ju||t instanceof Wp)}function qx(t,e,n){if(!pk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Av(t,e,n){if((e=yn(e))instanceof Xu)return e._internalPath;if(typeof e=="string")return Kx(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const k6=new RegExp("[~\\*/\\[\\]]");function Kx(t,e,n){if(e.search(k6)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xu(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ae(le.INVALID_ARGUMENT,a+t+c)}function mk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R6 extends gk{data(){return super.data()}}function qp(t,e){return typeof e=="string"?Kx(t,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gx{}class Qx extends Gx{}function Rr(t,e,...n){let r=[];e instanceof Gx&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Kp).length,a=o.filter(c=>c instanceof ed).length;if(s>1||s>0&&a>0)throw new Ae(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ed extends Qx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ed(e,n,r)}_apply(e){const n=this._parse(e);return xk(e._query,n),new To(e.firestore,e.converter,_v(e._query,n))}_parse(e){const n=Up(e.firestore);return function(o,s,a,c,u,f,h){let m;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){nS(h,f);const E=[];for(const C of h)E.push(tS(c,o,C));m={arrayValue:{values:E}}}else m=tS(c,o,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||nS(h,f),m=I6(a,s,h,f==="in"||f==="not-in");return mn.create(u,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pr(t,e,n){const r=e,i=qp("where",t);return ed._create(i,r,n)}class Kp extends Gx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)xk(s,c),s=_v(s,c)}(e._query,n),new To(e.firestore,e.converter,_v(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends Qx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gp(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(o,s)}(e._query,this._field,this._direction);return new To(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new jl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function vk(t,e="asc"){const n=e,r=qp("orderBy",t);return Gp._create(r,n)}function tS(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new Ae(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y2(e)&&n.indexOf("/")!==-1)throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ft.fromString(n));if(!He.isDocumentKey(r))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ww(t,new He(r))}if(n instanceof $n)return ww(t,n._key);throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zp(n)}.`)}function nS(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xk(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ae(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bk{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ia(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>on(s.doubleValue));return new Wp(o)}convertGeoPoint(e){return new Bp(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ft.fromString(e);kt(F2(r));const i=new cl(r.get(1),r.get(3)),o=new He(r.popFirst(5));return i.isEqual(n)||vo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yx extends gk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zc extends Yx{data(e={}){return super.data(e)}}class Xx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zc(this._firestore,this._userDataWriter,r.key,r,new Ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const c=new zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const c=new zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:P6(a.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function P6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){t=ir(t,$n);const e=ir(t.firestore,Fi);return x6(Yu(e),t._key).then(n=>wk(e,t,n))}class Jx extends bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function Gt(t){t=ir(t,To);const e=ir(t.firestore,Fi),n=Yu(e),r=new Jx(e);return yk(t._query),b6(n,t._query).then(i=>new Xx(e,r,t,i))}function Jr(t,e,n){t=ir(t,$n);const r=ir(t.firestore,Fi),i=_k(t.converter,e,n);return td(r,[fk(Up(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kr.none())])}function an(t,e,n,...r){t=ir(t,$n);const i=ir(t.firestore,Fi),o=Up(i);let s;return s=typeof(e=yn(e))=="string"||e instanceof Xu?T6(o,"updateDoc",t._key,e,n,r):C6(o,"updateDoc",t._key,e),td(i,[s.toMutation(t._key,Kr.exists(!0))])}function Gr(t){return td(ir(t.firestore,Fi),[new Cx(t._key,Kr.none())])}function bo(t,e){const n=ir(t.firestore,Fi),r=$e(t),i=_k(t.converter,e);return td(n,[fk(Up(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function At(t,...e){var n,r,i;t=yn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||eS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eS(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,f;if(t instanceof $n)u=ir(t.firestore,Fi),f=Ap(t._key.path),c={next:h=>{e[s]&&e[s](wk(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=ir(t,To);u=ir(h.firestore,Fi),f=h._query;const m=new Jx(u);c={next:E=>{e[s]&&e[s](new Xx(u,m,h,E))},error:e[s+1],complete:e[s+2]},yk(t._query)}return function(m,E,C,_){const k=new Wx(_),S=new Vx(E,k,C);return m.asyncQueue.enqueueAndForget(async()=>$x(await Th(m),S)),()=>{k.Za(),m.asyncQueue.enqueueAndForget(async()=>Fx(await Th(m),S))}}(Yu(u),f,a,c)}function td(t,e){return function(r,i){const o=new lo;return r.asyncQueue.enqueueAndForget(async()=>l6(await v6(r),i,o)),o.promise}(Yu(t),e)}function wk(t,e,n){const r=n.docs.get(e._key),i=new Jx(t);return new Yx(t,i,e._key,r,new Ma(n.hasPendingWrites,n.fromCache),e.converter)}function jv(){return new Hx("serverTimestamp")}(function(e,n=!0){(function(i){Al=i})(ra),Us(new is("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Fi(new z5(r.getProvider("auth-internal")),new U5(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ae(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(u.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ai(yw,"4.7.3",e),Ai(yw,"4.7.3","esm2017")})();const Zx=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:bk,Bytes:Qs,CollectionReference:co,DocumentReference:$n,DocumentSnapshot:Yx,FieldPath:Xu,FieldValue:Ju,Firestore:Fi,FirestoreError:Ae,GeoPoint:Bp,Query:To,QueryCompositeFilterConstraint:Kp,QueryConstraint:Qx,QueryDocumentSnapshot:zc,QueryFieldFilterConstraint:ed,QueryOrderByConstraint:Gp,QuerySnapshot:Xx,SnapshotMetadata:Ma,Timestamp:gn,VectorValue:Wp,_AutoId:yx,_ByteString:kn,_DatabaseId:cl,_DocumentKey:He,_EmptyAuthCredentialsProvider:a2,_FieldPath:Tn,_cast:ir,_logWarn:qs,_validateIsNotUsedTogether:ak,addDoc:bo,collection:Ve,connectFirestoreEmulator:lk,deleteDoc:Gr,doc:$e,ensureFirestoreConfigured:Yu,executeWrite:td,getDoc:_n,getDocs:Gt,getFirestore:ck,onSnapshot:At,orderBy:vk,query:Rr,serverTimestamp:jv,setDoc:Jr,updateDoc:an,where:Pr},Symbol.toStringTag,{value:"Module"}));function eb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ek=Sk,Ck=new Bu("auth","Firebase",Sk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new hx("@firebase/auth");function A6(t,...e){kh.logLevel<=vt.WARN&&kh.warn(`Auth (${ra}): ${t}`,...e)}function jf(t,...e){kh.logLevel<=vt.ERROR&&kh.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,...e){throw tb(t,...e)}function Ni(t,...e){return tb(t,...e)}function Tk(t,e,n){const r=Object.assign(Object.assign({},Ek()),{[e]:n});return new Bu("auth","Firebase",r).create(e,{appName:t.name})}function uo(t){return Tk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ck.create(t,...e)}function Ye(t,e,...n){if(!t)throw tb(e,...n)}function io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function _o(t,e){t||io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j6(){return rS()==="http:"||rS()==="https:"}function rS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j6()||yL()||"connection"in navigator)?navigator.onLine:!0}function N6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,_o(n>e,"Short delay should be less than long delay!"),this.isMobile=pL()||vL()}get(){return O6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e){_o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new nd(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ys(t,e,n,r,i={}){return kk(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Wu(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return gL()||(u.referrerPolicy="no-referrer"),Ik.fetch()(Rk(t,t.config.apiHost,n,a),u)})}async function kk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},M6),e);try{const i=new $6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw tf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw tf(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw tf(t,"user-disabled",s);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Tk(t,f,u);xi(t,f)}}catch(i){if(i instanceof Wi)throw i;xi(t,"network-request-failed",{message:String(i)})}}async function rd(t,e,n,r,i={}){const o=await ys(t,e,n,r,i);return"mfaPendingCredential"in o&&xi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Rk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?nb(t.config,i):`${t.config.apiScheme}://${i}`}function D6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),L6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ni(t,e,r);return i.customData._tokenResponse=n,i}function iS(t){return t!==void 0&&t.enterprise!==void 0}class F6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function z6(t,e){return ys(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return ys(t,"POST","/v1/accounts:delete",e)}async function Pk(t,e){return ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ak(t,e=!1){const n=yn(t),r=await n.getIdToken(e),i=rb(r);Ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vc(Fg(i.auth_time)),issuedAtTime:Vc(Fg(i.iat)),expirationTime:Vc(Fg(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function rb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const i=WI(n);return i?JSON.parse(i):(jf("Failed to decode base64 JWT payload"),null)}catch(i){return jf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oS(t){const e=rb(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wi&&B6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _u(t,Pk(n,{idToken:r}));Ye(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ok(o.providerUserInfo):[],a=U6(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=c?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Nv(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function jk(t){const e=yn(t);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ok(t){return t.map(e=>{var{providerId:n}=e,r=eb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){const n=await kk(t,{},async()=>{const r=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Rk(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ik.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q6(t,e){return ys(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const n=oS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await H6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new qa;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=eb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ak(this,e)}reload(){return jk(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(uo(this.auth));const e=await this.getIdToken();return await _u(this,V6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:v,emailVerified:I,isAnonymous:M,providerData:N,stsTokenManager:T}=n;Ye(v&&T,e,"internal-error");const p=qa.fromJSON(this.name,T);Ye(typeof v=="string",e,"internal-error"),jo(h,e.name),jo(m,e.name),Ye(typeof I=="boolean",e,"internal-error"),Ye(typeof M=="boolean",e,"internal-error"),jo(E,e.name),jo(C,e.name),jo(_,e.name),jo(k,e.name),jo(S,e.name),jo(g,e.name);const y=new oo({uid:v,auth:e,email:m,emailVerified:I,displayName:h,isAnonymous:M,photoURL:C,phoneNumber:E,tenantId:_,stsTokenManager:p,createdAt:S,lastLoginAt:g});return N&&Array.isArray(N)&&(y.providerData=N.map(x=>Object.assign({},x))),k&&(y._redirectEventId=k),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new qa;i.updateFromServerResponse(n);const o=new oo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Ok(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new qa;a.updateFromIdToken(r);const c=new oo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Map;function so(t){_o(t instanceof Function,"Expected a class definition");let e=sS.get(t);return e?(_o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nk.type="NONE";const Mv=Nk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Of(this.userKey,i.apiKey,o),this.fullPersistenceKey=Of("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ka(so(Mv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||so(Mv);const s=Of(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(s);if(f){const h=oo._fromJSON(e,f);u!==o&&(a=h),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Ka(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ka(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($k(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zk(e))return"Blackberry";if(Vk(e))return"Webos";if(Lk(e))return"Safari";if((e.includes("chrome/")||Dk(e))&&!e.includes("edge/"))return"Chrome";if(Fk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mk(t=Zn()){return/firefox\//i.test(t)}function Lk(t=Zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dk(t=Zn()){return/crios\//i.test(t)}function $k(t=Zn()){return/iemobile/i.test(t)}function Fk(t=Zn()){return/android/i.test(t)}function zk(t=Zn()){return/blackberry/i.test(t)}function Vk(t=Zn()){return/webos/i.test(t)}function ib(t=Zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K6(t=Zn()){var e;return ib(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G6(){return xL()&&document.documentMode===10}function Bk(t=Zn()){return ib(t)||Fk(t)||Vk(t)||zk(t)||/windows phone/i.test(t)||$k(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e=[]){let n;switch(t){case"Browser":n=aS(Zn());break;case"Worker":n=`${aS(Zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e={}){return ys(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=6;class J6{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:X6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lS(this),this.idTokenSubscription=new lS(this),this.beforeStateQueue=new Q6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=so(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pk(this,{idToken:e}),r=await oo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ii(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(uo(this));const n=e?yn(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(so(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y6(this),n=new J6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&so(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[so(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(t){return yn(t)}class lS{constructor(e){this.auth=e,this.observer=null,this.addObserver=IL(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e3(t){Qp=t}function Uk(t){return Qp.loadJS(t)}function t3(){return Qp.recaptchaEnterpriseScript}function n3(){return Qp.gapiScript}function r3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const i3="recaptcha-enterprise",o3="NO_RECAPTCHA";class s3{constructor(e){this.type=i3,this.auth=sa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{z6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new F6(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})})}function i(o,s,a){const c=window.grecaptcha;iS(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(o3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&iS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=t3();c.length!==0&&(c+=a),Uk(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function cS(t,e,n,r=!1){const i=new s3(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Lv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await cS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){const n=Rp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(vh(o,e??{}))return i;xi(i,"already-initialized")}return n.initialize({options:e})}function a3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(so);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qk(t,e,n){const r=sa(t);Ye(r._canInitEmulator,r,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Kk(e),{host:s,port:a}=l3(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),c3()}function Kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l3(t){const e=Kk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:uS(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:uS(s)}}}function uS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,n){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}async function u3(t,e){return ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return rd(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function h3(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Yp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,n,"signInWithPassword",d3);case"emailLink":return f3(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,r,"signUpPassword",u3);case"emailLink":return h3(e,{idToken:n,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e){return rd(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="http://localhost";class ls extends Yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=eb(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ls(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ga(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ga(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ga(e,n)}buildRequest(){const e={requestUri:p3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g3(t){const e=bc(_c(t)).link,n=e?bc(_c(e)).deep_link_id:null,r=bc(_c(t)).deep_link_id;return(r?bc(_c(r)).link:null)||r||n||e||t}class Xp{constructor(e){var n,r,i,o,s,a;const c=bc(_c(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=m3((i=c.mode)!==null&&i!==void 0?i:null);Ye(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=g3(e);try{return new Xp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.providerId=aa.PROVIDER_ID}static credential(e,n){return pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xp.parseLink(n);return Ye(r,"argument-error"),pl._fromEmailAndCode(e,r.code,r.tenantId)}}aa.PROVIDER_ID="password";aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends Gk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends id{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends id{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends id{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e){return rd(t,"POST","/v1/accounts:signUp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await oo._fromIdTokenResponse(e,r,i),s=dS(r);return new Ys({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dS(r);return new Ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Wi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ph(e,n,r,i)}}function Qk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,o,e,r):o})}async function v3(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e,n=!1){const{auth:r}=t;if(Ii(r.app))return Promise.reject(uo(r));const i="reauthenticate";try{const o=await _u(t,Qk(r,i,e,t),n);Ye(o.idToken,r,"internal-error");const s=rb(o.idToken);Ye(s,r,"internal-error");const{sub:a}=s;return Ye(t.uid===a,r,"user-mismatch"),Ys._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e,n=!1){if(Ii(t.app))return Promise.reject(uo(t));const r="signIn",i=await Qk(t,r,e),o=await Ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Xk(t,e){return Yk(sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t){const e=sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cc(t,e,n){if(Ii(t.app))return Promise.reject(uo(t));const r=sa(t),s=await Lv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Jk(t),c}),a=await Ys._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Zk(t,e,n){return Ii(t.app)?Promise.reject(uo(t)):Xk(yn(t),aa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jk(t),r})}function eR(t,e,n,r){return yn(t).onIdTokenChanged(e,n,r)}function tR(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function Ui(t,e,n,r){return yn(t).onAuthStateChanged(e,n,r)}function nR(t){return yn(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=1e3,_3=10;class iR extends rR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);G6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iR.type="LOCAL";const oR=iR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends rR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sR.type="SESSION";const ob=sR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),c=await w3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{const u=sb("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function E3(t){Mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function C3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I3(){return aR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firebaseLocalStorageDb",k3=1,jh="firebaseLocalStorage",cR="fbase_key";class od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zp(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function R3(){const t=indexedDB.deleteDatabase(lR);return new od(t).toPromise()}function Dv(){const t=indexedDB.open(lR,k3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jh,{keyPath:cR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await R3(),e(await Dv()))})})}async function fS(t,e,n){const r=Zp(t,!0).put({[cR]:e,value:n});return new od(r).toPromise()}async function P3(t,e){const n=Zp(t,!1).get(e),r=await new od(n).toPromise();return r===void 0?null:r.value}function hS(t,e){const n=Zp(t,!0).delete(e);return new od(n).toPromise()}const A3=800,j3=3;class uR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(I3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await C3(),!this.activeServiceWorker)return;this.sender=new S3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dv();return await fS(e,Ah,"1"),await hS(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Zp(i,!1).getAll();return new od(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uR.type="LOCAL";const dR=uR;new nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){return e?so(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends Yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N3(t){return Yk(t.auth,new ab(t),t.bypassAuthState)}function M3(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),x3(n,new ab(t),t.bypassAuthState)}async function L3(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),v3(n,new ab(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N3;case"linkViaPopup":case"linkViaRedirect":return L3;case"reauthViaPopup":case"reauthViaRedirect":return M3;default:xi(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new nd(2e3,1e4);class La extends fR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){_o(this.filter.length===1,"Popup operations only handle one event");const e=sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D3.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="pendingRedirect",Nf=new Map;class F3 extends fR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nf.get(this.auth._key());if(!e){try{const r=await z3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z3(t,e){const n=W3(e),r=B3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V3(t,e){Nf.set(t._key(),e)}function B3(t){return so(t._redirectPersistence)}function W3(t){return Of($3,t.config.apiKey,t.name)}async function U3(t,e,n=!1){if(Ii(t.app))return Promise.reject(uo(t));const r=sa(t),i=O3(r,e),s=await new F3(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=10*60*1e3;class q3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H3&&this.cachedEventUids.clear(),this.cachedEventUids.has(pS(e))}saveEventToCache(e){this.cachedEventUids.add(pS(e)),this.lastProcessedEventTime=Date.now()}}function pS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e={}){return ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y3=/^https?/;async function X3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G3(t);for(const n of e)try{if(J3(n))return}catch{}xi(t,"unauthorized-domain")}function J3(t){const e=Ov(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Y3.test(n))return!1;if(Q3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new nd(3e4,6e4);function mS(){const t=Mi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e$(t){return new Promise((e,n)=>{var r,i,o;function s(){mS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mS(),n(Ni(t,"network-request-failed"))},timeout:Z3.get()})}if(!((i=(r=Mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mi().gapi)===null||o===void 0)&&o.load)s();else{const a=r3("iframefcb");return Mi()[a]=()=>{gapi.load?s():n(Ni(t,"network-request-failed"))},Uk(`${n3()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function t$(t){return Mf=Mf||e$(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=new nd(5e3,15e3),r$="__/auth/iframe",i$="emulator/auth/iframe",o$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a$(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nb(e,i$):`https://${t.config.authDomain}/${r$}`,r={apiKey:e.apiKey,appName:t.name,v:ra},i=s$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wu(r).slice(1)}`}async function l$(t){const e=await t$(t),n=Mi().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:a$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ni(t,"network-request-failed"),a=Mi().setTimeout(()=>{o(s)},n$.get());function c(){Mi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u$=500,d$=600,f$="_blank",h$="http://localhost";class gS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p$(t,e,n,r=u$,i=d$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},c$),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Zn().toLowerCase();n&&(a=Dk(u)?f$:n),Mk(u)&&(e=e||h$,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[E,C])=>`${m}${E}=${C},`,"");if(K6(u)&&a!=="_self")return m$(e||"",a),new gS(null);const h=window.open(e||"",a,f);Ye(h,t,"popup-blocked");try{h.focus()}catch{}return new gS(h)}function m$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$="__/auth/handler",y$="emulator/auth/handler",v$=encodeURIComponent("fac");async function yS(t,e,n,r,i,o){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(e instanceof Gk){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",TL(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))s[f]=h}if(e instanceof id){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${v$}=${encodeURIComponent(c)}`:"";return`${x$(t)}?${Wu(a).slice(1)}${u}`}function x$({config:t}){return t.emulator?nb(t,y$):`https://${t.authDomain}/${g$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="webStorageSupport";class b${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ob,this._completeRedirectFn=U3,this._overrideRedirectResult=V3}async _openPopup(e,n,r,i){var o;_o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await yS(e,n,r,Ov(),i);return p$(e,s,sb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yS(e,n,r,Ov(),i);return E3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_o(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l$(e),r=new q3(e);return n.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zg,{type:zg},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[zg];s!==void 0&&n(!!s),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bk()||Lk()||ib()}}const pR=b$;var vS="@firebase/auth",xS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S$(t){Us(new is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wk(t)},u=new Z6(r,i,o,c);return a3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new is("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(r=>new _$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(vS,xS,w$(t)),Ai(vS,xS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=5*60,C$=KI("authIdTokenMaxAge")||E$;let bS=null;const T$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C$)return;const i=n==null?void 0:n.token;bS!==i&&(bS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Nr(t=mx()){const e=Rp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hk(t,{popupRedirectResolver:pR,persistence:[dR,oR,ob]}),r=KI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=T$(o.toString());tR(n,s,()=>s(n.currentUser)),eR(n,a=>s(a))}}const i=UI("auth");return i&&qk(n,`http://${i}`),n}function I$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}e3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ni("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",I$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S$("Browser");const mR=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Xp,AuthCredential:Yp,EmailAuthCredential:pl,EmailAuthProvider:aa,FacebookAuthProvider:Xi,GithubAuthProvider:Zi,GoogleAuthProvider:Ji,OAuthCredential:ls,TwitterAuthProvider:eo,beforeAuthStateChanged:tR,browserLocalPersistence:oR,browserPopupRedirectResolver:pR,browserSessionPersistence:ob,connectAuthEmulator:qk,createUserWithEmailAndPassword:Cc,getAuth:Nr,getIdTokenResult:Ak,inMemoryPersistence:Mv,indexedDBLocalPersistence:dR,initializeAuth:Hk,onAuthStateChanged:Ui,onIdTokenChanged:eR,prodErrorMap:Ek,reload:jk,signInWithCredential:Xk,signInWithEmailAndPassword:Zk,signOut:nR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebasestorage.googleapis.com",k$="storageBucket",R$=2*60*1e3,P$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Wi{constructor(e,n,r=0){super(Vg(e),`Firebase Storage: ${n} (${Vg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zi||(zi={}));function Vg(t){return"storage/"+t}function A$(){const t="An unknown error occurred, please check the error payload for server response.";return new Hi(zi.UNKNOWN,t)}function j$(){return new Hi(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function O$(){return new Hi(zi.CANCELED,"User canceled the upload/download.")}function N$(t){return new Hi(zi.INVALID_URL,"Invalid URL '"+t+"'.")}function M$(t){return new Hi(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _S(t){return new Hi(zi.INVALID_ARGUMENT,t)}function yR(){return new Hi(zi.APP_DELETED,"The Firebase app was deleted.")}function L$(t){return new Hi(zi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hi.makeFromUrl(e,n)}catch{return new hi(e,"")}if(r.path==="")return r;throw M$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",E=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},_=n===gR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",S=new RegExp(`^https?://${_}/${i}/${k}`,"i"),v=[{regex:a,indices:c,postModify:o},{regex:E,indices:C,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<v.length;I++){const M=v[I],N=M.regex.exec(e);if(N){const T=N[M.indices.bucket];let p=N[M.indices.path];p||(p=""),r=new hi(T,p),M.postModify(r);break}}if(r==null)throw N$(e);return r}}class D${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function f(...k){u||(u=!0,e.apply(null,k))}function h(k){i=setTimeout(()=>{i=null,t(E,c())},k)}function m(){o&&clearTimeout(o)}function E(k,...S){if(u){m();return}if(k){m(),f.call(null,k,...S);return}if(c()||s){m(),f.call(null,k,...S);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let C=!1;function _(k){C||(C=!0,m(),!u&&(i!==null?(k||(a=2),clearTimeout(i),h(0)):k||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function F$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){return t!==void 0}function wS(t,e,n,r){if(r<e)throw _S(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _S(`Invalid value for '${t}'. Expected ${n} or less.`)}function V$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oh||(Oh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,i,o,s,a,c,u,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,C)=>{this.resolve_=E,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new nf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Oh.NO_ERROR,c=o.getStatus();if(!a||B$(c,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===Oh.ABORT;r(!1,new nf(!1,null,f));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new nf(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());z$(c)?o(c):o()}catch(c){s(c)}else if(a!==null){const c=A$();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){const c=this.appDelete_?yR():O$();s(c)}else{const c=j$();s(c)}};this.canceled_?n(!1,new nf(!1,null,!0)):this.backoffId_=$$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function U$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function H$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function K$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function G$(t,e,n,r,i,o,s=!0){const a=V$(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return q$(u,e),U$(u,n),H$(u,o),K$(u,r),new W$(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this._service=e,n instanceof hi?this._location=n:this._location=hi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nh(e,n)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y$(this._location.path)}get storage(){return this._service}get parent(){const e=Q$(this._location.path);if(e===null)return null;const n=new hi(this._location.bucket,e);return new Nh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw L$(e)}}function SS(t,e){const n=e==null?void 0:e[k$];return n==null?null:hi.makeFromBucketSpec(n,t)}function X$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:GI(i,t.app.options.projectId))}class J${constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=gR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R$,this._maxUploadRetryTime=P$,this._requests=new Set,i!=null?this._bucket=hi.makeFromBucketSpec(i,this._host):this._bucket=SS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=SS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nh(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new D$(yR());{const s=G$(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ES="@firebase/storage",CS="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="storage";function Z$(t=mx(),e){t=yn(t);const r=Rp(t,vR).getImmediate({identifier:e}),i=HI("storage");return i&&e8(r,...i),r}function e8(t,e,n,r={}){X$(t,e,n,r)}function t8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new J$(n,r,i,e,ra)}function n8(){Us(new is(vR,t8,"PUBLIC").setMultipleInstances(!0)),Ai(ES,CS,""),Ai(ES,CS,"esm2017")}n8();const r8={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},em=XI(r8),oe=ck(em),Ts=Nr(em);Z$(em);const i8=Object.freeze(Object.defineProperty({__proto__:null,app:em,auth:Ts,db:oe},Symbol.toStringTag,{value:"Module"}));function o8(t,e,n,r){const i=f=>f*Math.PI/180,s=i(n-t),a=i(r-e),c=Math.sin(s/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function s8(){const[t,e]=b.useState([]),[n,r]=b.useState(null),[i,o]=b.useState(""),s=xr();b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(u=>r({lat:u.coords.latitude,lng:u.coords.longitude}),()=>r(null))},[]),b.useEffect(()=>{async function u(){const h=(await Gt(Ve(oe,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}u()},[]);const c=t.map(u=>{let f=1/0;return n&&u.location&&u.location.latitude&&u.location.longitude&&(f=o8(n.lat,n.lng,u.location.latitude,u.location.longitude)),{...u,distance:f}}).sort((u,f)=>u.distance-f.distance).filter(u=>{var f;return(f=u.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:u=>o(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:c.map(u=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:u.slug?"pointer":"not-allowed",opacity:u.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>u.slug&&s(`/store/${u.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:u.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:u.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),u.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:u.distance<1?" Very close":`~${u.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",u.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!u.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},u.id))}),c.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}const wu={black:"#000",white:"#fff"},fa={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ha={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},pa={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ma={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ga={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},sc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},a8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Xs(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const l8=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"})),ml="$$material";function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(null,arguments)}function je(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function c8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function u8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var d8=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(u8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=c8(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),qn="-ms-",Mh="-moz-",Et="-webkit-",xR="comm",lb="rule",cb="decl",f8="@import",bR="@keyframes",h8="@layer",p8=Math.abs,tm=String.fromCharCode,m8=Object.assign;function g8(t,e){return Mn(t,0)^45?(((e<<2^Mn(t,0))<<2^Mn(t,1))<<2^Mn(t,2))<<2^Mn(t,3):0}function _R(t){return t.trim()}function y8(t,e){return(t=e.exec(t))?t[0]:t}function Ct(t,e,n){return t.replace(e,n)}function $v(t,e){return t.indexOf(e)}function Mn(t,e){return t.charCodeAt(e)|0}function Su(t,e,n){return t.slice(e,n)}function Ei(t){return t.length}function ub(t){return t.length}function rf(t,e){return e.push(t),t}function v8(t,e){return t.map(e).join("")}var nm=1,gl=1,wR=0,vr=0,hn=0,Ml="";function rm(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:nm,column:gl,length:s,return:""}}function ac(t,e){return m8(rm("",null,null,"",null,null,0),t,{length:-t.length},e)}function x8(){return hn}function b8(){return hn=vr>0?Mn(Ml,--vr):0,gl--,hn===10&&(gl=1,nm--),hn}function Tr(){return hn=vr<wR?Mn(Ml,vr++):0,gl++,hn===10&&(gl=1,nm++),hn}function Li(){return Mn(Ml,vr)}function Lf(){return vr}function sd(t,e){return Su(Ml,t,e)}function Eu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SR(t){return nm=gl=1,wR=Ei(Ml=t),vr=0,[]}function ER(t){return Ml="",t}function Df(t){return _R(sd(vr-1,Fv(t===91?t+2:t===40?t+1:t)))}function _8(t){for(;(hn=Li())&&hn<33;)Tr();return Eu(t)>2||Eu(hn)>3?"":" "}function w8(t,e){for(;--e&&Tr()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return sd(t,Lf()+(e<6&&Li()==32&&Tr()==32))}function Fv(t){for(;Tr();)switch(hn){case t:return vr;case 34:case 39:t!==34&&t!==39&&Fv(hn);break;case 40:t===41&&Fv(t);break;case 92:Tr();break}return vr}function S8(t,e){for(;Tr()&&t+hn!==57;)if(t+hn===84&&Li()===47)break;return"/*"+sd(e,vr-1)+"*"+tm(t===47?t:Tr())}function E8(t){for(;!Eu(Li());)Tr();return sd(t,vr)}function C8(t){return ER($f("",null,null,null,[""],t=SR(t),0,[0],t))}function $f(t,e,n,r,i,o,s,a,c){for(var u=0,f=0,h=s,m=0,E=0,C=0,_=1,k=1,S=1,g=0,v="",I=i,M=o,N=r,T=v;k;)switch(C=g,g=Tr()){case 40:if(C!=108&&Mn(T,h-1)==58){$v(T+=Ct(Df(g),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:T+=Df(g);break;case 9:case 10:case 13:case 32:T+=_8(C);break;case 92:T+=w8(Lf()-1,7);continue;case 47:switch(Li()){case 42:case 47:rf(T8(S8(Tr(),Lf()),e,n),c);break;default:T+="/"}break;case 123*_:a[u++]=Ei(T)*S;case 125*_:case 59:case 0:switch(g){case 0:case 125:k=0;case 59+f:S==-1&&(T=Ct(T,/\f/g,"")),E>0&&Ei(T)-h&&rf(E>32?IS(T+";",r,n,h-1):IS(Ct(T," ","")+";",r,n,h-2),c);break;case 59:T+=";";default:if(rf(N=TS(T,e,n,u,f,i,a,v,I=[],M=[],h),o),g===123)if(f===0)$f(T,e,N,N,I,o,h,a,M);else switch(m===99&&Mn(T,3)===110?100:m){case 100:case 108:case 109:case 115:$f(t,N,N,r&&rf(TS(t,N,N,0,0,i,a,v,i,I=[],h),M),i,M,h,a,r?I:M);break;default:$f(T,N,N,N,[""],M,0,a,M)}}u=f=E=0,_=S=1,v=T="",h=s;break;case 58:h=1+Ei(T),E=C;default:if(_<1){if(g==123)--_;else if(g==125&&_++==0&&b8()==125)continue}switch(T+=tm(g),g*_){case 38:S=f>0?1:(T+="\f",-1);break;case 44:a[u++]=(Ei(T)-1)*S,S=1;break;case 64:Li()===45&&(T+=Df(Tr())),m=Li(),f=h=Ei(v=T+=E8(Lf())),g++;break;case 45:C===45&&Ei(T)==2&&(_=0)}}return o}function TS(t,e,n,r,i,o,s,a,c,u,f){for(var h=i-1,m=i===0?o:[""],E=ub(m),C=0,_=0,k=0;C<r;++C)for(var S=0,g=Su(t,h+1,h=p8(_=s[C])),v=t;S<E;++S)(v=_R(_>0?m[S]+" "+g:Ct(g,/&\f/g,m[S])))&&(c[k++]=v);return rm(t,e,n,i===0?lb:a,c,u,f)}function T8(t,e,n){return rm(t,e,n,xR,tm(x8()),Su(t,2,-2),0)}function IS(t,e,n,r){return rm(t,e,n,cb,Su(t,0,r),Su(t,r+1,-1),r)}function Qa(t,e){for(var n="",r=ub(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function I8(t,e,n,r){switch(t.type){case h8:if(t.children.length)break;case f8:case cb:return t.return=t.return||t.value;case xR:return"";case bR:return t.return=t.value+"{"+Qa(t.children,r)+"}";case lb:t.value=t.props.join(",")}return Ei(n=Qa(t.children,r))?t.return=t.value+"{"+n+"}":""}function k8(t){var e=ub(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function R8(t){return function(e){e.root||(e=e.return)&&t(e)}}function CR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var P8=function(e,n,r){for(var i=0,o=0;i=o,o=Li(),i===38&&o===12&&(n[r]=1),!Eu(o);)Tr();return sd(e,vr)},A8=function(e,n){var r=-1,i=44;do switch(Eu(i)){case 0:i===38&&Li()===12&&(n[r]=1),e[r]+=P8(vr-1,n,r);break;case 2:e[r]+=Df(i);break;case 4:if(i===44){e[++r]=Li()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=tm(i)}while(i=Tr());return e},j8=function(e,n){return ER(A8(SR(e),n))},kS=new WeakMap,O8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!kS.get(r))&&!i){kS.set(e,!0);for(var o=[],s=j8(n,o),a=r.props,c=0,u=0;c<s.length;c++)for(var f=0;f<a.length;f++,u++)e.props[u]=o[c]?s[c].replace(/&\f/g,a[f]):a[f]+" "+s[c]}}},N8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function TR(t,e){switch(g8(t,e)){case 5103:return Et+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+t+Mh+t+qn+t+t;case 6828:case 4268:return Et+t+qn+t+t;case 6165:return Et+t+qn+"flex-"+t+t;case 5187:return Et+t+Ct(t,/(\w+).+(:[^]+)/,Et+"box-$1$2"+qn+"flex-$1$2")+t;case 5443:return Et+t+qn+"flex-item-"+Ct(t,/flex-|-self/,"")+t;case 4675:return Et+t+qn+"flex-line-pack"+Ct(t,/align-content|flex-|-self/,"")+t;case 5548:return Et+t+qn+Ct(t,"shrink","negative")+t;case 5292:return Et+t+qn+Ct(t,"basis","preferred-size")+t;case 6060:return Et+"box-"+Ct(t,"-grow","")+Et+t+qn+Ct(t,"grow","positive")+t;case 4554:return Et+Ct(t,/([^-])(transform)/g,"$1"+Et+"$2")+t;case 6187:return Ct(Ct(Ct(t,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),t,"")+t;case 5495:case 3959:return Ct(t,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return Ct(Ct(t,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+t+t;case 4095:case 3583:case 4068:case 2532:return Ct(t,/(.+)-inline(.+)/,Et+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ei(t)-1-e>6)switch(Mn(t,e+1)){case 109:if(Mn(t,e+4)!==45)break;case 102:return Ct(t,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+Mh+(Mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$v(t,"stretch")?TR(Ct(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mn(t,e+1)!==115)break;case 6444:switch(Mn(t,Ei(t)-3-(~$v(t,"!important")&&10))){case 107:return Ct(t,":",":"+Et)+t;case 101:return Ct(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(Mn(t,14)===45?"inline-":"")+"box$3$1"+Et+"$2$3$1"+qn+"$2box$3")+t}break;case 5936:switch(Mn(t,e+11)){case 114:return Et+t+qn+Ct(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Et+t+qn+Ct(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Et+t+qn+Ct(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Et+t+qn+t+t}return t}var M8=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case cb:e.return=TR(e.value,e.length);break;case bR:return Qa([ac(e,{value:Ct(e.value,"@","@"+Et)})],i);case lb:if(e.length)return v8(e.props,function(o){switch(y8(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qa([ac(e,{props:[Ct(o,/:(read-\w+)/,":"+Mh+"$1")]})],i);case"::placeholder":return Qa([ac(e,{props:[Ct(o,/:(plac\w+)/,":"+Et+"input-$1")]}),ac(e,{props:[Ct(o,/:(plac\w+)/,":"+Mh+"$1")]}),ac(e,{props:[Ct(o,/:(plac\w+)/,qn+"input-$1")]})],i)}return""})}},L8=[M8],IR=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var k=_.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||L8,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var k=_.getAttribute("data-emotion").split(" "),S=1;S<k.length;S++)o[k[S]]=!0;a.push(_)});var c,u=[O8,N8];{var f,h=[I8,R8(function(_){f.insert(_)})],m=k8(u.concat(i,h)),E=function(k){return Qa(C8(k),m)};c=function(k,S,g,v){f=g,E(k?k+"{"+S.styles+"}":S.styles),v&&(C.inserted[S.name]=!0)}}var C={key:n,sheet:new d8({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return C.sheet.hydrate(a),C},kR={exports:{}},Rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rn=typeof Symbol=="function"&&Symbol.for,db=Rn?Symbol.for("react.element"):60103,fb=Rn?Symbol.for("react.portal"):60106,im=Rn?Symbol.for("react.fragment"):60107,om=Rn?Symbol.for("react.strict_mode"):60108,sm=Rn?Symbol.for("react.profiler"):60114,am=Rn?Symbol.for("react.provider"):60109,lm=Rn?Symbol.for("react.context"):60110,hb=Rn?Symbol.for("react.async_mode"):60111,cm=Rn?Symbol.for("react.concurrent_mode"):60111,um=Rn?Symbol.for("react.forward_ref"):60112,dm=Rn?Symbol.for("react.suspense"):60113,D8=Rn?Symbol.for("react.suspense_list"):60120,fm=Rn?Symbol.for("react.memo"):60115,hm=Rn?Symbol.for("react.lazy"):60116,$8=Rn?Symbol.for("react.block"):60121,F8=Rn?Symbol.for("react.fundamental"):60117,z8=Rn?Symbol.for("react.responder"):60118,V8=Rn?Symbol.for("react.scope"):60119;function Mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case db:switch(t=t.type,t){case hb:case cm:case im:case sm:case om:case dm:return t;default:switch(t=t&&t.$$typeof,t){case lm:case um:case hm:case fm:case am:return t;default:return e}}case fb:return e}}}function RR(t){return Mr(t)===cm}Rt.AsyncMode=hb;Rt.ConcurrentMode=cm;Rt.ContextConsumer=lm;Rt.ContextProvider=am;Rt.Element=db;Rt.ForwardRef=um;Rt.Fragment=im;Rt.Lazy=hm;Rt.Memo=fm;Rt.Portal=fb;Rt.Profiler=sm;Rt.StrictMode=om;Rt.Suspense=dm;Rt.isAsyncMode=function(t){return RR(t)||Mr(t)===hb};Rt.isConcurrentMode=RR;Rt.isContextConsumer=function(t){return Mr(t)===lm};Rt.isContextProvider=function(t){return Mr(t)===am};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===db};Rt.isForwardRef=function(t){return Mr(t)===um};Rt.isFragment=function(t){return Mr(t)===im};Rt.isLazy=function(t){return Mr(t)===hm};Rt.isMemo=function(t){return Mr(t)===fm};Rt.isPortal=function(t){return Mr(t)===fb};Rt.isProfiler=function(t){return Mr(t)===sm};Rt.isStrictMode=function(t){return Mr(t)===om};Rt.isSuspense=function(t){return Mr(t)===dm};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===im||t===cm||t===sm||t===om||t===dm||t===D8||typeof t=="object"&&t!==null&&(t.$$typeof===hm||t.$$typeof===fm||t.$$typeof===am||t.$$typeof===lm||t.$$typeof===um||t.$$typeof===F8||t.$$typeof===z8||t.$$typeof===V8||t.$$typeof===$8)};Rt.typeOf=Mr;kR.exports=Rt;var B8=kR.exports,PR=B8,W8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AR={};AR[PR.ForwardRef]=W8;AR[PR.Memo]=U8;var H8=!0;function jR(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var pb=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||H8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},mb=function(e,n,r){pb(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function q8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var K8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},G8=/[A-Z]|^ms/g,Q8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,OR=function(e){return e.charCodeAt(1)===45},RS=function(e){return e!=null&&typeof e!="boolean"},Bg=CR(function(t){return OR(t)?t:t.replace(G8,"-$&").toLowerCase()}),PS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Q8,function(r,i,o){return Ci={name:i,styles:o,next:Ci},i})}return K8[e]!==1&&!OR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Cu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ci={name:i.name,styles:i.styles,next:Ci},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ci={name:s.name,styles:s.styles,next:Ci},s=s.next;var a=o.styles+";";return a}return Y8(t,e,n)}case"function":{if(t!==void 0){var c=Ci,u=n(t);return Ci=c,Cu(t,e,u)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function Y8(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Cu(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":RS(a)&&(r+=Bg(o)+":"+PS(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var c=0;c<s.length;c++)RS(s[c])&&(r+=Bg(o)+":"+PS(o,s[c])+";");else{var u=Cu(t,e,s);switch(o){case"animation":case"animationName":{r+=Bg(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var AS=/label:\s*([^\s;{]+)\s*(;|$)/g,Ci;function ad(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ci=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Cu(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Cu(n,e,t[a]),r){var c=o;i+=c[a]}AS.lastIndex=0;for(var u="",f;(f=AS.exec(i))!==null;)u+="-"+f[1];var h=q8(i)+u;return{name:h,styles:i,next:Ci}}var X8=function(e){return e()},NR=Hf.useInsertionEffect?Hf.useInsertionEffect:!1,MR=NR||X8,jS=NR||b.useLayoutEffect,LR=b.createContext(typeof HTMLElement<"u"?IR({key:"css"}):null),J8=LR.Provider,gb=function(e){return b.forwardRef(function(n,r){var i=b.useContext(LR);return e(n,i,r)})},Ll=b.createContext({}),yb={}.hasOwnProperty,zv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Z8=function(e,n){var r={};for(var i in n)yb.call(n,i)&&(r[i]=n[i]);return r[zv]=e,r},eF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return pb(n,r,i),MR(function(){return mb(n,r,i)}),null},tF=gb(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[zv],o=[r],s="";typeof t.className=="string"?s=jR(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=ad(o,void 0,b.useContext(Ll));s+=e.key+"-"+a.name;var c={};for(var u in t)yb.call(t,u)&&u!=="css"&&u!==zv&&(c[u]=t[u]);return c.className=s,n&&(c.ref=n),b.createElement(b.Fragment,null,b.createElement(eF,{cache:e,serialized:a,isStringTag:typeof i=="string"}),b.createElement(i,c))}),nF=tF,Wg={exports:{}},OS;function DR(){return OS||(OS=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Wg)),Wg.exports}DR();var NS=function(e,n){var r=arguments;if(n==null||!yb.call(n,"css"))return b.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=nF,o[1]=Z8(e,n);for(var s=2;s<i;s++)o[s]=r[s];return b.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(NS||(NS={}));var rF=gb(function(t,e){var n=t.styles,r=ad([n],void 0,b.useContext(Ll)),i=b.useRef();return jS(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",o),s.hydrate([c])),i.current=[s,a],function(){s.flush()}},[e]),jS(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&mb(e,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function $R(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ad(e)}function pm(){var t=$R.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var iF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oF=CR(function(t){return iF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),sF=oF,aF=function(e){return e!=="theme"},MS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?sF:aF},LS=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},lF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return pb(n,r,i),MR(function(){return mb(n,r,i)}),null},cF=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=LS(e,n,r),c=a||MS(i),u=!c("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var E=f.length,C=1;C<E;C++)h.push(f[C],m[C])}var _=gb(function(k,S,g){var v=u&&k.as||i,I="",M=[],N=k;if(k.theme==null){N={};for(var T in k)N[T]=k[T];N.theme=b.useContext(Ll)}typeof k.className=="string"?I=jR(S.registered,M,k.className):k.className!=null&&(I=k.className+" ");var p=ad(h.concat(M),S.registered,N);I+=S.key+"-"+p.name,s!==void 0&&(I+=" "+s);var y=u&&a===void 0?MS(v):c,x={};for(var j in k)u&&j==="as"||y(j)&&(x[j]=k[j]);return x.className=I,g&&(x.ref=g),b.createElement(b.Fragment,null,b.createElement(lF,{cache:S,serialized:p,isStringTag:typeof v=="string"}),b.createElement(v,x))});return _.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return"."+s}}),_.withComponent=function(k,S){var g=t(k,$({},n,S,{shouldForwardProp:LS(_,S,!0)}));return g.apply(void 0,h)},_}},uF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vv=cF.bind(null);uF.forEach(function(t){Vv[t]=Vv(t)});function dF(t,e){const n=IR({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Ug=new Map;function fF(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=b.useMemo(()=>{const o=`${e}-${n}`;if(typeof document=="object"&&Ug.has(o))return Ug.get(o);const s=dF(e,n);return Ug.set(o,s),s},[e,n]);return e||n?l.jsx(J8,{value:i,children:r}):r}function hF(t){return t==null||Object.keys(t).length===0}function FR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(hF(i)?n:i):e;return l.jsx(rF,{styles:r})}function vb(t,e){return Vv(t,e)}const zR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},DS=[];function Lh(t){return DS[0]=t,ad(DS)}const pF=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:FR,StyledEngineProvider:fF,ThemeContext:Ll,css:$R,default:vb,internal_processStyles:zR,internal_serializeStyles:Lh,keyframes:pm},Symbol.toStringTag,{value:"Module"}));function to(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function VR(t){if(b.isValidElement(t)||!to(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=VR(t[n])}),e}function Ir(t,e,n={clone:!0}){const r=n.clone?$({},t):t;return to(t)&&to(e)&&Object.keys(e).forEach(i=>{b.isValidElement(e[i])?r[i]=e[i]:to(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&to(t[i])?r[i]=Ir(t[i],e[i],n):n.clone?r[i]=to(e[i])?VR(e[i]):e[i]:r[i]=e[i]}),r}const mF=Object.freeze(Object.defineProperty({__proto__:null,default:Ir,isPlainObject:to},Symbol.toStringTag,{value:"Module"})),gF=["values","unit","step"],yF=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function BR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=je(t,gF),o=yF(e),s=Object.keys(o);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,E){const C=s.indexOf(E);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(C!==-1&&typeof e[s[C]]=="number"?e[s[C]]:E)-r/100}${n})`}function f(m){return s.indexOf(m)+1<s.length?u(m,s[s.indexOf(m)+1]):a(m)}function h(m){const E=s.indexOf(m);return E===0?a(s[1]):E===s.length-1?c(s[E]):u(m,s[s.indexOf(m)+1]).replace("@media","@media not all and")}return $({keys:s,values:o,up:a,down:c,between:u,only:f,not:h,unit:n},i)}const vF={borderRadius:4};function Bc(t,e){return e?Ir(t,e,{clone:!1}):t}const xb={xs:0,sm:600,md:900,lg:1200,xl:1536},$S={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${xb[t]}px)`};function Zr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||$S;return e.reduce((s,a,c)=>(s[o.up(o.keys[c])]=n(e[c]),s),{})}if(typeof e=="object"){const o=r.breakpoints||$S;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||xb).indexOf(a)!==-1){const c=o.up(a);s[c]=n(e[a],a)}else{const c=a;s[c]=e[c]}return s},{})}return n(e)}function xF(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function FS(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function bF(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function mm({values:t,breakpoints:e,base:n}){const r=n||bF(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,c)=>(Array.isArray(t)?(s[a]=t[c]!=null?t[c]:t[o],o=c):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function de(t){if(typeof t!="string")throw new Error(Xs(7));return t.charAt(0).toUpperCase()+t.slice(1)}const _F=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));function gm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Dh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=gm(t,n)||r,e&&(i=e(i,r,t)),i}function un(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],c=s.theme,u=gm(c,r)||{};return Zr(s,a,h=>{let m=Dh(u,i,h);return h===m&&typeof h=="string"&&(m=Dh(u,i,`${e}${h==="default"?"":de(h)}`,h)),n===!1?m:{[n]:m}})};return o.propTypes={},o.filterProps=[e],o}function wF(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const SF={m:"margin",p:"padding"},EF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},CF=wF(t=>{if(t.length>2)if(zS[t])t=zS[t];else return[t];const[e,n]=t.split(""),r=SF[e],i=EF[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),bb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_b=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...bb,..._b];function ld(t,e,n,r){var i;const o=(i=gm(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function WR(t){return ld(t,"spacing",8)}function cd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function TF(t,e){return n=>t.reduce((r,i)=>(r[i]=cd(e,n),r),{})}function IF(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=CF(n),o=TF(i,r),s=t[n];return Zr(t,s,o)}function UR(t,e){const n=WR(t.theme);return Object.keys(t).map(r=>IF(t,e,r,n)).reduce(Bc,{})}function en(t){return UR(t,bb)}en.propTypes={};en.filterProps=bb;function tn(t){return UR(t,_b)}tn.propTypes={};tn.filterProps=_b;function kF(t=8){if(t.mui)return t;const e=WR({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function ym(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Bc(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ur(t){return typeof t!="number"?t:`${t}px solid`}function ii(t,e){return un({prop:t,themeKey:"borders",transform:e})}const RF=ii("border",Ur),PF=ii("borderTop",Ur),AF=ii("borderRight",Ur),jF=ii("borderBottom",Ur),OF=ii("borderLeft",Ur),NF=ii("borderColor"),MF=ii("borderTopColor"),LF=ii("borderRightColor"),DF=ii("borderBottomColor"),$F=ii("borderLeftColor"),FF=ii("outline",Ur),zF=ii("outlineColor"),vm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ld(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:cd(e,r)});return Zr(t,t.borderRadius,n)}return null};vm.propTypes={};vm.filterProps=["borderRadius"];ym(RF,PF,AF,jF,OF,NF,MF,LF,DF,$F,vm,FF,zF);const xm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ld(t.theme,"spacing",8),n=r=>({gap:cd(e,r)});return Zr(t,t.gap,n)}return null};xm.propTypes={};xm.filterProps=["gap"];const bm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ld(t.theme,"spacing",8),n=r=>({columnGap:cd(e,r)});return Zr(t,t.columnGap,n)}return null};bm.propTypes={};bm.filterProps=["columnGap"];const _m=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ld(t.theme,"spacing",8),n=r=>({rowGap:cd(e,r)});return Zr(t,t.rowGap,n)}return null};_m.propTypes={};_m.filterProps=["rowGap"];const VF=un({prop:"gridColumn"}),BF=un({prop:"gridRow"}),WF=un({prop:"gridAutoFlow"}),UF=un({prop:"gridAutoColumns"}),HF=un({prop:"gridAutoRows"}),qF=un({prop:"gridTemplateColumns"}),KF=un({prop:"gridTemplateRows"}),GF=un({prop:"gridTemplateAreas"}),QF=un({prop:"gridArea"});ym(xm,bm,_m,VF,BF,WF,UF,HF,qF,KF,GF,QF);function Ya(t,e){return e==="grey"?e:t}const YF=un({prop:"color",themeKey:"palette",transform:Ya}),XF=un({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ya}),JF=un({prop:"backgroundColor",themeKey:"palette",transform:Ya});ym(YF,XF,JF);function wr(t){return t<=1&&t!==0?`${t*100}%`:t}const ZF=un({prop:"width",transform:wr}),wb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||xb[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:wr(n)}};return Zr(t,t.maxWidth,e)}return null};wb.filterProps=["maxWidth"];const e9=un({prop:"minWidth",transform:wr}),t9=un({prop:"height",transform:wr}),n9=un({prop:"maxHeight",transform:wr}),r9=un({prop:"minHeight",transform:wr});un({prop:"size",cssProperty:"width",transform:wr});un({prop:"size",cssProperty:"height",transform:wr});const i9=un({prop:"boxSizing"});ym(ZF,wb,e9,t9,n9,r9,i9);const ud={border:{themeKey:"borders",transform:Ur},borderTop:{themeKey:"borders",transform:Ur},borderRight:{themeKey:"borders",transform:Ur},borderBottom:{themeKey:"borders",transform:Ur},borderLeft:{themeKey:"borders",transform:Ur},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ur},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vm},color:{themeKey:"palette",transform:Ya},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ya},backgroundColor:{themeKey:"palette",transform:Ya},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xm},rowGap:{style:_m},columnGap:{style:bm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wr},maxWidth:{style:wb},minWidth:{transform:wr},height:{transform:wr},maxHeight:{transform:wr},minHeight:{transform:wr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function o9(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function s9(t,e){return typeof t=="function"?t(e):t}function HR(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:f,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=gm(i,u)||{};return h?h(s):Zr(s,r,C=>{let _=Dh(m,f,C);return C===_&&typeof C=="string"&&(_=Dh(m,f,`${n}${C==="default"?"":de(C)}`,C)),c===!1?_:{[c]:_}})}function e(n){var r;const{sx:i,theme:o={},nested:s}=n||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:ud;function c(u){let f=u;if(typeof u=="function")f=u(o);else if(typeof u!="object")return u;if(!f)return null;const h=xF(o.breakpoints),m=Object.keys(h);let E=h;return Object.keys(f).forEach(C=>{const _=s9(f[C],o);if(_!=null)if(typeof _=="object")if(a[C])E=Bc(E,t(C,_,o,a));else{const k=Zr({theme:o},_,S=>({[C]:S}));o9(k,_)?E[C]=e({sx:_,theme:o,nested:!0}):E=Bc(E,k)}else E=Bc(E,t(C,_,o,a))}),!s&&o.modularCssLayers?{"@layer sx":FS(m,E)}:FS(m,E)}return Array.isArray(i)?i.map(c):c(i)}return e}const Dl=HR();Dl.filterProps=["sx"];function qR(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const a9=["breakpoints","palette","spacing","shape"];function dd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=je(t,a9),a=BR(n),c=kF(i);let u=Ir({breakpoints:a,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:c,shape:$({},vF,o)},s);return u.applyStyles=qR,u=e.reduce((f,h)=>Ir(f,h),u),u.unstable_sxConfig=$({},ud,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(h){return Dl({sx:h,theme:this})},u}const l9=Object.freeze(Object.defineProperty({__proto__:null,default:dd,private_createBreakpoints:BR,unstable_applyStyles:qR},Symbol.toStringTag,{value:"Module"}));function c9(t){return Object.keys(t).length===0}function Sb(t=null){const e=b.useContext(Ll);return!e||c9(e)?t:e}const u9=dd();function wm(t=u9){return Sb(t)}function Hg(t){const e=Lh(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function KR({styles:t,themeId:e,defaultTheme:n={}}){const r=wm(n),i=e&&r[e]||r;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(s=>Hg(typeof s=="function"?s(i):s)):o=Hg(o)),l.jsx(FR,{styles:o})}const d9=["sx"],f9=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ud;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function Sm(t){const{sx:e}=t,n=je(t,d9),{systemProps:r,otherProps:i}=f9(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return to(a)?$({},r,a):r}:o=$({},r,e),$({},i,{sx:o})}const h9=Object.freeze(Object.defineProperty({__proto__:null,default:Dl,extendSxProp:Sm,unstable_createStyleFunctionSx:HR,unstable_defaultSxConfig:ud},Symbol.toStringTag,{value:"Module"})),VS=t=>t,p9=()=>{let t=VS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=VS}}},Eb=p9(),m9=["className","component"];function g9(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=vb("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Dl);return b.forwardRef(function(c,u){const f=wm(n),h=Sm(c),{className:m,component:E="div"}=h,C=je(h,m9);return l.jsx(o,$({as:E,ref:u,className:Ne(m,i?i(r):r),theme:e&&f[e]||f},C))})}const y9={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ut(t,e,n="Mui"){const r=y9[e];return r?`${n}-${r}`:`${Eb.generate(t)}-${e}`}function st(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ut(t,i,n)}),r}var GR={exports:{}},Ot={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb=Symbol.for("react.transitional.element"),Tb=Symbol.for("react.portal"),Em=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),Tm=Symbol.for("react.profiler"),Im=Symbol.for("react.consumer"),km=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),v9=Symbol.for("react.view_transition"),x9=Symbol.for("react.client.reference");function oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Cb:switch(t=t.type,t){case Em:case Tm:case Cm:case Pm:case Am:case v9:return t;default:switch(t=t&&t.$$typeof,t){case km:case Rm:case Om:case jm:return t;case Im:return t;default:return e}}case Tb:return e}}}Ot.ContextConsumer=Im;Ot.ContextProvider=km;Ot.Element=Cb;Ot.ForwardRef=Rm;Ot.Fragment=Em;Ot.Lazy=Om;Ot.Memo=jm;Ot.Portal=Tb;Ot.Profiler=Tm;Ot.StrictMode=Cm;Ot.Suspense=Pm;Ot.SuspenseList=Am;Ot.isContextConsumer=function(t){return oi(t)===Im};Ot.isContextProvider=function(t){return oi(t)===km};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cb};Ot.isForwardRef=function(t){return oi(t)===Rm};Ot.isFragment=function(t){return oi(t)===Em};Ot.isLazy=function(t){return oi(t)===Om};Ot.isMemo=function(t){return oi(t)===jm};Ot.isPortal=function(t){return oi(t)===Tb};Ot.isProfiler=function(t){return oi(t)===Tm};Ot.isStrictMode=function(t){return oi(t)===Cm};Ot.isSuspense=function(t){return oi(t)===Pm};Ot.isSuspenseList=function(t){return oi(t)===Am};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Em||t===Tm||t===Cm||t===Pm||t===Am||typeof t=="object"&&t!==null&&(t.$$typeof===Om||t.$$typeof===jm||t.$$typeof===km||t.$$typeof===Im||t.$$typeof===Rm||t.$$typeof===x9||t.getModuleId!==void 0)};Ot.typeOf=oi;GR.exports=Ot;var BS=GR.exports;const b9=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function QR(t){const e=`${t}`.match(b9);return e&&e[1]||""}function YR(t,e=""){return t.displayName||t.name||QR(t)||e}function WS(t,e,n){const r=YR(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function _9(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return YR(t,"Component");if(typeof t=="object")switch(t.$$typeof){case BS.ForwardRef:return WS(t,t.render,"ForwardRef");case BS.Memo:return WS(t,t.type,"memo");default:return}}}const w9=Object.freeze(Object.defineProperty({__proto__:null,default:_9,getFunctionName:QR},Symbol.toStringTag,{value:"Module"})),S9=["ownerState"],E9=["variants"],C9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function T9(t){return Object.keys(t).length===0}function I9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function qg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function US(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const k9=dd(),R9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function of({defaultTheme:t,theme:e,themeId:n}){return T9(e)?t:e[n]||e}function P9(t){return t?(e,n)=>n[t]:null}function Ff(t,e,n){let{ownerState:r}=e,i=je(e,S9);const o=typeof t=="function"?t($({ownerState:r},i)):t;if(Array.isArray(o))return o.flatMap(s=>Ff(s,$({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:s=[]}=o;let c=je(o,E9);return s.forEach(u=>{let f=!0;if(typeof u.props=="function"?f=u.props($({ownerState:r},i,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&i[h]!==u.props[h]&&(f=!1)}),f){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style($({ownerState:r},i,r)):u.style;c.push(n?US(Lh(h),n):h)}}),c}return n?US(Lh(o),n):o}function A9(t={}){const{themeId:e,defaultTheme:n=k9,rootShouldForwardProp:r=qg,slotShouldForwardProp:i=qg}=t,o=s=>Dl($({},s,{theme:of($({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{zR(s,N=>N.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:m=P9(R9(u))}=a,E=je(a,C9),C=c&&c.startsWith("Mui")||u?"components":"custom",_=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,k=h||!1;let S,g=qg;u==="Root"||u==="root"?g=r:u?g=i:I9(s)&&(g=void 0);const v=vb(s,$({shouldForwardProp:g,label:S},E)),I=N=>typeof N=="function"&&N.__emotion_real!==N||to(N)?T=>{const p=of({theme:T.theme,defaultTheme:n,themeId:e});return Ff(N,$({},T,{theme:p}),p.modularCssLayers?C:void 0)}:N,M=(N,...T)=>{let p=I(N);const y=T?T.map(I):[];c&&m&&y.push(A=>{const R=of($({},A,{defaultTheme:n,themeId:e}));if(!R.components||!R.components[c]||!R.components[c].styleOverrides)return null;const V=R.components[c].styleOverrides,F={};return Object.entries(V).forEach(([W,q])=>{F[W]=Ff(q,$({},A,{theme:R}),R.modularCssLayers?"theme":void 0)}),m(A,F)}),c&&!_&&y.push(A=>{var R;const V=of($({},A,{defaultTheme:n,themeId:e})),F=V==null||(R=V.components)==null||(R=R[c])==null?void 0:R.variants;return Ff({variants:F},$({},A,{theme:V}),V.modularCssLayers?"theme":void 0)}),k||y.push(o);const x=y.length-T.length;if(Array.isArray(N)&&x>0){const A=new Array(x).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=v(p,...y);return s.muiName&&(j.muiName=s.muiName),j};return v.withConfig&&(M.withConfig=v.withConfig),M}}const j9=A9();function Tu(t,e){const n=$({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=$({},o),Object.keys(i).forEach(s=>{n[r][s]=Tu(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function O9(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Tu(e.components[n].defaultProps,r)}function N9({props:t,name:e,defaultTheme:n,themeId:r}){let i=wm(n);return r&&(i=i[r]||i),O9({theme:i,name:e,props:t})}const ei=typeof window<"u"?b.useLayoutEffect:b.useEffect;function M9(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const L9=Object.freeze(Object.defineProperty({__proto__:null,default:M9},Symbol.toStringTag,{value:"Module"}));function Bv(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Ib(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function D9(t,e){return()=>null}function zf(t,e){var n,r;return b.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Xn(t){return t&&t.ownerDocument||document}function cs(t){return Xn(t).defaultView||window}function $9(t,e){return()=>null}function $h(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let HS=0;function F9(t){const[e,n]=b.useState(t),r=t||e;return b.useEffect(()=>{e==null&&(HS+=1,n(`mui-${HS}`))},[e]),r}const qS=Hf.useId;function fd(t){if(qS!==void 0){const e=qS();return t??e}return F9(t)}function z9(t,e,n,r,i){return null}function Fh({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=b.useRef(t!==void 0),[o,s]=b.useState(e),a=i?t:o,c=b.useCallback(u=>{i||s(u)},[]);return[a,c]}function ki(t){const e=b.useRef(t);return ei(()=>{e.current=t}),b.useRef((...n)=>(0,e.current)(...n)).current}function cn(...t){return b.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{$h(n,e)})},t)}const KS={};function V9(t,e){const n=b.useRef(KS);return n.current===KS&&(n.current=t(e)),n}const B9=[];function W9(t){b.useEffect(t,B9)}class hd{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new hd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Da(){const t=V9(hd.create).current;return W9(t.disposeEffect),t}let Nm=!0,Wv=!1;const U9=new hd,H9={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function q9(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&H9[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function K9(t){t.metaKey||t.altKey||t.ctrlKey||(Nm=!0)}function Kg(){Nm=!1}function G9(){this.visibilityState==="hidden"&&Wv&&(Nm=!0)}function Q9(t){t.addEventListener("keydown",K9,!0),t.addEventListener("mousedown",Kg,!0),t.addEventListener("pointerdown",Kg,!0),t.addEventListener("touchstart",Kg,!0),t.addEventListener("visibilitychange",G9,!0)}function Y9(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Nm||q9(e)}function kb(){const t=b.useCallback(i=>{i!=null&&Q9(i.ownerDocument)},[]),e=b.useRef(!1);function n(){return e.current?(Wv=!0,U9.start(100,()=>{Wv=!1}),e.current=!1,!0):!1}function r(i){return Y9(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function XR(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const JR=t=>{const e=b.useRef({});return b.useEffect(()=>{e.current=t}),e.current};function mt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}function zh(t){return typeof t=="string"}function $a(t,e,n){return t===void 0||zh(t)?e:$({},e,{ownerState:$({},e.ownerState,n)})}function ZR(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function GS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function eP(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const E=Ne(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),C=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=$({},n,i,r);return E.length>0&&(_.className=E),Object.keys(C).length>0&&(_.style=C),{props:_,internalRef:void 0}}const s=ZR($({},i,r)),a=GS(r),c=GS(i),u=e(s),f=Ne(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),h=$({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=$({},u,n,c,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:u.ref}}function tP(t,e,n){return typeof t=="function"?t(e,n):t}const X9=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function wo(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=je(t,X9),a=o?{}:tP(r,i),{props:c,internalRef:u}=eP($({},s,{externalSlotProps:a})),f=cn(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return $a(n,$({},c,{ref:f}),i)}function $l(t){if(parseInt(b.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const nP=b.createContext(null);function rP(){return b.useContext(nP)}const J9=typeof Symbol=="function"&&Symbol.for,Z9=J9?Symbol.for("mui.nested"):"__THEME_NESTED__";function ez(t,e){return typeof e=="function"?e(t):$({},t,e)}function tz(t){const{children:e,theme:n}=t,r=rP(),i=b.useMemo(()=>{const o=r===null?n:ez(r,n);return o!=null&&(o[Z9]=r!==null),o},[n,r]);return l.jsx(nP.Provider,{value:i,children:e})}const nz=["value"],iP=b.createContext();function rz(t){let{value:e}=t,n=je(t,nz);return l.jsx(iP.Provider,$({value:e??!0},n))}const oP=()=>{const t=b.useContext(iP);return t??!1},sP=b.createContext(void 0);function iz({value:t,children:e}){return l.jsx(sP.Provider,{value:t,children:e})}function oz(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Tu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Tu(i,r):r}function sz({props:t,name:e}){const n=b.useContext(sP);return oz({props:t,name:e,theme:{components:n}})}function az(t){const e=Sb(),n=fd()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,ei(()=>{const o=document.querySelector("head");if(!o)return;const s=o.firstChild;if(i){var a;if(s&&(a=s.hasAttribute)!=null&&a.call(s,"data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=i,o.prepend(u)}else{var c;(c=o.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[i,n]),i?l.jsx(KR,{styles:i}):null}const QS={};function YS(t,e,n,r=!1){return b.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),s=t?$({},e,{[t]:o}):o;return r?()=>s:s}return t?$({},e,{[t]:n}):$({},e,n)},[t,e,n,r])}function lz(t){const{children:e,theme:n,themeId:r}=t,i=Sb(QS),o=rP()||QS,s=YS(r,i,n),a=YS(r,o,n,!0),c=s.direction==="rtl",u=az(s);return l.jsx(tz,{theme:a,children:l.jsx(Ll.Provider,{value:s,children:l.jsx(rz,{value:c,children:l.jsxs(iz,{value:s==null?void 0:s.components,children:[u,e]})})})})}const cz=["className","component","disableGutters","fixed","maxWidth","classes"],uz=dd(),dz=j9("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${de(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),fz=t=>N9({props:t,name:"MuiContainer",defaultTheme:uz}),hz=(t,e)=>{const n=c=>ut(e,c),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${de(String(s))}`,i&&"fixed",o&&"disableGutters"]};return mt(a,n,r)};function pz(t={}){const{createStyledComponent:e=dz,useThemeProps:n=fz,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((c,u)=>{const f=u,h=s.breakpoints.values[f];return h!==0&&(c[s.breakpoints.up(f)]={maxWidth:`${h}${s.breakpoints.unit}`}),c},{}),({theme:s,ownerState:a})=>$({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return b.forwardRef(function(a,c){const u=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:E=!1,maxWidth:C="lg"}=u,_=je(u,cz),k=$({},u,{component:h,disableGutters:m,fixed:E,maxWidth:C}),S=hz(k,r);return l.jsx(i,$({as:h,ownerState:k,className:Ne(S.root,f),ref:c},_))})}function mz(t,e){return $({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var dn={},aP={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(aP);var pd=aP.exports;const gz=Bi(l8),yz=Bi(L9);var lP=pd;Object.defineProperty(dn,"__esModule",{value:!0});var $t=dn.alpha=fP;dn.blend=kz;dn.colorChannel=void 0;var Uv=dn.darken=Pb;dn.decomposeColor=ti;dn.emphasize=hP;var vz=dn.getContrastRatio=Sz;dn.getLuminance=Vh;dn.hexToRgb=cP;dn.hslToRgb=dP;var Hv=dn.lighten=Ab;dn.private_safeAlpha=Ez;dn.private_safeColorChannel=void 0;dn.private_safeDarken=Cz;dn.private_safeEmphasize=Iz;dn.private_safeLighten=Tz;dn.recomposeColor=Fl;dn.rgbToHex=wz;var XS=lP(gz),xz=lP(yz);function Rb(t,e=0,n=1){return(0,xz.default)(t,e,n)}function cP(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bz(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function ti(t){if(t.type)return t;if(t.charAt(0)==="#")return ti(cP(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,XS.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,XS.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const uP=t=>{const e=ti(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};dn.colorChannel=uP;const _z=(t,e)=>{try{return uP(t)}catch{return t}};dn.private_safeColorChannel=_z;function Fl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function wz(t){if(t.indexOf("#")===0)return t;const{values:e}=ti(t);return`#${e.map((n,r)=>bz(r===3?Math.round(255*n):n)).join("")}`}function dP(t){t=ti(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,f=(u+n/30)%12)=>i-o*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",c.push(e[3])),Fl({type:a,values:c})}function Vh(t){t=ti(t);let e=t.type==="hsl"||t.type==="hsla"?ti(dP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Sz(t,e){const n=Vh(t),r=Vh(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function fP(t,e){return t=ti(t),e=Rb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Fl(t)}function Ez(t,e,n){try{return fP(t,e)}catch{return t}}function Pb(t,e){if(t=ti(t),e=Rb(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Fl(t)}function Cz(t,e,n){try{return Pb(t,e)}catch{return t}}function Ab(t,e){if(t=ti(t),e=Rb(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Fl(t)}function Tz(t,e,n){try{return Ab(t,e)}catch{return t}}function hP(t,e=.15){return Vh(t)>.5?Pb(t,e):Ab(t,e)}function Iz(t,e,n){try{return hP(t,e)}catch{return t}}function kz(t,e,n,r=1){const i=(c,u)=>Math.round((c**(1/r)*(1-n)+u**(1/r)*n)**r),o=ti(t),s=ti(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return Fl({type:"rgb",values:a})}const Rz=["mode","contrastThreshold","tonalOffset"],JS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wu.white,default:wu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Gg={text:{primary:wu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ZS(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Hv(t.main,i):e==="dark"&&(t.dark=Uv(t.main,o)))}function Pz(t="light"){return t==="dark"?{main:pa[200],light:pa[50],dark:pa[400]}:{main:pa[700],light:pa[400],dark:pa[800]}}function Az(t="light"){return t==="dark"?{main:ha[200],light:ha[50],dark:ha[400]}:{main:ha[500],light:ha[300],dark:ha[700]}}function jz(t="light"){return t==="dark"?{main:fa[500],light:fa[300],dark:fa[700]}:{main:fa[700],light:fa[400],dark:fa[800]}}function Oz(t="light"){return t==="dark"?{main:ma[400],light:ma[300],dark:ma[700]}:{main:ma[700],light:ma[500],dark:ma[900]}}function Nz(t="light"){return t==="dark"?{main:ga[400],light:ga[300],dark:ga[700]}:{main:ga[800],light:ga[500],dark:ga[900]}}function Mz(t="light"){return t==="dark"?{main:sc[400],light:sc[300],dark:sc[700]}:{main:"#ed6c02",light:sc[500],dark:sc[900]}}function Lz(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=je(t,Rz),o=t.primary||Pz(e),s=t.secondary||Az(e),a=t.error||jz(e),c=t.info||Oz(e),u=t.success||Nz(e),f=t.warning||Mz(e);function h(_){return vz(_,Gg.text.primary)>=n?Gg.text.primary:JS.text.primary}const m=({color:_,name:k,mainShade:S=500,lightShade:g=300,darkShade:v=700})=>{if(_=$({},_),!_.main&&_[S]&&(_.main=_[S]),!_.hasOwnProperty("main"))throw new Error(Xs(11,k?` (${k})`:"",S));if(typeof _.main!="string")throw new Error(Xs(12,k?` (${k})`:"",JSON.stringify(_.main)));return ZS(_,"light",g,r),ZS(_,"dark",v,r),_.contrastText||(_.contrastText=h(_.main)),_},E={dark:Gg,light:JS};return Ir($({common:$({},wu),mode:e,primary:m({color:o,name:"primary"}),secondary:m({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:c,name:"info"}),success:m({color:u,name:"success"}),grey:a8,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},E[e]),i)}const Dz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function $z(t){return Math.round(t*1e5)/1e5}const eE={textTransform:"uppercase"},tE='"Roboto", "Helvetica", "Arial", sans-serif';function Fz(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=tE,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:f,pxToRem:h}=n,m=je(n,Dz),E=i/14,C=h||(S=>`${S/u*E}rem`),_=(S,g,v,I,M)=>$({fontFamily:r,fontWeight:S,fontSize:C(g),lineHeight:v},r===tE?{letterSpacing:`${$z(I/g)}em`}:{},M,f),k={h1:_(o,96,1.167,-1.5),h2:_(o,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,eE),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,eE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ir($({htmlFontSize:u,pxToRem:C,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c},k),m,{clone:!1})}const zz=.2,Vz=.14,Bz=.12;function Wt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${zz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Vz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Bz})`].join(",")}const Wz=["none",Wt(0,2,1,-1,0,1,1,0,0,1,3,0),Wt(0,3,1,-2,0,2,2,0,0,1,5,0),Wt(0,3,3,-2,0,3,4,0,0,1,8,0),Wt(0,2,4,-1,0,4,5,0,0,1,10,0),Wt(0,3,5,-1,0,5,8,0,0,1,14,0),Wt(0,3,5,-1,0,6,10,0,0,1,18,0),Wt(0,4,5,-2,0,7,10,1,0,2,16,1),Wt(0,5,5,-3,0,8,10,1,0,3,14,2),Wt(0,5,6,-3,0,9,12,1,0,3,16,2),Wt(0,6,6,-3,0,10,14,1,0,4,18,3),Wt(0,6,7,-4,0,11,15,1,0,4,20,3),Wt(0,7,8,-4,0,12,17,2,0,5,22,4),Wt(0,7,8,-4,0,13,19,2,0,5,24,4),Wt(0,7,9,-4,0,14,21,2,0,5,26,4),Wt(0,8,9,-5,0,15,22,2,0,6,28,5),Wt(0,8,10,-5,0,16,24,2,0,6,30,5),Wt(0,8,11,-5,0,17,26,2,0,6,32,5),Wt(0,9,11,-5,0,18,28,2,0,7,34,6),Wt(0,9,12,-6,0,19,29,2,0,7,36,6),Wt(0,10,13,-6,0,20,31,3,0,8,38,7),Wt(0,10,13,-6,0,21,33,3,0,8,40,7),Wt(0,10,14,-6,0,22,35,3,0,8,42,7),Wt(0,11,14,-7,0,23,36,3,0,9,44,8),Wt(0,11,15,-7,0,24,38,3,0,9,46,8)],Uz=["duration","easing","delay"],Hz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nE(t){return`${Math.round(t)}ms`}function Kz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Gz(t){const e=$({},Hz,t.easing),n=$({},qz,t.duration);return $({getAutoHeightDuration:Kz,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:c=0}=o;return je(o,Uz),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:nE(s)} ${a} ${typeof c=="string"?c:nE(c)}`).join(",")}},t,{easing:e,duration:n})}const Qz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Yz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function jb(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=je(t,Yz);if(t.vars&&t.generateCssVars===void 0)throw new Error(Xs(18));const a=Lz(r),c=dd(t);let u=Ir(c,{mixins:mz(c.breakpoints,n),palette:a,shadows:Wz.slice(),typography:Fz(a,o),transitions:Gz(i),zIndex:$({},Qz)});return u=Ir(u,s),u=e.reduce((f,h)=>Ir(f,h),u),u.unstable_sxConfig=$({},ud,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(h){return Dl({sx:h,theme:this})},u}const Ob=jb();function Mm(){const t=wm(Ob);return t[ml]||t}var md={},Qg={exports:{}},rE;function Xz(){return rE||(rE=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Qg)),Qg.exports}const pP=Bi(pF),Jz=Bi(mF),Zz=Bi(_F),eV=Bi(w9),tV=Bi(l9),nV=Bi(h9);var zl=pd;Object.defineProperty(md,"__esModule",{value:!0});var rV=md.default=gV;md.shouldForwardProp=Vf;md.systemDefaultTheme=void 0;var zr=zl(DR()),qv=zl(Xz()),Bh=uV(pP),iV=Jz;zl(Zz);zl(eV);var oV=zl(tV),sV=zl(nV);const aV=["ownerState"],lV=["variants"],cV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function mP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(mP=function(r){return r?n:e})(t)}function uV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=mP(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function dV(t){return Object.keys(t).length===0}function fV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Vf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function iE(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const hV=md.systemDefaultTheme=(0,oV.default)(),pV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function sf({defaultTheme:t,theme:e,themeId:n}){return dV(e)?t:e[n]||e}function mV(t){return t?(e,n)=>n[t]:null}function Bf(t,e,n){let{ownerState:r}=e,i=(0,qv.default)(e,aV);const o=typeof t=="function"?t((0,zr.default)({ownerState:r},i)):t;if(Array.isArray(o))return o.flatMap(s=>Bf(s,(0,zr.default)({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:s=[]}=o;let c=(0,qv.default)(o,lV);return s.forEach(u=>{let f=!0;if(typeof u.props=="function"?f=u.props((0,zr.default)({ownerState:r},i,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&i[h]!==u.props[h]&&(f=!1)}),f){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style((0,zr.default)({ownerState:r},i,r)):u.style;c.push(n?iE((0,Bh.internal_serializeStyles)(h),n):h)}}),c}return n?iE((0,Bh.internal_serializeStyles)(o),n):o}function gV(t={}){const{themeId:e,defaultTheme:n=hV,rootShouldForwardProp:r=Vf,slotShouldForwardProp:i=Vf}=t,o=s=>(0,sV.default)((0,zr.default)({},s,{theme:sf((0,zr.default)({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,Bh.internal_processStyles)(s,N=>N.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:m=mV(pV(u))}=a,E=(0,qv.default)(a,cV),C=c&&c.startsWith("Mui")||u?"components":"custom",_=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,k=h||!1;let S,g=Vf;u==="Root"||u==="root"?g=r:u?g=i:fV(s)&&(g=void 0);const v=(0,Bh.default)(s,(0,zr.default)({shouldForwardProp:g,label:S},E)),I=N=>typeof N=="function"&&N.__emotion_real!==N||(0,iV.isPlainObject)(N)?T=>{const p=sf({theme:T.theme,defaultTheme:n,themeId:e});return Bf(N,(0,zr.default)({},T,{theme:p}),p.modularCssLayers?C:void 0)}:N,M=(N,...T)=>{let p=I(N);const y=T?T.map(I):[];c&&m&&y.push(A=>{const R=sf((0,zr.default)({},A,{defaultTheme:n,themeId:e}));if(!R.components||!R.components[c]||!R.components[c].styleOverrides)return null;const V=R.components[c].styleOverrides,F={};return Object.entries(V).forEach(([W,q])=>{F[W]=Bf(q,(0,zr.default)({},A,{theme:R}),R.modularCssLayers?"theme":void 0)}),m(A,F)}),c&&!_&&y.push(A=>{var R;const V=sf((0,zr.default)({},A,{defaultTheme:n,themeId:e})),F=V==null||(R=V.components)==null||(R=R[c])==null?void 0:R.variants;return Bf({variants:F},(0,zr.default)({},A,{theme:V}),V.modularCssLayers?"theme":void 0)}),k||y.push(o);const x=y.length-T.length;if(Array.isArray(N)&&x>0){const A=new Array(x).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=v(p,...y);return s.muiName&&(j.muiName=s.muiName),j};return v.withConfig&&(M.withConfig=v.withConfig),M}}function gP(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const si=t=>gP(t)&&t!=="classes",Oe=rV({themeId:ml,defaultTheme:Ob,rootShouldForwardProp:si}),yV=["theme"];function vV(t){let{theme:e}=t,n=je(t,yV);const r=e[ml];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=$({},r,{vars:null}):e&&!e.vars&&(i=$({},e,{vars:null}))),l.jsx(lz,$({},n,{themeId:r?ml:void 0,theme:i}))}const oE=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function dt(t){return sz(t)}function xV(t){return ut("MuiSvgIcon",t)}st("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bV=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_V=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${de(e)}`,`fontSize${de(n)}`]};return mt(i,xV,r)},wV=Oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${de(n.color)}`],e[`fontSize${de(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,c,u,f,h,m,E,C;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(c=a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem",large:((u=t.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.active,disabled:(C=(t.vars||t).palette)==null||(C=C.action)==null?void 0:C.disabled,inherit:void 0}[e.color]}}),Kv=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,E=je(r,bV),C=b.isValidElement(i)&&i.type==="svg",_=$({},r,{color:s,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:C}),k={};f||(k.viewBox=m);const S=_V(_);return l.jsxs(wV,$({as:a,className:Ne(S.root,o),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},k,E,C&&i.props,{ownerState:_,children:[C?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});Kv.muiName="SvgIcon";function Io(t,e){function n(r,i){return l.jsx(Kv,$({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Kv.muiName,b.memo(b.forwardRef(n))}const SV={configure:t=>{Eb.configure(t)}},EV=Object.freeze(Object.defineProperty({__proto__:null,capitalize:de,createChainedFunction:Bv,createSvgIcon:Io,debounce:Ib,deprecatedPropType:D9,isMuiElement:zf,ownerDocument:Xn,ownerWindow:cs,requirePropFactory:$9,setRef:$h,unstable_ClassNameGenerator:SV,unstable_useEnhancedEffect:ei,unstable_useId:fd,unsupportedProp:z9,useControlled:Fh,useEventCallback:ki,useForkRef:cn,useIsFocusVisible:kb},Symbol.toStringTag,{value:"Module"}));function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Gv(t,e)}function yP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gv(t,e)}const sE={disabled:!1},Wh=Te.createContext(null);var CV=function(e){return e.scrollTop},Tc="unmounted",Is="exited",ks="entering",wa="entered",Qv="exiting",qi=function(t){yP(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?a?(c=Is,o.appearStatus=ks):c=wa:r.unmountOnExit||r.mountOnEnter?c=Tc:c=Is,o.state={status:c},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Tc?{status:Is}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==ks&&s!==wa&&(o=ks):(s===ks||s===wa)&&(o=Qv)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ks){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Yd.findDOMNode(this);s&&CV(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Is&&this.setState({status:Tc})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[Yd.findDOMNode(this),a],u=c[0],f=c[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!s||sE.disabled){this.safeSetState({status:wa},function(){o.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:ks},function(){o.props.onEntering(u,f),o.onTransitionEnd(m,function(){o.safeSetState({status:wa},function(){o.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Yd.findDOMNode(this);if(!o||sE.disabled){this.safeSetState({status:Is},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Qv},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Is},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Yd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],f=c[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Tc)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=je(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Te.createElement(Wh.Provider,{value:null},typeof s=="function"?s(i,a):Te.cloneElement(Te.Children.only(s),a))},e}(Te.Component);qi.contextType=Wh;qi.propTypes={};function ya(){}qi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ya,onEntering:ya,onEntered:ya,onExit:ya,onExiting:ya,onExited:ya};qi.UNMOUNTED=Tc;qi.EXITED=Is;qi.ENTERING=ks;qi.ENTERED=wa;qi.EXITING=Qv;function TV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nb(t,e){var n=function(o){return e&&b.isValidElement(o)?e(o):o},r=Object.create(null);return t&&b.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function IV(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var c in e){if(r[c])for(s=0;s<r[c].length;s++){var u=r[c][s];a[r[c][s]]=n(u)}a[c]=n(c)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Os(t,e,n){return n[e]!=null?n[e]:t.props[e]}function kV(t,e){return Nb(t.children,function(n){return b.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Os(n,"appear",t),enter:Os(n,"enter",t),exit:Os(n,"exit",t)})})}function RV(t,e,n){var r=Nb(t.children),i=IV(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(b.isValidElement(s)){var a=o in e,c=o in r,u=e[o],f=b.isValidElement(u)&&!u.props.in;c&&(!a||f)?i[o]=b.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Os(s,"exit",t),enter:Os(s,"enter",t)}):!c&&a&&!f?i[o]=b.cloneElement(s,{in:!1}):c&&a&&b.isValidElement(u)&&(i[o]=b.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Os(s,"exit",t),enter:Os(s,"enter",t)}))}}),i}var PV=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},AV={component:"div",childFactory:function(e){return e}},Mb=function(t){yP(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(TV(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,c=o.firstRender;return{children:c?kV(i,a):RV(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Nb(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var c=$({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=je(i,["component","childFactory"]),c=this.state.contextValue,u=PV(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Te.createElement(Wh.Provider,{value:c},u):Te.createElement(Wh.Provider,{value:c},Te.createElement(o,a,u))},e}(Te.Component);Mb.propTypes={};Mb.defaultProps=AV;const vP=t=>t.scrollTop;function Uh(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function jV(t){return ut("MuiPaper",t)}st("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const OV=["className","component","elevation","square","variant"],NV=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return mt(o,jV,i)},MV=Oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return $({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&$({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${$t("#fff",oE(e.elevation))}, ${$t("#fff",oE(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),gi=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:c="elevation"}=r,u=je(r,OV),f=$({},r,{component:o,elevation:s,square:a,variant:c}),h=NV(f);return l.jsx(MV,$({as:o,ownerState:f,className:Ne(h.root,i),ref:n},u))}),LV=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],DV=["component","slots","slotProps"],$V=["component"];function Yv(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,c=je(e,LV),{component:u,slots:f={[t]:void 0},slotProps:h={[t]:void 0}}=o,m=je(o,DV),E=f[t]||r,C=tP(h[t],i),_=eP($({className:n},c,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:C})),{props:{component:k},internalRef:S}=_,g=je(_.props,$V),v=cn(S,C==null?void 0:C.ref,e.ref),I=s?s(g):{},M=$({},i,I),N=t==="root"?k||u:k,T=$a(E,$({},t==="root"&&!u&&!f[t]&&a,t!=="root"&&!f[t]&&a,g,N&&{as:N},{ref:v}),M);return Object.keys(I).forEach(p=>{delete T[p]}),[E,T]}function FV(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:c,timeout:u}=t,[f,h]=b.useState(!1),m=Ne(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),E={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},C=Ne(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),b.useEffect(()=>{if(!a&&c!=null){const _=setTimeout(c,u);return()=>{clearTimeout(_)}}},[c,a,u]),l.jsx("span",{className:m,style:E,children:l.jsx("span",{className:C})})}const Vr=st("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zV=["center","classes","className"];let Lm=t=>t,aE,lE,cE,uE;const Xv=550,VV=80,BV=pm(aE||(aE=Lm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),WV=pm(lE||(lE=Lm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),UV=pm(cE||(cE=Lm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),HV=Oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qV=Oe(FV,{name:"MuiTouchRipple",slot:"Ripple"})(uE||(uE=Lm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Vr.rippleVisible,BV,Xv,({theme:t})=>t.transitions.easing.easeInOut,Vr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Vr.child,Vr.childLeaving,WV,Xv,({theme:t})=>t.transitions.easing.easeInOut,Vr.childPulsate,UV,({theme:t})=>t.transitions.easing.easeInOut),KV=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=je(r,zV),[c,u]=b.useState([]),f=b.useRef(0),h=b.useRef(null);b.useEffect(()=>{h.current&&(h.current(),h.current=null)},[c]);const m=b.useRef(!1),E=Da(),C=b.useRef(null),_=b.useRef(null),k=b.useCallback(I=>{const{pulsate:M,rippleX:N,rippleY:T,rippleSize:p,cb:y}=I;u(x=>[...x,l.jsx(qV,{classes:{ripple:Ne(o.ripple,Vr.ripple),rippleVisible:Ne(o.rippleVisible,Vr.rippleVisible),ripplePulsate:Ne(o.ripplePulsate,Vr.ripplePulsate),child:Ne(o.child,Vr.child),childLeaving:Ne(o.childLeaving,Vr.childLeaving),childPulsate:Ne(o.childPulsate,Vr.childPulsate)},timeout:Xv,pulsate:M,rippleX:N,rippleY:T,rippleSize:p},f.current)]),f.current+=1,h.current=y},[o]),S=b.useCallback((I={},M={},N=()=>{})=>{const{pulsate:T=!1,center:p=i||M.pulsate,fakeElement:y=!1}=M;if((I==null?void 0:I.type)==="mousedown"&&m.current){m.current=!1;return}(I==null?void 0:I.type)==="touchstart"&&(m.current=!0);const x=y?null:_.current,j=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,R,V;if(p||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)A=Math.round(j.width/2),R=Math.round(j.height/2);else{const{clientX:F,clientY:W}=I.touches&&I.touches.length>0?I.touches[0]:I;A=Math.round(F-j.left),R=Math.round(W-j.top)}if(p)V=Math.sqrt((2*j.width**2+j.height**2)/3),V%2===0&&(V+=1);else{const F=Math.max(Math.abs((x?x.clientWidth:0)-A),A)*2+2,W=Math.max(Math.abs((x?x.clientHeight:0)-R),R)*2+2;V=Math.sqrt(F**2+W**2)}I!=null&&I.touches?C.current===null&&(C.current=()=>{k({pulsate:T,rippleX:A,rippleY:R,rippleSize:V,cb:N})},E.start(VV,()=>{C.current&&(C.current(),C.current=null)})):k({pulsate:T,rippleX:A,rippleY:R,rippleSize:V,cb:N})},[i,k,E]),g=b.useCallback(()=>{S({},{pulsate:!0})},[S]),v=b.useCallback((I,M)=>{if(E.clear(),(I==null?void 0:I.type)==="touchend"&&C.current){C.current(),C.current=null,E.start(0,()=>{v(I,M)});return}C.current=null,u(N=>N.length>0?N.slice(1):N),h.current=M},[E]);return b.useImperativeHandle(n,()=>({pulsate:g,start:S,stop:v}),[g,S,v]),l.jsx(HV,$({className:Ne(Vr.root,o.root,s),ref:_},a,{children:l.jsx(Mb,{component:null,exit:!0,children:c})}))});function GV(t){return ut("MuiButtonBase",t)}const QV=st("MuiButtonBase",["root","disabled","focusVisible"]),YV=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],XV=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=mt({root:["root",e&&"disabled",n&&"focusVisible"]},GV,i);return n&&r&&(s.root+=` ${r}`),s},JV=Oe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${QV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Iu=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:c="button",disabled:u=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:E="a",onBlur:C,onClick:_,onContextMenu:k,onDragLeave:S,onFocus:g,onFocusVisible:v,onKeyDown:I,onKeyUp:M,onMouseDown:N,onMouseLeave:T,onMouseUp:p,onTouchEnd:y,onTouchMove:x,onTouchStart:j,tabIndex:A=0,TouchRippleProps:R,touchRippleRef:V,type:F}=r,W=je(r,YV),q=b.useRef(null),L=b.useRef(null),z=cn(L,V),{isFocusVisibleRef:B,onFocus:K,onBlur:Y,ref:X}=kb(),[ne,fe]=b.useState(!1);u&&ne&&fe(!1),b.useImperativeHandle(i,()=>({focusVisible:()=>{fe(!0),q.current.focus()}}),[]);const[me,U]=b.useState(!1);b.useEffect(()=>{U(!0)},[]);const J=me&&!f&&!u;b.useEffect(()=>{ne&&m&&!f&&me&&L.current.pulsate()},[f,m,ne,me]);function H(Re,it,Tt=h){return ki(et=>(it&&it(et),!Tt&&L.current&&L.current[Re](et),!0))}const se=H("start",N),Z=H("stop",k),ie=H("stop",S),pe=H("stop",p),ve=H("stop",Re=>{ne&&Re.preventDefault(),T&&T(Re)}),xe=H("start",j),Ee=H("stop",y),Je=H("stop",x),Se=H("stop",Re=>{Y(Re),B.current===!1&&fe(!1),C&&C(Re)},!1),Q=ki(Re=>{q.current||(q.current=Re.currentTarget),K(Re),B.current===!0&&(fe(!0),v&&v(Re)),g&&g(Re)}),re=()=>{const Re=q.current;return c&&c!=="button"&&!(Re.tagName==="A"&&Re.href)},Ie=b.useRef(!1),Ce=ki(Re=>{m&&!Ie.current&&ne&&L.current&&Re.key===" "&&(Ie.current=!0,L.current.stop(Re,()=>{L.current.start(Re)})),Re.target===Re.currentTarget&&re()&&Re.key===" "&&Re.preventDefault(),I&&I(Re),Re.target===Re.currentTarget&&re()&&Re.key==="Enter"&&!u&&(Re.preventDefault(),_&&_(Re))}),ke=ki(Re=>{m&&Re.key===" "&&L.current&&ne&&!Re.defaultPrevented&&(Ie.current=!1,L.current.stop(Re,()=>{L.current.pulsate(Re)})),M&&M(Re),_&&Re.target===Re.currentTarget&&re()&&Re.key===" "&&!Re.defaultPrevented&&_(Re)});let ge=c;ge==="button"&&(W.href||W.to)&&(ge=E);const rt={};ge==="button"?(rt.type=F===void 0?"button":F,rt.disabled=u):(!W.href&&!W.to&&(rt.role="button"),u&&(rt["aria-disabled"]=u));const _e=cn(n,X,q),be=$({},r,{centerRipple:o,component:c,disabled:u,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:A,focusVisible:ne}),Le=XV(be);return l.jsxs(JV,$({as:ge,className:Ne(Le.root,a),ownerState:be,onBlur:Se,onClick:_,onContextMenu:Z,onFocus:Q,onKeyDown:Ce,onKeyUp:ke,onMouseDown:se,onMouseLeave:ve,onMouseUp:pe,onDragLeave:ie,onTouchEnd:Ee,onTouchMove:Je,onTouchStart:xe,ref:_e,tabIndex:u?-1:A,type:F},rt,W,{children:[s,J?l.jsx(KV,$({ref:z,center:o},R)):null]}))});function ZV(t){return ut("MuiAlert",t)}const dE=st("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function eB(t){return ut("MuiIconButton",t)}const tB=st("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),nB=["edge","children","className","color","disabled","disableFocusRipple","size"],rB=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${de(r)}`,i&&`edge${de(i)}`,`size${de(o)}`]};return mt(s,eB,e)},iB=Oe(Iu,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${de(n.color)}`],n.edge&&e[`edge${de(n.edge)}`],e[`size${de(n.size)}`]]}})(({theme:t,ownerState:e})=>$({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:$t(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return $({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&$({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":$({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:$t(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${tB.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Lb=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:c=!1,disableFocusRipple:u=!1,size:f="medium"}=r,h=je(r,nB),m=$({},r,{edge:i,color:a,disabled:c,disableFocusRipple:u,size:f}),E=rB(m);return l.jsx(iB,$({className:Ne(E.root,s),centerRipple:!0,focusRipple:!u,disabled:c,ref:n},h,{ownerState:m,children:o}))}),oB=Io(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),sB=Io(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),aB=Io(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),lB=Io(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),cB=Io(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),uB=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],dB=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${de(n||r)}`,`${e}${de(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return mt(o,ZV,i)},fB=Oe(gi,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?Uv:Hv,n=t.palette.mode==="light"?Hv:Uv;return $({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${dE.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${dE.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:$({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),hB=Oe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),pB=Oe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),fE=Oe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),hE={success:l.jsx(oB,{fontSize:"inherit"}),warning:l.jsx(sB,{fontSize:"inherit"}),error:l.jsx(aB,{fontSize:"inherit"}),info:l.jsx(lB,{fontSize:"inherit"})},pE=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiAlert"}),{action:i,children:o,className:s,closeText:a="Close",color:c,components:u={},componentsProps:f={},icon:h,iconMapping:m=hE,onClose:E,role:C="alert",severity:_="success",slotProps:k={},slots:S={},variant:g="standard"}=r,v=je(r,uB),I=$({},r,{color:c,severity:_,variant:g,colorSeverity:c||_}),M=dB(I),N={slots:$({closeButton:u.CloseButton,closeIcon:u.CloseIcon},S),slotProps:$({},f,k)},[T,p]=Yv("closeButton",{elementType:Lb,externalForwardedProps:N,ownerState:I}),[y,x]=Yv("closeIcon",{elementType:cB,externalForwardedProps:N,ownerState:I});return l.jsxs(fB,$({role:C,elevation:0,ownerState:I,className:Ne(M.root,s),ref:n},v,{children:[h!==!1?l.jsx(hB,{ownerState:I,className:M.icon,children:h||m[_]||hE[_]}):null,l.jsx(pB,{ownerState:I,className:M.message,children:o}),i!=null?l.jsx(fE,{ownerState:I,className:M.action,children:i}):null,i==null&&E?l.jsx(fE,{ownerState:I,className:M.action,children:l.jsx(T,$({size:"small","aria-label":a,title:a,color:"inherit",onClick:E},p,{children:l.jsx(y,$({fontSize:"small"},x))}))}):null]}))});function mB(t){return ut("MuiTypography",t)}st("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const gB=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],yB=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${de(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return mt(a,mB,s)},vB=Oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${de(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>$({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),mE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xB={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},bB=t=>xB[t]||t,Be=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiTypography"}),i=bB(r.color),o=Sm($({},r,{color:i})),{align:s="inherit",className:a,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:E=mE}=o,C=je(o,gB),_=$({},o,{align:s,color:i,className:a,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:m,variantMapping:E}),k=c||(h?"p":E[m]||mE[m])||"span",S=yB(_);return l.jsx(vB,$({as:k,ref:n,ownerState:_,className:Ne(S.root,a)},C))});function _B(t){return ut("MuiAppBar",t)}st("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const wB=["className","color","enableColorOnDark","position"],SB=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${de(e)}`,`position${de(n)}`]};return mt(i,_B,r)},af=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,EB=Oe(gi,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${de(n.position)}`],e[`color${de(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return $({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&$({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&$({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&$({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:af(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:af(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:af(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:af(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),CB=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,c=je(r,wB),u=$({},r,{color:o,position:a,enableColorOnDark:s}),f=SB(u);return l.jsx(EB,$({square:!0,component:"header",ownerState:u,elevation:4,className:Ne(f.root,i,a==="fixed"&&"mui-fixed"),ref:n},c))});var Db={};Object.defineProperty(Db,"__esModule",{value:!0});var xP=Db.default=void 0,TB=kB(b),IB=pP;function bP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(bP=function(r){return r?n:e})(t)}function kB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=bP(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function RB(t){return Object.keys(t).length===0}function PB(t=null){const e=TB.useContext(IB.ThemeContext);return!e||RB(e)?t:e}xP=Db.default=PB;var gr="top",ni="bottom",ri="right",yr="left",$b="auto",gd=[gr,ni,ri,yr],yl="start",ku="end",AB="clippingParents",_P="viewport",lc="popper",jB="reference",gE=gd.reduce(function(t,e){return t.concat([e+"-"+yl,e+"-"+ku])},[]),wP=[].concat(gd,[$b]).reduce(function(t,e){return t.concat([e,e+"-"+yl,e+"-"+ku])},[]),OB="beforeRead",NB="read",MB="afterRead",LB="beforeMain",DB="main",$B="afterMain",FB="beforeWrite",zB="write",VB="afterWrite",BB=[OB,NB,MB,LB,DB,$B,FB,zB,VB];function Vi(t){return t?(t.nodeName||"").toLowerCase():null}function Ar(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Js(t){var e=Ar(t).Element;return t instanceof e||t instanceof Element}function Qr(t){var e=Ar(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Fb(t){if(typeof ShadowRoot>"u")return!1;var e=Ar(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function WB(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Qr(o)||!Vi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function UB(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!Qr(i)||!Vi(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}const HB={name:"applyStyles",enabled:!0,phase:"write",fn:WB,effect:UB,requires:["computeStyles"]};function Di(t){return t.split("-")[0]}var Ds=Math.max,Hh=Math.min,vl=Math.round;function Jv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function SP(){return!/^((?!chrome|android).)*safari/i.test(Jv())}function xl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Qr(t)&&(i=t.offsetWidth>0&&vl(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&vl(r.height)/t.offsetHeight||1);var s=Js(t)?Ar(t):window,a=s.visualViewport,c=!SP()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/i,f=(r.top+(c&&a?a.offsetTop:0))/o,h=r.width/i,m=r.height/o;return{width:h,height:m,top:f,right:u+h,bottom:f+m,left:u,x:u,y:f}}function zb(t){var e=xl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function EP(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Fb(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function So(t){return Ar(t).getComputedStyle(t)}function qB(t){return["table","td","th"].indexOf(Vi(t))>=0}function vs(t){return((Js(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dm(t){return Vi(t)==="html"?t:t.assignedSlot||t.parentNode||(Fb(t)?t.host:null)||vs(t)}function yE(t){return!Qr(t)||So(t).position==="fixed"?null:t.offsetParent}function KB(t){var e=/firefox/i.test(Jv()),n=/Trident/i.test(Jv());if(n&&Qr(t)){var r=So(t);if(r.position==="fixed")return null}var i=Dm(t);for(Fb(i)&&(i=i.host);Qr(i)&&["html","body"].indexOf(Vi(i))<0;){var o=So(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function yd(t){for(var e=Ar(t),n=yE(t);n&&qB(n)&&So(n).position==="static";)n=yE(n);return n&&(Vi(n)==="html"||Vi(n)==="body"&&So(n).position==="static")?e:n||KB(t)||e}function Vb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Wc(t,e,n){return Ds(t,Hh(e,n))}function GB(t,e,n){var r=Wc(t,e,n);return r>n?n:r}function CP(){return{top:0,right:0,bottom:0,left:0}}function TP(t){return Object.assign({},CP(),t)}function IP(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var QB=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,TP(typeof e!="number"?e:IP(e,gd))};function YB(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Di(n.placement),c=Vb(a),u=[yr,ri].indexOf(a)>=0,f=u?"height":"width";if(!(!o||!s)){var h=QB(i.padding,n),m=zb(o),E=c==="y"?gr:yr,C=c==="y"?ni:ri,_=n.rects.reference[f]+n.rects.reference[c]-s[c]-n.rects.popper[f],k=s[c]-n.rects.reference[c],S=yd(o),g=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,v=_/2-k/2,I=h[E],M=g-m[f]-h[C],N=g/2-m[f]/2+v,T=Wc(I,N,M),p=c;n.modifiersData[r]=(e={},e[p]=T,e.centerOffset=T-N,e)}}function XB(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||EP(e.elements.popper,i)&&(e.elements.arrow=i))}const JB={name:"arrow",enabled:!0,phase:"main",fn:YB,effect:XB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bl(t){return t.split("-")[1]}var ZB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eW(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:vl(n*i)/i||0,y:vl(r*i)/i||0}}function vE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,h=t.isFixed,m=s.x,E=m===void 0?0:m,C=s.y,_=C===void 0?0:C,k=typeof f=="function"?f({x:E,y:_}):{x:E,y:_};E=k.x,_=k.y;var S=s.hasOwnProperty("x"),g=s.hasOwnProperty("y"),v=yr,I=gr,M=window;if(u){var N=yd(n),T="clientHeight",p="clientWidth";if(N===Ar(n)&&(N=vs(n),So(N).position!=="static"&&a==="absolute"&&(T="scrollHeight",p="scrollWidth")),N=N,i===gr||(i===yr||i===ri)&&o===ku){I=ni;var y=h&&N===M&&M.visualViewport?M.visualViewport.height:N[T];_-=y-r.height,_*=c?1:-1}if(i===yr||(i===gr||i===ni)&&o===ku){v=ri;var x=h&&N===M&&M.visualViewport?M.visualViewport.width:N[p];E-=x-r.width,E*=c?1:-1}}var j=Object.assign({position:a},u&&ZB),A=f===!0?eW({x:E,y:_},Ar(n)):{x:E,y:_};if(E=A.x,_=A.y,c){var R;return Object.assign({},j,(R={},R[I]=g?"0":"",R[v]=S?"0":"",R.transform=(M.devicePixelRatio||1)<=1?"translate("+E+"px, "+_+"px)":"translate3d("+E+"px, "+_+"px, 0)",R))}return Object.assign({},j,(e={},e[I]=g?_+"px":"",e[v]=S?E+"px":"",e.transform="",e))}function tW(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:Di(e.placement),variation:bl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vE(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vE(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tW,data:{}};var lf={passive:!0};function rW(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Ar(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(f){f.addEventListener("scroll",n.update,lf)}),a&&c.addEventListener("resize",n.update,lf),function(){o&&u.forEach(function(f){f.removeEventListener("scroll",n.update,lf)}),a&&c.removeEventListener("resize",n.update,lf)}}const iW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rW,data:{}};var oW={left:"right",right:"left",bottom:"top",top:"bottom"};function Wf(t){return t.replace(/left|right|bottom|top/g,function(e){return oW[e]})}var sW={start:"end",end:"start"};function xE(t){return t.replace(/start|end/g,function(e){return sW[e]})}function Bb(t){var e=Ar(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Wb(t){return xl(vs(t)).left+Bb(t).scrollLeft}function aW(t,e){var n=Ar(t),r=vs(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var u=SP();(u||!u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+Wb(t),y:c}}function lW(t){var e,n=vs(t),r=Bb(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ds(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ds(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Wb(t),c=-r.scrollTop;return So(i||n).direction==="rtl"&&(a+=Ds(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function Ub(t){var e=So(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kP(t){return["html","body","#document"].indexOf(Vi(t))>=0?t.ownerDocument.body:Qr(t)&&Ub(t)?t:kP(Dm(t))}function Uc(t,e){var n;e===void 0&&(e=[]);var r=kP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ar(r),s=i?[o].concat(o.visualViewport||[],Ub(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Uc(Dm(s)))}function Zv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function cW(t,e){var n=xl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bE(t,e,n){return e===_P?Zv(aW(t,n)):Js(e)?cW(e,n):Zv(lW(vs(t)))}function uW(t){var e=Uc(Dm(t)),n=["absolute","fixed"].indexOf(So(t).position)>=0,r=n&&Qr(t)?yd(t):t;return Js(r)?e.filter(function(i){return Js(i)&&EP(i,r)&&Vi(i)!=="body"}):[]}function dW(t,e,n,r){var i=e==="clippingParents"?uW(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,u){var f=bE(t,u,r);return c.top=Ds(f.top,c.top),c.right=Hh(f.right,c.right),c.bottom=Hh(f.bottom,c.bottom),c.left=Ds(f.left,c.left),c},bE(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function RP(t){var e=t.reference,n=t.element,r=t.placement,i=r?Di(r):null,o=r?bl(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case gr:c={x:s,y:e.y-n.height};break;case ni:c={x:s,y:e.y+e.height};break;case ri:c={x:e.x+e.width,y:a};break;case yr:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var u=i?Vb(i):null;if(u!=null){var f=u==="y"?"height":"width";switch(o){case yl:c[u]=c[u]-(e[f]/2-n[f]/2);break;case ku:c[u]=c[u]+(e[f]/2-n[f]/2);break}}return c}function Ru(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?AB:a,u=n.rootBoundary,f=u===void 0?_P:u,h=n.elementContext,m=h===void 0?lc:h,E=n.altBoundary,C=E===void 0?!1:E,_=n.padding,k=_===void 0?0:_,S=TP(typeof k!="number"?k:IP(k,gd)),g=m===lc?jB:lc,v=t.rects.popper,I=t.elements[C?g:m],M=dW(Js(I)?I:I.contextElement||vs(t.elements.popper),c,f,s),N=xl(t.elements.reference),T=RP({reference:N,element:v,placement:i}),p=Zv(Object.assign({},v,T)),y=m===lc?p:N,x={top:M.top-y.top+S.top,bottom:y.bottom-M.bottom+S.bottom,left:M.left-y.left+S.left,right:y.right-M.right+S.right},j=t.modifiersData.offset;if(m===lc&&j){var A=j[i];Object.keys(x).forEach(function(R){var V=[ri,ni].indexOf(R)>=0?1:-1,F=[gr,ni].indexOf(R)>=0?"y":"x";x[R]+=A[F]*V})}return x}function fW(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?wP:c,f=bl(r),h=f?a?gE:gE.filter(function(C){return bl(C)===f}):gd,m=h.filter(function(C){return u.indexOf(C)>=0});m.length===0&&(m=h);var E=m.reduce(function(C,_){return C[_]=Ru(t,{placement:_,boundary:i,rootBoundary:o,padding:s})[Di(_)],C},{});return Object.keys(E).sort(function(C,_){return E[C]-E[_]})}function hW(t){if(Di(t)===$b)return[];var e=Wf(t);return[xE(t),e,xE(e)]}function pW(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,u=n.padding,f=n.boundary,h=n.rootBoundary,m=n.altBoundary,E=n.flipVariations,C=E===void 0?!0:E,_=n.allowedAutoPlacements,k=e.options.placement,S=Di(k),g=S===k,v=c||(g||!C?[Wf(k)]:hW(k)),I=[k].concat(v).reduce(function(ne,fe){return ne.concat(Di(fe)===$b?fW(e,{placement:fe,boundary:f,rootBoundary:h,padding:u,flipVariations:C,allowedAutoPlacements:_}):fe)},[]),M=e.rects.reference,N=e.rects.popper,T=new Map,p=!0,y=I[0],x=0;x<I.length;x++){var j=I[x],A=Di(j),R=bl(j)===yl,V=[gr,ni].indexOf(A)>=0,F=V?"width":"height",W=Ru(e,{placement:j,boundary:f,rootBoundary:h,altBoundary:m,padding:u}),q=V?R?ri:yr:R?ni:gr;M[F]>N[F]&&(q=Wf(q));var L=Wf(q),z=[];if(o&&z.push(W[A]<=0),a&&z.push(W[q]<=0,W[L]<=0),z.every(function(ne){return ne})){y=j,p=!1;break}T.set(j,z)}if(p)for(var B=C?3:1,K=function(fe){var me=I.find(function(U){var J=T.get(U);if(J)return J.slice(0,fe).every(function(H){return H})});if(me)return y=me,"break"},Y=B;Y>0;Y--){var X=K(Y);if(X==="break")break}e.placement!==y&&(e.modifiersData[r]._skip=!0,e.placement=y,e.reset=!0)}}const mW={name:"flip",enabled:!0,phase:"main",fn:pW,requiresIfExists:["offset"],data:{_skip:!1}};function _E(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function wE(t){return[gr,ri,ni,yr].some(function(e){return t[e]>=0})}function gW(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Ru(e,{elementContext:"reference"}),a=Ru(e,{altBoundary:!0}),c=_E(s,r),u=_E(a,i,o),f=wE(c),h=wE(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const yW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gW};function vW(t,e,n){var r=Di(t),i=[yr,gr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[yr,ri].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function xW(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=wP.reduce(function(f,h){return f[h]=vW(h,e.rects,o),f},{}),a=s[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const bW={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xW};function _W(t){var e=t.state,n=t.name;e.modifiersData[n]=RP({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const wW={name:"popperOffsets",enabled:!0,phase:"read",fn:_W,data:{}};function SW(t){return t==="x"?"y":"x"}function EW(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,u=n.rootBoundary,f=n.altBoundary,h=n.padding,m=n.tether,E=m===void 0?!0:m,C=n.tetherOffset,_=C===void 0?0:C,k=Ru(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:f}),S=Di(e.placement),g=bl(e.placement),v=!g,I=Vb(S),M=SW(I),N=e.modifiersData.popperOffsets,T=e.rects.reference,p=e.rects.popper,y=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,x=typeof y=="number"?{mainAxis:y,altAxis:y}:Object.assign({mainAxis:0,altAxis:0},y),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(N){if(o){var R,V=I==="y"?gr:yr,F=I==="y"?ni:ri,W=I==="y"?"height":"width",q=N[I],L=q+k[V],z=q-k[F],B=E?-p[W]/2:0,K=g===yl?T[W]:p[W],Y=g===yl?-p[W]:-T[W],X=e.elements.arrow,ne=E&&X?zb(X):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:CP(),me=fe[V],U=fe[F],J=Wc(0,T[W],ne[W]),H=v?T[W]/2-B-J-me-x.mainAxis:K-J-me-x.mainAxis,se=v?-T[W]/2+B+J+U+x.mainAxis:Y+J+U+x.mainAxis,Z=e.elements.arrow&&yd(e.elements.arrow),ie=Z?I==="y"?Z.clientTop||0:Z.clientLeft||0:0,pe=(R=j==null?void 0:j[I])!=null?R:0,ve=q+H-pe-ie,xe=q+se-pe,Ee=Wc(E?Hh(L,ve):L,q,E?Ds(z,xe):z);N[I]=Ee,A[I]=Ee-q}if(a){var Je,Se=I==="x"?gr:yr,Q=I==="x"?ni:ri,re=N[M],Ie=M==="y"?"height":"width",Ce=re+k[Se],ke=re-k[Q],ge=[gr,yr].indexOf(S)!==-1,rt=(Je=j==null?void 0:j[M])!=null?Je:0,_e=ge?Ce:re-T[Ie]-p[Ie]-rt+x.altAxis,be=ge?re+T[Ie]+p[Ie]-rt-x.altAxis:ke,Le=E&&ge?GB(_e,re,be):Wc(E?_e:Ce,re,E?be:ke);N[M]=Le,A[M]=Le-re}e.modifiersData[r]=A}}const CW={name:"preventOverflow",enabled:!0,phase:"main",fn:EW,requiresIfExists:["offset"]};function TW(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function IW(t){return t===Ar(t)||!Qr(t)?Bb(t):TW(t)}function kW(t){var e=t.getBoundingClientRect(),n=vl(e.width)/t.offsetWidth||1,r=vl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function RW(t,e,n){n===void 0&&(n=!1);var r=Qr(e),i=Qr(e)&&kW(e),o=vs(e),s=xl(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Vi(e)!=="body"||Ub(o))&&(a=IW(e)),Qr(e)?(c=xl(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Wb(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function PW(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function AW(t){var e=PW(t);return BB.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function jW(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OW(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var SE={placement:"bottom",modifiers:[],strategy:"absolute"};function EE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function NW(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?SE:i;return function(a,c,u){u===void 0&&(u=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},SE,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},h=[],m=!1,E={state:f,setOptions:function(S){var g=typeof S=="function"?S(f.options):S;_(),f.options=Object.assign({},o,f.options,g),f.scrollParents={reference:Js(a)?Uc(a):a.contextElement?Uc(a.contextElement):[],popper:Uc(c)};var v=AW(OW([].concat(r,f.options.modifiers)));return f.orderedModifiers=v.filter(function(I){return I.enabled}),C(),E.update()},forceUpdate:function(){if(!m){var S=f.elements,g=S.reference,v=S.popper;if(EE(g,v)){f.rects={reference:RW(g,yd(v),f.options.strategy==="fixed"),popper:zb(v)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(x){return f.modifiersData[x.name]=Object.assign({},x.data)});for(var I=0;I<f.orderedModifiers.length;I++){if(f.reset===!0){f.reset=!1,I=-1;continue}var M=f.orderedModifiers[I],N=M.fn,T=M.options,p=T===void 0?{}:T,y=M.name;typeof N=="function"&&(f=N({state:f,options:p,name:y,instance:E})||f)}}}},update:jW(function(){return new Promise(function(k){E.forceUpdate(),k(f)})}),destroy:function(){_(),m=!0}};if(!EE(a,c))return E;E.setOptions(u).then(function(k){!m&&u.onFirstUpdate&&u.onFirstUpdate(k)});function C(){f.orderedModifiers.forEach(function(k){var S=k.name,g=k.options,v=g===void 0?{}:g,I=k.effect;if(typeof I=="function"){var M=I({state:f,name:S,instance:E,options:v}),N=function(){};h.push(M||N)}})}function _(){h.forEach(function(k){return k()}),h=[]}return E}}var MW=[iW,wW,nW,HB,bW,mW,CW,JB,yW],LW=NW({defaultModifiers:MW});function DW(t){return typeof t=="function"?t():t}const PP=b.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=b.useState(null),c=cn(b.isValidElement(r)?$l(r):null,n);if(ei(()=>{o||a(DW(i)||document.body)},[i,o]),ei(()=>{if(s&&!o)return $h(n,s),()=>{$h(n,null)}},[n,s,o]),o){if(b.isValidElement(r)){const u={ref:c};return b.cloneElement(r,u)}return l.jsx(b.Fragment,{children:r})}return l.jsx(b.Fragment,{children:s&&ax.createPortal(r,s)})});function $W(t){return ut("MuiPopper",t)}st("MuiPopper",["root"]);const FW=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],zW=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function VW(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function e0(t){return typeof t=="function"?t():t}function BW(t){return t.nodeType!==void 0}const WW=t=>{const{classes:e}=t;return mt({root:["root"]},$W,e)},UW={},HW=b.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:c,open:u,placement:f,popperOptions:h,popperRef:m,slotProps:E={},slots:C={},TransitionProps:_}=e,k=je(e,FW),S=b.useRef(null),g=cn(S,n),v=b.useRef(null),I=cn(v,m),M=b.useRef(I);ei(()=>{M.current=I},[I]),b.useImperativeHandle(m,()=>v.current,[]);const N=VW(f,s),[T,p]=b.useState(N),[y,x]=b.useState(e0(i));b.useEffect(()=>{v.current&&v.current.forceUpdate()}),b.useEffect(()=>{i&&x(e0(i))},[i]),ei(()=>{if(!y||!u)return;const F=L=>{p(L.placement)};let W=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:L})=>{F(L)}}];c!=null&&(W=W.concat(c)),h&&h.modifiers!=null&&(W=W.concat(h.modifiers));const q=LW(y,S.current,$({placement:N},h,{modifiers:W}));return M.current(q),()=>{q.destroy(),M.current(null)}},[y,a,c,u,h,N]);const j={placement:T};_!==null&&(j.TransitionProps=_);const A=WW(e),R=(r=C.root)!=null?r:"div",V=wo({elementType:R,externalSlotProps:E.root,externalForwardedProps:k,additionalProps:{role:"tooltip",ref:g},ownerState:e,className:A.root});return l.jsx(R,$({},V,{children:typeof o=="function"?o(j):o}))}),qW=b.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:u,open:f,placement:h="bottom",popperOptions:m=UW,popperRef:E,style:C,transition:_=!1,slotProps:k={},slots:S={}}=e,g=je(e,zW),[v,I]=b.useState(!0),M=()=>{I(!1)},N=()=>{I(!0)};if(!c&&!f&&(!_||v))return null;let T;if(o)T=o;else if(r){const x=e0(r);T=x&&BW(x)?Xn(x).body:Xn(null).body}const p=!f&&c&&(!_||v)?"none":void 0,y=_?{in:f,onEnter:M,onExited:N}:void 0;return l.jsx(PP,{disablePortal:a,container:T,children:l.jsx(HW,$({anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:_?!v:f,placement:h,popperOptions:m,popperRef:E,slotProps:k,slots:S},g,{style:$({position:"fixed",top:0,left:0,display:p},C),TransitionProps:y,children:i}))})}),KW=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],GW=Oe(qW,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),AP=b.forwardRef(function(e,n){var r;const i=xP(),o=dt({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:c,componentsProps:u,container:f,disablePortal:h,keepMounted:m,modifiers:E,open:C,placement:_,popperOptions:k,popperRef:S,transition:g,slots:v,slotProps:I}=o,M=je(o,KW),N=(r=v==null?void 0:v.root)!=null?r:c==null?void 0:c.Root,T=$({anchorEl:s,container:f,disablePortal:h,keepMounted:m,modifiers:E,open:C,placement:_,popperOptions:k,popperRef:S,transition:g},M);return l.jsx(GW,$({as:a,direction:i==null?void 0:i.direction,slots:{root:N},slotProps:I??u},T,{ref:n}))}),QW=Io(l.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function YW(t){return ut("MuiChip",t)}const wt=st("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),XW=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],JW=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:c}=t,u={root:["root",c,n&&"disabled",`size${de(r)}`,`color${de(i)}`,a&&"clickable",a&&`clickableColor${de(i)}`,s&&"deletable",s&&`deletableColor${de(i)}`,`${c}${de(i)}`],label:["label",`label${de(r)}`],avatar:["avatar",`avatar${de(r)}`,`avatarColor${de(i)}`],icon:["icon",`icon${de(r)}`,`iconColor${de(o)}`],deleteIcon:["deleteIcon",`deleteIcon${de(r)}`,`deleteIconColor${de(i)}`,`deleteIcon${de(c)}Color${de(i)}`]};return mt(u,YW,e)},ZW=Oe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:c}=n;return[{[`& .${wt.avatar}`]:e.avatar},{[`& .${wt.avatar}`]:e[`avatar${de(a)}`]},{[`& .${wt.avatar}`]:e[`avatarColor${de(r)}`]},{[`& .${wt.icon}`]:e.icon},{[`& .${wt.icon}`]:e[`icon${de(a)}`]},{[`& .${wt.icon}`]:e[`iconColor${de(i)}`]},{[`& .${wt.deleteIcon}`]:e.deleteIcon},{[`& .${wt.deleteIcon}`]:e[`deleteIcon${de(a)}`]},{[`& .${wt.deleteIcon}`]:e[`deleteIconColor${de(r)}`]},{[`& .${wt.deleteIcon}`]:e[`deleteIcon${de(c)}Color${de(r)}`]},e.root,e[`size${de(a)}`],e[`color${de(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${de(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${de(r)}`],e[c],e[`${c}${de(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return $({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${wt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${wt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${wt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${wt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${wt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${wt.icon}`]:$({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&$({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${wt.deleteIcon}`]:$({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:$t(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:$t(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:$t(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:$t(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${wt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>$({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:$t(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:$t(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${wt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>$({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${wt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${wt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${wt.avatar}`]:{marginLeft:4},[`& .${wt.avatarSmall}`]:{marginLeft:2},[`& .${wt.icon}`]:{marginLeft:4},[`& .${wt.iconSmall}`]:{marginLeft:2},[`& .${wt.deleteIcon}`]:{marginRight:5},[`& .${wt.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:$t(t.palette[e.color].main,.7)}`,[`&.${wt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:$t(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:$t(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${wt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:$t(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),eU=Oe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${de(r)}`]]}})(({ownerState:t})=>$({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function CE(t){return t.key==="Backspace"||t.key==="Delete"}const TE=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:c,deleteIcon:u,disabled:f=!1,icon:h,label:m,onClick:E,onDelete:C,onKeyDown:_,onKeyUp:k,size:S="medium",variant:g="filled",tabIndex:v,skipFocusWhenDisabled:I=!1}=r,M=je(r,XW),N=b.useRef(null),T=cn(N,n),p=z=>{z.stopPropagation(),C&&C(z)},y=z=>{z.currentTarget===z.target&&CE(z)&&z.preventDefault(),_&&_(z)},x=z=>{z.currentTarget===z.target&&(C&&CE(z)?C(z):z.key==="Escape"&&N.current&&N.current.blur()),k&&k(z)},j=s!==!1&&E?!0:s,A=j||C?Iu:c||"div",R=$({},r,{component:A,disabled:f,size:S,color:a,iconColor:b.isValidElement(h)&&h.props.color||a,onDelete:!!C,clickable:j,variant:g}),V=JW(R),F=A===Iu?$({component:c||"div",focusVisibleClassName:V.focusVisible},C&&{disableRipple:!0}):{};let W=null;C&&(W=u&&b.isValidElement(u)?b.cloneElement(u,{className:Ne(u.props.className,V.deleteIcon),onClick:p}):l.jsx(QW,{className:Ne(V.deleteIcon),onClick:p}));let q=null;i&&b.isValidElement(i)&&(q=b.cloneElement(i,{className:Ne(V.avatar,i.props.className)}));let L=null;return h&&b.isValidElement(h)&&(L=b.cloneElement(h,{className:Ne(V.icon,h.props.className)})),l.jsxs(ZW,$({as:A,className:Ne(V.root,o),disabled:j&&f?!0:void 0,onClick:E,onKeyDown:y,onKeyUp:x,ref:T,tabIndex:I&&f?-1:v,ownerState:R},F,M,{children:[q||L,l.jsx(eU,{className:Ne(V.label),ownerState:R,children:m}),W]}))}),tU=["onChange","maxRows","minRows","style","value"];function cf(t){return parseInt(t,10)||0}const nU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function rU(t){for(const e in t)return!1;return!0}function IE(t){return rU(t)||t.outerHeightStyle===0&&!t.overflowing}const iU=b.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,c=je(e,tU),{current:u}=b.useRef(a!=null),f=b.useRef(null),h=cn(n,f),m=b.useRef(null),E=b.useRef(null),C=b.useCallback(()=>{const v=f.current,I=E.current;if(!v||!I)return;const N=cs(v).getComputedStyle(v);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};I.style.width=N.width,I.value=v.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const T=N.boxSizing,p=cf(N.paddingBottom)+cf(N.paddingTop),y=cf(N.borderBottomWidth)+cf(N.borderTopWidth),x=I.scrollHeight;I.value="x";const j=I.scrollHeight;let A=x;o&&(A=Math.max(Number(o)*j,A)),i&&(A=Math.min(Number(i)*j,A)),A=Math.max(A,j);const R=A+(T==="border-box"?p+y:0),V=Math.abs(A-x)<=1;return{outerHeightStyle:R,overflowing:V}},[i,o,e.placeholder]),_=ki(()=>{const v=f.current,I=C();if(!v||!I||IE(I))return!1;const M=I.outerHeightStyle;return m.current!=null&&m.current!==M}),k=b.useCallback(()=>{const v=f.current,I=C();if(!v||!I||IE(I))return;const M=I.outerHeightStyle;m.current!==M&&(m.current=M,v.style.height=`${M}px`),v.style.overflow=I.overflowing?"hidden":""},[C]),S=b.useRef(-1);ei(()=>{const v=Ib(k),I=f==null?void 0:f.current;if(!I)return;const M=cs(I);M.addEventListener("resize",v);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{_()&&(N.unobserve(I),cancelAnimationFrame(S.current),k(),S.current=requestAnimationFrame(()=>{N.observe(I)}))}),N.observe(I)),()=>{v.clear(),cancelAnimationFrame(S.current),M.removeEventListener("resize",v),N&&N.disconnect()}},[C,k,_]),ei(()=>{k()});const g=v=>{u||k(),r&&r(v)};return l.jsxs(b.Fragment,{children:[l.jsx("textarea",$({value:a,onChange:g,ref:h,rows:o,style:s},c)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:$({},nU.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function Vl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Hb=b.createContext(void 0);function Bl(){return b.useContext(Hb)}function jP(t){return l.jsx(KR,$({},t,{defaultTheme:Ob,themeId:ml}))}function kE(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function qh(t,e=!1){return t&&(kE(t.value)&&t.value!==""||e&&kE(t.defaultValue)&&t.defaultValue!=="")}function oU(t){return t.startAdornment}function sU(t){return ut("MuiInputBase",t)}const _l=st("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),aU=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],$m=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${de(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Fm=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},lU=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:c,hiddenLabel:u,multiline:f,readOnly:h,size:m,startAdornment:E,type:C}=t,_={root:["root",`color${de(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",s&&"focused",a&&"formControl",m&&m!=="medium"&&`size${de(m)}`,f&&"multiline",E&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",C==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",E&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return mt(_,sU,e)},zm=Oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:$m})(({theme:t,ownerState:e})=>$({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${_l.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&$({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Vm=Oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Fm})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=$({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${_l.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${_l.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),cU=l.jsx(jP,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),qb=b.forwardRef(function(e,n){var r;const i=dt({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:c,components:u={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:E,endAdornment:C,fullWidth:_=!1,id:k,inputComponent:S="input",inputProps:g={},inputRef:v,maxRows:I,minRows:M,multiline:N=!1,name:T,onBlur:p,onChange:y,onClick:x,onFocus:j,onKeyDown:A,onKeyUp:R,placeholder:V,readOnly:F,renderSuffix:W,rows:q,slotProps:L={},slots:z={},startAdornment:B,type:K="text",value:Y}=i,X=je(i,aU),ne=g.value!=null?g.value:Y,{current:fe}=b.useRef(ne!=null),me=b.useRef(),U=b.useCallback(Le=>{},[]),J=cn(me,v,g.ref,U),[H,se]=b.useState(!1),Z=Bl(),ie=Vl({props:i,muiFormControl:Z,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=Z?Z.focused:H,b.useEffect(()=>{!Z&&m&&H&&(se(!1),p&&p())},[Z,m,H,p]);const pe=Z&&Z.onFilled,ve=Z&&Z.onEmpty,xe=b.useCallback(Le=>{qh(Le)?pe&&pe():ve&&ve()},[pe,ve]);ei(()=>{fe&&xe({value:ne})},[ne,xe,fe]);const Ee=Le=>{if(ie.disabled){Le.stopPropagation();return}j&&j(Le),g.onFocus&&g.onFocus(Le),Z&&Z.onFocus?Z.onFocus(Le):se(!0)},Je=Le=>{p&&p(Le),g.onBlur&&g.onBlur(Le),Z&&Z.onBlur?Z.onBlur(Le):se(!1)},Se=(Le,...Re)=>{if(!fe){const it=Le.target||me.current;if(it==null)throw new Error(Xs(1));xe({value:it.value})}g.onChange&&g.onChange(Le,...Re),y&&y(Le,...Re)};b.useEffect(()=>{xe(me.current)},[]);const Q=Le=>{me.current&&Le.currentTarget===Le.target&&me.current.focus(),x&&x(Le)};let re=S,Ie=g;N&&re==="input"&&(q?Ie=$({type:void 0,minRows:q,maxRows:q},Ie):Ie=$({type:void 0,maxRows:I,minRows:M},Ie),re=iU);const Ce=Le=>{xe(Le.animationName==="mui-auto-fill-cancel"?me.current:{value:"x"})};b.useEffect(()=>{Z&&Z.setAdornedStart(!!B)},[Z,B]);const ke=$({},i,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:C,error:ie.error,focused:ie.focused,formControl:Z,fullWidth:_,hiddenLabel:ie.hiddenLabel,multiline:N,size:ie.size,startAdornment:B,type:K}),ge=lU(ke),rt=z.root||u.Root||zm,_e=L.root||f.root||{},be=z.input||u.Input||Vm;return Ie=$({},Ie,(r=L.input)!=null?r:f.input),l.jsxs(b.Fragment,{children:[!E&&cU,l.jsxs(rt,$({},_e,!zh(rt)&&{ownerState:$({},ke,_e.ownerState)},{ref:n,onClick:Q},X,{className:Ne(ge.root,_e.className,c,F&&"MuiInputBase-readOnly"),children:[B,l.jsx(Hb.Provider,{value:null,children:l.jsx(be,$({ownerState:ke,"aria-invalid":ie.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:h,disabled:ie.disabled,id:k,onAnimationStart:Ce,name:T,placeholder:V,readOnly:F,required:ie.required,rows:q,value:ne,onKeyDown:A,onKeyUp:R,type:K},Ie,!zh(be)&&{as:re,ownerState:$({},ke,Ie.ownerState)},{ref:J,className:Ne(ge.input,Ie.className,F&&"MuiInputBase-readOnly"),onBlur:Je,onChange:Se,onFocus:Ee}))}),C,W?W($({},ie,{startAdornment:B})):null]}))]})});function uU(t){return ut("MuiInput",t)}const cc=$({},_l,st("MuiInput",["root","underline","input"]));function dU(t){return ut("MuiOutlinedInput",t)}const Oo=$({},_l,st("MuiOutlinedInput",["root","notchedOutline","input"]));function fU(t){return ut("MuiFilledInput",t)}const ws=$({},_l,st("MuiFilledInput",["root","underline","input"])),hU=Io(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),pU=Io(l.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function mU(t){return ut("MuiAvatar",t)}st("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const gU=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],yU=t=>{const{classes:e,variant:n,colorDefault:r}=t;return mt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},mU,e)},vU=Oe("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:$({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:$({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),xU=Oe("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),bU=Oe(pU,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function _U({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=b.useState(!1);return b.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const wU=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:c={},slotProps:u={},imgProps:f,sizes:h,src:m,srcSet:E,variant:C="circular"}=r,_=je(r,gU);let k=null;const S=_U($({},f,{src:m,srcSet:E})),g=m||E,v=g&&S!=="error",I=$({},r,{colorDefault:!v,component:a,variant:C}),M=yU(I),[N,T]=Yv("img",{className:M.img,elementType:xU,externalForwardedProps:{slots:c,slotProps:{img:$({},f,u.img)}},additionalProps:{alt:i,src:m,srcSet:E,sizes:h},ownerState:I});return v?k=l.jsx(N,$({},T)):o||o===0?k=o:g&&i?k=i[0]:k=l.jsx(bU,{ownerState:I,className:M.fallback}),l.jsx(vU,$({as:a,ownerState:I,className:Ne(M.root,s),ref:n},_,{children:k}))}),SU=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],EU={entering:{opacity:1},entered:{opacity:1}},OP=b.forwardRef(function(e,n){const r=Mm(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:c,in:u,onEnter:f,onEntered:h,onEntering:m,onExit:E,onExited:C,onExiting:_,style:k,timeout:S=i,TransitionComponent:g=qi}=e,v=je(e,SU),I=b.useRef(null),M=cn(I,$l(a),n),N=V=>F=>{if(V){const W=I.current;F===void 0?V(W):V(W,F)}},T=N(m),p=N((V,F)=>{vP(V);const W=Uh({style:k,timeout:S,easing:c},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",W),V.style.transition=r.transitions.create("opacity",W),f&&f(V,F)}),y=N(h),x=N(_),j=N(V=>{const F=Uh({style:k,timeout:S,easing:c},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",F),V.style.transition=r.transitions.create("opacity",F),E&&E(V)}),A=N(C),R=V=>{o&&o(I.current,V)};return l.jsx(g,$({appear:s,in:u,nodeRef:I,onEnter:p,onEntered:y,onEntering:T,onExit:j,onExited:A,onExiting:x,addEndListener:R,timeout:S},v,{children:(V,F)=>b.cloneElement(a,$({style:$({opacity:0,visibility:V==="exited"&&!u?"hidden":void 0},EU[V],k,a.props.style),ref:M},F))}))});function CU(t){return ut("MuiBackdrop",t)}st("MuiBackdrop",["root","invisible"]);const TU=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],IU=t=>{const{classes:e,invisible:n}=t;return mt({root:["root",n&&"invisible"]},CU,e)},kU=Oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),RU=b.forwardRef(function(e,n){var r,i,o;const s=dt({props:e,name:"MuiBackdrop"}),{children:a,className:c,component:u="div",components:f={},componentsProps:h={},invisible:m=!1,open:E,slotProps:C={},slots:_={},TransitionComponent:k=OP,transitionDuration:S}=s,g=je(s,TU),v=$({},s,{component:u,invisible:m}),I=IU(v),M=(r=C.root)!=null?r:h.root;return l.jsx(k,$({in:E,timeout:S},g,{children:l.jsx(kU,$({"aria-hidden":!0},M,{as:(i=(o=_.root)!=null?o:f.Root)!=null?i:u,className:Ne(I.root,c,M==null?void 0:M.className),ownerState:$({},v,M==null?void 0:M.ownerState),classes:I,ref:n,children:a}))}))});function PU(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,o=JR({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!i&&(s=!0);const{badgeContent:a,max:c=r}=s?o:t,u=a&&Number(a)>c?`${c}+`:a;return{badgeContent:a,invisible:s,max:c,displayValue:u}}function AU(t){return ut("MuiBadge",t)}const No=st("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),jU=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Yg=10,Xg=4,OU=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=t,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${de(n.vertical)}${de(n.horizontal)}`,`anchorOrigin${de(n.vertical)}${de(n.horizontal)}${de(i)}`,`overlap${de(i)}`,e!=="default"&&`color${de(e)}`]};return mt(a,AU,s)},NU=Oe("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),MU=Oe("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${de(n.anchorOrigin.vertical)}${de(n.anchorOrigin.horizontal)}${de(n.overlap)}`],n.color!=="default"&&e[`color${de(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Yg*2,lineHeight:1,padding:"0 6px",height:Yg*2,borderRadius:Yg,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,i;return((r=t.vars)!=null?r:t).palette[n].main&&((i=t.vars)!=null?i:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Xg,height:Xg*2,minWidth:Xg*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),LU=b.forwardRef(function(e,n){var r,i,o,s,a,c;const u=dt({props:e,name:"MuiBadge"}),{anchorOrigin:f={vertical:"top",horizontal:"right"},className:h,component:m,components:E={},componentsProps:C={},children:_,overlap:k="rectangular",color:S="default",invisible:g=!1,max:v=99,badgeContent:I,slots:M,slotProps:N,showZero:T=!1,variant:p="standard"}=u,y=je(u,jU),{badgeContent:x,invisible:j,max:A,displayValue:R}=PU({max:v,invisible:g,badgeContent:I,showZero:T}),V=JR({anchorOrigin:f,color:S,overlap:k,variant:p,badgeContent:I}),F=j||x==null&&p!=="dot",{color:W=S,overlap:q=k,anchorOrigin:L=f,variant:z=p}=F?V:u,B=z!=="dot"?R:void 0,K=$({},u,{badgeContent:x,invisible:F,max:A,displayValue:B,showZero:T,anchorOrigin:L,color:W,overlap:q,variant:z}),Y=OU(K),X=(r=(i=M==null?void 0:M.root)!=null?i:E.Root)!=null?r:NU,ne=(o=(s=M==null?void 0:M.badge)!=null?s:E.Badge)!=null?o:MU,fe=(a=N==null?void 0:N.root)!=null?a:C.root,me=(c=N==null?void 0:N.badge)!=null?c:C.badge,U=wo({elementType:X,externalSlotProps:fe,externalForwardedProps:y,additionalProps:{ref:n,as:m},ownerState:K,className:Ne(fe==null?void 0:fe.className,Y.root,h)}),J=wo({elementType:ne,externalSlotProps:me,ownerState:K,className:Ne(Y.badge,me==null?void 0:me.className)});return l.jsxs(X,$({},U,{children:[_,l.jsx(ne,$({},J,{children:B}))]}))}),DU=st("MuiBox",["root"]),$U=jb(),Qe=g9({themeId:ml,defaultTheme:$U,defaultClassName:DU.root,generateClassName:Eb.generate});function FU(t){return ut("MuiButton",t)}const uf=st("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),zU=b.createContext({}),VU=b.createContext(void 0),BU=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],WU=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${de(e)}`,`size${de(i)}`,`${o}Size${de(i)}`,`color${de(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${de(i)}`],endIcon:["icon","endIcon",`iconSize${de(i)}`]},c=mt(a,FU,s);return $({},s,c)},NP=t=>$({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),UU=Oe(Iu,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color)}`],e[`size${de(n.size)}`],e[`${n.variant}Size${de(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return $({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:$t(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:$t(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:$t(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${uf.focusVisible}`]:$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${uf.disabled}`]:$({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${$t(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${uf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${uf.disabled}`]:{boxShadow:"none"}}),HU=Oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${de(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},NP(t))),qU=Oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${de(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},NP(t))),Kn=b.forwardRef(function(e,n){const r=b.useContext(zU),i=b.useContext(VU),o=Tu(r,e),s=dt({props:o,name:"MuiButton"}),{children:a,color:c="primary",component:u="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:E=!1,endIcon:C,focusVisibleClassName:_,fullWidth:k=!1,size:S="medium",startIcon:g,type:v,variant:I="text"}=s,M=je(s,BU),N=$({},s,{color:c,component:u,disabled:h,disableElevation:m,disableFocusRipple:E,fullWidth:k,size:S,type:v,variant:I}),T=WU(N),p=g&&l.jsx(HU,{className:T.startIcon,ownerState:N,children:g}),y=C&&l.jsx(qU,{className:T.endIcon,ownerState:N,children:C}),x=i||"";return l.jsxs(UU,$({ownerState:N,className:Ne(r.className,T.root,f,x),component:u,disabled:h,focusRipple:!E,focusVisibleClassName:Ne(T.focusVisible,_),ref:n,type:v},M,{classes:T,children:[p,a,y]}))});function KU(t){return ut("MuiCard",t)}st("MuiCard",["root"]);const GU=["className","raised"],QU=t=>{const{classes:e}=t;return mt({root:["root"]},KU,e)},YU=Oe(gi,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Kh=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=je(r,GU),a=$({},r,{raised:o}),c=QU(a);return l.jsx(YU,$({className:Ne(c.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))});function XU(t){return ut("MuiCardContent",t)}st("MuiCardContent",["root"]);const JU=["className","component"],ZU=t=>{const{classes:e}=t;return mt({root:["root"]},XU,e)},e7=Oe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Gh=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=je(r,JU),a=$({},r,{component:o}),c=ZU(a);return l.jsx(e7,$({as:o,className:Ne(c.root,i),ownerState:a,ref:n},s))});function t7(t){return ut("MuiCardMedia",t)}st("MuiCardMedia",["root","media","img"]);const n7=["children","className","component","image","src","style"],r7=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return mt({root:["root",n&&"media",r&&"img"]},t7,e)},i7=Oe("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>$({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),o7=["video","audio","picture","iframe","img"],s7=["picture","img"],RE=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:c,style:u}=r,f=je(r,n7),h=o7.indexOf(s)!==-1,m=!h&&a?$({backgroundImage:`url("${a}")`},u):u,E=$({},r,{component:s,isMediaComponent:h,isImageComponent:s7.indexOf(s)!==-1}),C=r7(E);return l.jsx(i7,$({className:Ne(C.root,o),as:s,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:E,src:h?a||c:void 0},f,{children:i}))}),MP=pz({createStyledComponent:Oe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${de(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>dt({props:t,name:"MuiContainer"})}),a7=(t,e)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),l7=t=>$({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),c7=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([s,a])=>{var c;r[t.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(c=a.palette)==null?void 0:c.mode}});let i=$({html:a7(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:$({margin:0},l7(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const o=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function u7(t){const e=dt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(b.Fragment,{children:[l.jsx(jP,{styles:i=>c7(i,r)}),n]})}function d7(t){const e=Xn(t);return e.body===t?cs(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Hc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function PE(t){return parseInt(cs(t).getComputedStyle(t).paddingRight,10)||0}function f7(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function AE(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,c=!f7(s);a&&c&&Hc(s,i)})}function Jg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function h7(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(d7(r)){const s=XR(Xn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${PE(r)+s}px`;const a=Xn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${PE(c)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Xn(r).body;else{const s=r.parentElement,a=cs(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function p7(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class m7{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Hc(e.modalRef,!1);const i=p7(n);AE(n,e.mount,e.modalRef,i,!0);const o=Jg(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Jg(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=h7(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Jg(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Hc(e.modalRef,n),AE(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Hc(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const g7=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function y7(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function v7(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function x7(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||v7(t))}function b7(t){const e=[],n=[];return Array.from(t.querySelectorAll(g7)).forEach((r,i)=>{const o=y7(r);o===-1||!x7(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function _7(){return!0}function w7(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=b7,isEnabled:s=_7,open:a}=t,c=b.useRef(!1),u=b.useRef(null),f=b.useRef(null),h=b.useRef(null),m=b.useRef(null),E=b.useRef(!1),C=b.useRef(null),_=cn($l(e),C),k=b.useRef(null);b.useEffect(()=>{!a||!C.current||(E.current=!n)},[n,a]),b.useEffect(()=>{if(!a||!C.current)return;const v=Xn(C.current);return C.current.contains(v.activeElement)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex","-1"),E.current&&C.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[a]),b.useEffect(()=>{if(!a||!C.current)return;const v=Xn(C.current),I=T=>{k.current=T,!(r||!s()||T.key!=="Tab")&&v.activeElement===C.current&&T.shiftKey&&(c.current=!0,f.current&&f.current.focus())},M=()=>{const T=C.current;if(T===null)return;if(!v.hasFocus()||!s()||c.current){c.current=!1;return}if(T.contains(v.activeElement)||r&&v.activeElement!==u.current&&v.activeElement!==f.current)return;if(v.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!E.current)return;let p=[];if((v.activeElement===u.current||v.activeElement===f.current)&&(p=o(C.current)),p.length>0){var y,x;const j=!!((y=k.current)!=null&&y.shiftKey&&((x=k.current)==null?void 0:x.key)==="Tab"),A=p[0],R=p[p.length-1];typeof A!="string"&&typeof R!="string"&&(j?R.focus():A.focus())}else T.focus()};v.addEventListener("focusin",M),v.addEventListener("keydown",I,!0);const N=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(N),v.removeEventListener("focusin",M),v.removeEventListener("keydown",I,!0)}},[n,r,i,s,a,o]);const S=v=>{h.current===null&&(h.current=v.relatedTarget),E.current=!0,m.current=v.target;const I=e.props.onFocus;I&&I(v)},g=v=>{h.current===null&&(h.current=v.relatedTarget),E.current=!0};return l.jsxs(b.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),b.cloneElement(e,{ref:_,onFocus:S}),l.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:f,"data-testid":"sentinelEnd"})]})}function S7(t){return typeof t=="function"?t():t}function E7(t){return t?t.props.hasOwnProperty("in"):!1}const C7=new m7;function T7(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=C7,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:c,onClose:u,open:f,rootRef:h}=t,m=b.useRef({}),E=b.useRef(null),C=b.useRef(null),_=cn(C,h),[k,S]=b.useState(!f),g=E7(c);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const I=()=>Xn(E.current),M=()=>(m.current.modalRef=C.current,m.current.mount=E.current,m.current),N=()=>{i.mount(M(),{disableScrollLock:r}),C.current&&(C.current.scrollTop=0)},T=ki(()=>{const W=S7(e)||I().body;i.add(M(),W),C.current&&N()}),p=b.useCallback(()=>i.isTopModal(M()),[i]),y=ki(W=>{E.current=W,W&&(f&&p()?N():C.current&&Hc(C.current,v))}),x=b.useCallback(()=>{i.remove(M(),v)},[v,i]);b.useEffect(()=>()=>{x()},[x]),b.useEffect(()=>{f?T():(!g||!o)&&x()},[f,x,g,o,T]);const j=W=>q=>{var L;(L=W.onKeyDown)==null||L.call(W,q),!(q.key!=="Escape"||q.which===229||!p())&&(n||(q.stopPropagation(),u&&u(q,"escapeKeyDown")))},A=W=>q=>{var L;(L=W.onClick)==null||L.call(W,q),q.target===q.currentTarget&&u&&u(q,"backdropClick")};return{getRootProps:(W={})=>{const q=ZR(t);delete q.onTransitionEnter,delete q.onTransitionExited;const L=$({},q,W);return $({role:"presentation"},L,{onKeyDown:j(L),ref:_})},getBackdropProps:(W={})=>{const q=W;return $({"aria-hidden":!0},q,{onClick:A(q),open:f})},getTransitionProps:()=>{const W=()=>{S(!1),s&&s()},q=()=>{S(!0),a&&a(),o&&x()};return{onEnter:Bv(W,c==null?void 0:c.props.onEnter),onExited:Bv(q,c==null?void 0:c.props.onExited)}},rootRef:_,portalRef:y,isTopModal:p,exited:k,hasTransition:g}}function I7(t){return ut("MuiModal",t)}st("MuiModal",["root","hidden","backdrop"]);const k7=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],R7=t=>{const{open:e,exited:n,classes:r}=t;return mt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},I7,r)},P7=Oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>$({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),A7=Oe(RU,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),j7=b.forwardRef(function(e,n){var r,i,o,s,a,c;const u=dt({name:"MuiModal",props:e}),{BackdropComponent:f=A7,BackdropProps:h,className:m,closeAfterTransition:E=!1,children:C,container:_,component:k,components:S={},componentsProps:g={},disableAutoFocus:v=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:M=!1,disablePortal:N=!1,disableRestoreFocus:T=!1,disableScrollLock:p=!1,hideBackdrop:y=!1,keepMounted:x=!1,onBackdropClick:j,open:A,slotProps:R,slots:V}=u,F=je(u,k7),W=$({},u,{closeAfterTransition:E,disableAutoFocus:v,disableEnforceFocus:I,disableEscapeKeyDown:M,disablePortal:N,disableRestoreFocus:T,disableScrollLock:p,hideBackdrop:y,keepMounted:x}),{getRootProps:q,getBackdropProps:L,getTransitionProps:z,portalRef:B,isTopModal:K,exited:Y,hasTransition:X}=T7($({},W,{rootRef:n})),ne=$({},W,{exited:Y}),fe=R7(ne),me={};if(C.props.tabIndex===void 0&&(me.tabIndex="-1"),X){const{onEnter:pe,onExited:ve}=z();me.onEnter=pe,me.onExited=ve}const U=(r=(i=V==null?void 0:V.root)!=null?i:S.Root)!=null?r:P7,J=(o=(s=V==null?void 0:V.backdrop)!=null?s:S.Backdrop)!=null?o:f,H=(a=R==null?void 0:R.root)!=null?a:g.root,se=(c=R==null?void 0:R.backdrop)!=null?c:g.backdrop,Z=wo({elementType:U,externalSlotProps:H,externalForwardedProps:F,getSlotProps:q,additionalProps:{ref:n,as:k},ownerState:ne,className:Ne(m,H==null?void 0:H.className,fe==null?void 0:fe.root,!ne.open&&ne.exited&&(fe==null?void 0:fe.hidden))}),ie=wo({elementType:J,externalSlotProps:se,additionalProps:h,getSlotProps:pe=>L($({},pe,{onClick:ve=>{j&&j(ve),pe!=null&&pe.onClick&&pe.onClick(ve)}})),className:Ne(se==null?void 0:se.className,h==null?void 0:h.className,fe==null?void 0:fe.backdrop),ownerState:ne});return!x&&!A&&(!X||Y)?null:l.jsx(PP,{ref:B,container:_,disablePortal:N,children:l.jsxs(U,$({},Z,{children:[!y&&f?l.jsx(J,$({},ie)):null,l.jsx(w7,{disableEnforceFocus:I,disableAutoFocus:v,disableRestoreFocus:T,isEnabled:K,open:A,children:b.cloneElement(C,me)})]}))})});function O7(t){return ut("MuiDivider",t)}const jE=st("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),N7=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],M7=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:c}=t;return mt({root:["root",e&&"absolute",c,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},O7,r)},L7=Oe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:$t(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>$({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>$({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),D7=Oe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>$({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),LP=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:c=!1,light:u=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:E="fullWidth"}=r,C=je(r,N7),_=$({},r,{absolute:i,component:a,flexItem:c,light:u,orientation:f,role:h,textAlign:m,variant:E}),k=M7(_);return l.jsx(L7,$({as:a,className:Ne(k.root,s),role:h,ref:n,ownerState:_},C,{children:o?l.jsx(D7,{className:k.wrapper,ownerState:_,children:o}):null}))});LP.muiSkipListHighlight=!0;const $7=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],F7=t=>{const{classes:e,disableUnderline:n}=t,i=mt({root:["root",!n&&"underline"],input:["input"]},fU,e);return $({},e,i)},z7=Oe(zm,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$m(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${ws.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${ws.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ws.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ws.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ws.disabled}, .${ws.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ws.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&$({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),V7=Oe(Vm,{name:"MuiFilledInput",slot:"Input",overridesResolver:Fm})(({theme:t,ownerState:e})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Kb=b.forwardRef(function(e,n){var r,i,o,s;const a=dt({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:u,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:E,slots:C={},type:_="text"}=a,k=je(a,$7),S=$({},a,{fullWidth:f,inputComponent:h,multiline:m,type:_}),g=F7(a),v={root:{ownerState:S},input:{ownerState:S}},I=E??u?Ir(v,E??u):v,M=(r=(i=C.root)!=null?i:c.Root)!=null?r:z7,N=(o=(s=C.input)!=null?s:c.Input)!=null?o:V7;return l.jsx(qb,$({slots:{root:M,input:N},componentsProps:I,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:_},k,{classes:g}))});Kb.muiName="Input";function B7(t){return ut("MuiFormControl",t)}st("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const W7=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],U7=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${de(n)}`,r&&"fullWidth"]};return mt(i,B7,e)},H7=Oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,e[`margin${de(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),DP=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:c=!1,error:u=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:E="none",required:C=!1,size:_="medium",variant:k="outlined"}=r,S=je(r,W7),g=$({},r,{color:s,component:a,disabled:c,error:u,fullWidth:h,hiddenLabel:m,margin:E,required:C,size:_,variant:k}),v=U7(g),[I,M]=b.useState(()=>{let R=!1;return i&&b.Children.forEach(i,V=>{if(!zf(V,["Input","Select"]))return;const F=zf(V,["Select"])?V.props.input:V;F&&oU(F.props)&&(R=!0)}),R}),[N,T]=b.useState(()=>{let R=!1;return i&&b.Children.forEach(i,V=>{zf(V,["Input","Select"])&&(qh(V.props,!0)||qh(V.props.inputProps,!0))&&(R=!0)}),R}),[p,y]=b.useState(!1);c&&p&&y(!1);const x=f!==void 0&&!c?f:p;let j;const A=b.useMemo(()=>({adornedStart:I,setAdornedStart:M,color:s,disabled:c,error:u,filled:N,focused:x,fullWidth:h,hiddenLabel:m,size:_,onBlur:()=>{y(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{y(!0)},registerEffect:j,required:C,variant:k}),[I,s,c,u,N,x,h,m,j,C,_,k]);return l.jsx(Hb.Provider,{value:A,children:l.jsx(H7,$({as:a,ownerState:g,className:Ne(v.root,o),ref:n},S,{children:i}))})});function q7(t){return ut("MuiFormHelperText",t)}const OE=st("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var NE;const K7=["children","className","component","disabled","error","filled","focused","margin","required","variant"],G7=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:c}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${de(r)}`,n&&"contained",a&&"focused",s&&"filled",c&&"required"]};return mt(u,q7,e)},Q7=Oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${de(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${OE.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${OE.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Y7=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=je(r,K7),c=Bl(),u=Vl({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),f=$({},r,{component:s,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=G7(f);return l.jsx(Q7,$({as:s,ownerState:f,className:Ne(h.root,o),ref:n},a,{children:i===" "?NE||(NE=l.jsx("span",{className:"notranslate",children:""})):i}))});function X7(t){return ut("MuiFormLabel",t)}const qc=st("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),J7=["children","className","color","component","disabled","error","filled","focused","required"],Z7=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,c={root:["root",`color${de(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return mt(c,X7,e)},eH=Oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${qc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${qc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${qc.error}`]:{color:(t.vars||t).palette.error.main}})),tH=Oe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${qc.error}`]:{color:(t.vars||t).palette.error.main}})),nH=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=je(r,J7),c=Bl(),u=Vl({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),f=$({},r,{color:u.color||"primary",component:s,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=Z7(f);return l.jsxs(eH,$({as:s,ownerState:f,className:Ne(h.root,o),ref:n},a,{children:[i,u.required&&l.jsxs(tH,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),ME=b.createContext();function rH(t){return ut("MuiGrid",t)}const iH=[0,1,2,3,4,5,6,7,8,9,10],oH=["column-reverse","column","row-reverse","row"],sH=["nowrap","wrap-reverse","wrap"],uc=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Pu=st("MuiGrid",["root","container","item","zeroMinWidth",...iH.map(t=>`spacing-xs-${t}`),...oH.map(t=>`direction-xs-${t}`),...sH.map(t=>`wrap-xs-${t}`),...uc.map(t=>`grid-xs-${t}`),...uc.map(t=>`grid-sm-${t}`),...uc.map(t=>`grid-md-${t}`),...uc.map(t=>`grid-lg-${t}`),...uc.map(t=>`grid-xl-${t}`)]),aH=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Xa(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function lH({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=mm({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const c=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${c} + ${Xa(f)})`;u={flexBasis:h,maxWidth:h}}}o=$({flexBasis:c,flexGrow:0,maxWidth:c},u)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function cH({theme:t,ownerState:e}){const n=mm({values:e.direction,breakpoints:t.breakpoints.values});return Zr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Pu.item}`]={maxWidth:"none"}),i})}function $P({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function uH({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=mm({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=$P({breakpoints:t.breakpoints.values,values:o})),i=Zr({theme:t},o,(a,c)=>{var u;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${Xa(f)}`,[`& > .${Pu.item}`]:{paddingTop:Xa(f)}}:(u=s)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${Pu.item}`]:{paddingTop:0}}})}return i}function dH({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=mm({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=$P({breakpoints:t.breakpoints.values,values:o})),i=Zr({theme:t},o,(a,c)=>{var u;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${Xa(f)})`,marginLeft:`-${Xa(f)}`,[`& > .${Pu.item}`]:{paddingLeft:Xa(f)}}:(u=s)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Pu.item}`]:{paddingLeft:0}}})}return i}function fH(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const hH=Oe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:c,breakpoints:u}=n;let f=[];r&&(f=fH(s,u,e));const h=[];return u.forEach(m=>{const E=n[m];E&&h.push(e[`grid-${m}-${String(E)}`])}),[e.root,r&&e.container,o&&e.item,c&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>$({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),cH,uH,dH,lH);function pH(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const mH=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:c}=t;let u=[];n&&(u=pH(o,c));const f=[];c.forEach(m=>{const E=t[m];E&&f.push(`grid-${m}-${String(E)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...f]};return mt(h,rH,e)},Pt=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiGrid"}),{breakpoints:i}=Mm(),o=Sm(r),{className:s,columns:a,columnSpacing:c,component:u="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:E,spacing:C=0,wrap:_="wrap",zeroMinWidth:k=!1}=o,S=je(o,aH),g=E||C,v=c||C,I=b.useContext(ME),M=f?a||12:I,N={},T=$({},S);i.keys.forEach(x=>{S[x]!=null&&(N[x]=S[x],delete T[x])});const p=$({},o,{columns:M,container:f,direction:h,item:m,rowSpacing:g,columnSpacing:v,wrap:_,zeroMinWidth:k,spacing:C},N,{breakpoints:i.keys}),y=mH(p);return l.jsx(ME.Provider,{value:M,children:l.jsx(hH,$({ownerState:p,className:Ne(y.root,s),as:u,ref:n},T))})}),gH=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function t0(t){return`scale(${t}, ${t**2})`}const yH={entering:{opacity:1,transform:t0(1)},entered:{opacity:1,transform:"none"}},Zg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Qh=b.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:c,onEntered:u,onEntering:f,onExit:h,onExited:m,onExiting:E,style:C,timeout:_="auto",TransitionComponent:k=qi}=e,S=je(e,gH),g=Da(),v=b.useRef(),I=Mm(),M=b.useRef(null),N=cn(M,$l(o),n),T=F=>W=>{if(F){const q=M.current;W===void 0?F(q):F(q,W)}},p=T(f),y=T((F,W)=>{vP(F);const{duration:q,delay:L,easing:z}=Uh({style:C,timeout:_,easing:s},{mode:"enter"});let B;_==="auto"?(B=I.transitions.getAutoHeightDuration(F.clientHeight),v.current=B):B=q,F.style.transition=[I.transitions.create("opacity",{duration:B,delay:L}),I.transitions.create("transform",{duration:Zg?B:B*.666,delay:L,easing:z})].join(","),c&&c(F,W)}),x=T(u),j=T(E),A=T(F=>{const{duration:W,delay:q,easing:L}=Uh({style:C,timeout:_,easing:s},{mode:"exit"});let z;_==="auto"?(z=I.transitions.getAutoHeightDuration(F.clientHeight),v.current=z):z=W,F.style.transition=[I.transitions.create("opacity",{duration:z,delay:q}),I.transitions.create("transform",{duration:Zg?z:z*.666,delay:Zg?q:q||z*.333,easing:L})].join(","),F.style.opacity=0,F.style.transform=t0(.75),h&&h(F)}),R=T(m),V=F=>{_==="auto"&&g.start(v.current||0,F),r&&r(M.current,F)};return l.jsx(k,$({appear:i,in:a,nodeRef:M,onEnter:y,onEntered:x,onEntering:p,onExit:A,onExited:R,onExiting:j,addEndListener:V,timeout:_==="auto"?null:_},S,{children:(F,W)=>b.cloneElement(o,$({style:$({opacity:0,transform:t0(.75),visibility:F==="exited"&&!a?"hidden":void 0},yH[F],C,o.props.style),ref:N},W))}))});Qh.muiSupportAuto=!0;const vH=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],xH=t=>{const{classes:e,disableUnderline:n}=t,i=mt({root:["root",!n&&"underline"],input:["input"]},uU,e);return $({},e,i)},bH=Oe(zm,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$m(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),$({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cc.disabled}, .${cc.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${cc.disabled}:before`]:{borderBottomStyle:"dotted"}})}),_H=Oe(Vm,{name:"MuiInput",slot:"Input",overridesResolver:Fm})({}),Gb=b.forwardRef(function(e,n){var r,i,o,s;const a=dt({props:e,name:"MuiInput"}),{disableUnderline:c,components:u={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:E=!1,slotProps:C,slots:_={},type:k="text"}=a,S=je(a,vH),g=xH(a),I={root:{ownerState:{disableUnderline:c}}},M=C??f?Ir(C??f,I):I,N=(r=(i=_.root)!=null?i:u.Root)!=null?r:bH,T=(o=(s=_.input)!=null?s:u.Input)!=null?o:_H;return l.jsx(qb,$({slots:{root:N,input:T},slotProps:M,fullWidth:h,inputComponent:m,multiline:E,ref:n,type:k},S,{classes:g}))});Gb.muiName="Input";function wH(t){return ut("MuiInputLabel",t)}st("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const SH=["disableAnimation","margin","shrink","variant","className"],EH=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,c={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${de(r)}`,s],asterisk:[a&&"asterisk"]},u=mt(c,wH,e);return $({},e,u)},CH=Oe(nH,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${qc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),TH=b.forwardRef(function(e,n){const r=dt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=je(r,SH),c=Bl();let u=o;typeof u>"u"&&c&&(u=c.filled||c.focused||c.adornedStart);const f=Vl({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),h=$({},r,{disableAnimation:i,formControl:c,shrink:u,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=EH(h);return l.jsx(CH,$({"data-shrink":u,ownerState:h,ref:n,className:Ne(m.root,s)},a,{classes:m}))}),n0=b.createContext({});function IH(t){return ut("MuiList",t)}st("MuiList",["root","padding","dense","subheader"]);const kH=["children","className","component","dense","disablePadding","subheader"],RH=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return mt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},IH,e)},PH=Oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),AH=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:u}=r,f=je(r,kH),h=b.useMemo(()=>({dense:a}),[a]),m=$({},r,{component:s,dense:a,disablePadding:c}),E=RH(m);return l.jsx(n0.Provider,{value:h,children:l.jsxs(PH,$({as:s,className:Ne(E.root,o),ref:n,ownerState:m},f,{children:[u,i]}))})}),LE=st("MuiListItemIcon",["root","alignItemsFlexStart"]),DE=st("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),jH=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ey(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function $E(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function FP(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function dc(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!FP(a,o)||c)a=i(t,a,n);else return a.focus(),!0}return!1}const OH=b.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=je(e,jH),E=b.useRef(null),C=b.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ei(()=>{i&&E.current.focus()},[i]),b.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,{direction:I})=>{const M=!E.current.style.width;if(v.clientHeight<E.current.clientHeight&&M){const N=`${XR(Xn(v))}px`;E.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=N,E.current.style.width=`calc(100% + ${N})`}return E.current}}),[]);const _=v=>{const I=E.current,M=v.key,N=Xn(I).activeElement;if(M==="ArrowDown")v.preventDefault(),dc(I,N,u,c,ey);else if(M==="ArrowUp")v.preventDefault(),dc(I,N,u,c,$E);else if(M==="Home")v.preventDefault(),dc(I,null,u,c,ey);else if(M==="End")v.preventDefault(),dc(I,null,u,c,$E);else if(M.length===1){const T=C.current,p=M.toLowerCase(),y=performance.now();T.keys.length>0&&(y-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&p!==T.keys[0]&&(T.repeating=!1)),T.lastTime=y,T.keys.push(p);const x=N&&!T.repeating&&FP(N,T);T.previousKeyMatched&&(x||dc(I,N,!1,c,ey,T))?v.preventDefault():T.previousKeyMatched=!1}f&&f(v)},k=cn(E,n);let S=-1;b.Children.forEach(s,(v,I)=>{if(!b.isValidElement(v)){S===I&&(S+=1,S>=s.length&&(S=-1));return}v.props.disabled||(h==="selectedMenu"&&v.props.selected||S===-1)&&(S=I),S===I&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(S+=1,S>=s.length&&(S=-1))});const g=b.Children.map(s,(v,I)=>{if(I===S){const M={};return o&&(M.autoFocus=!0),v.props.tabIndex===void 0&&h==="selectedMenu"&&(M.tabIndex=0),b.cloneElement(v,M)}return v});return l.jsx(AH,$({role:"menu",ref:k,className:a,onKeyDown:_,tabIndex:i?0:-1},m,{children:g}))});function NH(t){return ut("MuiPopover",t)}st("MuiPopover",["root","paper"]);const MH=["onEntering"],LH=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],DH=["slotProps"];function FE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function zE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function VE(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ty(t){return typeof t=="function"?t():t}const $H=t=>{const{classes:e}=t;return mt({root:["root"],paper:["paper"]},NH,e)},FH=Oe(j7,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),zP=Oe(gi,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zH=b.forwardRef(function(e,n){var r,i,o;const s=dt({props:e,name:"MuiPopover"}),{action:a,anchorEl:c,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:E,container:C,elevation:_=8,marginThreshold:k=16,open:S,PaperProps:g={},slots:v,slotProps:I,transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:N=Qh,transitionDuration:T="auto",TransitionProps:{onEntering:p}={},disableScrollLock:y=!1}=s,x=je(s.TransitionProps,MH),j=je(s,LH),A=(r=I==null?void 0:I.paper)!=null?r:g,R=b.useRef(),V=cn(R,A.ref),F=$({},s,{anchorOrigin:u,anchorReference:h,elevation:_,marginThreshold:k,externalPaperSlotProps:A,transformOrigin:M,TransitionComponent:N,transitionDuration:T,TransitionProps:x}),W=$H(F),q=b.useCallback(()=>{if(h==="anchorPosition")return f;const pe=ty(c),xe=(pe&&pe.nodeType===1?pe:Xn(R.current).body).getBoundingClientRect();return{top:xe.top+FE(xe,u.vertical),left:xe.left+zE(xe,u.horizontal)}},[c,u.horizontal,u.vertical,f,h]),L=b.useCallback(pe=>({vertical:FE(pe,M.vertical),horizontal:zE(pe,M.horizontal)}),[M.horizontal,M.vertical]),z=b.useCallback(pe=>{const ve={width:pe.offsetWidth,height:pe.offsetHeight},xe=L(ve);if(h==="none")return{top:null,left:null,transformOrigin:VE(xe)};const Ee=q();let Je=Ee.top-xe.vertical,Se=Ee.left-xe.horizontal;const Q=Je+ve.height,re=Se+ve.width,Ie=cs(ty(c)),Ce=Ie.innerHeight-k,ke=Ie.innerWidth-k;if(k!==null&&Je<k){const ge=Je-k;Je-=ge,xe.vertical+=ge}else if(k!==null&&Q>Ce){const ge=Q-Ce;Je-=ge,xe.vertical+=ge}if(k!==null&&Se<k){const ge=Se-k;Se-=ge,xe.horizontal+=ge}else if(re>ke){const ge=re-ke;Se-=ge,xe.horizontal+=ge}return{top:`${Math.round(Je)}px`,left:`${Math.round(Se)}px`,transformOrigin:VE(xe)}},[c,h,q,L,k]),[B,K]=b.useState(S),Y=b.useCallback(()=>{const pe=R.current;if(!pe)return;const ve=z(pe);ve.top!==null&&(pe.style.top=ve.top),ve.left!==null&&(pe.style.left=ve.left),pe.style.transformOrigin=ve.transformOrigin,K(!0)},[z]);b.useEffect(()=>(y&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[c,y,Y]);const X=(pe,ve)=>{p&&p(pe,ve),Y()},ne=()=>{K(!1)};b.useEffect(()=>{S&&Y()}),b.useImperativeHandle(a,()=>S?{updatePosition:()=>{Y()}}:null,[S,Y]),b.useEffect(()=>{if(!S)return;const pe=Ib(()=>{Y()}),ve=cs(c);return ve.addEventListener("resize",pe),()=>{pe.clear(),ve.removeEventListener("resize",pe)}},[c,S,Y]);let fe=T;T==="auto"&&!N.muiSupportAuto&&(fe=void 0);const me=C||(c?Xn(ty(c)).body:void 0),U=(i=v==null?void 0:v.root)!=null?i:FH,J=(o=v==null?void 0:v.paper)!=null?o:zP,H=wo({elementType:J,externalSlotProps:$({},A,{style:B?A.style:$({},A.style,{opacity:0})}),additionalProps:{elevation:_,ref:V},ownerState:F,className:Ne(W.paper,A==null?void 0:A.className)}),se=wo({elementType:U,externalSlotProps:(I==null?void 0:I.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:me,open:S},ownerState:F,className:Ne(W.root,E)}),{slotProps:Z}=se,ie=je(se,DH);return l.jsx(U,$({},ie,!zh(U)&&{slotProps:Z,disableScrollLock:y},{children:l.jsx(N,$({appear:!0,in:S,onEntering:X,onExited:ne,timeout:fe},x,{children:l.jsx(J,$({},H,{children:m}))}))}))});function VH(t){return ut("MuiMenu",t)}st("MuiMenu",["root","paper","list"]);const BH=["onEntering"],WH=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],UH={vertical:"top",horizontal:"right"},HH={vertical:"top",horizontal:"left"},qH=t=>{const{classes:e}=t;return mt({root:["root"],paper:["paper"],list:["list"]},VH,e)},KH=Oe(zH,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),GH=Oe(zP,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),QH=Oe(OH,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),YH=b.forwardRef(function(e,n){var r,i;const o=dt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:c,disableAutoFocusItem:u=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:E={},PopoverClasses:C,transitionDuration:_="auto",TransitionProps:{onEntering:k}={},variant:S="selectedMenu",slots:g={},slotProps:v={}}=o,I=je(o.TransitionProps,BH),M=je(o,WH),N=oP(),T=$({},o,{autoFocus:s,disableAutoFocusItem:u,MenuListProps:f,onEntering:k,PaperProps:E,transitionDuration:_,TransitionProps:I,variant:S}),p=qH(T),y=s&&!u&&m,x=b.useRef(null),j=(L,z)=>{x.current&&x.current.adjustStyleForScrollbar(L,{direction:N?"rtl":"ltr"}),k&&k(L,z)},A=L=>{L.key==="Tab"&&(L.preventDefault(),h&&h(L,"tabKeyDown"))};let R=-1;b.Children.map(a,(L,z)=>{b.isValidElement(L)&&(L.props.disabled||(S==="selectedMenu"&&L.props.selected||R===-1)&&(R=z))});const V=(r=g.paper)!=null?r:GH,F=(i=v.paper)!=null?i:E,W=wo({elementType:g.root,externalSlotProps:v.root,ownerState:T,className:[p.root,c]}),q=wo({elementType:V,externalSlotProps:F,ownerState:T,className:p.paper});return l.jsx(KH,$({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?UH:HH,slots:{paper:V,root:g.root},slotProps:{root:W,paper:q},open:m,ref:n,transitionDuration:_,TransitionProps:$({onEntering:j},I),ownerState:T},M,{classes:C,children:l.jsx(QH,$({onKeyDown:A,actions:x,autoFocus:s&&(R===-1||u),autoFocusItem:y,variant:S},f,{className:Ne(p.list,f.className),children:a}))}))});function XH(t){return ut("MuiMenuItem",t)}const fc=st("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),JH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ZH=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},eq=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,c=mt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},XH,s);return $({},s,c)},tq=Oe(Iu,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ZH})(({theme:t,ownerState:e})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${fc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$t(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${fc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:$t(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${fc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:$t(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$t(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${fc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${fc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${jE.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${jE.inset}`]:{marginLeft:52},[`& .${DE.root}`]:{marginTop:0,marginBottom:0},[`& .${DE.inset}`]:{paddingLeft:36},[`& .${LE.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${LE.root} svg`]:{fontSize:"1.25rem"}}))),BE=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:u,role:f="menuitem",tabIndex:h,className:m}=r,E=je(r,JH),C=b.useContext(n0),_=b.useMemo(()=>({dense:s||C.dense||!1,disableGutters:c}),[C.dense,s,c]),k=b.useRef(null);ei(()=>{i&&k.current&&k.current.focus()},[i]);const S=$({},r,{dense:_.dense,divider:a,disableGutters:c}),g=eq(r),v=cn(k,n);let I;return r.disabled||(I=h!==void 0?h:-1),l.jsx(n0.Provider,{value:_,children:l.jsx(tq,$({ref:v,role:f,tabIndex:I,component:o,focusVisibleClassName:Ne(g.focusVisible,u),className:Ne(g.root,m)},E,{ownerState:S,classes:g}))})});function nq(t){return ut("MuiNativeSelect",t)}const Qb=st("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rq=["className","disabled","error","IconComponent","inputRef","variant"],iq=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${de(n)}`,o&&"iconOpen",r&&"disabled"]};return mt(a,nq,e)},VP=({ownerState:t,theme:e})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Qb.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),oq=Oe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:si,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Qb.multiple}`]:e.multiple}]}})(VP),BP=({ownerState:t,theme:e})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Qb.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),sq=Oe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})(BP),aq=b.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:c="standard"}=e,u=je(e,rq),f=$({},e,{disabled:i,variant:c,error:o}),h=iq(f);return l.jsxs(b.Fragment,{children:[l.jsx(oq,$({ownerState:f,className:Ne(h.select,r),disabled:i,ref:a||n},u)),e.multiple?null:l.jsx(sq,{as:s,ownerState:f,className:h.icon})]})});var WE;const lq=["children","classes","className","label","notched"],cq=Oe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:si})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),uq=Oe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:si})(({ownerState:t,theme:e})=>$({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function dq(t){const{className:e,label:n,notched:r}=t,i=je(t,lq),o=n!=null&&n!=="",s=$({},t,{notched:r,withLabel:o});return l.jsx(cq,$({"aria-hidden":!0,className:e,ownerState:s},i,{children:l.jsx(uq,{ownerState:s,children:o?l.jsx("span",{children:n}):WE||(WE=l.jsx("span",{className:"notranslate",children:""}))})}))}const fq=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hq=t=>{const{classes:e}=t,r=mt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},dU,e);return $({},e,r)},pq=Oe(zm,{shouldForwardProp:t=>si(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:$m})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Oo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Oo.focused} .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Oo.error} .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Oo.disabled} .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&$({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),mq=Oe(dq,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),gq=Oe(Vm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Fm})(({theme:t,ownerState:e})=>$({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Yb=b.forwardRef(function(e,n){var r,i,o,s,a;const c=dt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:E=!1,notched:C,slots:_={},type:k="text"}=c,S=je(c,fq),g=hq(c),v=Bl(),I=Vl({props:c,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M=$({},c,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:v,fullWidth:f,hiddenLabel:I.hiddenLabel,multiline:E,size:I.size,type:k}),N=(r=(i=_.root)!=null?i:u.Root)!=null?r:pq,T=(o=(s=_.input)!=null?s:u.Input)!=null?o:gq;return l.jsx(qb,$({slots:{root:N,input:T},renderSuffix:p=>l.jsx(mq,{ownerState:M,className:g.notchedOutline,label:m!=null&&m!==""&&I.required?a||(a=l.jsxs(b.Fragment,{children:[m,"","*"]})):m,notched:typeof C<"u"?C:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:E,ref:n,type:k},S,{classes:$({},g,{notchedOutline:null})}))});Yb.muiName="Input";function yq(t){return ut("MuiSelect",t)}const hc=st("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var UE;const vq=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],xq=Oe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${hc.select}`]:e.select},{[`&.${hc.select}`]:e[n.variant]},{[`&.${hc.error}`]:e.error},{[`&.${hc.multiple}`]:e.multiple}]}})(VP,{[`&.${hc.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),bq=Oe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})(BP),_q=Oe("input",{shouldForwardProp:t=>gP(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function HE(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function wq(t){return t==null||typeof t=="string"&&!t.trim()}const Sq=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${de(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return mt(a,yq,e)},Eq=b.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:c,className:u,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:E,error:C=!1,IconComponent:_,inputRef:k,labelId:S,MenuProps:g={},multiple:v,name:I,onBlur:M,onChange:N,onClose:T,onFocus:p,onOpen:y,open:x,readOnly:j,renderValue:A,SelectDisplayProps:R={},tabIndex:V,value:F,variant:W="standard"}=e,q=je(e,vq),[L,z]=Fh({controlled:F,default:h,name:"Select"}),[B,K]=Fh({controlled:x,default:f,name:"Select"}),Y=b.useRef(null),X=b.useRef(null),[ne,fe]=b.useState(null),{current:me}=b.useRef(x!=null),[U,J]=b.useState(),H=cn(n,k),se=b.useCallback(Pe=>{X.current=Pe,Pe&&fe(Pe)},[]),Z=ne==null?void 0:ne.parentNode;b.useImperativeHandle(H,()=>({focus:()=>{X.current.focus()},node:Y.current,value:L}),[L]),b.useEffect(()=>{f&&B&&ne&&!me&&(J(a?null:Z.clientWidth),X.current.focus())},[ne,a]),b.useEffect(()=>{s&&X.current.focus()},[s]),b.useEffect(()=>{if(!S)return;const Pe=Xn(X.current).getElementById(S);if(Pe){const at=()=>{getSelection().isCollapsed&&X.current.focus()};return Pe.addEventListener("click",at),()=>{Pe.removeEventListener("click",at)}}},[S]);const ie=(Pe,at)=>{Pe?y&&y(at):T&&T(at),me||(J(a?null:Z.clientWidth),K(Pe))},pe=Pe=>{Pe.button===0&&(Pe.preventDefault(),X.current.focus(),ie(!0,Pe))},ve=Pe=>{ie(!1,Pe)},xe=b.Children.toArray(c),Ee=Pe=>{const at=xe.find(Ke=>Ke.props.value===Pe.target.value);at!==void 0&&(z(at.props.value),N&&N(Pe,at))},Je=Pe=>at=>{let Ke;if(at.currentTarget.hasAttribute("tabindex")){if(v){Ke=Array.isArray(L)?L.slice():[];const Pn=L.indexOf(Pe.props.value);Pn===-1?Ke.push(Pe.props.value):Ke.splice(Pn,1)}else Ke=Pe.props.value;if(Pe.props.onClick&&Pe.props.onClick(at),L!==Ke&&(z(Ke),N)){const Pn=at.nativeEvent||at,Lr=new Pn.constructor(Pn.type,Pn);Object.defineProperty(Lr,"target",{writable:!0,value:{value:Ke,name:I}}),N(Lr,Pe)}v||ie(!1,at)}},Se=Pe=>{j||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Pe.key)!==-1&&(Pe.preventDefault(),ie(!0,Pe))},Q=ne!==null&&B,re=Pe=>{!Q&&M&&(Object.defineProperty(Pe,"target",{writable:!0,value:{value:L,name:I}}),M(Pe))};delete q["aria-invalid"];let Ie,Ce;const ke=[];let ge=!1;(qh({value:L})||E)&&(A?Ie=A(L):ge=!0);const rt=xe.map(Pe=>{if(!b.isValidElement(Pe))return null;let at;if(v){if(!Array.isArray(L))throw new Error(Xs(2));at=L.some(Ke=>HE(Ke,Pe.props.value)),at&&ge&&ke.push(Pe.props.children)}else at=HE(L,Pe.props.value),at&&ge&&(Ce=Pe.props.children);return b.cloneElement(Pe,{"aria-selected":at?"true":"false",onClick:Je(Pe),onKeyUp:Ke=>{Ke.key===" "&&Ke.preventDefault(),Pe.props.onKeyUp&&Pe.props.onKeyUp(Ke)},role:"option",selected:at,value:void 0,"data-value":Pe.props.value})});ge&&(v?ke.length===0?Ie=null:Ie=ke.reduce((Pe,at,Ke)=>(Pe.push(at),Ke<ke.length-1&&Pe.push(", "),Pe),[]):Ie=Ce);let _e=U;!a&&me&&ne&&(_e=Z.clientWidth);let be;typeof V<"u"?be=V:be=m?null:0;const Le=R.id||(I?`mui-component-select-${I}`:void 0),Re=$({},e,{variant:W,value:L,open:Q,error:C}),it=Sq(Re),Tt=$({},g.PaperProps,(r=g.slotProps)==null?void 0:r.paper),et=fd();return l.jsxs(b.Fragment,{children:[l.jsx(xq,$({ref:se,tabIndex:be,role:"combobox","aria-controls":et,"aria-disabled":m?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[S,Le].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Se,onMouseDown:m||j?null:pe,onBlur:re,onFocus:p},R,{ownerState:Re,className:Ne(R.className,it.select,u),id:Le,children:wq(Ie)?UE||(UE=l.jsx("span",{className:"notranslate",children:""})):Ie})),l.jsx(_q,$({"aria-invalid":C,value:Array.isArray(L)?L.join(","):L,name:I,ref:Y,"aria-hidden":!0,onChange:Ee,tabIndex:-1,disabled:m,className:it.nativeInput,autoFocus:s,ownerState:Re},q)),l.jsx(bq,{as:_,className:it.icon,ownerState:Re}),l.jsx(YH,$({id:`menu-${I||""}`,anchorEl:Z,open:Q,onClose:ve,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:$({"aria-labelledby":S,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:et},g.MenuListProps),slotProps:$({},g.slotProps,{paper:$({},Tt,{style:$({minWidth:_e},Tt!=null?Tt.style:null)})}),children:rt}))]})}),Cq=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Tq=["root"],Iq=t=>{const{classes:e}=t;return e},Xb={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>si(t)&&t!=="variant",slot:"Root"},kq=Oe(Gb,Xb)(""),Rq=Oe(Yb,Xb)(""),Pq=Oe(Kb,Xb)(""),Jb=b.forwardRef(function(e,n){const r=dt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:f=hU,id:h,input:m,inputProps:E,label:C,labelId:_,MenuProps:k,multiple:S=!1,native:g=!1,onClose:v,onOpen:I,open:M,renderValue:N,SelectDisplayProps:T,variant:p="outlined"}=r,y=je(r,Cq),x=g?aq:Eq,j=Bl(),A=Vl({props:r,muiFormControl:j,states:["variant","error"]}),R=A.variant||p,V=$({},r,{variant:R,classes:s}),F=Iq(V),W=je(F,Tq),q=m||{standard:l.jsx(kq,{ownerState:V}),outlined:l.jsx(Rq,{label:C,ownerState:V}),filled:l.jsx(Pq,{ownerState:V})}[R],L=cn(n,$l(q));return l.jsx(b.Fragment,{children:b.cloneElement(q,$({inputComponent:x,inputProps:$({children:o,error:A.error,IconComponent:f,variant:R,type:void 0,multiple:S},g?{id:h}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:_,MenuProps:k,onClose:v,onOpen:I,open:M,renderValue:N,SelectDisplayProps:$({id:h},T)},E,{classes:E?Ir(W,E.classes):W},m?m.props.inputProps:{})},(S&&g||u)&&R==="outlined"?{notched:!0}:{},{ref:L,className:Ne(q.props.className,a,F.root)},!m&&{variant:R},y))})});Jb.muiName="Select";function Aq(t){return ut("MuiTooltip",t)}const Uo=st("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),jq=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Oq(t){return Math.round(t*1e5)/1e5}const Nq=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${de(o.split("-")[0])}`],arrow:["arrow"]};return mt(s,Aq,e)},Mq=Oe(AP,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>$({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Uo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Uo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Uo.arrow}`]:$({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Uo.arrow}`]:$({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Lq=Oe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${de(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>$({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:$t(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Oq(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Uo.popper}[data-popper-placement*="left"] &`]:$({transformOrigin:"right center"},e.isRtl?$({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):$({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Uo.popper}[data-popper-placement*="right"] &`]:$({transformOrigin:"left center"},e.isRtl?$({marginRight:"14px"},e.touch&&{marginRight:"24px"}):$({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Uo.popper}[data-popper-placement*="top"] &`]:$({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Uo.popper}[data-popper-placement*="bottom"] &`]:$({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Dq=Oe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:$t(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let df=!1;const qE=new hd;let pc={x:0,y:0};function ff(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const KE=b.forwardRef(function(e,n){var r,i,o,s,a,c,u,f,h,m,E,C,_,k,S,g,v,I,M;const N=dt({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:p,components:y={},componentsProps:x={},describeChild:j=!1,disableFocusListener:A=!1,disableHoverListener:R=!1,disableInteractive:V=!1,disableTouchListener:F=!1,enterDelay:W=100,enterNextDelay:q=0,enterTouchDelay:L=700,followCursor:z=!1,id:B,leaveDelay:K=0,leaveTouchDelay:Y=1500,onClose:X,onOpen:ne,open:fe,placement:me="bottom",PopperComponent:U,PopperProps:J={},slotProps:H={},slots:se={},title:Z,TransitionComponent:ie=Qh,TransitionProps:pe}=N,ve=je(N,jq),xe=b.isValidElement(p)?p:l.jsx("span",{children:p}),Ee=Mm(),Je=oP(),[Se,Q]=b.useState(),[re,Ie]=b.useState(null),Ce=b.useRef(!1),ke=V||z,ge=Da(),rt=Da(),_e=Da(),be=Da(),[Le,Re]=Fh({controlled:fe,default:!1,name:"Tooltip",state:"open"});let it=Le;const Tt=fd(B),et=b.useRef(),Pe=ki(()=>{et.current!==void 0&&(document.body.style.WebkitUserSelect=et.current,et.current=void 0),be.clear()});b.useEffect(()=>Pe,[Pe]);const at=ot=>{qE.clear(),df=!0,Re(!0),ne&&!it&&ne(ot)},Ke=ki(ot=>{qE.start(800+K,()=>{df=!1}),Re(!1),X&&it&&X(ot),ge.start(Ee.transitions.duration.shortest,()=>{Ce.current=!1})}),Pn=ot=>{Ce.current&&ot.type!=="touchstart"||(Se&&Se.removeAttribute("title"),rt.clear(),_e.clear(),W||df&&q?rt.start(df?q:W,()=>{at(ot)}):at(ot))},Lr=ot=>{rt.clear(),_e.start(K,()=>{Ke(ot)})},{isFocusVisibleRef:bi,onBlur:ar,onFocus:Dr,ref:lr}=kb(),[,ai]=b.useState(!1),ee=ot=>{ar(ot),bi.current===!1&&(ai(!1),Lr(ot))},Ue=ot=>{Se||Q(ot.currentTarget),Dr(ot),bi.current===!0&&(ai(!0),Pn(ot))},O=ot=>{Ce.current=!0;const An=xe.props;An.onTouchStart&&An.onTouchStart(ot)},ae=ot=>{O(ot),_e.clear(),ge.clear(),Pe(),et.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",be.start(L,()=>{document.body.style.WebkitUserSelect=et.current,Pn(ot)})},he=ot=>{xe.props.onTouchEnd&&xe.props.onTouchEnd(ot),Pe(),_e.start(Y,()=>{Ke(ot)})};b.useEffect(()=>{if(!it)return;function ot(An){(An.key==="Escape"||An.key==="Esc")&&Ke(An)}return document.addEventListener("keydown",ot),()=>{document.removeEventListener("keydown",ot)}},[Ke,it]);const qe=cn($l(xe),lr,Q,n);!Z&&Z!==0&&(it=!1);const lt=b.useRef(),ct=ot=>{const An=xe.props;An.onMouseMove&&An.onMouseMove(ot),pc={x:ot.clientX,y:ot.clientY},lt.current&&lt.current.update()},gt={},Fe=typeof Z=="string";j?(gt.title=!it&&Fe&&!R?Z:null,gt["aria-describedby"]=it?Tt:null):(gt["aria-label"]=Fe?Z:null,gt["aria-labelledby"]=it&&!Fe?Tt:null);const Xe=$({},gt,ve,xe.props,{className:Ne(ve.className,xe.props.className),onTouchStart:O,ref:qe},z?{onMouseMove:ct}:{}),wn={};F||(Xe.onTouchStart=ae,Xe.onTouchEnd=he),R||(Xe.onMouseOver=ff(Pn,Xe.onMouseOver),Xe.onMouseLeave=ff(Lr,Xe.onMouseLeave),ke||(wn.onMouseOver=Pn,wn.onMouseLeave=Lr)),A||(Xe.onFocus=ff(Ue,Xe.onFocus),Xe.onBlur=ff(ee,Xe.onBlur),ke||(wn.onFocus=Ue,wn.onBlur=ee));const $r=b.useMemo(()=>{var ot;let An=[{name:"arrow",enabled:!!re,options:{element:re,padding:4}}];return(ot=J.popperOptions)!=null&&ot.modifiers&&(An=An.concat(J.popperOptions.modifiers)),$({},J.popperOptions,{modifiers:An})},[re,J]),rn=$({},N,{isRtl:Je,arrow:T,disableInteractive:ke,placement:me,PopperComponentProp:U,touch:Ce.current}),Vt=Nq(rn),Bt=(r=(i=se.popper)!=null?i:y.Popper)!=null?r:Mq,Fr=(o=(s=(a=se.transition)!=null?a:y.Transition)!=null?s:ie)!=null?o:Qh,We=(c=(u=se.tooltip)!=null?u:y.Tooltip)!=null?c:Lq,Nt=(f=(h=se.arrow)!=null?h:y.Arrow)!=null?f:Dq,ko=$a(Bt,$({},J,(m=H.popper)!=null?m:x.popper,{className:Ne(Vt.popper,J==null?void 0:J.className,(E=(C=H.popper)!=null?C:x.popper)==null?void 0:E.className)}),rn),_i=$a(Fr,$({},pe,(_=H.transition)!=null?_:x.transition),rn),xd=$a(We,$({},(k=H.tooltip)!=null?k:x.tooltip,{className:Ne(Vt.tooltip,(S=(g=H.tooltip)!=null?g:x.tooltip)==null?void 0:S.className)}),rn),bd=$a(Nt,$({},(v=H.arrow)!=null?v:x.arrow,{className:Ne(Vt.arrow,(I=(M=H.arrow)!=null?M:x.arrow)==null?void 0:I.className)}),rn);return l.jsxs(b.Fragment,{children:[b.cloneElement(xe,Xe),l.jsx(Bt,$({as:U??AP,placement:me,anchorEl:z?{getBoundingClientRect:()=>({top:pc.y,left:pc.x,right:pc.x,bottom:pc.y,width:0,height:0})}:Se,popperRef:lt,open:Se?it:!1,id:Tt,transition:!0},wn,ko,{popperOptions:$r,children:({TransitionProps:ot})=>l.jsx(Fr,$({timeout:Ee.transitions.duration.shorter},ot,_i,{children:l.jsxs(We,$({},xd,{children:[Z,T?l.jsx(Nt,$({},bd,{ref:Ie})):null]}))}))}))]})});function $q(t){return ut("MuiToolbar",t)}st("MuiToolbar",["root","gutters","regular","dense"]);const Fq=["className","component","disableGutters","variant"],zq=t=>{const{classes:e,disableGutters:n,variant:r}=t;return mt({root:["root",!n&&"gutters",r]},$q,e)},Vq=Oe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>$({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Bq=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,c=je(r,Fq),u=$({},r,{component:o,disableGutters:s,variant:a}),f=zq(u);return l.jsx(Vq,$({as:o,className:Ne(f.root,i),ref:n,ownerState:u},c))});function Wq(t){return ut("MuiTextField",t)}st("MuiTextField",["root"]);const Uq=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Hq={standard:Gb,filled:Kb,outlined:Yb},qq=t=>{const{classes:e}=t;return mt({root:["root"]},Wq,e)},Kq=Oe(DP,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Sn=b.forwardRef(function(e,n){const r=dt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:c="primary",defaultValue:u,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:E=!1,helperText:C,id:_,InputLabelProps:k,inputProps:S,InputProps:g,inputRef:v,label:I,maxRows:M,minRows:N,multiline:T=!1,name:p,onBlur:y,onChange:x,onFocus:j,placeholder:A,required:R=!1,rows:V,select:F=!1,SelectProps:W,type:q,value:L,variant:z="outlined"}=r,B=je(r,Uq),K=$({},r,{autoFocus:o,color:c,disabled:f,error:h,fullWidth:E,multiline:T,required:R,select:F,variant:z}),Y=qq(K),X={};z==="outlined"&&(k&&typeof k.shrink<"u"&&(X.notched=k.shrink),X.label=I),F&&((!W||!W.native)&&(X.id=void 0),X["aria-describedby"]=void 0);const ne=fd(_),fe=C&&ne?`${ne}-helper-text`:void 0,me=I&&ne?`${ne}-label`:void 0,U=Hq[z],J=l.jsx(U,$({"aria-describedby":fe,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:E,multiline:T,name:p,rows:V,maxRows:M,minRows:N,type:q,value:L,id:ne,inputRef:v,onBlur:y,onChange:x,onFocus:j,placeholder:A,inputProps:S},X,g));return l.jsxs(Kq,$({className:Ne(Y.root,a),disabled:f,error:h,fullWidth:E,ref:n,required:R,color:c,variant:z,ownerState:K},B,{children:[I!=null&&I!==""&&l.jsx(TH,$({htmlFor:ne,id:me},k,{children:I})),F?l.jsx(Jb,$({"aria-describedby":fe,id:ne,labelId:me,value:L,input:J},W,{children:s})):J,C&&l.jsx(Y7,$({id:fe},m,{children:C}))]}))});function Gq(){return b.useEffect(()=>{if(!document.getElementById("about-shine-style")){const t=document.createElement("style");t.id="about-shine-style",t.innerHTML=`
        .about-shine-effect {
          position: relative;
          overflow: hidden;
        }
        .about-shine-effect::after {
          content: '';
          position: absolute;
          top: 0;
          left: -80px;
          width: 54px;
          height: 100%;
          background: linear-gradient(120deg, transparent 55%, rgba(255,255,255,0.32) 75%, rgba(255,255,255,0.18) 90%, transparent 100%);
          pointer-events: none;
          animation: about-shine-sweep 2.8s cubic-bezier(.4,1.6,.6,1) infinite;
          opacity: 0.95;
          filter: blur(0.5px);
        }
        @keyframes about-shine-sweep {
          0% { left: -80px; opacity: 0.18; }
          10% { opacity: 0.32; }
          40% { left: 100%; opacity: 0.18; }
          100% { left: 100%; opacity: 0; }
        }
      `,document.head.appendChild(t)}},[]),l.jsx(MP,{maxWidth:"md",sx:{py:6},children:l.jsxs(gi,{elevation:3,className:"about-shine-effect",sx:{p:{xs:2,sm:4},borderRadius:4,background:"#f8fafc",position:"relative",overflow:"hidden"},children:[l.jsx(Be,{variant:"h4",fontWeight:700,align:"center",sx:{color:"#D5007D"},children:"About PharmaStackX: The Fulfillment Engine"}),l.jsx(Be,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Mission: Closing Africa's Access Gap."}),l.jsx(Be,{paragraph:!0,children:"PharmaStackX is building the essential digital infrastructure required for modern healthcare in Africa. Our mission is to end the devastating public health problem caused by inventory invisibility. When a patient needs life-saving medication, they should never be turned away. We achieve this by transforming every local community pharmacy into a node of a real-time fulfillment network."}),l.jsx(Be,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"The Problem We Solve"}),l.jsx(Be,{paragraph:!0,children:"The challenge is not a lack of medicine; it is a lack of information. Patients, doctors, and hospitals suffer devastating delays when they cannot confirm stock levels before making a purchase. This stock-out gap is a logistical crisis that leads to wasted time, lost revenue for pharmacists, and poor patient outcomes."}),l.jsx(Be,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Solution: The Intelligent Fulfillment Stack"}),l.jsx(Be,{paragraph:!0,children:"PharmaStackX is not just a directory; we are a technology stack that guarantees reliability through data and automation."}),l.jsxs(Be,{paragraph:!0,children:[l.jsx("b",{children:"For the Patient:"})," We provide guaranteed, real-time access to essential and scarce medicines with urgent fulfillment powered by unique model."]}),l.jsxs(Be,{paragraph:!0,children:[l.jsx("b",{children:"For the Pharmacist:"})," We automate growth and eliminate the burden of manual work. We provide a free, branded online store and leverage technology to guarantee immediate stock accuracy. This unlocks a consistent pipeline of high-value, exclusive customer orders, giving the pharmacy the competitive edge and reliability needed for long-term growth."]}),l.jsxs(Be,{paragraph:!0,children:[l.jsx("b",{children:"For the Sector:"})," We generate the first reliable, Demand and Scarcity Data for the Nigerian pharmaceutical market, providing the insight necessary for manufacturers and policymakers to stabilize the supply chain."]}),l.jsx(Be,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Vision"}),l.jsx(Be,{paragraph:!0,children:"We are committed to building the most reliable and data-rich platform for medicine fulfillment, turning every pharmacy in Africa into a digitally empowered, reliable access point. We are building the future of African health, one fulfilled prescription at a time."})]})})}var WP={},UP={},Bm={},HP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(HP);var Qq="Expected a function",GE=NaN,Yq="[object Symbol]",Xq=/^\s+|\s+$/g,Jq=/^[-+]0x[0-9a-f]+$/i,Zq=/^0b[01]+$/i,eK=/^0o[0-7]+$/i,tK=parseInt,nK=typeof mc=="object"&&mc&&mc.Object===Object&&mc,rK=typeof self=="object"&&self&&self.Object===Object&&self,iK=nK||rK||Function("return this")(),oK=Object.prototype,sK=oK.toString,aK=Math.max,lK=Math.min,ny=function(){return iK.Date.now()};function cK(t,e,n){var r,i,o,s,a,c,u=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(Qq);e=QE(e)||0,r0(n)&&(f=!!n.leading,h="maxWait"in n,o=h?aK(QE(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function E(N){var T=r,p=i;return r=i=void 0,u=N,s=t.apply(p,T),s}function C(N){return u=N,a=setTimeout(S,e),f?E(N):s}function _(N){var T=N-c,p=N-u,y=e-T;return h?lK(y,o-p):y}function k(N){var T=N-c,p=N-u;return c===void 0||T>=e||T<0||h&&p>=o}function S(){var N=ny();if(k(N))return g(N);a=setTimeout(S,_(N))}function g(N){return a=void 0,m&&r?E(N):(r=i=void 0,s)}function v(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function I(){return a===void 0?s:g(ny())}function M(){var N=ny(),T=k(N);if(r=arguments,i=this,c=N,T){if(a===void 0)return C(c);if(h)return a=setTimeout(S,e),E(c)}return a===void 0&&(a=setTimeout(S,e)),s}return M.cancel=v,M.flush=I,M}function r0(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function uK(t){return!!t&&typeof t=="object"}function dK(t){return typeof t=="symbol"||uK(t)&&sK.call(t)==Yq}function QE(t){if(typeof t=="number")return t;if(dK(t))return GE;if(r0(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=r0(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Xq,"");var n=Zq.test(t);return n||eK.test(t)?tK(t.slice(2),n?2:8):Jq.test(t)?GE:+t}var fK=cK,qP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qP);var Wm=qP.exports,we={},Zb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(b);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(Zb);Object.defineProperty(we,"__esModule",{value:!0});we.checkSpecKeys=we.checkNavigable=we.changeSlide=we.canUseDOM=we.canGoNext=void 0;we.clamp=GP;we.extractObject=void 0;we.filterSettings=IK;we.validSettings=we.swipeStart=we.swipeMove=we.swipeEnd=we.slidesOnRight=we.slidesOnLeft=we.slideHandler=we.siblingDirection=we.safePreventDefault=we.lazyStartIndex=we.lazySlidesOnRight=we.lazySlidesOnLeft=we.lazyEndIndex=we.keyHandler=we.initializedState=we.getWidth=we.getTrackLeft=we.getTrackCSS=we.getTrackAnimateCSS=we.getTotalSlides=we.getSwipeDirection=we.getSlideCount=we.getRequiredLazySlides=we.getPreClones=we.getPostClones=we.getOnDemandLazySlides=we.getNavigableIndexes=we.getHeight=void 0;var hK=KP(b),pK=KP(Zb);function KP(t){return t&&t.__esModule?t:{default:t}}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){mK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mK(t,e,n){return(e=gK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t){var e=yK(t,"string");return Au(e)=="symbol"?e:e+""}function yK(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GP(t,e,n){return Math.max(e,Math.min(t,n))}var Ja=we.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},QP=we.getOnDemandLazySlides=function(e){for(var n=[],r=YP(e),i=XP(e),o=r;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};we.getRequiredLazySlides=function(e){for(var n=[],r=YP(e),i=XP(e),o=r;o<i;o++)n.push(o);return n};var YP=we.lazyStartIndex=function(e){return e.currentSlide-vK(e)},XP=we.lazyEndIndex=function(e){return e.currentSlide+xK(e)},vK=we.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},xK=we.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},i0=we.getWidth=function(e){return e&&e.offsetWidth||0},JP=we.getHeight=function(e){return e&&e.offsetHeight||0},ZP=we.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,o,s;return r=e.startX-e.curX,i=e.startY-e.curY,o=Math.atan2(i,r),s=Math.round(o*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":n===!0?s>=35&&s<=135?"up":"down":"vertical"},eA=we.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};we.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};we.initializedState=function(e){var n=hK.default.Children.count(e.children),r=e.listRef,i=Math.ceil(i0(r)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(i0(o)),a;if(e.vertical)a=i;else{var c=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(c*=i/100),a=Math.ceil((i-c)/e.slidesToShow)}var u=r&&JP(r.querySelector('[data-index="0"]')),f=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],E=QP(Ut(Ut({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(E);var C={slideCount:n,slideWidth:a,listWidth:i,trackWidth:s,currentSlide:h,slideHeight:u,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(C.autoplaying="playing"),C};we.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,o=e.infinite,s=e.index,a=e.slideCount,c=e.lazyLoad,u=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,E=e.useCSS,C=e.lazyLoadedList;if(n&&r)return{};var _=s,k,S,g,v={},I={},M=o?s:GP(s,0,a-1);if(i){if(!o&&(s<0||s>=a))return{};s<0?_=s+a:s>=a&&(_=s-a),c&&C.indexOf(_)<0&&(C=C.concat(_)),v={animating:!0,currentSlide:_,lazyLoadedList:C,targetSlide:_},I={animating:!1,targetSlide:_}}else k=_,_<0?(k=_+a,o?a%h!==0&&(k=a-a%h):k=0):!eA(e)&&_>u?_=k=u:f&&_>=a?(_=o?a:a-1,k=o?0:a-1):_>=a&&(k=_-a,o?a%h!==0&&(k=0):k=a-m),!o&&_+m>=a&&(k=a-m),S=Xh(Ut(Ut({},e),{},{slideIndex:_})),g=Xh(Ut(Ut({},e),{},{slideIndex:k})),o||(S===g&&(_=k),S=g),c&&(C=C.concat(QP(Ut(Ut({},e),{},{currentSlide:_})))),E?(v={animating:!0,currentSlide:k,trackStyle:tA(Ut(Ut({},e),{},{left:S})),lazyLoadedList:C,targetSlide:M},I={animating:!1,currentSlide:k,trackStyle:Yh(Ut(Ut({},e),{},{left:g})),swipeLeft:null,targetSlide:M}):v={currentSlide:k,trackStyle:Yh(Ut(Ut({},e),{},{left:g})),lazyLoadedList:C,targetSlide:M};return{state:v,nextState:I}};we.changeSlide=function(e,n){var r,i,o,s,a,c=e.slidesToScroll,u=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,E=e.lazyLoad,C=e.infinite;if(s=f%c!==0,r=s?0:(f-h)%c,n.message==="previous")o=r===0?c:u-r,a=h-o,E&&!C&&(i=h-o,a=i===-1?f-1:i),C||(a=m-c);else if(n.message==="next")o=r===0?c:r,a=h+o,E&&!C&&(a=(h+c)%f+r),C||(a=m+c);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,C){var _=SK(Ut(Ut({},e),{},{targetSlide:a}));a>n.currentSlide&&_==="left"?a=a-f:a<n.currentSlide&&_==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};we.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};we.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Ja(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};we.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,o=n.vertical,s=n.swipeToSlide,a=n.verticalSwiping,c=n.rtl,u=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,E=n.swiped,C=n.swiping,_=n.slideCount,k=n.slidesToScroll,S=n.infinite,g=n.touchObject,v=n.swipeEvent,I=n.listHeight,M=n.listWidth;if(!r){if(i)return Ja(e);o&&s&&a&&Ja(e);var N,T={},p=Xh(n);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var y=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!a&&!C&&y>10)return{scrolling:!0};a&&(g.swipeLength=y);var x=(c?-1:1)*(g.curX>g.startX?1:-1);a&&(x=g.curY>g.startY?1:-1);var j=Math.ceil(_/k),A=ZP(n.touchObject,a),R=g.swipeLength;return S||(u===0&&(A==="right"||A==="down")||u+1>=j&&(A==="left"||A==="up")||!eA(n)&&(A==="left"||A==="up"))&&(R=g.swipeLength*f,h===!1&&m&&(m(A),T.edgeDragged=!0)),!E&&v&&(v(A),T.swiped=!0),o?N=p+R*(I/M)*x:c?N=p-R*x:N=p+R*x,a&&(N=p+R*x),T=Ut(Ut({},T),{},{touchObject:g,swipeLeft:N,trackStyle:Yh(Ut(Ut({},n),{},{left:N}))}),Math.abs(g.curX-g.startX)<Math.abs(g.curY-g.startY)*.8||g.swipeLength>10&&(T.swiping=!0,Ja(e)),T}};we.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,o=n.touchObject,s=n.listWidth,a=n.touchThreshold,c=n.verticalSwiping,u=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,E=n.targetSlide,C=n.currentSlide,_=n.infinite;if(!r)return i&&Ja(e),{};var k=c?u/a:s/a,S=ZP(o,c),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!o.swipeLength)return g;if(o.swipeLength>k){Ja(e),m&&m(S);var v,I,M=_?C:E;switch(S){case"left":case"up":I=M+JE(n),v=f?XE(n,I):I,g.currentDirection=0;break;case"right":case"down":I=M-JE(n),v=f?XE(n,I):I,g.currentDirection=1;break;default:v=M}g.triggerSlideHandler=v}else{var N=Xh(n);g.trackStyle=tA(Ut(Ut({},n),{},{left:N}))}return g};var bK=we.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o},XE=we.checkNavigable=function(e,n){var r=bK(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=i;break}i=r[o]}return n},JE=we.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(c){if(e.vertical){if(c.offsetTop+JP(c)/2>e.swipeLeft*-1)return r=c,!1}else if(c.offsetLeft-n+i0(c)/2>e.swipeLeft*-1)return r=c,!1;return!0}),!r)return 0;var s=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-s)||1;return a}else return e.slidesToScroll},e1=we.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},Yh=we.getTrackCSS=function(e){e1(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=wK(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",c=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=Ut(Ut({},o),{},{WebkitTransform:s,transform:a,msTransform:c})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},tA=we.getTrackAnimateCSS=function(e){e1(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Yh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},Xh=we.getTrackLeft=function(e){if(e.unslick)return 0;e1(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,s=e.slideCount,a=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,E=e.fade,C=e.vertical,_=0,k,S,g=0;if(E||e.slideCount===1)return 0;var v=0;if(i?(v=-Uf(e),s%c!==0&&n+c>s&&(v=-(n>s?a-(n-s):s%c)),o&&(v+=parseInt(a/2))):(s%c!==0&&n+c>s&&(v=a-s%c),o&&(v=parseInt(a/2))),_=v*u,g=v*m,C?k=n*m*-1+g:k=n*u*-1+_,h===!0){var I,M=r&&r.node;if(I=n+Uf(e),S=M&&M.childNodes[I],k=S?S.offsetLeft*-1:0,o===!0){I=i?n+Uf(e):n,S=M&&M.children[I],k=0;for(var N=0;N<I;N++)k-=M&&M.children[N]&&M.children[N].offsetWidth;k-=parseInt(e.centerPadding),k+=S&&(f-S.offsetWidth)/2}}return k},Uf=we.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},_K=we.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},wK=we.getTotalSlides=function(e){return e.slideCount===1?1:Uf(e)+e.slideCount+_K(e)},SK=we.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+EK(e)?"left":"right":e.targetSlide<e.currentSlide-CK(e)?"right":"left"},EK=we.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),i&&n%2===0&&(s+=1),s}return i?0:n-1},CK=we.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),!i&&n%2===0&&(s+=1),s}return i?n-1:0};we.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var TK=we.validSettings=Object.keys(pK.default);function IK(t){return TK.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Um={};Object.defineProperty(Um,"__esModule",{value:!0});Um.Track=void 0;var Do=nA(b),ry=nA(Wm),hf=we;function nA(t){return t&&t.__esModule?t:{default:t}}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(null,arguments)}function kK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iA(r.key),r)}}function PK(t,e,n){return e&&RK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},s0(t,e)}function jK(t){var e=rA();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OK(this,n)}}function OK(t,e){if(e&&(wl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a0(t)}function a0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rA=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jh(t)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){l0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0(t,e,n){return(e=iA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iA(t){var e=NK(t,"string");return wl(e)=="symbol"?e:e+""}function NK(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iy=function(e){var n,r,i,o,s;e.rtl?s=e.slideCount-1-e.index:s=e.index,i=s<0||s>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-o-1&&s<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var c=s===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":c}},MK=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},oy=function(e,n){return e.key||n},LK=function(e){var n,r=[],i=[],o=[],s=Do.default.Children.count(e.children),a=(0,hf.lazyStartIndex)(e),c=(0,hf.lazyEndIndex)(e);return Do.default.Children.forEach(e.children,function(u,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=u:h=Do.default.createElement("div",null);var E=MK(cr(cr({},e),{},{index:f})),C=h.props.className||"",_=iy(cr(cr({},e),{},{index:f}));if(r.push(Do.default.cloneElement(h,{key:"original"+oy(h,f),"data-index":f,className:(0,ry.default)(_,C),tabIndex:"-1","aria-hidden":!_["slick-active"],style:cr(cr({outline:"none"},h.props.style||{}),E),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&s>1&&e.fade===!1&&!e.unslick){var k=s-f;k<=(0,hf.getPreClones)(e)&&(n=-k,n>=a&&(h=u),_=iy(cr(cr({},e),{},{index:n})),i.push(Do.default.cloneElement(h,{key:"precloned"+oy(h,n),"data-index":n,tabIndex:"-1",className:(0,ry.default)(_,C),"aria-hidden":!_["slick-active"],style:cr(cr({},h.props.style||{}),E),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,hf.getPostClones)(e)&&(n=s+f,n<c&&(h=u),_=iy(cr(cr({},e),{},{index:n})),o.push(Do.default.cloneElement(h,{key:"postcloned"+oy(h,n),"data-index":n,tabIndex:"-1",className:(0,ry.default)(_,C),"aria-hidden":!_["slick-active"],style:cr(cr({},h.props.style||{}),E),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,o).reverse():i.concat(r,o)};Um.Track=function(t){AK(n,t);var e=jK(n);function n(){var r;kK(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),l0(a0(r),"node",null),l0(a0(r),"handleRef",function(a){r.node=a}),r}return PK(n,[{key:"render",value:function(){var i=LK(this.props),o=this.props,s=o.onMouseEnter,a=o.onMouseOver,c=o.onMouseLeave,u={onMouseEnter:s,onMouseOver:a,onMouseLeave:c};return Do.default.createElement("div",o0({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(Do.default.PureComponent);var Hm={};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}Object.defineProperty(Hm,"__esModule",{value:!0});Hm.Dots=void 0;var pf=oA(b),DK=oA(Wm),eC=we;function oA(t){return t&&t.__esModule?t:{default:t}}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){FK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FK(t,e,n){return(e=sA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sA(r.key),r)}}function BK(t,e,n){return e&&VK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sA(t){var e=WK(t,"string");return Sl(e)=="symbol"?e:e+""}function WK(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c0(t,e)}function c0(t,e){return c0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},c0(t,e)}function HK(t){var e=aA();return function(){var n,r=Zh(t);if(e){var i=Zh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qK(this,n)}}function qK(t,e){if(e&&(Sl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KK(t)}function KK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aA=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zh(t)}var GK=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};Hm.Dots=function(t){UK(n,t);var e=HK(n);function n(){return zK(this,n),e.apply(this,arguments)}return BK(n,[{key:"clickHandler",value:function(i,o){o.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,o=i.onMouseEnter,s=i.onMouseOver,a=i.onMouseLeave,c=i.infinite,u=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,E=GK({slideCount:h,slidesToScroll:u,slidesToShow:f,infinite:c}),C={onMouseEnter:o,onMouseOver:s,onMouseLeave:a},_=[],k=0;k<E;k++){var S=(k+1)*u-1,g=c?S:(0,eC.clamp)(S,0,h-1),v=g-(u-1),I=c?v:(0,eC.clamp)(v,0,h-1),M=(0,DK.default)({"slick-active":c?m>=I&&m<=g:m===I}),N={message:"dots",index:k,slidesToScroll:u,currentSlide:m},T=this.clickHandler.bind(this,N);_=_.concat(pf.default.createElement("li",{key:k,className:M},pf.default.cloneElement(this.props.customPaging(k),{onClick:T})))}return pf.default.cloneElement(this.props.appendDots(_),$K({className:this.props.dotsClass},C))}}]),n}(pf.default.PureComponent);var El={};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}Object.defineProperty(El,"__esModule",{value:!0});El.PrevArrow=El.NextArrow=void 0;var Za=cA(b),lA=cA(Wm),QK=we;function cA(t){return t&&t.__esModule?t:{default:t}}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(null,arguments)}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){YK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YK(t,e,n){return(e=fA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fA(r.key),r)}}function dA(t,e,n){return e&&XK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fA(t){var e=JK(t,"string");return Cl(e)=="symbol"?e:e+""}function JK(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u0(t,e)}function pA(t){var e=mA();return function(){var n,r=np(t);if(e){var i=np(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZK(this,n)}}function ZK(t,e){if(e&&(Cl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eG(t)}function eG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mA=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},np(t)}El.PrevArrow=function(t){hA(n,t);var e=pA(n);function n(){return uA(this,n),e.apply(this,arguments)}return dA(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,o=null);var s={key:"0","data-role":"none",className:(0,lA.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.prevArrow?c=Za.default.cloneElement(this.props.prevArrow,tp(tp({},s),a)):c=Za.default.createElement("button",ep({key:"0",type:"button"},s)," ","Previous"),c}}]),n}(Za.default.PureComponent);El.NextArrow=function(t){hA(n,t);var e=pA(n);function n(){return uA(this,n),e.apply(this,arguments)}return dA(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,QK.canGoNext)(this.props)||(i["slick-disabled"]=!0,o=null);var s={key:"1","data-role":"none",className:(0,lA.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.nextArrow?c=Za.default.cloneElement(this.props.nextArrow,tp(tp({},s),a)):c=Za.default.createElement("button",ep({key:"1",type:"button"},s)," ","Next"),c}}]),n}(Za.default.PureComponent);var gA=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),d0=typeof window<"u"&&typeof document<"u"&&window.document===document,rp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),tG=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(rp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),nG=2;function rG(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){tG(o)}function a(){var c=Date.now();if(n){if(c-i<nG)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=c}return a}var iG=20,oG=["top","right","bottom","left","width","height","size","weight"],sG=typeof MutationObserver<"u",aG=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=rG(this.refresh.bind(this),iG)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!d0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),sG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!d0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=oG.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),yA=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Tl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||rp},vA=qm(0,0,0,0);function ip(t){return parseFloat(t)||0}function rC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+ip(o)},0)}function lG(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=ip(s)}return n}function cG(t){var e=t.getBBox();return qm(0,0,e.width,e.height)}function uG(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return vA;var r=Tl(t).getComputedStyle(t),i=lG(r),o=i.left+i.right,s=i.top+i.bottom,a=ip(r.width),c=ip(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=rC(r,"left","right")+o),Math.round(c+s)!==n&&(c-=rC(r,"top","bottom")+s)),!fG(t)){var u=Math.round(a+o)-e,f=Math.round(c+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(f)!==1&&(c-=f)}return qm(i.left,i.top,a,c)}var dG=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Tl(t).SVGGraphicsElement}:function(t){return t instanceof Tl(t).SVGElement&&typeof t.getBBox=="function"}}();function fG(t){return t===Tl(t).document.documentElement}function hG(t){return d0?dG(t)?cG(t):uG(t):vA}function pG(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return yA(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function qm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var mG=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=hG(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),gG=function(){function t(e,n){var r=pG(n);yA(this,{target:e,contentRect:r})}return t}(),yG=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new gA,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Tl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new mG(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Tl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new gG(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),xA=typeof WeakMap<"u"?new WeakMap:new gA,bA=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=aG.getInstance(),r=new yG(e,n,this);xA.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){bA.prototype[t]=function(){var e;return(e=xA.get(this))[t].apply(e,arguments)}});var vG=function(){return typeof rp.ResizeObserver<"u"?rp.ResizeObserver:bA}();const xG=Object.freeze(Object.defineProperty({__proto__:null,default:vG},Symbol.toStringTag,{value:"Module"})),bG=Bi(xG);Object.defineProperty(Bm,"__esModule",{value:!0});Bm.InnerSlider=void 0;var er=vd(b),_G=vd(HP),wG=vd(fK),SG=vd(Wm),qt=we,EG=Um,CG=Hm,iC=El,TG=vd(bG);function vd(t){return t&&t.__esModule?t:{default:t}}function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(null,arguments)}function IG(t,e){if(t==null)return{};var n,r,i=kG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wA(r.key),r)}}function AG(t,e,n){return e&&PG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f0(t,e)}function f0(t,e){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},f0(t,e)}function OG(t){var e=_A();return function(){var n,r=sp(t);if(e){var i=sp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NG(this,n)}}function NG(t,e){if(e&&(Zs(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ft(t)}function ft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_A=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sp(t)}function ht(t,e,n){return(e=wA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wA(t){var e=MG(t,"string");return Zs(e)=="symbol"?e:e+""}function MG(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Bm.InnerSlider=function(t){jG(n,t);var e=OG(n);function n(r){var i;RG(this,n),i=e.call(this,r),ht(ft(i),"listRefHandler",function(s){return i.list=s}),ht(ft(i),"trackRefHandler",function(s){return i.track=s}),ht(ft(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var s=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,qt.getHeight)(s)+"px"}}),ht(ft(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var s=(0,qt.getOnDemandLazySlides)(Ge(Ge({},i.props),i.state));s.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}var a=Ge({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new TG.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,c.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),ht(ft(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(s){return clearTimeout(s)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),ht(ft(i),"componentDidUpdate",function(s){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,qt.getOnDemandLazySlides)(Ge(Ge({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var c=Ge(Ge({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(s);u&&i.updateState(c,u,function(){i.state.currentSlide>=er.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:er.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),ht(ft(i),"onWindowResized",function(s){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,wG.default)(function(){return i.resizeWindow(s)},50),i.debouncedResize()}),ht(ft(i),"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var c=Ge(Ge({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(c,s,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),ht(ft(i),"updateState",function(s,a,c){var u=(0,qt.initializedState)(s);s=Ge(Ge(Ge({},s),u),{},{slideIndex:u.currentSlide});var f=(0,qt.getTrackLeft)(s);s=Ge(Ge({},s),{},{left:f});var h=(0,qt.getTrackCSS)(s);(a||er.default.Children.count(i.props.children)!==er.default.Children.count(s.children))&&(u.trackStyle=h),i.setState(u,c)}),ht(ft(i),"ssrInit",function(){if(i.props.variableWidth){var s=0,a=0,c=[],u=(0,qt.getPreClones)(Ge(Ge(Ge({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,qt.getPostClones)(Ge(Ge(Ge({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(T){c.push(T.props.style.width),s+=T.props.style.width});for(var h=0;h<u;h++)a+=c[c.length-1-h],s+=c[c.length-1-h];for(var m=0;m<f;m++)s+=c[m];for(var E=0;E<i.state.currentSlide;E++)a+=c[E];var C={width:s+"px",left:-a+"px"};if(i.props.centerMode){var _="".concat(c[i.state.currentSlide],"px");C.left="calc(".concat(C.left," + (100% - ").concat(_,") / 2 ) ")}return{trackStyle:C}}var k=er.default.Children.count(i.props.children),S=Ge(Ge(Ge({},i.props),i.state),{},{slideCount:k}),g=(0,qt.getPreClones)(S)+(0,qt.getPostClones)(S)+k,v=100/i.props.slidesToShow*g,I=100/g,M=-I*((0,qt.getPreClones)(S)+i.state.currentSlide)*v/100;i.props.centerMode&&(M+=(100-I*v/100)/2);var N={width:v+"%",left:M+"%"};return{slideWidth:I+"%",trackStyle:N}}),ht(ft(i),"checkImagesLoad",function(){var s=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=s.length,c=0;Array.prototype.forEach.call(s,function(u){var f=function(){return++c&&c>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(m){h(m),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=f,u.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),ht(ft(i),"progressiveLazyLoad",function(){for(var s=[],a=Ge(Ge({},i.props),i.state),c=i.state.currentSlide;c<i.state.slideCount+(0,qt.getPostClones)(a);c++)if(i.state.lazyLoadedList.indexOf(c)<0){s.push(c);break}for(var u=i.state.currentSlide-1;u>=-(0,qt.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){s.push(u);break}s.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),ht(ft(i),"slideHandler",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i.props,u=c.asNavFor,f=c.beforeChange,h=c.onLazyLoad,m=c.speed,E=c.afterChange,C=i.state.currentSlide,_=(0,qt.slideHandler)(Ge(Ge(Ge({index:s},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),k=_.state,S=_.nextState;if(k){f&&f(C,k.currentSlide);var g=k.lazyLoadedList.filter(function(v){return i.state.lazyLoadedList.indexOf(v)<0});h&&g.length>0&&h(g),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),E&&E(C),delete i.animationEndCallback),i.setState(k,function(){u&&i.asNavForIndex!==s&&(i.asNavForIndex=s,u.innerSlider.slideHandler(s)),S&&(i.animationEndCallback=setTimeout(function(){var v=S.animating,I=IG(S,["animating"]);i.setState(I,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:v})},10)),E&&E(k.currentSlide),delete i.animationEndCallback})},m))})}}),ht(ft(i),"changeSlide",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=Ge(Ge({},i.props),i.state),u=(0,qt.changeSlide)(c,s);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),ht(ft(i),"clickHandler",function(s){i.clickable===!1&&(s.stopPropagation(),s.preventDefault()),i.clickable=!0}),ht(ft(i),"keyHandler",function(s){var a=(0,qt.keyHandler)(s,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),ht(ft(i),"selectHandler",function(s){i.changeSlide(s)}),ht(ft(i),"disableBodyScroll",function(){var s=function(c){c=c||window.event,c.preventDefault&&c.preventDefault(),c.returnValue=!1};window.ontouchmove=s}),ht(ft(i),"enableBodyScroll",function(){window.ontouchmove=null}),ht(ft(i),"swipeStart",function(s){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,qt.swipeStart)(s,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),ht(ft(i),"swipeMove",function(s){var a=(0,qt.swipeMove)(s,Ge(Ge(Ge({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),ht(ft(i),"swipeEnd",function(s){var a=(0,qt.swipeEnd)(s,Ge(Ge(Ge({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var c=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),c!==void 0&&(i.slideHandler(c),i.props.verticalSwiping&&i.enableBodyScroll())}}),ht(ft(i),"touchEnd",function(s){i.swipeEnd(s),i.clickable=!0}),ht(ft(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),ht(ft(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),ht(ft(i),"slickGoTo",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:s,currentSlide:i.state.currentSlide},a)},0))}),ht(ft(i),"play",function(){var s;if(i.props.rtl)s=i.state.currentSlide-i.props.slidesToScroll;else if((0,qt.canGoNext)(Ge(Ge({},i.props),i.state)))s=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(s)}),ht(ft(i),"autoPlay",function(s){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(s==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(s==="leave"){if(a==="paused"||a==="focused")return}else if(s==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),ht(ft(i),"pause",function(s){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;s==="paused"?i.setState({autoplaying:"paused"}):s==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),ht(ft(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),ht(ft(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ht(ft(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),ht(ft(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ht(ft(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),ht(ft(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),ht(ft(i),"render",function(){var s=(0,SG.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Ge(Ge({},i.props),i.state),c=(0,qt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;c=Ge(Ge({},c),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,qt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=Ge(Ge({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=er.default.createElement(CG.Dots,h)}var E,C,_=(0,qt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);_.clickHandler=i.changeSlide,i.props.arrows&&(E=er.default.createElement(iC.PrevArrow,_),C=er.default.createElement(iC.NextArrow,_));var k=null;i.props.vertical&&(k={height:i.state.listHeight});var S=null;i.props.vertical===!1?i.props.centerMode===!0&&(S={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(S={padding:i.props.centerPadding+" 0px"});var g=Ge(Ge({},k),S),v=i.props.touchMove,I={className:"slick-list",style:g,onClick:i.clickHandler,onMouseDown:v?i.swipeStart:null,onMouseMove:i.state.dragging&&v?i.swipeMove:null,onMouseUp:v?i.swipeEnd:null,onMouseLeave:i.state.dragging&&v?i.swipeEnd:null,onTouchStart:v?i.swipeStart:null,onTouchMove:i.state.dragging&&v?i.swipeMove:null,onTouchEnd:v?i.touchEnd:null,onTouchCancel:i.state.dragging&&v?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:s,dir:"ltr",style:i.props.style};return i.props.unslick&&(I={className:"slick-list"},M={className:s,style:i.props.style}),er.default.createElement("div",M,i.props.unslick?"":E,er.default.createElement("div",op({ref:i.listRefHandler},I),er.default.createElement(EG.Track,op({ref:i.trackRefHandler},c),i.props.children)),i.props.unslick?"":C,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=Ge(Ge({},_G.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:er.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=Ge(Ge({},i.state),o),i}return AG(n,[{key:"didPropsChange",value:function(i){for(var o=!1,s=0,a=Object.keys(this.props);s<a.length;s++){var c=a[s];if(!i.hasOwnProperty(c)){o=!0;break}if(!(Zs(i[c])==="object"||typeof i[c]=="function"||isNaN(i[c]))&&i[c]!==this.props[c]){o=!0;break}}return o||er.default.Children.count(this.props.children)!==er.default.Children.count(i.children)}}]),n}(er.default.Component);var LG=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},DG=LG,$G=DG,FG=function(t){var e=/[height|width]$/;return e.test(t)},sC=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var o=t[r];r=$G(r),FG(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",i<n.length-1&&(e+=" and ")}),e},zG=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=sC(n),r<t.length-1&&(e+=", ")}),e):sC(t)},VG=zG;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(b),n=Bm,r=s(VG),i=s(Zb),o=we;function s(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a(p)}function c(){return c=Object.assign?Object.assign.bind():function(p){for(var y=1;y<arguments.length;y++){var x=arguments[y];for(var j in x)({}).hasOwnProperty.call(x,j)&&(p[j]=x[j])}return p},c.apply(null,arguments)}function u(p,y){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(p);y&&(j=j.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),x.push.apply(x,j)}return x}function f(p){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?u(Object(x),!0).forEach(function(j){M(p,j,x[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):u(Object(x)).forEach(function(j){Object.defineProperty(p,j,Object.getOwnPropertyDescriptor(x,j))})}return p}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function m(p,y){for(var x=0;x<y.length;x++){var j=y[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(p,N(j.key),j)}}function E(p,y,x){return y&&m(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function C(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&_(p,y)}function _(p,y){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,j){return x.__proto__=j,x},_(p,y)}function k(p){var y=v();return function(){var x,j=I(p);if(y){var A=I(this).constructor;x=Reflect.construct(j,arguments,A)}else x=j.apply(this,arguments);return S(this,x)}}function S(p,y){if(y&&(a(y)=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(p)}function g(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function v(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!p})()}function I(p){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},I(p)}function M(p,y,x){return(y=N(y))in p?Object.defineProperty(p,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[y]=x,p}function N(p){var y=T(p,"string");return a(y)=="symbol"?y:y+""}function T(p,y){if(a(p)!="object"||!p)return p;var x=p[Symbol.toPrimitive];if(x!==void 0){var j=x.call(p,y);if(a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}t.default=function(p){C(x,p);var y=k(x);function x(j){var A;return h(this,x),A=y.call(this,j),M(g(A),"innerSliderRefHandler",function(R){return A.innerSlider=R}),M(g(A),"slickPrev",function(){return A.innerSlider.slickPrev()}),M(g(A),"slickNext",function(){return A.innerSlider.slickNext()}),M(g(A),"slickGoTo",function(R){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A.innerSlider.slickGoTo(R,V)}),M(g(A),"slickPause",function(){return A.innerSlider.pause("paused")}),M(g(A),"slickPlay",function(){return A.innerSlider.autoPlay("play")}),A.state={breakpoint:null},A._responsiveMediaHandlers=[],A}return E(x,[{key:"media",value:function(A,R){var V=window.matchMedia(A),F=function(q){var L=q.matches;L&&R()};V.addListener(F),this._responsiveMediaHandlers.push({mql:V,query:A,listener:F})}},{key:"componentDidMount",value:function(){var A=this;if(this.props.responsive){var R=this.props.responsive.map(function(F){return F.breakpoint});R.sort(function(F,W){return F-W}),R.forEach(function(F,W){var q;W===0?q=(0,r.default)({minWidth:0,maxWidth:F}):q=(0,r.default)({minWidth:R[W-1]+1,maxWidth:F}),(0,o.canUseDOM)()&&A.media(q,function(){A.setState({breakpoint:F})})});var V=(0,r.default)({minWidth:R.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(V,function(){A.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(A){A.mql.removeListener(A.listener)})}},{key:"render",value:function(){var A=this,R,V;this.state.breakpoint?(V=this.props.responsive.filter(function(ne){return ne.breakpoint===A.state.breakpoint}),R=V[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),V[0].settings)):R=f(f({},i.default),this.props),R.centerMode&&(R.slidesToScroll>1,R.slidesToScroll=1),R.fade&&(R.slidesToShow>1,R.slidesToScroll>1,R.slidesToShow=1,R.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(ne){return typeof ne=="string"?!!ne.trim():!!ne}),R.variableWidth&&(R.rows>1||R.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),R.variableWidth=!1);for(var W=[],q=null,L=0;L<F.length;L+=R.rows*R.slidesPerRow){for(var z=[],B=L;B<L+R.rows*R.slidesPerRow;B+=R.slidesPerRow){for(var K=[],Y=B;Y<B+R.slidesPerRow&&(R.variableWidth&&F[Y].props.style&&(q=F[Y].props.style.width),!(Y>=F.length));Y+=1)K.push(e.default.cloneElement(F[Y],{key:100*L+10*B+Y,tabIndex:-1,style:{width:"".concat(100/R.slidesPerRow,"%"),display:"inline-block"}}));z.push(e.default.createElement("div",{key:10*L+B},K))}R.variableWidth?W.push(e.default.createElement("div",{key:L,style:{width:q}},z)):W.push(e.default.createElement("div",{key:L},z))}if(R==="unslick"){var X="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:X},F)}else W.length<=R.slidesToShow&&(R.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(R)),W)}}]),x}(e.default.Component)})(UP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(UP);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(WP);const BG=ap(WP);function WG({onClick:t}){const[e,n]=b.useState(!1),r=i=>{n(!0),setTimeout(()=>n(!1),220),t&&t(i)};return l.jsx(Kn,{variant:"contained",color:"primary",onClick:r,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:e?"0 2px 8px 0 rgba(18,140,126,0.18)":4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #25D366 0%, #128C7E 100%)",transition:"transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",transform:e?"scale(0.96) rotate(2deg)":void 0,boxShadow:e?"0 2px 8px 0 rgba(18,140,126,0.18)":void 0,"&:hover":{transform:"scale(1.13) rotate(-6deg)",boxShadow:"0 8px 32px 0 rgba(37,211,102,0.25)"},"&:active":{transform:"scale(0.96) rotate(2deg)",boxShadow:"0 2px 8px 0 rgba(18,140,126,0.18)"}},"aria-label":"WhatsApp Chat",children:l.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"16",cy:"16",r:"16",fill:"#25D366"}),l.jsx("path",{d:"M25.472 21.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]})})}function UG({drugClasses:t,previewProducts:e,navigate:n}){const[r,i]=b.useState(0),o=4,s=t.length,a=t.slice(r,r+o).concat(r+o>s?t.slice(0,(r+o)%s):[]),c=()=>{i(f=>(f-o+s)%s)},u=()=>{i(f=>(f+o)%s)};return l.jsxs(Qe,{sx:{position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",minWidth:0,maxWidth:"100vw"},children:[l.jsx(Kn,{onClick:c,sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Qe,{sx:{display:"flex",gap:2,flex:"1 1 auto",justifyContent:"center",flexWrap:"nowrap",overflowX:"auto",minWidth:0,maxWidth:"100vw",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:a.map(f=>{const h=e.find(m=>m.class&&m.class.trim()===f);return l.jsxs(Kh,{sx:{width:120,height:120,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)",background:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)",background:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>n(`/shop?category=${encodeURIComponent(f)}`),children:[h&&l.jsx(Qe,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:h.image||"/default-medicine.png",alt:h.name||f,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(Gh,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(Be,{variant:"h6",fontWeight:900,sx:{color:"#004d40",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"0.85rem",lineHeight:1.1},children:f})})]},f)})}),l.jsx(Kn,{onClick:u,sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Kn,{onClick:u,sx:{minWidth:0,px:1,fontSize:22,color:"#009688",flex:"0 0 auto",zIndex:3},children:">"})]})}function HG(){var z,B,K,Y,X,ne,fe,me,U,J,H,se,Z,ie,pe,ve,xe,Ee,Je,Se;const[t,e]=b.useState(!1),[n,r]=b.useState(""),[i,o]=b.useState([]),s=[{name:"Emzor Paracetamol",image:"https://i.ibb.co/yFNm7BHd/08-Paracetamol-96-World-Cup-Pack-View-01-removebg-preview.png"},{name:"Amatem Forte Softgel",image:"https://i.ibb.co/JjhnTsQt/amatem-f1-removebg-preview.png"},{name:"Mycoten-Plus Vaginal Cream",image:"https://i.ibb.co/j9VpM02J/MYCOTEN-PLUS-768x485-removebg-preview.png"},{name:"Pregnacare Range",image:"https://i.ibb.co/S47hgbN9/pregnacare-4b303546-25f3-4174-92a5-c459017d193c-400x-removebg-preview.png"}];b.useEffect(()=>{async function Q(){let Ie=(await Gt(Ve(oe,"verifyMedics"))).docs.map(ke=>({id:ke.id,...ke.data()}));(await Gt(Ve(oe,"users"))).docs.forEach(ke=>{const ge=ke.data();ge.role==="medicine-manager"&&ge.pharmacist&&Ie.push({...ge.pharmacist,id:ke.id,online:!0})}),o(Ie)}Q()},[]);const a=600;b.useEffect(()=>{if(typeof document<"u"){document.body.style.background="linear-gradient(135deg, #009688 0%, #00695c 100%)";const Q=document.getElementById("mission-shine-style");Q&&Q.remove();const re=document.createElement("style");re.id="mission-shine-style",re.innerHTML=`
        .top-shine-effect-global {
          position: absolute;
          top: 0; left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 48%, rgba(255,255,255,0.005) 49%, rgba(255,255,255,0.01) 50%, rgba(255,255,255,0.005) 51%, transparent 52%);
          filter: blur(6px) brightness(1.01);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.012;
          z-index: 1000;
        }
        .top-shine-effect {
          position: absolute;
          top: 0; left: 0;
          width: 220%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,0.09) 49%, rgba(255,255,255,0.13) 50%, rgba(255,255,255,0.09) 51%, transparent 60%);
          filter: blur(3.5px) brightness(1.05);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.13;
          z-index: 1000;
        }
        @keyframes shine-move-top {
          0% { transform: translateX(-60%); opacity: 0; }
          10% { opacity: 0.7; }
          50% { opacity: 0.95; }
          100% { transform: translateX(60%); opacity: 0; }
        }
        .mission-shine-text {
          position: relative;
          text-align: right;
          color: #fff;
          font-size: 2.1rem;
          font-weight: 700;
          font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
          overflow: visible;
          line-height: 1.2;
        }
        @media (max-width: 900px) {
          .mission-shine-text {
            font-size: 2.1rem !important;
            max-width: 540px !important;
            line-height: 1.2 !important;
            text-align: right !important;
            margin: 0 !important;
            display: inline !important;
            padding: 0 2vw !important;
            white-space: normal !important;
            overflow: visible !important;
            text-overflow: unset !important;
          }
          @media (max-width: 900px) {
            .mission-shine-text {
              font-size: 1.1rem !important;
              max-width: 100vw !important;
              line-height: 1.25 !important;
              padding: 0 0.5vw 0 0 !important;
              margin: 0 !important;
              text-align: right !important;
              display: block !important;
            }
            .top-shine-effect-container {
              min-height: 180px;
            }
            .top-shine-effect-container > .MuiBox-root {
              margin-left: 2vw !important;
            }
            .top-shine-effect-container > .MuiBox-root:last-child {
              margin-left: 2vw !important;
            }
          }
          .top-shine-effect-container {
            min-height: 180px;
          }
        }
      `,document.head.appendChild(re)}},[]);const[c,u]=b.useState([]),[f,h]=b.useState(0),[m,E]=b.useState(!0);b.useEffect(()=>{if(!s.length)return;const Q=setInterval(()=>{E(!1),setTimeout(()=>{h(re=>(re+1)%s.length),E(!0)},100)},2500);return()=>clearInterval(Q)},[s.length]);const[C,_]=b.useState([]),[k,S]=b.useState([]),[g,v]=b.useState(null),[I,M]=b.useState(""),[N,T]=b.useState(""),[p,y]=b.useState(""),x=xr(),j=k.filter(Q=>!p||Q.name&&Q.name.toLowerCase().includes(p.toLowerCase())).sort((Q,re)=>g&&Q.minutesAway!=null&&re.minutesAway!=null?Q.minutesAway-re.minutesAway:0);function A(Q,re){return Q>6&&Q<7&&re>3&&re<4?"Lagos":Q>8&&Q<10&&re>7&&re<8?"Abuja":Q>4&&Q<5.5&&re>6&&re<8?"Rivers":Q>11&&Q<13&&re>8&&re<9?"Kano":"Unknown"}function R(Q,re){if(Q==null)return"Distance unknown";if(Q==="loading")return"Calculating...";let Ie="",Ce="";if(g&&re&&re.location&&typeof re.location.latitude=="number"&&typeof re.location.longitude=="number"){const ke=A(g.lat,g.lng),ge=A(re.location.latitude,re.location.longitude);ke!=="Unknown"&&ge!=="Unknown"&&ke!==ge&&(Ie=ge)}if(Q>60)Ce=Q>120?`${Q} min away`:"Over 1 hr away";else if(g&&re&&re.location&&typeof re.location.latitude=="number"&&typeof re.location.longitude=="number"){const ke=A(g.lat,g.lng),ge=A(re.location.latitude,re.location.longitude);ke!=="Unknown"&&ge!=="Unknown"&&ke===ge&&Q>30?Ce="30 min away":Ce=`${Q} min away`}else Ce=`${Q} min away`;return Ie&&Ce?`${Ie}  ${Ce}`:Ce}b.useEffect(()=>{const Q=At(Ve(oe,"products"),re=>{const Ie=re.docs.map(Ce=>({id:Ce.id,...Ce.data()}));u(Ie)});return()=>Q()},[]);function V(Q,re,Ie,Ce){const ke=Le=>Le*Math.PI/180,rt=ke(Ie-Q),_e=ke(Ce-re),be=Math.sin(rt/2)**2+Math.cos(ke(Q))*Math.cos(ke(Ie))*Math.sin(_e/2)**2;return 6371*2*Math.atan2(Math.sqrt(be),Math.sqrt(1-be))}async function F(Q,re){const Ie=window.GOOGLE_MAPS_API_KEY;if(!Ie)return null;try{const Ce=`https://maps.googleapis.com/maps/api/directions/json?origin=${Q.lat},${Q.lng}&destination=${re.lat},${re.lng}&mode=driving&key=${Ie}`,ge=await(await fetch(Ce)).json();if(ge.routes&&ge.routes[0]&&ge.routes[0].legs&&ge.routes[0].legs[0])return Math.round(ge.routes[0].legs[0].duration.value/60)}catch{}return null}function W(Q){return!Q||isNaN(Q)||Q===1/0?null:Math.round(Q/40*60)}b.useEffect(()=>{let Q=!1;const re=At(Ve(oe,"users"),async Ie=>{const Ce=[],ke=new Set,ge=[];Ie.docs.forEach(_e=>{const be=_e.data();if(be.businessSlug&&!ke.has(be.businessSlug)){let Le=null;g&&be.location&&typeof be.location.latitude=="number"&&typeof be.location.longitude=="number"&&(Le=V(g.lat,g.lng,be.location.latitude,be.location.longitude),ge.push((async()=>{let Re=await F(g,{lat:be.location.latitude,lng:be.location.longitude});return Re||(Re=W(Le)),{slug:be.businessSlug,minutesAway:Re}})())),Ce.push({name:be.businessName||be.businessSlug,img:be.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",minutesAway:null,slug:be.businessSlug}),ke.add(be.businessSlug)}});const rt=await Promise.all(ge);for(const _e of rt){const be=Ce.findIndex(Le=>Le.slug===_e.slug);be!==-1&&(Ce[be].minutesAway=_e.minutesAway)}Ce.sort((_e,be)=>_e.minutesAway==null?1:be.minutesAway==null?-1:_e.minutesAway-be.minutesAway),Q||(console.log("Fetched pharmacy stores:",Ce),S(Ce))});return()=>{Q=!0,re()}},[g]);const q={infinite:!0,speed:1e3,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]};b.useEffect(()=>{const Q=At(Ve(oe,"products"),re=>{const Ie=new Set;re.docs.forEach(Ce=>{const ke=Ce.data().class;ke&&typeof ke=="string"&&ke.trim()&&Ie.add(ke.trim())}),_(Array.from(Ie).sort())});return()=>Q()},[]),b.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(Q=>{const re={lat:Q.coords.latitude,lng:Q.coords.longitude};v(re),localStorage.setItem("customerLocation",JSON.stringify(re))},Q=>{M("Location access denied. Please enable location services.")})},[]);const L=Q=>{Q.preventDefault(),N.trim()?x(`/shop?search=${encodeURIComponent(N.trim())}`):x("/shop")};return l.jsx(MP,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0,background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(gi,{elevation:3,sx:{p:0,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"#fff",boxShadow:3,position:"relative",overflow:"hidden",minHeight:0,height:"auto",display:"block"},children:[l.jsx("div",{className:"top-shine-effect-global"}),l.jsx(Qe,{sx:{minHeight:120,display:"flex",alignItems:"center",justifyContent:"center",mb:2,borderTopLeftRadius:16,borderTopRightRadius:16,p:{xs:2,md:5},pb:0,boxShadow:"none",background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(Qe,{className:"top-shine-effect-container",sx:{width:"100%",minHeight:{xs:180,sm:220,md:330},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",pl:0,ml:{xs:0,sm:"-20px",md:"-40px"},overflow:"visible",flexWrap:"nowrap",gap:{xs:1,sm:2,md:4}},children:[l.jsx("div",{className:"top-shine-effect"}),s.length>0&&l.jsx(OP,{in:m,timeout:a,children:l.jsx("img",{src:((z=s[f])==null?void 0:z.image)||"/default-medicine.png",alt:((B=s[f])==null?void 0:B.name)||"Medicine",style:{width:((K=s[f])==null?void 0:K.name)==="Visita Plus Cream"||((Y=s[f])==null?void 0:Y.name)==="Amatem Forte Softgel"||((X=s[f])==null?void 0:X.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",height:((ne=s[f])==null?void 0:ne.name)==="Visita Plus Cream"||((fe=s[f])==null?void 0:fe.name)==="Amatem Forte Softgel"||((me=s[f])==null?void 0:me.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",minWidth:((U=s[f])==null?void 0:U.name)==="Visita Plus Cream"||((J=s[f])==null?void 0:J.name)==="Amatem Forte Softgel"||((H=s[f])==null?void 0:H.name)==="Mycoten-Plus Vaginal Cream"?140:90,minHeight:((se=s[f])==null?void 0:se.name)==="Visita Plus Cream"||((Z=s[f])==null?void 0:Z.name)==="Amatem Forte Softgel"||((ie=s[f])==null?void 0:ie.name)==="Mycoten-Plus Vaginal Cream"?140:90,maxWidth:((pe=s[f])==null?void 0:pe.name)==="Visita Plus Cream"||((ve=s[f])==null?void 0:ve.name)==="Amatem Forte Softgel"||((xe=s[f])==null?void 0:xe.name)==="Mycoten-Plus Vaginal Cream"?300:220,maxHeight:((Ee=s[f])==null?void 0:Ee.name)==="Visita Plus Cream"||((Je=s[f])==null?void 0:Je.name)==="Amatem Forte Softgel"||((Se=s[f])==null?void 0:Se.name)==="Mycoten-Plus Vaginal Cream"?300:220,objectFit:"contain",border:"none",background:"none",boxShadow:"none",display:"block",marginLeft:0,zIndex:101,flexShrink:0}})},f),l.jsx(Qe,{sx:{flex:1,ml:{xs:1,sm:2,md:4},display:"flex",alignItems:"center",height:"100%",zIndex:101,minWidth:0,maxWidth:{xs:"calc(100vw - 110px)",sm:540}},children:l.jsx("span",{className:"mission-shine-text",style:{fontFamily:"Montserrat, Inter, Segoe UI, Arial, sans-serif",fontWeight:700,color:"#fff",textAlign:"right",letterSpacing:.5,lineHeight:1.2,display:"inline-block",maxWidth:540,width:"100%",position:"relative",overflow:"visible",background:"none",margin:0,padding:0,boxShadow:"none",borderRadius:0,fontSize:"clamp(1.05rem, 2.1vw + 0.7rem, 2.1rem)",wordBreak:"break-word",whiteSpace:"normal"},children:"ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."})})]})}),l.jsxs(Qe,{component:"form",onSubmit:L,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1.2,mt:2,mb:1},children:[l.jsx(Sn,{variant:"outlined",placeholder:"Search drugs...",value:N,onChange:Q=>T(Q.target.value),sx:{width:{xs:140,sm:180,md:260},background:"#f8fafc",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:{xs:28,sm:32,md:38},fontSize:{xs:13,sm:14,md:15},paddingRight:0,background:"#f8fafc",boxShadow:"none"},"& input":{padding:{xs:"4px 10px",sm:"6px 12px",md:"8px 14px"},fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},size:"small",InputProps:{style:{borderRadius:99,height:28,fontSize:13,background:"#f8fafc",boxShadow:"none"}}}),l.jsx(Kn,{type:"submit",variant:"contained",color:"primary",size:"small",sx:{px:2.5,py:.5,borderRadius:99,fontWeight:500,fontSize:15,boxShadow:"none",minWidth:0,textTransform:"none",background:"linear-gradient(90deg, #FF4081 60%, #FF6F61 100%)","&:hover":{background:"linear-gradient(90deg, #FF6F61 60%, #FF4081 100%)",boxShadow:"none"}},children:"Search"})]}),l.jsx(Qe,{sx:{my:1,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3,position:"relative"},children:g?l.jsxs(Be,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,userSelect:"all",fontFamily:"inherit"},children:[g.lat.toFixed(4),", ",g.lng.toFixed(4)]}):l.jsx(Be,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,fontFamily:"inherit"},children:I||"Detecting location..."})}),l.jsxs(Qe,{sx:{mt:3,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Be,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Featured Brands"}),l.jsx(Be,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Access several brands and medicine alternatives"})]}),l.jsx(Qe,{sx:{mt:1,mb:2,background:"none",backgroundSize:"unset",borderRadius:0,minHeight:180,px:0,py:0,pt:1,position:"relative"},children:c.length===0?null:l.jsx(BG,{...q,children:c.map((Q,re)=>l.jsx(Qe,{sx:{px:1},children:l.jsxs(Kh,{sx:{height:{xs:170,sm:190,md:210},width:{xs:135,sm:160,md:200},minWidth:0,maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",p:0,background:"#fff",boxShadow:"0 2px 12px 0 #00968822",borderRadius:4,position:"relative",mx:"auto",overflow:"hidden"},children:[l.jsx(RE,{component:"img",image:Q.image||"/default-medicine.png",alt:Q.name,sx:{width:{xs:60,sm:90,md:128},height:{xs:60,sm:90,md:128},objectFit:"contain",mt:{xs:1,sm:1,md:1},mb:1,mx:"auto"}}),l.jsxs(Gh,{sx:{p:0,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[l.jsx(Be,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center",color:"#222",fontSize:14,mb:.3,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:Q.name||"Unnamed",children:Q.name||"Unnamed"}),l.jsx(Kn,{variant:"contained",size:"small",sx:{borderRadius:2,fontSize:"0.82em",fontWeight:600,px:1.2,py:.3,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:60,minHeight:28,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:()=>x(`/shop?search=${encodeURIComponent(Q.name)}`),children:l.jsx("span",{className:"button-content",children:"REQUEST"})})]})]})},Q.id||re))})}),l.jsxs(Qe,{sx:{mt:6,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Be,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Drug Classes"}),l.jsx(Be,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Find Medicines by sorting drug classes"})]}),l.jsx(Qe,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2,position:"relative"},children:l.jsx(UG,{drugClasses:C,previewProducts:c,navigate:x})}),l.jsxs(Qe,{sx:{mt:6,mb:2,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Be,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Pharmacy outlets near you"}),l.jsx(Be,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Search for drugs from pharmacy outlets closest to you, and discover the best options for your needs."}),l.jsx(Qe,{sx:{mb:2,width:"100%",display:"flex",justifyContent:"flex-start"},children:l.jsx(Sn,{variant:"outlined",placeholder:"Search for a pharmacy store...",value:p||"",onChange:Q=>y(Q.target.value),size:"small",sx:{width:{xs:180,sm:260,md:320},background:"#fff",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"},"& input":{padding:"8px 14px",fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},InputProps:{style:{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"}}})}),l.jsx(Qe,{sx:{mb:2,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:j.length===0?l.jsx(Qe,{sx:{color:"#bbb",fontStyle:"italic",fontSize:18,textAlign:"center",py:4},children:"No providers found."}):l.jsxs(Qe,{sx:{position:"relative",width:"100%"},children:[l.jsx(Qe,{sx:{display:"flex",flexDirection:"row",overflowX:"auto",gap:2,width:"100%",pb:1,scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},id:"pharmacy-scroll-box",children:j.map(Q=>l.jsx(Qe,{sx:{px:1,minWidth:250,maxWidth:270,width:250,flex:"0 0 250px",scrollSnapAlign:"start"},children:l.jsxs(Kh,{sx:{minWidth:250,maxWidth:270,width:250,mx:"auto",borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>x(`/store/${Q.slug}`),children:[l.jsx(RE,{component:"img",height:"80",image:Q.img,alt:Q.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(Gh,{sx:{textAlign:"center",pb:2},children:[l.jsx(Be,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:Q.name}),l.jsx(Be,{variant:"body2",color:"text.secondary",children:R(Q.minutesAway,Q)}),l.jsx(Kn,{size:"small",variant:"contained",sx:{mt:1,borderRadius:2,fontSize:"0.92em",fontWeight:600,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:0,minHeight:0,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:re=>{re.stopPropagation(),x(`/store/${Q.slug}`)},children:l.jsx("span",{className:"button-content",children:"Visit"})})]})]})},Q.slug))}),l.jsx(Kn,{sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const Q=document.getElementById("pharmacy-scroll-box");Q&&Q.scrollBy({left:-260,behavior:"smooth"})},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Kn,{sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const Q=document.getElementById("pharmacy-scroll-box");Q&&Q.scrollBy({left:260,behavior:"smooth"})},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),l.jsx(Qe,{sx:{width:"100%",display:"flex",justifyContent:"center",mt:1,mb:2},children:l.jsx(Kn,{component:Vu,to:"/store",size:"small",variant:"contained",sx:{px:2.5,py:.7,fontWeight:600,fontSize:"0.98em",borderRadius:2,boxShadow:2,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",minWidth:0,minHeight:0,"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},children:" Find a pharmacy store near you"})}),l.jsxs(Qe,{sx:{width:"100%",maxWidth:1100,mx:"auto",mt:6,mb:4,px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Be,{variant:"h5",fontWeight:700,sx:{mb:1,color:"#222",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#009688"},onClick:()=>x("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Med Interface"})}),l.jsx(Be,{variant:"subtitle1",sx:{mb:3,color:"#555",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#555"},onClick:()=>x("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Converse with verified health professionals, review prescriptions, and get consultations for your health needs."})}),l.jsx(Qe,{sx:{maxWidth:340,mb:2},children:l.jsx(Sn,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search by name, pharmacy, or profession",value:n,onChange:Q=>r(Q.target.value),sx:{background:"#fff",borderRadius:2},InputProps:{style:{fontSize:15}}})}),l.jsx(Qe,{sx:{width:"100%"},children:l.jsxs(Qe,{sx:{position:"relative",width:"100%"},children:[l.jsx(Kn,{onClick:()=>{const Q=document.getElementById("medics-scroll-box");Q&&Q.scrollBy({left:-220,behavior:"smooth"})},sx:{position:"absolute",left:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:i.length>4?"flex":"none"},"aria-label":"Scroll left",children:""}),l.jsx(Qe,{id:"medics-scroll-box",sx:{display:"flex",gap:2,overflowX:"auto",scrollBehavior:"smooth",py:1,px:.5},children:i.filter(Q=>{var Ie,Ce,ke;const re=n.toLowerCase();return((Ie=Q.name)==null?void 0:Ie.toLowerCase().includes(re))||""||((Ce=Q.profession)==null?void 0:Ce.toLowerCase().includes(re))||""||((ke=Q.pharmacyName)==null?void 0:ke.toLowerCase().includes(re))||""}).map(Q=>l.jsxs(Qe,{sx:{width:180,flex:"0 0 auto",p:2,border:"1px solid #eee",borderRadius:2,background:"#fafbfc",boxShadow:1,display:"flex",flexDirection:"column",alignItems:"center",mb:2,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s","&:hover":{boxShadow:3,border:"1.5px solid #009688"}},onClick:()=>x("/medinterface"),children:[l.jsx(wU,{src:Q.photo,alt:Q.name,sx:{width:56,height:56,mb:1}}),l.jsx(Be,{variant:"subtitle1",fontWeight:600,sx:{textAlign:"center",fontSize:16},children:Q.name}),l.jsx(Be,{variant:"body2",sx:{color:"#555",textAlign:"center",fontSize:14,mb:.5},children:Q.profession}),Q.pharmacyName&&l.jsx(Be,{variant:"caption",sx:{color:"#D5007D",textAlign:"center",fontWeight:500},children:Q.pharmacyName})]},Q.id))}),l.jsx(Kn,{onClick:()=>{const Q=document.getElementById("medics-scroll-box");Q&&Q.scrollBy({left:220,behavior:"smooth"})},sx:{position:"absolute",right:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:i.length>4?"flex":"none"},"aria-label":"Scroll right",children:""})]})})]}),l.jsxs(Qe,{sx:{width:"100%",maxWidth:600,mx:"auto",my:6,p:{xs:2,sm:4},background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderRadius:3,boxShadow:2,textAlign:"center"},children:[l.jsx(Be,{variant:"h6",fontWeight:700,sx:{mb:1,color:"#009688"},children:"Stay Updated!"}),l.jsx(Be,{variant:"body1",sx:{mb:2,color:"#444"},children:"Subscribe to our newsletter for health tips, new features, and exclusive offers."}),l.jsxs(Qe,{component:"form",onSubmit:Q=>{Q.preventDefault(),alert("Thank you for subscribing!")},sx:{display:"flex",gap:1,justifyContent:"center",flexWrap:"wrap"},children:[l.jsx(Sn,{type:"email",required:!0,size:"small",placeholder:"Enter your email",sx:{background:"#fff",borderRadius:2,minWidth:220}}),l.jsx(Kn,{type:"submit",variant:"contained",sx:{background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",fontWeight:600,px:3,borderRadius:2,boxShadow:1},children:"Subscribe"})]})]}),l.jsx(Qe,{component:"footer",sx:{width:"100%",mt:6,py:4,background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderTop:"1.5px solid #e0e0e0"},children:l.jsx(Qe,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:3},children:l.jsxs(Qe,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},width:"100%"},children:[l.jsxs(Qe,{sx:{textAlign:"center",mb:2},children:[l.jsx(Be,{variant:"h6",fontWeight:700,sx:{color:"#1976d2",mb:.5},children:l.jsx("span",{style:{color:"#009688"},children:"Pharmastackx"})}),l.jsx(Be,{variant:"body2",sx:{color:"#666",maxWidth:420,mx:"auto"},children:"Building Africa's essential digital infrastructure for real-time, reliable access to medicines and healthcare."})]}),l.jsxs(Qe,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",width:"100%",mb:2,gap:2,flexWrap:"wrap"},children:[l.jsxs(Qe,{sx:{minWidth:100,flex:1},children:[l.jsx(Be,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"left",letterSpacing:.2,cursor:"pointer",transition:"color 0.2s",fontSize:{xs:"1.05rem",sm:"1.25rem"},"&:hover":{color:"#00796b",textDecoration:"underline"}},onClick:()=>x("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:"About Us"}),l.jsxs(Be,{variant:"body2",sx:{color:"#666",maxWidth:260,mt:.5,cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center","&:hover":{color:"#009688",textDecoration:"underline"}},onClick:()=>x("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:["Read our about section, find our mission, vision and how we are impacting lives positively...",l.jsx("span",{style:{marginLeft:2,fontWeight:700,fontSize:"1.3em",color:"#009688",lineHeight:1},children:""})]})]}),l.jsxs(Qe,{id:"footer-contact-section",sx:{minWidth:220,flex:1,position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1,overflow:"hidden","&::after":t?{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle at 50% 50%, rgba(37,211,102,0.13) 0%, rgba(25,118,210,0.09) 60%, transparent 100%)",animation:"footer-contact-wave 0.7s cubic-bezier(.4,1.6,.6,1) 1",zIndex:2}:{},"@keyframes footer-contact-wave":{"0%":{opacity:0,transform:"scale(0.7)"},"40%":{opacity:1,transform:"scale(1.05)"},"100%":{opacity:0,transform:"scale(1.25)"}}},children:[l.jsx(Be,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"right",letterSpacing:.2,cursor:"default",fontSize:{xs:"1.05rem",sm:"1.25rem"}},children:"Contact"}),l.jsxs(Qe,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},children:[l.jsxs("a",{href:"mailto:pharmastackx@gmail.com",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M6 8l6 5 6-5",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"2",stroke:"#fff",strokeWidth:"1.5"})]}),"pharmastackx@gmail.com"]}),l.jsxs("a",{href:"tel:2349050006638",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M17.472 15.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]}),"234 90 5000 6638"]}),l.jsxs("a",{href:"https://instagram.com/pharmastackx",target:"_blank",rel:"noopener noreferrer",style:{color:"#d6249f",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#d6249f"}),l.jsx("path",{d:"M16.98 7.02A2.98 2.98 0 0 0 14 4H10A2.98 2.98 0 0 0 7.02 7.02V17A2.98 2.98 0 0 0 10 20h4a2.98 2.98 0 0 0 2.98-2.98V7.02zM12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm4.25-.75a.75.75 0 1 1-.75-.75.75.75 0 0 1 .75.75zM12 10a2 2 0 1 0 2 2 2 2 0 0 0-2-2z",fill:"#fff"})]}),"@pharmastackx"]})]})]})]}),l.jsx(Qe,{sx:{width:"100%",mt:3},children:l.jsxs(Be,{variant:"caption",sx:{color:"#888",display:"block",textAlign:"center"},children:[" ",new Date().getFullYear()," Pharmastackx. All rights reserved."]})})]})})})]})})}const SA=b.createContext(null);function qG({children:t}){const[e,n]=b.useState(null);return b.useEffect(()=>{const r=Nr(),i=Ui(r,async o=>{if(o)try{const s=await _n($e(oe,"users",o.uid));s.exists()?n({...o,...s.data()}):n(o)}catch{n(o)}else n(null)});return()=>i()},[]),l.jsx(SA.Provider,{value:{user:e,setUser:n},children:t})}function Km(){return b.useContext(SA)}var t1={},sy={};const KG=Bi(EV);var aC;function n1(){return aC||(aC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=KG}(sy)),sy}var GG=pd;Object.defineProperty(t1,"__esModule",{value:!0});var EA=t1.default=void 0,QG=GG(n1()),YG=l,XG=(0,QG.default)((0,YG.jsx)("path",{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6V5zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"}),"LocalPharmacy");EA=t1.default=XG;function JG(){return l.jsxs(Qe,{sx:{width:"100%",minHeight:{xs:120,sm:160},background:"linear-gradient(90deg, #009688 60%, #43e97b 100%)",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"flex-start",px:{xs:2,sm:6},py:{xs:2,sm:4},boxShadow:3,mb:3,mt:1,gap:2},children:[l.jsx(EA,{sx:{fontSize:{xs:40,sm:56},color:"#fff",mr:2}}),l.jsxs(Qe,{children:[l.jsx(Be,{variant:"h4",sx:{color:"#fff",fontWeight:800,letterSpacing:1,mb:.5,fontSize:{xs:22,sm:32}},children:"Find & Order Medicines"}),l.jsx(Be,{variant:"subtitle1",sx:{color:"#e0f2f1",fontWeight:400,fontSize:{xs:15,sm:18}},children:"Search, compare, and get your medicines delivered fast from trusted retailers."})]})]})}function ZG({categories:t,selected:e,onSelect:n}){return l.jsxs(Qe,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2,mt:1},children:[l.jsx(TE,{label:"All",clickable:!0,onClick:()=>n(null),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:e?void 0:"linear-gradient(90deg,#b1005a,#a1004a)",color:e?void 0:"#fff",boxShadow:e?void 0:"0 2px 8px #b1005a33","&:hover":{background:e?void 0:"linear-gradient(90deg,#a1004a,#b1005a)"}}}),t.map(r=>l.jsx(TE,{label:r,clickable:!0,onClick:()=>n(r),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:e===r?"linear-gradient(90deg,#b1005a,#a1004a)":void 0,color:e===r?"#fff":void 0,boxShadow:e===r?"0 2px 8px #b1005a33":void 0,"&:hover":{background:e===r?"linear-gradient(90deg,#a1004a,#b1005a)":void 0}}},r))]})}const eQ=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function Hn(){return typeof window<"u"&&window.innerWidth<=600}function tQ(){ps();const[t,e]=b.useState(!1),{slug:n}=zu(),{user:r}=Km(),[i,o]=b.useState([]),[s,a]=b.useState([]),[c,u]=b.useState(""),[f,h]=b.useState(null),[m,E]=b.useState(null),[C,_]=b.useState(""),[k,S]=b.useState(!0),[g,v]=b.useState(typeof window<"u"?window.innerWidth:1200),[I,M]=b.useState(null);Nr();const N=(y,x,j,A)=>{const R=z=>z*Math.PI/180,F=R(j-y),W=R(A-x),q=Math.sin(F/2)**2+Math.cos(R(y))*Math.cos(R(j))*Math.sin(W/2)**2;return 6371*(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)))},T=y=>{const A=y*1.64,R=Math.max(1,Math.round(A/25*60));return{drivingKm:A,minutes:R}};b.useEffect(()=>{S(!0);const y=At(Ve(oe,"products"),async x=>{const A=(await Promise.all(x.docs.map(async R=>{var F,W;const V={id:R.id,...R.data()};if(V.ownerId){const q=$e(oe,"users",V.ownerId),L=await _n(q);if(L.exists()){const z=L.data();V.businessName=z.businessName||"Unknown Pharmacy",V.ownerSlug=z.slug||null,V.ownerRole=z.role||null,(F=z.location)!=null&&F.latitude&&((W=z.location)!=null&&W.longitude)&&(V.businessLat=z.location.latitude,V.businessLng=z.location.longitude),V.businessState=z.businessState||z.state||""}}return V}))).filter(R=>R.ownerRole!=="distributor");o(A),S(!1)});return()=>y()},[]),b.useEffect(()=>{const y=()=>v(window.innerWidth);return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{if(i.length===0)return;const y=I;let x=n?i.filter(B=>B.ownerSlug===n):i;if(C){const B=C.toLowerCase();x=x.filter(K=>{const Y=(K.businessState||K.state||"").toLowerCase();return!!((K.ownerRole==="medicine-manager"||K.role==="medicine-manager")&&Y.includes(B))})}let j=x;y&&(j=j.filter(B=>(B.class||B.category||"").toLowerCase()===y.toLowerCase()));const A={};for(const B of j){const K=(B.normalizedName||B.name||"").toLowerCase().trim();A[K]||(A[K]=[]),A[K].push(B)}const R=Object.values(A).map(B=>(m&&m!=="denied"&&(B=B.map(K=>{if(K.businessLat&&K.businessLng){const Y=N(m.lat,m.lng,K.businessLat,K.businessLng),{minutes:X}=T(Y);return{...K,minutesAway:X}}return{...K,minutesAway:1/0}}),B.sort((K,Y)=>K.minutesAway-Y.minutesAway)),B)).flat(),V=(B="")=>B.toLowerCase().trim().replace(/\s+/g," "),F={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},W=V(c),q=(F[W]||W).split(" "),L=(B,K)=>B.includes(K)||K.length>3&&B.startsWith(K.slice(0,3))||K.length>3&&B.endsWith(K.slice(-3)),z=R.filter(B=>{const K=V(B.name),Y=V(B.ingredient),X=V(B.class);return q.some(ne=>K.includes(ne)||Y.includes(ne)||X.includes(ne)||L(K,ne)||L(Y,ne)||L(X,ne))});a(z)},[i,m,c,n,I,C]);const p=async y=>{if(!r)return alert("Please log in first");let x={...y};if((!x.businessPhone||!x.businessWhatsapp)&&x.ownerId)try{const F=$e(oe,"users",x.ownerId),W=await _n(F);if(W.exists()){const q=W.data();x.businessPhone=q.businessPhone||"",x.businessWhatsapp=q.businessWhatsapp||""}}catch{}const j=$e(oe,"carts",r.uid),A=await _n(j);let R=A.exists()?A.data().items||[]:[];const V=R.findIndex(F=>F.name===x.name);V>=0?R[V].quantity+=1:R.push({...x,quantity:1}),await Jr(j,{items:R}),h(y.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>h(null),1e3)};return l.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:Hn()?"10px 2vw":"32px 0",position:"relative",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:l.jsxs(gi,{elevation:4,sx:{width:"100%",maxWidth:1200,minHeight:"80vh",borderRadius:4,background:"#fff",boxShadow:3,p:{xs:1.5,sm:3,md:5},mt:4,mb:4,mx:"auto",overflow:"hidden"},children:[l.jsx(JG,{}),t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx(Vu,{to:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(ZG,{categories:Array.from(new Set(i.map(y=>(y.class||y.category||"").trim())).values()).filter(Boolean),selected:I,onSelect:M}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:Hn()?8:16,margin:Hn()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(255,255,255,0.97)",padding:Hn()?"6px 2vw":"14px 32px",borderRadius:16,boxShadow:"0 2px 12px #00968822",maxWidth:900,marginLeft:"auto",marginRight:"auto"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:y=>u(y.target.value),style:{padding:Hn()?"10px":"14px",width:"100%",maxWidth:Hn()?"98vw":"400px",borderRadius:"99px",border:"1.5px solid #00968855",fontSize:Hn()?15:17,background:"#f8fafc",boxShadow:"0 1px 8px #00968811",outline:"none",color:"#222",fontWeight:500,transition:"border 0.2s"}}),l.jsxs("select",{value:C,onChange:y=>_(y.target.value),style:{padding:Hn()?"10px":"14px",borderRadius:99,border:"1.5px solid #00968855",fontSize:Hn()?15:17,minWidth:Hn()?120:180,background:"#f8fafc",color:"#222",outline:"none",boxShadow:"0 1px 8px #00968811",fontWeight:500,transition:"border 0.2s"},children:[l.jsx("option",{value:"",children:"Sort by state"}),eQ.map(y=>l.jsx("option",{value:y,children:y},y))]})]}),k?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):s.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:g<=420?"repeat(2, 1fr)":g<=800?"repeat(3, 1fr)":"repeat(auto-fill, minmax(240px, 1fr))",gap:g<=420?12:g<=800?18:24,marginTop:18,alignItems:"start",padding:Hn()?"0 2vw":"0 16px",maxWidth:1100,marginLeft:"auto",marginRight:"auto"},children:s.map(y=>l.jsxs("div",{style:{border:"1.5px solid #b2dfdb",padding:"22px 18px",borderRadius:"14px",background:"#fff",boxShadow:"0 2px 10px #00968818",position:"relative",width:180,height:240,transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch",margin:"0 auto"},onMouseEnter:x=>{Hn()||(x.currentTarget.style.boxShadow="0 8px 24px #00968822",x.currentTarget.style.transform="translateY(-2px) scale(1.03)")},onMouseLeave:x=>{Hn()||(x.currentTarget.style.boxShadow="0 2px 10px #00968818",x.currentTarget.style.transform="none")},children:[y.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),y.isPOM&&l.jsx("span",{style:{position:"absolute",top:y.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),y.image?l.jsx("img",{src:y.image,alt:y.name,style:{width:"100%",height:g<=420?40:g<=800?53:68,objectFit:"contain",borderRadius:"8px",marginBottom:g<=420?6:10,background:"#e0f2f1"},onError:x=>{x.target.onerror=null,x.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:Hn()?40:68,borderRadius:8,marginBottom:Hn()?6:10,background:"#e0f2f1",display:"flex",alignItems:"center",justifyContent:"center",color:"#b2dfdb",fontSize:Hn()?13:16,fontWeight:700},children:"No Image"}),l.jsx(KE,{title:y.name||"Unnamed Drug",arrow:!0,placement:"top",children:l.jsx("strong",{style:{fontSize:y.name&&y.name.length>18?g<=420?8:g<=800?10:11:g<=420?11:g<=800?13:15,color:"#00695c",marginBottom:2,fontWeight:700,letterSpacing:.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",cursor:y.name&&y.name.length>18?"pointer":"inherit"},children:y.name||"Unnamed Drug"})}),l.jsx(KE,{title:y.ingredient||"No ingredient listed",arrow:!0,placement:"top",children:l.jsx("p",{style:{fontSize:g<=420?9:12,color:"#009688",margin:0,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",cursor:y.ingredient&&y.ingredient.length>18?"pointer":"inherit"},children:l.jsx("em",{children:y.ingredient||"No ingredient listed"})})}),l.jsx("p",{style:{fontSize:g<=420?8:11,color:"#444",margin:"2px 0 0 0"},children:y.class||""}),l.jsxs("p",{style:{fontSize:g<=420?10:13,color:"#009688",fontWeight:700,margin:"4px 0 0 0"},children:["",y.price!==void 0?y.price:"N/A"]}),l.jsxs("p",{style:{fontSize:g<=420?8:10,color:"#888",margin:"4px 0 0 0",fontWeight:400},children:[" ",y.ownerSlug?l.jsx("a",{href:`/store/${y.ownerSlug}`,style:{color:"#009688",textDecoration:"underline",cursor:"pointer",fontWeight:400,fontSize:g<=420?8:10},children:y.businessName&&y.businessName.trim()?y.businessName:"Unknown Pharmacy"}):y.businessName&&y.businessName.trim()?y.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>p(y),style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",border:"none",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:15,cursor:"pointer",boxShadow:"0 2px 8px #b1005a33",transition:"background 0.2s, box-shadow 0.2s, transform 0.15s",position:"absolute",bottom:10,right:10,zIndex:2,outline:"none",borderColor:"transparent",overflow:"hidden"},onMouseEnter:x=>{x.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",x.currentTarget.style.boxShadow="0 4px 16px #b1005a55",x.currentTarget.style.transform="scale(1.08)"},onMouseLeave:x=>{x.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",x.currentTarget.style.boxShadow="0 2px 8px #b1005a33",x.currentTarget.style.transform="none"},"aria-label":"Add to cart",disabled:typeof p!="function",children:l.jsx("span",{style:{position:"relative",zIndex:1,fontSize:16,lineHeight:1},children:"+"})}),y.minutesAway&&y.minutesAway!==1/0&&l.jsx("p",{style:{color:"#111",fontWeight:500,margin:"6px 0 0 0",fontSize:9,letterSpacing:.1},children:y.minutesAway<=1?" Right here":` ~${y.minutesAway} mins away`}),f===y.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},y.id))})]})})}function CA(){const[t,e]=b.useState("normal"),[n,r]=b.useState(!1),[i,o]=b.useState([]),s=Array.from(new Set(i.map(S=>S.ownerId).filter(Boolean))),a=s.length>1,c=async S=>{if(!f||!f.uid)return;const g=$e(oe,"carts",f.uid);let v=[...i];const I=v.findIndex(M=>M.name===S.name);I>-1?v[I]={...v[I],quantity:(v[I].quantity||1)+1}:v.push({...S,quantity:1}),o(v),await Jr(g,{items:v},{merge:!0})},u=async S=>{if(!f||!f.uid)return;const g=$e(oe,"carts",f.uid);let v=[...i];const I=v.findIndex(M=>M.name===S);I>-1&&((v[I].quantity||1)>1?v[I]={...v[I],quantity:v[I].quantity-1}:v.splice(I,1)),o(v),await Jr(g,{items:v},{merge:!0})},{user:f}=Km(),[h,m]=b.useState(0),[E,C]=b.useState(!1);b.useEffect(()=>{if(!f||!f.uid){o([]);return}(async()=>{try{const g=$e(oe,"carts",f.uid),v=await _n(g);if(v.exists()){const I=v.data();o(Array.isArray(I.items)?I.items:[])}else o([])}catch{o([]),ze.error("Failed to load cart")}})()},[f]);const _=xr();function k(){let S="single",g=s.length;a&&(t==="premium"?S="multiple-premium":S="multiple-normal"),_("/payment",{state:{orderType:S,businessCount:g}})}return b.useEffect(()=>{const S=i.reduce((g,v)=>g+v.price*(v.quantity||1),0);m(S)},[i]),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"32px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("div",{style:{width:"100%",maxWidth:700,marginBottom:18,position:"relative",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{borderRadius:16,padding:"24px 0 18px 0",background:"#fff",width:"100%",maxWidth:700,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"0 4px 24px 0 rgba(0,150,136,0.10)"},children:[l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:32,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.2,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:10,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:34,marginRight:4},children:""})," Your Cart"]}),f?l.jsxs("div",{style:{color:"#111",fontSize:16,marginTop:10,fontWeight:500},children:["Logged in as: ",l.jsx("span",{style:{color:"#b1005a",fontWeight:700},children:f.email})]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginTop:10,fontWeight:700},children:"Please log in to view your cart."})]})}),l.jsxs("div",{style:{width:"100%",maxWidth:700,margin:"0 auto",display:"flex",gap:24,alignItems:"flex-start",justifyContent:"center",marginTop:10,flexDirection:window.innerWidth<=600?"column":"row",padding:window.innerWidth<=600?"0 8px":void 0},children:[l.jsx("div",{style:{flex:2,minWidth:320,maxWidth:420,width:"100%"},children:i.length===0?l.jsx("div",{style:{color:"#888",fontSize:20,marginTop:40,textAlign:"center",fontWeight:600,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #00968822"},children:"Your cart is empty. Start shopping to add medicines!"}):E?l.jsxs("form",{onSubmit:handleRegistrationSubmit,style:{background:"#fff0f6",padding:24,borderRadius:12,margin:"20px 0",boxShadow:"0 2px 12px #b1005a22"},children:[l.jsx("h3",{style:{color:"#b1005a",fontWeight:800},children:"Distributor Registration Required"}),l.jsx("p",{style:{color:"#111",fontWeight:500},children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),distributorIds.map((S,g)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:10,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#b1005a",fontWeight:700},children:["Distributor ",g+1]}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(businessInfo==null?void 0:businessInfo.email)||(f==null?void 0:f.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsxs("p",{style:{fontSize:14,color:"#444",fontWeight:500},children:["Products from this distributor: ",i.filter(v=>v.ownerId===S).map(v=>v.name).join(", ")]})]},S)),l.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #b1005a33",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:S=>S.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",onMouseLeave:S=>S.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[i.map((S,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #00968822",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s",width:420,maxWidth:"100%"},onMouseEnter:v=>{v.currentTarget.style.boxShadow="0 8px 32px #b1005a33",v.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:v=>{v.currentTarget.style.boxShadow="0 2px 12px #00968822",v.currentTarget.style.transform="none"},children:[S.image?l.jsx("img",{src:S.image,alt:S.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:v=>{v.target.onerror=null,v.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b1005a",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18,color:"#111"},children:S.name}),l.jsxs("div",{style:{color:"#009688",fontWeight:700,fontSize:16},children:["",S.price," ",l.jsxs("span",{style:{color:"#222",fontWeight:500,fontSize:15},children:["x ",S.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>c(S),style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #b1005a33",transition:"background 0.2s"},onMouseEnter:v=>v.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",onMouseLeave:v=>v.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",children:"+"}),l.jsx("button",{onClick:()=>u(S.name),style:{background:"#111",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #1112",transition:"background 0.2s"},onMouseEnter:v=>v.currentTarget.style.background="#222",onMouseLeave:v=>v.currentTarget.style.background="#111",children:"-"})]})]},g)),i.some(S=>S.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:700},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,minWidth:260,maxWidth:320,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",width:"100%",marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:i.reduce((S,g)=>S+(g.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",h]}),!E&&l.jsx(l.Fragment,{children:a?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>r(!0),style:{width:"100%",background:"#e10098",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #e1009822",transition:"background 0.2s",marginBottom:n?0:12},onMouseEnter:S=>S.currentTarget.style.background="#b1005a",onMouseLeave:S=>S.currentTarget.style.background="#e10098",disabled:n,children:"Checkout"}),n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{width:"100%",margin:"18px 0 0 0",display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[l.jsxs("div",{style:{display:"flex",gap:12,width:"100%",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>e("normal"),style:{background:t==="normal"?"#e10098":"#fff",color:t==="normal"?"#fff":"#b1005a",border:t==="normal"?"none":"2px solid #e10098",borderRadius:8,padding:"10px 18px",fontWeight:700,cursor:"pointer",boxShadow:t==="normal"?"0 2px 8px #e1009822":"none",transition:"background 0.2s, color 0.2s",outline:"none",minWidth:120,whiteSpace:"normal",lineHeight:1.2,fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:"Normal (Recommended)"}),l.jsx("button",{onClick:()=>e("premium"),style:{background:t==="premium"?"#e10098":"#fff",color:t==="premium"?"#fff":"#b1005a",border:t==="premium"?"none":"2px solid #e10098",borderRadius:8,padding:"10px 18px",fontWeight:700,cursor:"pointer",boxShadow:t==="premium"?"0 2px 8px #e1009822":"none",transition:"background 0.2s, color 0.2s",outline:"none",minWidth:120,whiteSpace:"normal",lineHeight:1.2,fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:"Premium"})]}),l.jsx("div",{style:{marginTop:4,width:"100%",textAlign:"center",color:"#444",fontSize:15,fontWeight:500},children:t==="normal"?l.jsxs("span",{children:["Your orders will be sourced from the ",l.jsx("b",{children:"best singular retailer"})," that has all your medication request ",l.jsx("span",{style:{color:"#009688"},children:"(cheaper)"}),"."]}):l.jsxs("span",{children:["Your order will come from the ",l.jsx("b",{children:"different pharmacies you selected"})," to you ",l.jsx("span",{style:{color:"#e53e3e"},children:"(multiple delivery fees inclusive; has no effect on speed)"}),"."]})})]}),l.jsx("button",{onClick:k,style:{width:"100%",background:"#009688",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:17,cursor:"pointer",boxShadow:"0 2px 8px #00968822",marginTop:18},children:"Continue to Payment"})]})]}):l.jsx("button",{onClick:k,style:{width:"100%",background:"#e10098",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #e1009822",transition:"background 0.2s"},onMouseEnter:S=>S.currentTarget.style.background="#b1005a",onMouseLeave:S=>S.currentTarget.style.background="#e10098",children:"Checkout"})})]})})]})]})}const nQ=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const o=Math.floor(i/60);if(o<60)return`${o} minutes ago`;const s=Math.floor(o/60);if(s<24)return`${s} hours ago`;const a=Math.floor(s/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function rQ(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,o]=b.useState("Pending"),[s,a]=b.useState({}),c=Nr();if(b.useEffect(()=>{const C=Ui(c,_=>{if(e(_),_){const k=Rr(Ve(oe,"orders"),Pr("userId","==",_.uid)),S=At(k,g=>{const v=g.docs.map(I=>({id:I.id,...I.data()}));v.sort((I,M)=>new Date(M.date)-new Date(I.date)),r(v)});return()=>S()}});return()=>C()},[c]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const u=async C=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const k=$e(oe,"orders",C);await an(k,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},f=C=>{a(_=>({..._,[C]:!_[C]}))},m=["Pending","Processing","Completed","Cancelled"].reduce((C,_)=>(C[_]=n.filter(k=>(k.status||"Pending")===_),C),{}),E=C=>Array.isArray(C)?C.reduce((_,k)=>_+Number(k.price)*(Number(k.quantity)||1),0):0;return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"18px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",width:"100vw",maxWidth:"100vw",overflowX:"hidden"},children:[l.jsx("div",{style:{width:"100%",maxWidth:340,marginBottom:12,position:"relative",display:"flex",justifyContent:"center",padding:"0 6px"},children:l.jsx(gi,{elevation:6,sx:{borderRadius:2.5,px:{xs:1,sm:2},py:{xs:1,sm:1.5},boxShadow:"0 2px 12px 0 rgba(0,150,136,0.10)",background:"#fff",position:"relative",width:"100%",maxWidth:340,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:22,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.1,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:8,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:22,marginRight:3},children:""})," Your Orders"]})})}),l.jsx("div",{style:{display:"flex",gap:0,marginBottom:12,background:"#fff",borderRadius:12,boxShadow:"0 1px 6px #00968822",padding:2,maxWidth:400,width:"100%",justifyContent:"center",overflowX:"visible",border:"1px solid #e0e0e0"},children:["Processing","Completed","Cancelled","Pending"].map((C,_)=>{var k;return l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[l.jsx("button",{onClick:()=>o(C),style:{background:i===C?"#e0f7fa":"transparent",color:i===C?"#009688":"#444",border:"none",borderRadius:0,padding:"4px 0 0 0",fontWeight:700,fontSize:13,width:"100%",transition:"background 0.18s",outline:"none",cursor:"pointer",margin:0,minHeight:28},children:C}),l.jsx("span",{style:{fontWeight:800,fontSize:12,color:i===C?"#009688":"#888",marginTop:0,textAlign:"center",width:"100%",display:"block"},children:((k=m[C])==null?void 0:k.length)||0}),_<3&&l.jsx("div",{style:{position:"absolute",right:0,top:6,bottom:6,width:1,background:"#e0e0e0",height:"70%",margin:"auto 0"}})]},C)})}),m[i].length===0?l.jsx(gi,{elevation:2,sx:{mb:2,width:"100%",maxWidth:340,borderRadius:3,background:"#fff",boxShadow:1,p:{xs:1,sm:2},mx:"auto",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:80},children:l.jsxs("p",{style:{color:"#888",fontSize:18,margin:0,textAlign:"center",width:"100%"},children:["No ",i.toLowerCase()," orders."]})}):m[i].map(C=>{var _;return l.jsxs(gi,{elevation:2,sx:{mb:2,width:"100%",maxWidth:340,borderRadius:3,background:"#fff",boxShadow:1,p:{xs:1,sm:2},mx:"auto",overflow:"hidden",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #f5f5f5 0%, #e0f7fa 100%)",padding:"18px 20px 10px 20px",borderBottom:"1px solid #e0e0e0",borderTopLeftRadius:12,borderTopRightRadius:12,minHeight:54},children:[l.jsxs("div",{style:{fontWeight:700,color:"#111",fontSize:16,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",nQ(C.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:180},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#111"},children:"Medicines provided by:"}),C.items&&C.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(C.items.reduce((k,S)=>{const g=S.businessName||"Unknown",v=S.businessPhone||S.phoneNumber||"N/A",I=S.businessWhatsapp||S.whatsappNumber||"N/A";return k.set(g+"__"+v+"__"+I,{name:g,phone:v,whatsapp:I}),k},new Map).values()).map(({name:k,phone:S,whatsapp:g})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[k," (",S&&S!=="N/A"?l.jsxs("a",{href:`tel:${S}`,style:{color:"#009688",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:S}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#009688",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",g&&g!=="N/A"?l.jsxs("a",{href:`https://wa.me/${g.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:g}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"})]},k+S+g))}):l.jsx("span",{children:"No business info"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#111"},children:"Delivery agent:"})," ",C.assignedAgentName||C.riderName||C.riderId||C.assignedAgentId||"Not assigned",(C.assignedAgentName||C.riderName||C.riderId||C.assignedAgentId)&&(C.agentPhoneNumber||C.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" ",C.agentPhoneNumber?l.jsxs("a",{href:`tel:${C.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",C.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${C.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(C.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:s[C.id]?"#e0f7fa":"#009688",color:s[C.id]?"#009688":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:s[C.id]?"0 2px 8px #e0f7fa":"none"},children:s[C.id]?"Hide Items":"View Items"}),s[C.id]&&((_=C.items)==null?void 0:_.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:C.items.map((k,S)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[k.image&&l.jsx("img",{src:k.image,onError:g=>{g.target.onerror=null,g.target.src="/pharmastack-logo.png"},alt:k.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[k.name,"  ",k.price," x ",k.quantity||1]})]},S))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:700,color:"#111",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",E(C.items||[])]}),(C.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>u(C.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#111",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},C.id)})]})}const iQ="modulepreload",oQ=function(t){return"/"+t},lC={},el=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=oQ(c),c in lC)return;lC[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":iQ,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((m,E)=>{h.addEventListener("load",m),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},sQ=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function aQ(){const t=xr(),{user:e,setUser:n}=Km(),[r,i]=b.useState(""),[o,s]=b.useState(""),[a,c]=b.useState(""),[u,f]=b.useState(""),[h,m]=b.useState(""),[E,C]=b.useState(""),[_,k]=b.useState(""),[S,g]=b.useState(!1),[v,I]=b.useState(!1),[M,N]=b.useState(!1),[T,p]=b.useState({}),[y,x]=b.useState(!1),j={},[A,R]=b.useState(""),[V,F]=b.useState(""),[W,q]=b.useState(""),[L,z]=b.useState(""),[B,K]=b.useState(""),[Y,X]=b.useState(""),[ne,fe]=b.useState(""),[me,U]=b.useState(""),[J,H]=b.useState(""),[se,Z]=b.useState(""),[ie,pe]=b.useState(""),[ve,xe]=b.useState(""),[Ee,Je]=b.useState(null),[Se,Q]=b.useState(!1),[re,Ie]=b.useState(null),[Ce,ke]=b.useState(!1),[ge,rt]=b.useState(""),[_e,be]=b.useState("");Te.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const Le=async()=>{try{if(!me||!J){alert("Please provide distributor name and license number.");return}const ee=await captureDistributorLocation();if(!ee){alert(" Location required to complete distributor signup.");return}const O=(await Cc(Ts,r,o)).user,ae=await it(me),he={email:O.email,role:"distributor",businessName:me,licenseNumber:J,location:ee,slug:ae,businessSlug:ae,createdAt:new Date().toISOString()};await Tt(O.uid,he),n({...O,...he}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${ae}`),I(!1),U(""),H(""),Je(null)}catch(ee){console.error("Distributor signup error:",ee),alert(ee.message||"Distributor signup failed")}},Re=ee=>ee.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),it=async ee=>{let Ue=Re(ee);const O=Ve(oe,"users");let ae=Ue,he=1;for(;;){const qe=Rr(O,Pr("slug","==",ae));if((await Gt(qe)).empty)break;ae=`${Ue}${he++}`}return ae},Tt=async(ee,Ue)=>{console.log("Writing user doc for:",ee,Ue),await Jr($e(oe,"users",ee),Ue)},et=async()=>{try{if(!W||!L||!B){alert("Please provide address, state, and city.");return}const Ue=(await Cc(Ts,r,o)).user,O={email:Ue.email,role:"customer",address:W,state:L,city:B,landmark:Y,createdAt:new Date().toISOString()};await Tt(Ue.uid,O),n({...Ue,...O}),alert(" Customer signup successful!")}catch(ee){console.error("Customer signup error:",ee),alert(ee.message)}},Pe=async()=>navigator.geolocation?(ke(!0),new Promise((ee,Ue)=>{navigator.geolocation.getCurrentPosition(O=>{const ae={latitude:O.coords.latitude,longitude:O.coords.longitude};Ie(ae),ke(!1),ee(ae)},O=>{ke(!1),alert(" Location access denied or unavailable."),Ue(O)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),at=async()=>{try{if(!a||!ne||!u){alert("Please provide business name, address, and license number.");return}const ee=await Pe();if(!ee){alert(" Location required to complete business signup.");return}const O=(await Cc(Ts,r,o)).user;console.log("Business user created:",O.uid);const ae=await it(a);console.log("Generated unique slug:",ae);const he={email:O.email,role:"medicine-manager",businessName:a,address:u,city:E,state:h,landmark:_,licenseNumber:ne,location:ee,lat:ee.latitude,lng:ee.longitude,slug:ae,businessSlug:ae,businessPhone:ge,businessWhatsapp:_e,createdAt:new Date().toISOString()};await Tt(O.uid,he),console.log("Firestore user record created for business:",he),n({...O,...he}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${ae}`),g(!1),c(""),f(""),fe(""),Ie(null)}catch(ee){console.error("Business signup error:",ee),alert(ee.message||"Business signup failed")}},Ke=async()=>{try{const Ue=(await Zk(Ts,r,o)).user,O=await _n($e(oe,"users",Ue.uid));O.exists()?(n({...Ue,...O.data()}),O.data().role==="delivery-agent"&&O.data().slug&&t(`/agent/${O.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...Ue}))}catch(ee){console.error("Login error:",ee),alert(ee.message||"Login failed")}},Pn=async()=>{await nR(Ts),n(null)},Lr=async()=>{try{x(!0);const ee=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const gt of ee)if(!T[gt]){alert(`Please fill the ${gt} field.`),x(!1);return}const O=(await Cc(Ts,T.email,o)).user,ae=await it(T.companyName),he={...T,role:"delivery-agent",slug:ae,createdAt:new Date().toISOString()};await Tt(O.uid,he);const qe={companyName:T.companyName,phoneNumber:T.phoneNumber,whatsappNumber:T.whatsappNumber,rcNumber:T.rcNumber,businessAddress:T.businessAddress,email:T.email,coverageArea:T.coverageArea,operatingHours:T.operatingHours,logoUrl:T.logoUrl,state:T.state,city:T.city,landmark:T.landmark,userId:O.uid,createdAt:new Date().toISOString(),slug:ae},{addDoc:lt,collection:ct}=await el(async()=>{const{addDoc:gt,collection:Fe}=await Promise.resolve().then(()=>Zx);return{addDoc:gt,collection:Fe}},void 0);await lt(ct(oe,"deliveryAgents"),qe),n({...O,...he}),alert(" Delivery agent signup successful!"),N(!1),p(j)}catch(ee){console.error("Delivery agent signup error:",ee),alert(ee.message||"Delivery agent signup failed")}finally{x(!1)}},[bi,ar]=b.useState(!1),[Dr,lr]=b.useState("customer"),ai=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:[l.jsx("h2",{style:{fontWeight:900,color:"#fff",marginBottom:24,letterSpacing:1,fontSize:window.innerWidth<=600?20:32,textAlign:"center",lineHeight:1.2,maxWidth:360,margin:"0 auto 24px auto"},children:" Welcome to Pharmastackx"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e10098",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Pn,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:370,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #00968833",padding:window.innerWidth<=600?18:36,marginTop:8,margin:"0 auto"},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#009688",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#e10098"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#e10098",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:bi?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:Dr,onChange:ee=>lr(ee.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:ai.map(ee=>l.jsx("option",{value:ee.key,children:ee.label},ee.key))})}),Dr==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:A,onChange:ee=>R(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:V,onChange:ee=>F(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:W,onChange:ee=>q(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:L,onChange:ee=>z(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:B,onChange:ee=>K(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:Y,onChange:ee=>X(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:ee=>i(ee.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:ee=>s(ee.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:et,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:Ce,children:Ce?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>ar(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),re&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",re.latitude.toFixed(5),", ",re.longitude.toFixed(5)]})]}),Dr==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:ee=>c(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:u,onChange:ee=>f(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ne,onChange:ee=>fe(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:ee=>m(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),sQ.map(ee=>l.jsx("option",{value:ee,children:ee},ee))]}),l.jsx("input",{type:"text",placeholder:"City",value:E,onChange:ee=>C(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:_,onChange:ee=>k(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:ge,onChange:ee=>rt(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:_e,onChange:ee=>be(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:ee=>i(ee.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:ee=>s(ee.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:at,style:{padding:"10px 0",background:"#009688",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:Ce,children:Ce?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>ar(!1),style:{marginTop:8,width:"100%",background:"#b1005a",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),re&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",re.latitude.toFixed(5),", ",re.longitude.toFixed(5)]})]}),Dr==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:me,onChange:ee=>U(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:J,onChange:ee=>H(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:se,onChange:ee=>Z(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:ie,onChange:ee=>pe(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:ve,onChange:ee=>xe(ee.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:ee=>i(ee.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:ee=>s(ee.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Le,style:{padding:"10px 0",background:"#e10098",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:Se,children:Se?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>ar(!1),style:{marginTop:8,width:"100%",background:"#b1005a",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ee&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ee.latitude.toFixed(5),", ",Ee.longitude.toFixed(5)]})]}),Dr==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:T.companyName,onChange:ee=>p(Ue=>({...Ue,companyName:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:T.phoneNumber,onChange:ee=>p(Ue=>({...Ue,phoneNumber:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:T.whatsappNumber,onChange:ee=>p(Ue=>({...Ue,whatsappNumber:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:T.rcNumber,onChange:ee=>p(Ue=>({...Ue,rcNumber:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:T.businessAddress,onChange:ee=>p(Ue=>({...Ue,businessAddress:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:T.state,onChange:ee=>p(Ue=>({...Ue,state:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:T.city,onChange:ee=>p(Ue=>({...Ue,city:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:T.landmark,onChange:ee=>p(Ue=>({...Ue,landmark:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:T.coverageArea,onChange:ee=>p(Ue=>({...Ue,coverageArea:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:T.operatingHours,onChange:ee=>p(Ue=>({...Ue,operatingHours:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:T.logoUrl,onChange:ee=>p(Ue=>({...Ue,logoUrl:ee.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:T.email,onChange:ee=>p(Ue=>({...Ue,email:ee.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:ee=>s(ee.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Lr,style:{padding:"10px 0",background:"#009688",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:y,children:y?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>ar(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#e10098",fontWeight:800,marginBottom:18,fontSize:22,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:ee=>i(ee.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:ee=>s(ee.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:Ke,style:{flex:1,background:"#e10098",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>ar(!0),style:{flex:1,background:"#009688",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var TA={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(mc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,a={},c=0,u={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(y){var x=M(y);x.chunkSize=parseInt(x.chunkSize),y.step||y.chunk||(x.chunkSize=null),this._handle=new _(x),(this._handle.streamer=this)._config=x}).call(this,p),this.parseChunk=function(y,x){var j=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<j){let R=this._config.newline;R||(A=this._config.quoteChar||'"',R=this._handle.guessLineEndings(y,A)),y=[...y.split(R).slice(j)].join(R)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(y))!==void 0&&(y=A),this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+y,A=(this._partialLine="",this._handle.parse(j,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(y=A.meta.cursor,j=(this._finished||(this._partialLine=j.substring(y-this._baseIndex),this._baseIndex=y),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:A,workerId:u.WORKER_ID,finished:j});else if(T(this._config.chunk)&&!x){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!j||!T(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(y){T(this._config.error)?this._config.error(y):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:y,finished:!1})}}function h(p){var y;(p=p||{}).chunkSize||(p.chunkSize=u.RemoteChunkSize),f.call(this,p),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),o||(y.onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var x,j=this._config.downloadRequestHeaders;for(x in j)y.setRequestHeader(x,j[x])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,y.setRequestHeader("Range","bytes="+this._start+"-"+A));try{y.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}o&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize||y.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(y),this.parseChunk(y.responseText)))},this._chunkError=function(x){x=y.statusText||x,this._sendError(new Error(x))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=u.LocalChunkSize),f.call(this,p);var y,x,j=typeof FileReader<"u";this.stream=function(A){this._input=A,x=A.slice||A.webkitSlice||A.mozSlice,j?((y=new FileReader).onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),A=x.call(A,this._start,R)),y.readAsText(A,this._config.encoding));j||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(y.error)}}function E(p){var y;f.call(this,p=p||{}),this.stream=function(x){return y=x,this._nextChunk()},this._nextChunk=function(){var x,j;if(!this._finished)return x=this._config.chunkSize,y=x?(j=y.substring(0,x),y.substring(x)):(j=y,""),this._finished=!y,this.parseChunk(j)}}function C(p){f.call(this,p=p||{});var y=[],x=!0,j=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):x=!0},this._streamData=N(function(A){try{y.push(typeof A=="string"?A:A.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(R){this._streamError(R)}},this),this._streamError=N(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=N(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(p){var y,x,j,A,R=Math.pow(2,53),V=-R,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,L=0,z=0,B=!1,K=!1,Y=[],X={data:[],errors:[],meta:{}};function ne(J){return p.skipEmptyLines==="greedy"?J.join("").trim()==="":J.length===1&&J[0].length===0}function fe(){if(X&&j&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),j=!1),p.skipEmptyLines&&(X.data=X.data.filter(function(ie){return!ne(ie)})),me()){let ie=function(pe,ve){T(p.transformHeader)&&(pe=p.transformHeader(pe,ve)),Y.push(pe)};var Z=ie;if(X)if(Array.isArray(X.data[0])){for(var J=0;me()&&J<X.data.length;J++)X.data[J].forEach(ie);X.data.splice(0,1)}else X.data.forEach(ie)}function H(ie,pe){for(var ve=p.header?{}:[],xe=0;xe<ie.length;xe++){var Ee=xe,Je=ie[xe],Je=((Se,Q)=>(re=>(p.dynamicTypingFunction&&p.dynamicTyping[re]===void 0&&(p.dynamicTyping[re]=p.dynamicTypingFunction(re)),(p.dynamicTyping[re]||p.dynamicTyping)===!0))(Se)?Q==="true"||Q==="TRUE"||Q!=="false"&&Q!=="FALSE"&&((re=>{if(F.test(re)&&(re=parseFloat(re),V<re&&re<R))return 1})(Q)?parseFloat(Q):W.test(Q)?new Date(Q):Q===""?null:Q):Q)(Ee=p.header?xe>=Y.length?"__parsed_extra":Y[xe]:Ee,Je=p.transform?p.transform(Je,Ee):Je);Ee==="__parsed_extra"?(ve[Ee]=ve[Ee]||[],ve[Ee].push(Je)):ve[Ee]=Je}return p.header&&(xe>Y.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+xe,z+pe):xe<Y.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+xe,z+pe)),ve}var se;X&&(p.header||p.dynamicTyping||p.transform)&&(se=1,!X.data.length||Array.isArray(X.data[0])?(X.data=X.data.map(H),se=X.data.length):X.data=H(X.data,0),p.header&&X.meta&&(X.meta.fields=Y),z+=se)}function me(){return p.header&&Y.length===0}function U(J,H,se,Z){J={type:J,code:H,message:se},Z!==void 0&&(J.row=Z),X.errors.push(J)}T(p.step)&&(A=p.step,p.step=function(J){X=J,me()?fe():(fe(),X.data.length!==0&&(L+=J.data.length,p.preview&&L>p.preview?x.abort():(X.data=X.data[0],A(X,q))))}),this.parse=function(J,H,se){var Z=p.quoteChar||'"',Z=(p.newline||(p.newline=this.guessLineEndings(J,Z)),j=!1,p.delimiter?T(p.delimiter)&&(p.delimiter=p.delimiter(J),X.meta.delimiter=p.delimiter):((Z=((ie,pe,ve,xe,Ee)=>{var Je,Se,Q,re;Ee=Ee||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ie=0;Ie<Ee.length;Ie++){for(var Ce,ke=Ee[Ie],ge=0,rt=0,_e=0,be=(Q=void 0,new S({comments:xe,delimiter:ke,newline:pe,preview:10}).parse(ie)),Le=0;Le<be.data.length;Le++)ve&&ne(be.data[Le])?_e++:(Ce=be.data[Le].length,rt+=Ce,Q===void 0?Q=Ce:0<Ce&&(ge+=Math.abs(Ce-Q),Q=Ce));0<be.data.length&&(rt/=be.data.length-_e),(Se===void 0||ge<=Se)&&(re===void 0||re<rt)&&1.99<rt&&(Se=ge,Je=ke,re=rt)}return{successful:!!(p.delimiter=Je),bestDelimiter:Je}})(J,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=Z.bestDelimiter:(j=!0,p.delimiter=u.DefaultDelimiter),X.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&Z.preview++,y=J,x=new S(Z),X=x.parse(y,H,se),fe(),B?{meta:{paused:!0}}:X||{meta:{paused:!1}}},this.paused=function(){return B},this.pause=function(){B=!0,x.abort(),y=T(p.chunk)?"":y.substring(x.getCharIndex())},this.resume=function(){q.streamer._halted?(B=!1,q.streamer.parseChunk(y,!0)):setTimeout(q.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,x.abort(),X.meta.aborted=!0,T(p.complete)&&p.complete(X),y=""},this.guessLineEndings=function(ie,Z){ie=ie.substring(0,1048576);var Z=new RegExp(k(Z)+"([^]*?)"+k(Z),"gm"),se=(ie=ie.replace(Z,"")).split("\r"),Z=ie.split(`
`),ie=1<Z.length&&Z[0].length<se[0].length;if(se.length===1||ie)return`
`;for(var pe=0,ve=0;ve<se.length;ve++)se[ve][0]===`
`&&pe++;return pe>=se.length/2?`\r
`:"\r"}}function k(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(p){var y=(p=p||{}).delimiter,x=p.newline,j=p.comments,A=p.step,R=p.preview,V=p.fastMode,F=null,W=!1,q=p.quoteChar==null?'"':p.quoteChar,L=q;if(p.escapeChar!==void 0&&(L=p.escapeChar),(typeof y!="string"||-1<u.BAD_DELIMITERS.indexOf(y))&&(y=","),j===y)throw new Error("Comment character same as delimiter");j===!0?j="#":(typeof j!="string"||-1<u.BAD_DELIMITERS.indexOf(j))&&(j=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var z=0,B=!1;this.parse=function(K,Y,X){if(typeof K!="string")throw new Error("Input must be a string");var ne=K.length,fe=y.length,me=x.length,U=j.length,J=T(A),H=[],se=[],Z=[],ie=z=0;if(!K)return ge();if(V||V!==!1&&K.indexOf(q)===-1){for(var pe=K.split(x),ve=0;ve<pe.length;ve++){if(Z=pe[ve],z+=Z.length,ve!==pe.length-1)z+=x.length;else if(X)return ge();if(!j||Z.substring(0,U)!==j){if(J){if(H=[],re(Z.split(y)),rt(),B)return ge()}else re(Z.split(y));if(R&&R<=ve)return H=H.slice(0,R),ge(!0)}}return ge()}for(var xe=K.indexOf(y,z),Ee=K.indexOf(x,z),Je=new RegExp(k(L)+k(q),"g"),Se=K.indexOf(q,z);;)if(K[z]===q)for(Se=z,z++;;){if((Se=K.indexOf(q,Se+1))===-1)return X||se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:H.length,index:z}),Ce();if(Se===ne-1)return Ce(K.substring(z,Se).replace(Je,q));if(q===L&&K[Se+1]===L)Se++;else if(q===L||Se===0||K[Se-1]!==L){xe!==-1&&xe<Se+1&&(xe=K.indexOf(y,Se+1));var Q=Ie((Ee=Ee!==-1&&Ee<Se+1?K.indexOf(x,Se+1):Ee)===-1?xe:Math.min(xe,Ee));if(K.substr(Se+1+Q,fe)===y){Z.push(K.substring(z,Se).replace(Je,q)),K[z=Se+1+Q+fe]!==q&&(Se=K.indexOf(q,z)),xe=K.indexOf(y,z),Ee=K.indexOf(x,z);break}if(Q=Ie(Ee),K.substring(Se+1+Q,Se+1+Q+me)===x){if(Z.push(K.substring(z,Se).replace(Je,q)),ke(Se+1+Q+me),xe=K.indexOf(y,z),Se=K.indexOf(q,z),J&&(rt(),B))return ge();if(R&&H.length>=R)return ge(!0);break}se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:H.length,index:z}),Se++}}else if(j&&Z.length===0&&K.substring(z,z+U)===j){if(Ee===-1)return ge();z=Ee+me,Ee=K.indexOf(x,z),xe=K.indexOf(y,z)}else if(xe!==-1&&(xe<Ee||Ee===-1))Z.push(K.substring(z,xe)),z=xe+fe,xe=K.indexOf(y,z);else{if(Ee===-1)break;if(Z.push(K.substring(z,Ee)),ke(Ee+me),J&&(rt(),B))return ge();if(R&&H.length>=R)return ge(!0)}return Ce();function re(_e){H.push(_e),ie=z}function Ie(_e){var be=0;return be=_e!==-1&&(_e=K.substring(Se+1,_e))&&_e.trim()===""?_e.length:be}function Ce(_e){return X||(_e===void 0&&(_e=K.substring(z)),Z.push(_e),z=ne,re(Z),J&&rt()),ge()}function ke(_e){z=_e,re(Z),Z=[],Ee=K.indexOf(x,z)}function ge(_e){if(p.header&&!Y&&H.length&&!W){var be=H[0],Le=Object.create(null),Re=new Set(be);let it=!1;for(let Tt=0;Tt<be.length;Tt++){let et=be[Tt];if(Le[et=T(p.transformHeader)?p.transformHeader(et,Tt):et]){let Pe,at=Le[et];for(;Pe=et+"_"+at,at++,Re.has(Pe););Re.add(Pe),be[Tt]=Pe,Le[et]++,it=!0,(F=F===null?{}:F)[Pe]=et}else Le[et]=1,be[Tt]=et;Re.add(et)}it&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:H,errors:se,meta:{delimiter:y,linebreak:x,aborted:B,truncated:!!_e,cursor:ie+(Y||0),renamedHeaders:F}}}function rt(){A(ge()),H=[],se=[]}},this.abort=function(){B=!0},this.getCharIndex=function(){return z}}function g(p){var y=p.data,x=a[y.workerId],j=!1;if(y.error)x.userError(y.error,y.file);else if(y.results&&y.results.data){var A={abort:function(){j=!0,v(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(T(x.userStep)){for(var R=0;R<y.results.data.length&&(x.userStep({data:y.results.data[R],errors:y.results.errors,meta:y.results.meta},A),!j);R++);delete y.results}else T(x.userChunk)&&(x.userChunk(y.results,A,y.file),delete y.results)}y.finished&&!j&&v(y.workerId,y.results)}function v(p,y){var x=a[p];T(x.userComplete)&&x.userComplete(y),x.terminate(),delete a[p]}function I(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var y,x=Array.isArray(p)?[]:{};for(y in p)x[y]=M(p[y]);return x}function N(p,y){return function(){p.apply(y,arguments)}}function T(p){return typeof p=="function"}return u.parse=function(p,y){var x=(y=y||{}).dynamicTyping||!1;if(T(x)&&(y.dynamicTypingFunction=x,x={}),y.dynamicTyping=x,y.transform=!!T(y.transform)&&y.transform,!y.worker||!u.WORKERS_SUPPORTED)return x=null,u.NODE_STREAM_INPUT,typeof p=="string"?(p=(j=>j.charCodeAt(0)!==65279?j:j.slice(1))(p),x=new(y.download?h:E)(y)):p.readable===!0&&T(p.read)&&T(p.on)?x=new C(y):(r.File&&p instanceof File||p instanceof Object)&&(x=new m(y)),x.stream(p);(x=(()=>{var j;return!!u.WORKERS_SUPPORTED&&(j=(()=>{var A=r.URL||r.webkitURL||null,R=n.toString();return u.BLOB_URL||(u.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(j=new r.Worker(j)).onmessage=g,j.id=c++,a[j.id]=j)})()).userStep=y.step,x.userChunk=y.chunk,x.userComplete=y.complete,x.userError=y.error,y.step=T(y.step),y.chunk=T(y.chunk),y.complete=T(y.complete),y.error=T(y.error),delete y.worker,x.postMessage({input:p,config:y,workerId:x.id})},u.unparse=function(p,y){var x=!1,j=!0,A=",",R=`\r
`,V='"',F=V+V,W=!1,q=null,L=!1,z=((()=>{if(typeof y=="object"){if(typeof y.delimiter!="string"||u.BAD_DELIMITERS.filter(function(Y){return y.delimiter.indexOf(Y)!==-1}).length||(A=y.delimiter),typeof y.quotes!="boolean"&&typeof y.quotes!="function"&&!Array.isArray(y.quotes)||(x=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(W=y.skipEmptyLines),typeof y.newline=="string"&&(R=y.newline),typeof y.quoteChar=="string"&&(V=y.quoteChar),typeof y.header=="boolean"&&(j=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");q=y.columns}y.escapeChar!==void 0&&(F=y.escapeChar+V),y.escapeFormulae instanceof RegExp?L=y.escapeFormulae:typeof y.escapeFormulae=="boolean"&&y.escapeFormulae&&(L=/^[=+\-@\t\r].*$/)}})(),new RegExp(k(V),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return B(null,p,W);if(typeof p[0]=="object")return B(q||Object.keys(p[0]),p,W)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||q),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),B(p.fields||[],p.data||[],W);throw new Error("Unable to serialize unrecognized input");function B(Y,X,ne){var fe="",me=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof X=="string"&&(X=JSON.parse(X)),Array.isArray(Y)&&0<Y.length),U=!Array.isArray(X[0]);if(me&&j){for(var J=0;J<Y.length;J++)0<J&&(fe+=A),fe+=K(Y[J],J);0<X.length&&(fe+=R)}for(var H=0;H<X.length;H++){var se=(me?Y:X[H]).length,Z=!1,ie=me?Object.keys(X[H]).length===0:X[H].length===0;if(ne&&!me&&(Z=ne==="greedy"?X[H].join("").trim()==="":X[H].length===1&&X[H][0].length===0),ne==="greedy"&&me){for(var pe=[],ve=0;ve<se;ve++){var xe=U?Y[ve]:ve;pe.push(X[H][xe])}Z=pe.join("").trim()===""}if(!Z){for(var Ee=0;Ee<se;Ee++){0<Ee&&!ie&&(fe+=A);var Je=me&&U?Y[Ee]:Ee;fe+=K(X[H][Je],Ee)}H<X.length-1&&(!ne||0<se&&!ie)&&(fe+=R)}}return fe}function K(Y,X){var ne,fe;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(fe=!1,L&&typeof Y=="string"&&L.test(Y)&&(Y="'"+Y,fe=!0),ne=Y.toString().replace(z,F),(fe=fe||x===!0||typeof x=="function"&&x(Y,X)||Array.isArray(x)&&x[X]||((me,U)=>{for(var J=0;J<U.length;J++)if(-1<me.indexOf(U[J]))return!0;return!1})(ne,u.BAD_DELIMITERS)||-1<ne.indexOf(A)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?V+ne+V:ne)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=S,u.ParserHandle=_,u.NetworkStreamer=h,u.FileStreamer=m,u.StringStreamer=E,u.ReadableStreamStreamer=C,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var y=p.config||{},x=[];return this.each(function(R){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)x.push({file:this.files[V],inputElem:this,instanceConfig:i.extend({},y)})}),j(),this;function j(){if(x.length===0)T(p.complete)&&p.complete();else{var R,V,F,W,q=x[0];if(T(p.before)){var L=p.before(q.file,q.inputElem);if(typeof L=="object"){if(L.action==="abort")return R="AbortError",V=q.file,F=q.inputElem,W=L.reason,void(T(p.error)&&p.error({name:R},V,F,W));if(L.action==="skip")return void A();typeof L.config=="object"&&(q.instanceConfig=i.extend(q.instanceConfig,L.config))}else if(L==="skip")return void A()}var z=q.instanceConfig.complete;q.instanceConfig.complete=function(B){T(z)&&z(B,q.file,q.inputElem),A()},u.parse(q.file,q.instanceConfig)}}function A(){x.splice(0,1),j()}}),s&&(r.onmessage=function(p){p=p.data,u.WORKER_ID===void 0&&p&&(u.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=u.parse(p.input,p.config))&&r.postMessage({workerId:u.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(E.prototype=Object.create(E.prototype)).constructor=E,(C.prototype=Object.create(f.prototype)).constructor=C,u})})(TA);var lQ=TA.exports;const IA=ap(lQ);function cQ({businessId:t}){const[e,n]=b.useState([]),[r,i]=b.useState(!0),[o,s]=b.useState({}),a=xr();return b.useEffect(()=>{if(!t)return;const c=Rr(Ve(oe,"chats"),Pr("participants","array-contains",t)),u=At(c,async f=>{const h=[],m=new Set;f.forEach(C=>{const _=C.data(),k=_.participants.find(S=>S!==t);k&&(h.push({id:C.id,..._,customerId:k}),m.add(k))}),n(h);const E={};await Promise.all(Array.from(m).map(async C=>{const _=await _n($e(oe,"users",C));_.exists()&&(E[C]=_.data())})),s(E),i(!1)});return()=>u()},[t]),r?l.jsx("div",{children:"Loading chat inbox..."}):e.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(c=>{const u=o[c.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:u.photo||"https://ui-avatars.com/api/?name="+(u.name||u.email||"Customer"),alt:u.name||u.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:u.name||u.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:u.email})]}),l.jsx("button",{onClick:()=>a(`/chat/${t}`,{state:{customerId:c.customerId,chatId:c.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},c.id)})})]})}const ay=["name","ingredient","class","price","image"];function uQ(){const[t,e]=b.useState(""),[n,r]=b.useState("add"),o=window.location.pathname.match(/^\/store\/([^\/]+)/),[s,a]=b.useState(null);if(b.useEffect(()=>{el(async()=>{const{getAuth:F,onAuthStateChanged:W}=await Promise.resolve().then(()=>mR);return{getAuth:F,onAuthStateChanged:W}},void 0).then(({getAuth:F,onAuthStateChanged:W})=>{const q=F();W(q,async L=>{if(L){const{getDoc:z,doc:B}=await el(async()=>{const{getDoc:Y,doc:X}=await Promise.resolve().then(()=>Zx);return{getDoc:Y,doc:X}},void 0),K=await z(B(oe,"users",L.uid));a(K.exists()?K.data().role:null)}else a(null)})})},[]),o||s==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[c,u]=b.useState(null),[f,h]=b.useState(null),[m,E]=b.useState([]),[C,_]=b.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[k,S]=b.useState(null),[g,v]=b.useState([]),[I,M]=b.useState([]),N=m.filter(F=>{var q,L,z;const W=t.toLowerCase();return((q=F.name)==null?void 0:q.toLowerCase().includes(W))||((L=F.ingredient)==null?void 0:L.toLowerCase().includes(W))||((z=F.class)==null?void 0:z.toLowerCase().includes(W))}),T=Nr();b.useEffect(()=>{const F=Ui(T,async W=>{if(W){u(W);try{const q=await _n($e(oe,"users",W.uid));q.exists()?h(q.data()):h({role:"customer"})}catch(q){console.error("Error fetching user doc:",q),h({role:"customer"})}}else u(null),h(null)});return()=>F()},[T]),b.useEffect(()=>{if(!c)return;const F=At(Ve(oe,"products"),W=>{const q=W.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.ownerId===c.uid);E(q)});return()=>F()},[c]),b.useEffect(()=>{if(!c)return;const F=At(Ve(oe,"batches"),W=>{const q=W.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.uploadedBy===c.uid);M(q)});return()=>F()},[c]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),y=async F=>{if(F.preventDefault(),!c)return ze.error("Please log in first");if(!f)return ze.info("Loading user data...");const{name:W,ingredient:q,class:L,price:z,image:B}=C;if(!W||!q||!L||!z)return ze.warn("Please fill all required fields");const K=parseInt(z,10);if(isNaN(K)||K<0)return ze.warn("Price must be a positive number");const{ownerSlug:Y,businessName:X}=p(),ne=(f==null?void 0:f.pharmacist)||null;try{k?(await an($e(oe,"products",k),{name:W,ingredient:q,class:L,price:K,image:B||"",ownerSlug:Y||"",businessName:X||"",isPOM:!!C.isPOM,registeredOnly:!!C.registeredOnly,pharmacist:ne||null}),S(null)):await bo(Ve(oe,"products"),{name:W,ingredient:q,class:L,price:K,image:B||"",ownerId:c.uid,ownerSlug:Y||"",businessName:X||"",isPOM:!!C.isPOM,registeredOnly:!!C.registeredOnly,pharmacist:ne||null}),_({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(fe){console.error(fe),ze.error("Error saving medicine")}},x=F=>{const W=F.target.files[0];W&&IA.parse(W,{header:!0,skipEmptyLines:!0,complete:q=>{const L=q.data.map(z=>{const B={};return ay.forEach(K=>B[K]=z[K]||(K==="price"?0:"N/A")),B});v(L)}})},j=async()=>{if(!g.length)return ze.info("No CSV data to upload");if(!c)return ze.error("Please log in first");if(!f)return ze.info("Loading user data...");const F=$e(Ve(oe,"batches")),W=[],{ownerSlug:q,businessName:L}=p(),z=(f==null?void 0:f.pharmacist)||null;for(let B of g)try{const K=await bo(Ve(oe,"products"),{name:B.name,ingredient:B.ingredient,class:B.class,price:parseInt(B.price,10)||0,image:B.image==="N/A"?"":B.image,batchId:F.id,ownerId:c.uid,ownerSlug:q||"",businessName:L||"",isPOM:!!B.isPOM,pharmacist:z||null});W.push(K.id)}catch(K){console.error("CSV upload error for row:",B,K)}try{await Jr(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:c.uid,date:new Date().toISOString(),medicineIds:W})}catch(B){console.error("Failed to create batch doc:",B)}alert(` ${W.length} medicines uploaded`),ze.success(` ${W.length} medicines uploaded`),v([])},A=F=>{_({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),S(F.id),r("add")},R=async F=>{if(window.confirm("Delete this medicine?"))try{await Gr($e(oe,"products",F.id)),ze.success("Medicine deleted.")}catch(W){console.error(W),ze.error("Error deleting medicine")}},V=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let W of F.medicineIds)await Gr($e(oe,"products",W));await Gr($e(oe,"batches",F.id)),ze.success("Batch deleted.")}catch(W){console.error(W),ze.error("Error deleting batch")}};return c?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",c.email]}),l.jsx(fQ,{user:c,userData:f,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:y,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:k?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:C.name,onChange:F=>_({...C,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:C.ingredient,onChange:F=>_({...C,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:C.class,onChange:F=>_({...C,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:C.price,onChange:F=>_({...C,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:C.image,onChange:F=>_({...C,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:C.isPOM,onChange:F=>_({...C,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:k?"Update Medicine":"Add Medicine"}),k&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{S(null),_({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:x,style:{marginBottom:"10px"}}),g.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:ay.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:g.map((F,W)=>l.jsx("tr",{children:ay.map(q=>l.jsx("td",{children:F[q]},q))},W))})]}),l.jsx("button",{onClick:j,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),I.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:I.map(F=>{var W;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((W=F.medicineIds)==null?void 0:W.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>V(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>A(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>R(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(dQ,{userId:c.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx(cQ,{businessId:c.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function dQ({userId:t}){const[e,n]=Te.useState(null),[r,i]=Te.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[o,s]=Te.useState(!1),[a,c]=Te.useState(!1);Te.useEffect(()=>{const h=$e(oe,"users",t);_n(h).then(m=>{const E=m.data();E&&E.pharmacist&&(n(E.pharmacist),i({...E.pharmacist}),s(!0))})},[t]);const u=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),c(!0),await an($e(oe,"users",t),{pharmacist:{...r}}),n({...r}),s(!0),c(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:u,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:u,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:u,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:u,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:u,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:u,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:o?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function fQ({user:t,userData:e,setUserData:n}){var m,E;const[r,i]=Te.useState(!1),[o,s]=Te.useState(!1),[a,c]=Te.useState(""),u=((m=e==null?void 0:e.location)==null?void 0:m.latitude)||(e==null?void 0:e.lat),f=((E=e==null?void 0:e.location)==null?void 0:E.longitude)||(e==null?void 0:e.lng),h=()=>{if(i(!0),c(""),s(!1),!navigator.geolocation){c("Geolocation not supported by your browser."),i(!1);return}navigator.geolocation.getCurrentPosition(async C=>{const _={latitude:C.coords.latitude,longitude:C.coords.longitude};try{await an($e(oe,"users",t.uid),{location:_,lat:_.latitude,lng:_.longitude}),n(k=>({...k,location:_,lat:_.latitude,lng:_.longitude})),s(!0)}catch{c("Failed to update location.")}i(!1)},C=>{c("Location access denied or unavailable."),i(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",u&&f?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",u.toFixed(5),", Lng: ",f.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:h,disabled:r,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:r?"not-allowed":"pointer",marginRight:10},children:r?"Updating location...":"Change Location"}),o&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),a&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:a})]})}var ju=function(){return ju=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ju.apply(this,arguments)};function r1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var mf=[];function hQ(){var t="https://js.paystack.co/v1/inline.js",e=b.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return b.useEffect(function(){if(mf.includes(t))r({loaded:!0,error:!1});else{mf.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var o=function(){r({loaded:!0,error:!1})},s=function(){var a=mf.indexOf(t);a>=0&&mf.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",o),i.addEventListener("complete",o),i.addEventListener("error",s),document.body.appendChild(i),function(){i.removeEventListener("load",o),i.removeEventListener("error",s)}}},[t]),[n.loaded,n.error]}var pQ=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function kA(t){var e=hQ(),n=e[0],r=e[1];function i(o){var s=o.config,a=o.onSuccess,c=o.onClose;if(r)throw new Error("Unable to load paystack inline script");var u=ju(ju({},t),s),f=u.publicKey,h=u.firstname,m=u.lastname,E=u.phone,C=u.email,_=u.amount,k=u.reference,S=u.metadata,g=S===void 0?{}:S,v=u.currency,I=v===void 0?"NGN":v,M=u.channels,N=u.label,T=N===void 0?"":N,p=u.plan,y=p===void 0?"":p,x=u.quantity,j=x===void 0?"":x,A=u.subaccount,R=A===void 0?"":A,V=u.transaction_charge,F=V===void 0?0:V,W=u.bearer,q=W===void 0?"account":W,L=u.split,z=u.split_code;if(n){var B={callback:a||function(){return null},onClose:c||function(){return null},key:f,ref:k,email:C,firstname:h,lastname:m,phone:E,amount:_,currency:I,plan:y,quantity:j,channels:M,subaccount:R,transaction_charge:F,bearer:q,label:T,metadata:g,split:L,split_code:z,"data-custom-button":u["data-custom-button"]||""};pQ(B)}}return b.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var mQ=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,o=t.onClose,s=r1(t,["text","className","children","onSuccess","onClose"]),a=kA(s);return Te.createElement("button",{className:n,onClick:function(){return a({config:s,onSuccess:i,onClose:o})}},e||r)},RA=b.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),gQ=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=r1(t,["children","onSuccess","onClose"]),o=kA(i);return Te.createElement(RA.Provider,{value:{config:i,initializePayment:o,onSuccess:n,onClose:r}},e)},yQ=function(t){var e=t.children,n=t.ref,r=b.useContext(RA),i=r.config,o=r.initializePayment,s=r.onSuccess,a=r.onClose,c=function(){return o({config:i,onSuccess:s,onClose:a})};return e({initializePayment:c,ref:n})};b.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,o=r1(t,["children","onSuccess","onClose"]),s=r||function(){return null},a=i||function(){return null};return Te.createElement(gQ,ju({},o,{onSuccess:s,onClose:a}),Te.createElement(yQ,{ref:e},n))});async function vQ(t){if(!t)return null;const e=Rr(Ve(oe,"coupons"),Pr("code","==",t)),n=await Gt(e);return n.empty?null:n.docs[0].data()}function xQ(){var Y,X,ne,fe,me;const[t,e]=b.useState(""),[n,r]=b.useState(null),[i,o]=b.useState(""),s=Nr(),a=xr(),c=ps(),u=((Y=c.state)==null?void 0:Y.orderType)||"single",f=((X=c.state)==null?void 0:X.businessCount)||1,[h,m]=b.useState(null),[E,C]=b.useState(((ne=c.state)==null?void 0:ne.cart)||[]),[_,k]=b.useState(((fe=c.state)==null?void 0:fe.total)||0),S=E.length===1&&((me=E[0])==null?void 0:me.isConsultation),[g,v]=b.useState("standard"),I=500,M=3e3;b.useEffect(()=>{T(S?0:u==="multiple-premium"?(g==="express"?M:I)*f:g==="express"?M:I)},[g,S,u,f]);const[N,T]=b.useState(S?0:500),[p,y]=b.useState(1e3),[x,j]=b.useState(_+(S?0:N)),[A,R]=b.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),V="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";b.useEffect(()=>Ui(s,async J=>{if(!J)return a("/auth");if(m(J),E.length===0){const H=$e(oe,"carts",J.uid),se=await _n(H);if(se.exists()){const Z=se.data().items||[];C(Z);const ie=Z.reduce((pe,ve)=>pe+ve.price*(ve.quantity||1),0);k(ie),j(ie+N)}}}),[s,E.length,N,a]),b.useEffect(()=>{let U=E.some(Z=>Z.isPOM)?500:0,J=N,H=_,se=0;n&&(n.removePOM&&(U=0),n.removeDelivery&&(J=0),n.percent>0&&(se=Math.round((H+U+J)*(n.percent/100)))),y(U),j(H+U+J-se)},[_,N,E,n]),b.useEffect(()=>{T(S?0:g==="standard"?500:3e3)},[g,S]);const F=async()=>{o("");const U=await vQ(t.trim().toUpperCase());U?(r(U),o("")):(r(null),o("Invalid coupon code"))},W=()=>S?["name","phone","address","age","complaint"].every(J=>{var H;return(H=A[J])==null?void 0:H.trim()}):["name","phone","address","city","state"].every(J=>{var H;return(H=A[J])==null?void 0:H.trim()}),q={reference:new Date().getTime().toString(),email:h==null?void 0:h.email,amount:x*100,publicKey:V},L=async U=>{if(!h||E.length===0)return;const J=$e(Ve(oe,"orders"));await Jr(J,{userId:h.uid,items:E,subtotal:_,deliveryFee:N,pomFee:p,total:x,status:"Processing",date:new Date().toISOString(),paymentReference:(U==null?void 0:U.reference)||"COUPON_FREE",deliveryInfo:A,coupon:n||null,deliveryType:g}),await Jr($e(oe,"carts",h.uid),{items:[]}),C([]),k(0),j(0),ze.success(" Payment successful! Order created.");const H=E.find(Z=>Z.isConsultation&&Z.whatsapp);if(H){window.location.href=`https://wa.me/${H.whatsapp}`;return}const se=E.find(Z=>Z.isPOM&&Z.pharmacist&&Z.ownerId);if(se&&se.pharmacist&&se.ownerId){a(`/chat/${se.ownerId}`,{state:{pharmacist:se.pharmacist,businessName:se.businessName}});return}E.some(Z=>Z.isPOM)?a("/medinterface"):a("/orders")},z=()=>{ze.info("Payment cancelled.")},B=U=>{R({...A,[U.target.name]:U.target.value})},K=()=>{alert(" Please complete all delivery information before proceeding.")};return h?l.jsx(Qe,{sx:{p:3,maxWidth:600,mx:"auto",minHeight:"100vh",background:"#f5f7fa",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Kh,{sx:{borderRadius:4,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.08)",width:"100%",maxWidth:600,background:"#fff"},children:l.jsxs(Gh,{children:[l.jsx(Be,{variant:"h5",fontWeight:900,gutterBottom:!0,sx:{color:"#e10098",letterSpacing:1,textAlign:"center",mb:2},children:" Checkout"}),E.length===0?l.jsx(Be,{sx:{color:"#888",textAlign:"center",fontWeight:600},children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(Be,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#222",textAlign:"center"},children:" Order Summary"}),l.jsxs(Be,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#222",textAlign:"center",fontSize:16},children:["Order Type: ",l.jsx("span",{style:{color:"#e10098",fontWeight:700,textTransform:"capitalize"},children:u.replace("-"," ")}),u==="multiple-premium"&&l.jsxs("span",{style:{color:"#009688",fontWeight:700},children:[" (",f," stores)"]})]}),l.jsx(Qe,{sx:{mb:2},children:E.map((U,J)=>l.jsxs(Qe,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(Be,{sx:{fontWeight:700,color:"#222"},children:[U.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",U.quantity||1]})]}),l.jsxs(Be,{fontWeight:700,sx:{color:"#111"},children:["",U.price*(U.quantity||1)]})]},J))}),l.jsxs(Pt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Be,{children:"Subtotal:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Be,{fontWeight:500,sx:{color:"#111"},children:["",_]})}),!S&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Be,{children:"Delivery Type:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsx(DP,{fullWidth:!0,size:"small",children:l.jsxs(Jb,{value:g,onChange:U=>v(U.target.value),sx:{bgcolor:"#fff",borderRadius:2,fontWeight:700,color:"#e10098"},children:[l.jsxs(BE,{value:"standard",children:["Standard (1-2 days) - ",u==="multiple-premium"?I*f:I]}),l.jsxs(BE,{value:"express",children:["Express (30mins-3hrs) - ",u==="multiple-premium"?M*f:M]})]})})}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Be,{children:"Delivery Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Be,{fontWeight:500,sx:{color:"#111"},children:["",n!=null&&n.removeDelivery?0:N]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Be,{color:p>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Be,{fontWeight:500,sx:{color:"#111"},children:["",n!=null&&n.removePOM?0:p]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Be,{color:"primary",children:"Discount:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Be,{sx:{color:"#111"},children:["-",Math.round((_+p+(n!=null&&n.removeDelivery?0:N))*(n.percent/100))]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Be,{fontWeight:700,children:"Grand Total:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Be,{fontWeight:700,sx:{color:"#111"},children:["",x]})})]}),l.jsxs(Qe,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(Sn,{size:"small",label:"Coupon code",value:t,onChange:U=>e(U.target.value),sx:{mr:1,flex:1}}),l.jsx(Kn,{variant:"outlined",onClick:F,sx:{borderColor:"#e10098",color:"#e10098",fontWeight:700,"&:hover":{borderColor:"#b1005a",color:"#b1005a"}},children:"Apply"})]}),i&&l.jsx(pE,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(pE,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(LP,{sx:{my:3}}),S?l.jsxs(l.Fragment,{children:[l.jsx(Be,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#e10098"},children:" Consultation Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:A.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:A.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Address",name:"address",value:A.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:A.age,onChange:B,type:"number"})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:A.complaint,onChange:B,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Be,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#e10098"},children:" Delivery and Patient Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:A.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:A.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:A.age,onChange:B,type:"number"})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"What are you taking this medicine(s) for?",name:"complaint",value:A.complaint,onChange:B,multiline:!0,minRows:2})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:A.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"City",name:"city",value:A.city,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"State",name:"state",value:A.state,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(Sn,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:A.instructions,onChange:B,multiline:!0,minRows:2})})]})]}),l.jsx(Qe,{sx:{mt:2,textAlign:"center"},children:W()?x>0?l.jsx(mQ,{text:"Pay Now ",className:"paystack-button",...q,callback:L,close:z,style:{marginTop:"10px",minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",boxShadow:"0 2px 8px #e1009822",border:"none",transition:"background 0.2s"}}):l.jsx(Kn,{variant:"contained",sx:{mt:1,minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",boxShadow:"0 2px 8px #e1009822","&:hover":{background:"#b1005a"}},onClick:()=>L({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(Kn,{variant:"contained",sx:{mt:1,minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",opacity:.6,boxShadow:"0 2px 8px #e1009822"},onClick:K,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function bQ(){const[t,e]=b.useState([]),[n,r]=b.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,o]=b.useState(null);b.useEffect(()=>{const u=At(Ve(oe,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>u()},[]);const s=async u=>{if(u.preventDefault(),!n.code)return alert("Coupon code required");i?(await an($e(oe,"coupons",i),n),o(null)):await bo(Ve(oe,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=u=>{r({code:u.code,percent:u.percent,removePOM:!!u.removePOM,removeDelivery:!!u.removeDelivery}),o(u.id)},c=async u=>{window.confirm("Delete coupon?")&&await Gr($e(oe,"coupons",u))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:s,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:u=>r({...n,code:u.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:u=>r({...n,percent:parseInt(u.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:u=>r({...n,removePOM:u.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:u=>r({...n,removeDelivery:u.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{o(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.code}),l.jsxs("td",{children:[u.percent,"%"]}),l.jsx("td",{children:u.removePOM?"Removed":"-"}),l.jsx("td",{children:u.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(u),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>c(u.id),children:"Delete"})]})]},u.id))})]})]})}function _Q(){const[t,e]=b.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=b.useState([]),[i,o]=b.useState(null),[s,a]=b.useState({}),[c,u]=b.useState(!1),[f,h]=b.useState("");b.useEffect(()=>{const g=At(Ve(oe,"deliveryAgents"),v=>{r(v.docs.map(I=>({id:I.id,...I.data()})))});return()=>g()},[]),b.useEffect(()=>{async function g(){const v=Rr(Ve(oe,"deliveryAgents"));(await Gt(v)).forEach(async M=>{typeof M.data().approved>"u"&&await $e(oe,"deliveryAgents",M.id).update({approved:!1})})}g()},[]);const m=g=>{a({...s,[g.target.name]:g.target.value})},E=g=>{o(g.id),a(g)},C=async g=>{await an($e(oe,"deliveryAgents",g),s),o(null),a({})},_=async g=>{window.confirm("Delete this delivery agent?")&&await Gr($e(oe,"deliveryAgents",g))},k=async g=>{u(!0),h(""),await an($e(oe,"deliveryAgents",g),{approved:!0}),u(!1),h("Agent approved and now visible to public.")},S=async g=>{u(!0),h(""),await an($e(oe,"deliveryAgents",g),{approved:!1}),u(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[c&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(g=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===g.id?l.jsxs("form",{onSubmit:v=>{v.preventDefault(),C(g.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:s.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:s.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:s.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:s.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:s.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:s.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:s.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:s.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:s.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>o(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(Te.Fragment,{children:[l.jsx("img",{src:g.logoUrl,alt:g.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:g.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:g.businessAddress}),l.jsxs("div",{children:["RC Number: ",g.rcNumber]}),l.jsxs("div",{children:["Phone: ",g.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",g.whatsappNumber]}),l.jsxs("div",{children:["Email: ",g.email]}),l.jsxs("div",{children:["Coverage: ",g.coverageArea]}),l.jsxs("div",{children:["Hours: ",g.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>E(g),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>_(g.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!g.approved&&l.jsx("button",{onClick:()=>k(g.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),g.approved&&l.jsx("button",{onClick:()=>S(g.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),g.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},g.id))]})})}function wQ(){const[t,e]=b.useState([]);b.useEffect(()=>{(async()=>{try{const ae=await Gt(Ve(oe,"deliveryAgents"));e(ae.docs.map(he=>({id:he.id,...he.data()})))}catch{e([])}})()},[]);const[n,r]=b.useState({}),i=async(O,ae)=>{try{const he=t.find(lt=>lt.id===ae),qe=(he==null?void 0:he.userId)||"";await an($e(oe,"orders",O),{riderId:qe,assignedAgentId:qe,assignedAgentName:he?he.companyName||he.name||he.email||he.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(lt=>({...lt,[O]:!1})),ze.success("Order reassigned successfully.")}catch{ze.error("Failed to reassign order.")}},o=async O=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await an($e(oe,"orders",O.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),ze.success("Order cancelled.")}catch{ze.error("Failed to cancel order.")}},[s,a]=b.useState({pending:!0,completed:!0,cancelled:!0}),[c,u]=b.useState(""),[f,h]=b.useState(""),[m,E]=b.useState(""),[C,_]=b.useState(""),[k,S]=b.useState({}),[g,v]=b.useState({}),M=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,T]=Te.useState(null);if(b.useEffect(()=>{el(async()=>{const{getAuth:O,onAuthStateChanged:ae}=await Promise.resolve().then(()=>mR);return{getAuth:O,onAuthStateChanged:ae}},void 0).then(({getAuth:O,onAuthStateChanged:ae})=>{const he=O();ae(he,async qe=>{if(qe){const{getDoc:lt,doc:ct}=await el(async()=>{const{getDoc:Xe,doc:wn}=await Promise.resolve().then(()=>Zx);return{getDoc:Xe,doc:wn}},void 0),{db:gt}=await el(async()=>{const{db:Xe}=await Promise.resolve().then(()=>i8);return{db:Xe}},void 0),Fe=await lt(ct(gt,"users",qe.uid));T(Fe.exists()?Fe.data().role:null)}else T(null)})})},[]),M||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,y]=b.useState([]);b.useEffect(()=>{const O=At(Ve(oe,"businessRegistrations"),ae=>{y(ae.docs.map(he=>({id:he.id,...he.data()})))});return()=>O()},[]);const x=async(O,ae)=>{if(await an($e(oe,"businessRegistrations",O.id),{status:ae}),ae==="declined"){const he=Rr(Ve(oe,"orders"),Pr("userId","==",O.businessId),Pr("items","array-contains-any",O.cart)),qe=await Gt(he);for(const lt of qe.docs)await an($e(oe,"orders",lt.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}ze.info(`Registration ${ae}`)},[j,A]=b.useState(""),[R,V]=b.useState(""),[F,W]=b.useState(""),[q,L]=b.useState(""),[z,B]=b.useState(""),K=()=>{let O=ee;j&&(O=O.filter(Fe=>new Date(Fe.completedAt||Fe.date)>=new Date(j))),R&&(O=O.filter(Fe=>new Date(Fe.completedAt||Fe.date)<=new Date(R))),F&&(O=O.filter(Fe=>Fe.medicVerifiedBy===F)),q&&(O=O.filter(Fe=>Fe.items&&Fe.items.some(Xe=>Xe.name&&Xe.name.toLowerCase().includes(q.toLowerCase())))),z==="true"&&(O=O.filter(Fe=>Fe.items&&Fe.items.some(Xe=>Xe.isPOM))),z==="false"&&(O=O.filter(Fe=>Fe.items&&!Fe.items.some(Xe=>Xe.isPOM)));const ae=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],he=O.map(Fe=>[Fe.id,new Date(Fe.completedAt||Fe.date).toLocaleString(),Ke[Fe.userId]&&Ke[Fe.userId].email?Ke[Fe.userId].email:Fe.userId,Fe.medicVerifiedBy?(_e.concat(Le).find(Xe=>Xe.id===Fe.medicVerifiedBy)||{}).name||Fe.medicVerifiedBy:"",Fe.total||lr(Fe.items||[]),Fe.items?Fe.items.map(Xe=>`${Xe.name} (${Xe.quantity||1})`).join("; "):"",Fe.items?Fe.items.filter(Xe=>Xe.isPOM).map(Xe=>Xe.name).join("; "):""]),qe=[ae,...he].map(Fe=>Fe.map(Xe=>`"${String(Xe).replace(/"/g,'""')}"`).join(",")).join(`\r
`),lt=new Blob([qe],{type:"text/csv"}),ct=URL.createObjectURL(lt),gt=document.createElement("a");gt.href=ct,gt.download=`orders_${Date.now()}.csv`,document.body.appendChild(gt),gt.click(),document.body.removeChild(gt),URL.revokeObjectURL(ct)},[Y,X]=b.useState(""),[ne,fe]=b.useState(null),[me,U]=b.useState(null),[J,H]=b.useState([]),[se,Z]=b.useState([]),[ie,pe]=b.useState(""),[ve,xe]=b.useState([]),[Ee,Je]=b.useState([]),[Se,Q]=b.useState("products"),[re,Ie]=b.useState({}),[Ce,ke]=b.useState(null),[ge,rt]=b.useState(!0),[_e,be]=b.useState([]),[Le,Re]=b.useState([]),[it,Tt]=b.useState(""),[et,Pe]=b.useState("date-desc"),at=Nr();b.useEffect(()=>{const O=Ui(at,async ae=>{if(ae){fe(ae);const he=await _n($e(oe,"users",ae.uid));U(he.exists()?he.data():{role:"customer"})}else fe(null),U(null)});return()=>O()},[at]),b.useEffect(()=>{const O=At(Ve(oe,"products"),he=>H(he.docs.map(qe=>({id:qe.id,...qe.data()})))),ae=At(Ve(oe,"batches"),he=>{Z(he.docs.map(qe=>({id:qe.id,...qe.data()}))),rt(!1)});return()=>{O(),ae()}},[]),b.useEffect(()=>{if(!me)return;const O=At(Ve(oe,"users"),ae=>xe(ae.docs.map(he=>({id:he.id,...he.data()}))));return()=>O()},[me]),b.useEffect(()=>{const O=At(Ve(oe,"orders"),ae=>{const he=ae.docs.map(qe=>({id:qe.id,...qe.data()}));he.sort((qe,lt)=>new Date(lt.date)-new Date(qe.date)),Je(he)});return()=>O()},[]);const Ke={};ve.forEach(O=>Ke[O.id]=O);const Pn=async O=>{if(window.confirm(`Delete medicine: ${O.name}?`))try{await Gr($e(oe,"products",O.id)),ze.success("Medicine deleted.")}catch(ae){console.error(ae),ze.error("Error deleting medicine")}},Lr=async O=>{if(window.confirm(`Delete batch: ${O.name}?`))try{for(let ae of O.medicineIds)await Gr($e(oe,"products",ae));await Gr($e(oe,"batches",O.id))}catch(ae){console.error(ae),alert("Error deleting batch")}},bi=async(O,ae)=>{try{await an($e(oe,"users",O),{role:ae}),alert("Role updated!")}catch(he){console.error(he),alert("Error updating role")}},ar=O=>Ie(ae=>({...ae,[O]:!ae[O]}));b.useEffect(()=>{Gt(Ve(oe,"verifyMedics")).then(O=>{be(O.docs.map(ae=>({id:ae.id,...ae.data(),type:"Prescription Verification"})))}),Gt(Ve(oe,"consultMedics")).then(O=>{Re(O.docs.map(ae=>({id:ae.id,...ae.data(),type:"Consultation"})))})},[]);const Dr=async O=>{var qe;const ae=(qe=O.items)==null?void 0:qe.some(lt=>lt.isPOM);let he=null;if(ae){if(!Y)return alert("Select a verifying medic before completing POM order.");he=Y}window.confirm("Mark order as completed?")&&(await an($e(oe,"orders",O.id),{status:"Completed",completedBy:ne.uid,completedAt:new Date().toISOString(),medicVerifiedBy:he||null}),alert(" Order marked completed"),X(""))},lr=O=>O.reduce((ae,he)=>ae+he.price*(he.quantity||1),0);if(!ne)return l.jsx("p",{children:"Please log in to access admin."});if(!me)return l.jsx("p",{children:"Loading user data..."});if(me.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(ge)return l.jsx("p",{children:"Loading dashboard..."});const ai=Ee.filter(O=>O.status==="Processing"||O.status==="In-Progress").filter(O=>{var he,qe;if(!it)return!0;const ae=it.toLowerCase();return(((he=Ke[O.userId])==null?void 0:he.email)||O.userId).toLowerCase().includes(ae)||((qe=O.items)==null?void 0:qe.some(lt=>lt.name.toLowerCase().includes(ae)))}).sort((O,ae)=>et==="date-desc"?new Date(ae.date)-new Date(O.date):et==="date-asc"?new Date(O.date)-new Date(ae.date):et==="amount-desc"?(ae.total||0)-(O.total||0):et==="amount-asc"?(O.total||0)-(ae.total||0):0),ee=Ee.filter(O=>O.status==="Completed"),Ue=ee.filter(O=>{var he,qe;if(!it)return!0;const ae=it.toLowerCase();return(((he=Ke[O.userId])==null?void 0:he.email)||O.userId).toLowerCase().includes(ae)||((qe=O.items)==null?void 0:qe.some(lt=>lt.name.toLowerCase().includes(ae)))}).sort((O,ae)=>et==="date-desc"?new Date(ae.completedAt||ae.date)-new Date(O.completedAt||O.date):et==="date-asc"?new Date(O.completedAt||O.date)-new Date(ae.completedAt||ae.date):et==="amount-desc"?(ae.total||0)-(O.total||0):et==="amount-asc"?(O.total||0)-(ae.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((O,ae)=>{var he,qe,lt,ct,gt;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((he=O.businessInfo)==null?void 0:he.businessName)||O.businessId]}),l.jsxs("p",{children:["Email: ",((qe=O.businessInfo)==null?void 0:qe.email)||""]}),l.jsxs("p",{children:["Phone: ",((lt=O.businessInfo)==null?void 0:lt.phone)||""]}),l.jsxs("p",{children:["Address: ",((ct=O.businessInfo)==null?void 0:ct.address)||""]}),l.jsxs("p",{children:["Products: ",(gt=O.cart)==null?void 0:gt.map(Fe=>Fe.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:O.status})]}),O.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(O,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>x(O,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},O.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>Q("products"),style:va(Se==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>Q("users"),style:va(Se==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>Q("orders"),style:va(Se==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>Q("medics"),style:va(Se==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>Q("deliveryagents"),style:va(Se==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>Q("coupons"),style:va(Se==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",ne.email]}),Se==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(_Q,{})]})]})]}),Se==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:ie,onChange:O=>pe(O.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),se.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:ly,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:se.filter(O=>{var he;return ie?(((he=Ke[O.uploadedBy])==null?void 0:he.businessName)||"").toLowerCase().includes(ie.toLowerCase()):!0}).map(O=>{var ae,he;return l.jsxs("tr",{style:cy,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:new Date(O.date).toLocaleString()}),l.jsx("td",{children:((ae=Ke[O.uploadedBy])==null?void 0:ae.businessName)||O.uploadedBy}),l.jsx("td",{children:((he=O.medicineIds)==null?void 0:he.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Lr(O),children:"Delete"})})]},O.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:c||"",onChange:O=>u(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:O=>h(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:O=>E(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(J.map(O=>O.class).filter(Boolean))].sort().map(O=>l.jsx("option",{value:O,children:O},O))]}),l.jsxs("select",{value:C||"",onChange:O=>_(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(J.map(O=>O.ownerId).filter(Boolean))].map(O=>{var ae;return l.jsx("option",{value:O,children:((ae=Ke[O])==null?void 0:ae.businessName)||O},O)})]})]}),J.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:ly,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:J.filter(O=>{var ae,he;return!(c&&!((ae=O.name)!=null&&ae.toLowerCase().includes(c.toLowerCase()))||f&&!((he=O.ingredient)!=null&&he.toLowerCase().includes(f.toLowerCase()))||m&&O.class!==m||C&&O.ownerId!==C)}).map(O=>{var ae;return l.jsxs("tr",{style:cy,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:O.ingredient}),l.jsx("td",{children:O.class}),l.jsx("td",{children:O.price}),l.jsx("td",{children:((ae=Ke[O.ownerId])==null?void 0:ae.businessName)||O.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Pn(O),children:"Delete"})})]},O.id)})})]})]}),Se==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),ve.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:ly,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:ve.map(O=>l.jsxs("tr",{style:cy,children:[l.jsx("td",{children:O.email}),l.jsx("td",{children:O.role}),l.jsx("td",{children:l.jsxs("select",{value:O.role||"customer",onChange:ae=>bi(O.id,ae.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>ke(O),children:"View Details"})})]},O.id))})]}),Ce&&l.jsx(SQ,{user:Ce,medicines:J.filter(O=>O.ownerId===Ce.id),orders:Ee.filter(O=>O.userId===Ce.id),onClose:()=>ke(null)})]}),Se==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,pending:!O.pending})),children:[l.jsx("span",{style:{marginRight:8},children:s.pending?"":""})," Pending / Processing Orders"]}),s.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:it,onChange:O=>Tt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:et,onChange:O=>Pe(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:R,onChange:O=>V(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[..._e,...Le].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:q,onChange:O=>L(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),ai.length===0?l.jsx("p",{children:"No pending orders."}):ai.map(O=>{var $r,rn,Vt,Bt,Fr;const ae=($r=O.items)==null?void 0:$r.some(We=>We.isPOM),he=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",qe=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,lt=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let ct="N/A",gt=null,Fe=null;if(O.businessId&&Ke[O.businessId]){const We=Ke[O.businessId];ct=`${We.address||""}, ${We.city||""}, ${We.state||""}`,gt=We.lat||null,Fe=We.lng||null}const Xe=re[O.id]?k[O.id]?O.items:(rn=O.items)==null?void 0:rn.slice(0,3):[],wn=O.items&&O.items.length>3;return l.jsxs("div",{style:uy,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>ar(O.id),children:re[O.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((Vt=Ke[O.userId])==null?void 0:Vt.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):he]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",qe&&lt?`${qe}, ${lt}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",ct]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",gt&&Fe?`${gt}, ${Fe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const We=O.riderId||O.assignedAgentId;let Nt=null;return We&&Ke[We]?(Nt=Ke[We],`${Nt.companyName||Nt.name||Nt.email||We}${Nt.phoneNumber||Nt.whatsappNumber?` (${[Nt.phoneNumber,Nt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):We&&t.length?(Nt=t.find(ko=>ko.id===We),Nt?`${Nt.companyName||Nt.name||Nt.id}${Nt.phoneNumber||Nt.whatsappNumber?` (${[Nt.phoneNumber,Nt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:We):We||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(We=>({...We,[O.id]:!We[O.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[O.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:We=>{We.target.value&&i(O.id,We.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(We=>l.jsxs("option",{value:We.id,children:[We.companyName||We.name||We.email||We.id,We.phoneNumber||We.whatsappNumber?` (${[We.phoneNumber,We.whatsappNumber].filter(Boolean).join(" / ")})`:""]},We.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!O.riderId&&!O.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):O.status==="cancelled"&&O.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):O.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):O.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(O.riderId||O.assignedAgentId)&&O.status!=="Completed"&&O.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):O.status]})]}),re[O.id]&&((Bt=O.items)==null?void 0:Bt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:k[O.id]?"none":120,overflowY:wn&&!k[O.id]?"hidden":"auto",marginBottom:4},children:Xe.map((We,Nt)=>l.jsxs("li",{children:[We.name," - ",We.price," x ",We.quantity||1]},Nt))}),wn&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>S(We=>({...We,[O.id]:!We[O.id]})),children:k[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",lr(O.items||[]),ae&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),ae&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:Y,onChange:We=>X(We.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[..._e,...Le].map(We=>l.jsxs("option",{value:We.id,children:[We.name," (",We.profession,") - ",We.type]},We.id))]})]}),l.jsx("button",{onClick:()=>Dr(O),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>o(O),children:"Cancel Order"}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString(),l.jsx("br",{}),O.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Fr=_e.find(We=>We.id===O.medicVerifiedBy))==null?void 0:Fr.name)||O.medicVerifiedBy]})]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,completed:!O.completed})),children:[l.jsx("span",{style:{marginRight:8},children:s.completed?"":""})," Completed Orders (You)"]}),s.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:it,onChange:O=>Tt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:et,onChange:O=>Pe(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:R,onChange:O=>V(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[..._e,...Le].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:q,onChange:O=>L(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Ue.length===0?l.jsx("p",{children:"No completed orders found."}):Ue.map(O=>{var wn,$r,rn,Vt;const ae=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",he=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,qe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let lt="N/A",ct=null,gt=null;if(O.businessId&&Ke[O.businessId]){const Bt=Ke[O.businessId];lt=`${Bt.address||""}, ${Bt.city||""}, ${Bt.state||""}`,ct=Bt.lat||null,gt=Bt.lng||null}const Fe=re[O.id]?g[O.id]?O.items:(wn=O.items)==null?void 0:wn.slice(0,3):[],Xe=O.items&&O.items.length>3;return l.jsxs("div",{style:uy,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.completedAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>ar(O.id),children:re[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",(($r=Ke[O.userId])==null?void 0:$r.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ae]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",he&&qe?`${he}, ${qe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",lt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",ct&&gt?`${ct}, ${gt}`:"N/A"]}),re[O.id]&&((rn=O.items)==null?void 0:rn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[O.id]?"none":120,overflowY:Xe&&!g[O.id]?"hidden":"auto",marginBottom:4},children:Fe.map((Bt,Fr)=>l.jsxs("li",{children:[Bt.name," - ",Bt.price," x ",Bt.quantity||1]},Fr))}),Xe&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>v(Bt=>({...Bt,[O.id]:!Bt[O.id]})),children:g[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||lr(O.items||[])]}),O.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((Vt=_e.concat(Le).find(Bt=>Bt.id===O.medicVerifiedBy))==null?void 0:Vt.name)||O.medicVerifiedBy]}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString()]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,cancelled:!O.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:s.cancelled?"":""})," Cancelled Orders"]}),s.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:it,onChange:O=>Tt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:et,onChange:O=>Pe(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:R,onChange:O=>V(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[..._e,...Le].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:q,onChange:O=>L(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Ee.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):Ee.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").map(O=>{var wn,$r,rn;const ae=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",he=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,qe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let lt="N/A",ct=null,gt=null;if(O.businessId&&Ke[O.businessId]){const Vt=Ke[O.businessId];lt=`${Vt.address||""}, ${Vt.city||""}, ${Vt.state||""}`,ct=Vt.lat||null,gt=Vt.lng||null}const Fe=re[O.id]?g[O.id]?O.items:(wn=O.items)==null?void 0:wn.slice(0,3):[],Xe=O.items&&O.items.length>3;return l.jsxs("div",{style:uy,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.cancelledAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>ar(O.id),children:re[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",(($r=Ke[O.userId])==null?void 0:$r.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ae]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",he&&qe?`${he}, ${qe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",lt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",ct&&gt?`${ct}, ${gt}`:"N/A"]}),re[O.id]&&((rn=O.items)==null?void 0:rn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[O.id]?"none":120,overflowY:Xe&&!g[O.id]?"hidden":"auto",marginBottom:4},children:Fe.map((Vt,Bt)=>l.jsxs("li",{children:[Vt.name," - ",Vt.price," x ",Vt.quantity||1]},Bt))}),Xe&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>v(Vt=>({...Vt,[O.id]:!Vt[O.id]})),children:g[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||lr(O.items||[])]}),O.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(O.cancelledAt).toLocaleString()]})]},O.id)})]})]})]}),Se==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(EQ,{})]}),Se==="coupons"&&l.jsx(bQ,{})]})}const va=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),ly={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},cy={borderBottom:"1px solid #eee"},uy={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function SQ({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(o=>o.name).join(", ")," - ",i.items.reduce((o,s)=>o+s.price*(s.quantity||1),0)]},i.id))})]})}function EQ(){const[t,e]=Te.useState([]),[n,r]=Te.useState([]),[i,o]=Te.useState([]),[s,a]=Te.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[c,u]=Te.useState(!1),[f,h]=Te.useState(null);Te.useEffect(()=>{(async()=>{const k=await Gt(Ve(oe,"verifyMedics"));e(k.docs.map(I=>({id:I.id,...I.data()})));const S=await Gt(Ve(oe,"consultMedics"));r(S.docs.map(I=>({id:I.id,...I.data()})));const g=await Gt(Ve(oe,"users")),v=[];g.docs.forEach(I=>{const M=I.data();M.role==="medicine-manager"&&M.pharmacist&&v.push({...M.pharmacist,id:I.id,online:!0})}),o(v)})()},[]);const m=async(_,k)=>{await an($e(oe,_==="verify"?"verifyMedics":"consultMedics",k.id),{online:!k.online}),_==="verify"?e(g=>g.map(v=>v.id===k.id?{...v,online:!k.online}:v)):r(g=>g.map(v=>v.id===k.id?{...v,online:!k.online}:v))},E=_=>{a({...s,[_.target.name]:_.target.value})},C=async _=>{_.preventDefault(),u(!0);const k={photo:s.photo,name:s.name,profession:s.profession,license:s.license,pharmacyName:s.pharmacyName,languages:s.languages.split(",").map(g=>g.trim()),whatsapp:s.whatsapp},S=s.section==="verify"?"verifyMedics":"consultMedics";f?await an($e(oe,S,f.id),k):await bo(Ve(oe,S),k),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),u(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:C,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:s.section,onChange:E,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:s.photo,onChange:E,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:s.name,onChange:E,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:s.profession,onChange:E,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:s.license,onChange:E,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:s.pharmacyName||"",onChange:E,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:s.languages,onChange:E,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:s.whatsapp,onChange:E,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:c,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((_,k)=>(k.online===!0)-(_.online===!0)).map(_=>{let k=[];return Array.isArray(_.languages)?k=_.languages:typeof _.languages=="string"&&(k=_.languages.split(",").map(S=>S.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",_),title:_.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:_.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:_.photo,alt:_.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:_.name})}),l.jsx("div",{children:_.profession}),l.jsxs("div",{children:["Pharmacy: ",_.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",_.license]}),l.jsxs("div",{children:["Languages: ",k.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${_.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:_.id,section:"verify"}),a({section:"verify",photo:_.photo,name:_.name,profession:_.profession,license:_.license,pharmacyName:_.pharmacyName,languages:Array.isArray(_.languages)?_.languages.join(", "):_.languages,whatsapp:_.whatsapp})},children:"Edit"})]},_.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((_,k)=>(k.online===!0)-(_.online===!0)).map(_=>{let k=[];return Array.isArray(_.languages)?k=_.languages:typeof _.languages=="string"&&(k=_.languages.split(",").map(S=>S.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",_),title:_.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:_.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:_.photo,alt:_.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:_.name})}),l.jsx("div",{children:_.profession}),l.jsxs("div",{children:["License: ",_.license]}),l.jsxs("div",{children:["Languages: ",k.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${_.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:_.id,section:"consult"}),a({section:"consult",photo:_.photo,name:_.name,profession:_.profession,license:_.license,languages:Array.isArray(_.languages)?_.languages.join(", "):_.languages,whatsapp:_.whatsapp})},children:"Edit"})]},_.id)})})]})}function CQ(){const{slug:t}=zu();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(CA,{storeSlug:t})]})}function TQ(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),i=xr(),o=()=>{if(!(m!=null&&m.pharmacist))return null;const{name:x,photo:j}=m.pharmacist;return l.jsxs("button",{onClick:()=>{if(!s)return alert("Please log in to chat");i(`/chat/${m.uid}`,{state:{pharmacist:m.pharmacist,businessName:m.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:A=>A.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:A=>A.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[j&&l.jsx("img",{src:j,alt:x,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",x]})},[s,a]=b.useState(null),[c,u]=b.useState(null),f=Nr(),{slug:h}=zu(),[m,E]=b.useState(null),[C,_]=b.useState(!0),[k,S]=b.useState([]),[g,v]=b.useState([]),[I,M]=b.useState(""),[N,T]=b.useState(null),p=(x,j,A,R)=>{const V=B=>B*Math.PI/180,W=V(A-x),q=V(R-j),L=Math.sin(W/2)**2+Math.cos(V(x))*Math.cos(V(A))*Math.sin(q/2)**2;return 6371*(2*Math.atan2(Math.sqrt(L),Math.sqrt(1-L)))},y=x=>{const R=x*1.64,V=Math.max(1,Math.round(R/25*60));return{drivingKm:R,minutes:V}};return b.useEffect(()=>{const x=Ui(f,j=>{a(j)});return()=>x()},[f]),b.useEffect(()=>{if(!m||!s||s.uid!==m.uid)return;const x=At(Ve(oe,"orders"),j=>{const V=j.docs.map(F=>({id:F.id,...F.data()})).filter(F=>Array.isArray(F.items)&&F.items.some(W=>W.ownerId===m.uid)).filter(F=>!t.includes(F.id));V.length>0&&(V.forEach(F=>{ze.info(` New order received! Order ID: ${F.id}`)}),e(F=>[...F,...V.map(W=>W.id)]))});return()=>x()},[m,s,t]),b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(x=>T({lat:x.coords.latitude,lng:x.coords.longitude}),()=>T(null))},[]),b.useEffect(()=>{if(!h)return;_(!0),(async()=>{const j=Rr(Ve(oe,"users"),Pr("slug","==",h)),A=await Gt(j);if(A.empty)E(null);else{const R=A.docs[0];E({uid:R.id,...R.data()})}_(!1)})()},[h]),b.useEffect(()=>{if(!m)return;const x=Rr(Ve(oe,"products"),Pr("ownerId","==",m.uid)),j=At(x,A=>{const R=A.docs.map(V=>({id:V.id,...V.data()}));S(R)});return()=>j()},[m]),b.useEffect(()=>{if(!k)return;const x=(F="")=>F.toLowerCase().trim().replace(/\s+/g," "),j={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},A=x(I),R=(j[A]||A).split(" "),V=k.map(F=>{var W,q;if(N&&((W=m.location)!=null&&W.latitude)&&((q=m.location)!=null&&q.longitude)){const L=p(N.lat,N.lng,m.location.latitude,m.location.longitude),{minutes:z}=y(L);return{...F,minutesAway:z}}return{...F,minutesAway:1/0}}).filter(F=>{const W=x(F.name),q=x(F.ingredient),L=x(F.class);return R.some(z=>W.includes(z)||q.includes(z)||L.includes(z))}).sort((F,W)=>F.minutesAway-W.minutesAway);v(V)},[k,I,N,m]),C?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):m===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(o,{}),l.jsxs("h2",{children:[" ",(m==null?void 0:m.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:I,onChange:x=>M(x.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),g.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:g.map(x=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[x.image&&l.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:x.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:x.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",x.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",x.price!==void 0?x.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",m!=null&&m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!s)return alert("Please log in first");const j=$e(oe,"carts",s.uid),A=await _n(j);let R=A.exists()?A.data().items||[]:[];const V=R.findIndex(F=>F.name===x.name);V>=0?R[V].quantity+=1:R.push({...x,quantity:1}),await Jr(j,{items:R}),u(x.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),c===x.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),x.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:x.minutesAway<=1?" Right here":` ~${x.minutesAway} mins away`})]},x.id))})]})}function vn(){return typeof window<"u"&&window.innerWidth<=600}function IQ(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,o]=b.useState("");if(b.useEffect(()=>{async function a(){const c=await Gt(Ve(oe,"users")),u=[];c.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&u.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(u),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const s=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:vn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:vn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>o(a.target.value),style:{fontSize:vn()?15:16,width:vn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:vn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:vn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:vn()?14:32},children:s.map(a=>l.jsxs(Vu,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:vn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:vn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:vn()?50:80,height:vn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:vn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:vn()?50:80,height:vn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:vn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:vn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:vn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:vn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:vn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const kQ=(t,e,n,r)=>{const i=f=>f*Math.PI/180,s=i(n-t),a=i(r-e),c=Math.sin(s/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},RQ=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},cC=["admin","medicine-manager","distributor"],uC=["admin","distributor"];function PQ(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[i,o]=b.useState("shop"),[s,a]=b.useState([]),[c,u]=b.useState([]),[f,h]=b.useState(""),[m,E]=b.useState(null),[C,_]=b.useState(null);b.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(v=>E({lat:v.coords.latitude,lng:v.coords.longitude}),()=>E("denied"))},[]),b.useEffect(()=>{const v=At(Ve(oe,"products"),async I=>{const M=await Promise.all(I.docs.map(async N=>{var p,y;const T={id:N.id,...N.data()};if(T.ownerId){const x=$e(oe,"users",T.ownerId),j=await _n(x);if(j.exists()){const A=j.data();T.businessName=A.businessName||"Unknown Distributor",T.ownerSlug=A.slug||null,T.ownerRole=A.role||null,(p=A.location)!=null&&p.latitude&&((y=A.location)!=null&&y.longitude)&&(T.businessLat=A.location.latitude,T.businessLng=A.location.longitude)}}return T}));a(M.filter(N=>N.ownerRole==="distributor"))});return()=>v()},[]),b.useEffect(()=>{if(s.length===0)return;let v=s;if(f.trim()){const I=f.toLowerCase();v=s.filter(M=>M.name&&M.name.toLowerCase().includes(I)||M.ingredient&&M.ingredient.toLowerCase().includes(I)||M.class&&M.class.toLowerCase().includes(I))}m&&m!=="denied"&&(v=v.map(I=>{if(I.businessLat&&I.businessLng){const M=kQ(m.lat,m.lng,I.businessLat,I.businessLng),{minutes:N}=RQ(M);return{...I,minutesAway:N}}return{...I,minutesAway:1/0}}),v.sort((I,M)=>I.minutesAway-M.minutesAway)),u(v)},[s,f,m]);const k=async v=>{if(!t)return alert("Please login first");try{const I=$e(oe,"carts",t.uid),M=await _n(I);let N=[];M.exists()&&(N=M.data().items||[]);const T=N.findIndex(p=>p.id===v.id);T>=0?N[T].quantity+=1:N.push({...v,quantity:1}),await Jr(I,{items:N}),_(`Added ${v.name} to cart!`),setTimeout(()=>_(null),1500)}catch{alert("Error adding to cart")}};if(b.useEffect(()=>{const v=Nr(),I=Ui(v,async M=>{if(!M){e(null),r(null);return}e(M);const N=$e(oe,"users",M.uid),T=await _n(N);r(T.exists()?T.data().role:null)});return()=>I()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!cC.includes(n)&&!uC.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const S=cC.includes(n),g=uC.includes(n);return i==="shop"&&!S||i==="add"&&!g?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[S&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>o("shop"),children:"Shop Stock"}),g&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>o("add"),children:"Add Stock"})]}),i==="shop"&&S&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:v=>h(v.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),C&&l.jsx("div",{style:{color:"green",marginBottom:10},children:C}),c.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:c.map(v=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[v.registeredOnly&&v.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),v.image&&l.jsx("img",{src:v.image,alt:v.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:v.name}),l.jsx("p",{children:l.jsx("em",{children:v.ingredient})}),l.jsxs("p",{children:["Class: ",v.class]}),l.jsxs("p",{children:["Price: ",v.price]}),Array.isArray(v.moqs)&&v.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",v.moqs.map((I,M)=>l.jsx("span",{style:{marginRight:8},children:I.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",v.businessName]}),v.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:v.minutesAway<=1?" Right here":` ~${v.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>k(v),children:"Add to Cart"})]},v.id))})]}),i==="add"&&g&&l.jsx(AQ,{user:t,role:n})]})}function AQ({user:t,role:e}){const[n,r]=Te.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,o]=Te.useState([]),[s,a]=Te.useState(!1);Te.useEffect(()=>{if(e!=="distributor")return;const L=At(Ve(oe,"businessRegistrations"),z=>{o(z.docs.filter(B=>B.data().distributorId===t.uid&&B.data().status==="approved").map(B=>B.data()))});return()=>L()},[t,e]);const c=(L,z)=>{const B=n.moqs.map((K,Y)=>Y===L?{type:z.target.value}:K);r({...n,moqs:B})},u=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=L=>{r({...n,moqs:n.moqs.filter((z,B)=>B!==L)})},[h,m]=Te.useState(null),[E,C]=Te.useState([]),[_,k]=Te.useState([]),[S,g]=Te.useState([]),[v,I]=Te.useState(!1),[M,N]=Te.useState(null),[T,p]=Te.useState(null);Te.useEffect(()=>{if(!t)return;const L=At(Ve(oe,"products"),z=>{let B=z.docs.map(K=>({id:K.id,...K.data()}));y()||(B=B.filter(K=>K.ownerId===t.uid)),C(B)});return()=>L()},[t]),Te.useEffect(()=>{if(!t)return;const L=At(Ve(oe,"batches"),z=>{let B=z.docs.map(K=>({id:K.id,...K.data()}));y()||(B=B.filter(K=>K.uploadedBy===t.uid)),k(B)});return()=>L()},[t]);function y(){var L;return(L=t==null?void 0:t.email)==null?void 0:L.includes("admin")}const x=L=>r({...n,[L.target.name]:L.target.value}),j=async()=>{const L=!n.registeredOnly;if(r({...n,registeredOnly:L}),e==="distributor"&&(t!=null&&t.uid)){const z=Ve(oe,"products"),B=await getDocs(z),K=[];B.docs.forEach(Y=>{if(Y.data().ownerId===t.uid){const ne={registeredOnly:L};L?ne.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:ne.registeredUniqueId=null,K.push(updateDoc($e(oe,"products",Y.id),ne))}}),await Promise.all(K),window.location.reload()}},A=async L=>{L.preventDefault(),I(!0),p(null),N(null);try{let z=e,B=null,K=null;if(e==="distributor"){const X=$e(oe,"users",t.uid),ne=await _n(X);ne.exists()&&(B=ne.data().slug||ne.data().businessSlug||null),n.registeredOnly&&(K=`${t.uid}_${Date.now()}`)}const Y={...n,ownerId:t.uid,ownerRole:z,ownerSlug:B};K&&(Y.registeredUniqueId=K),h?(await Jr($e(oe,"products",h),Y,{merge:!0}),m(null),N("Medicine updated!")):(await bo(Ve(oe,"products"),Y),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}I(!1)},R=L=>{r({name:L.name,ingredient:L.ingredient,class:L.class,price:L.price,image:L.image||"",moqs:L.moqs||[{type:"sachet",value:"",price:""}]}),m(L.id)},V=async L=>{if(window.confirm("Delete this medicine?")){I(!0);try{await Gr($e(oe,"products",L.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}I(!1)}},F=L=>{const z=L.target.files[0];z&&IA.parse(z,{header:!0,skipEmptyLines:!0,complete:B=>{g(B.data)},error:()=>p("Failed to parse CSV")})},W=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!S.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),I(!1);return}I(!0),p(null),N(null);const L=$e(Ve(oe,"batches")),z=[];let B=e,K=null;if(e==="distributor"){const Y=$e(oe,"users",t.uid),X=await _n(Y);X.exists()&&(K=X.data().slug||X.data().businessSlug||null)}for(let Y of S)try{let X=[];if(Y.moqs)try{X=JSON.parse(Y.moqs)}catch{}let ne=null;e==="distributor"&&Y.registeredOnly===!0&&(ne=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const fe=await bo(Ve(oe,"products"),{name:Y.name,ingredient:Y.ingredient,class:Y.class,price:parseInt(Y.price,10)||0,image:Y.image||"",batchId:L.id,ownerId:t.uid,ownerRole:B,ownerSlug:K,moqs:X,registeredOnly:!!Y.registeredOnly,...ne?{registeredUniqueId:ne}:{}});z.push(fe.id)}catch{}await Jr(L,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:z}),N(`${z.length} medicines uploaded`),g([]),I(!1)},q=async L=>{if(window.confirm("Delete this batch and its medicines?")){I(!0);try{for(let z of L.medicineIds)await Gr($e(oe,"products",z));await Gr($e(oe,"batches",L.id)),N("Batch deleted")}catch{p("Error deleting batch")}I(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(L=>!L),style:{background:s?"#7c3aed":"#ede9fe",color:s?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:s?"Hide Registered Businesses":"Show Registered Businesses"}),s&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((L,z)=>{var B,K,Y;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((B=L.businessInfo)==null?void 0:B.businessName)||L.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((K=L.businessInfo)==null?void 0:K.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((Y=L.businessInfo)==null?void 0:Y.phone)||""})]},z)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:A,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:x,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:x,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:x,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:x,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:x,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:j,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((L,z)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:L.type,onChange:B=>c(z,B),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(z),style:{color:"red"},children:""})]},z)),l.jsx("button",{type:"button",onClick:u,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:v,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),S.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:W,disabled:v,children:["Submit CSV (",S.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",y()&&"(All Users)"]}),E.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:E.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:L.ingredient}),l.jsx("td",{children:L.class}),l.jsx("td",{children:L.price}),l.jsx("td",{children:Array.isArray(L.moqs)&&L.moqs.length>0?L.moqs.map((z,B)=>l.jsx("span",{style:{marginRight:8},children:z.type},B)):"-"}),l.jsx("td",{children:L.image&&l.jsx("img",{src:L.image,alt:L.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>R(L),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>V(L),children:"Delete"})]})]},L.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",y()&&"(All Users)"]}),_.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:_.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:new Date(L.date).toLocaleString()}),l.jsx("td",{children:L.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>q(L),children:"Delete Batch"})})]},L.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),T&&l.jsx("div",{style:{color:"red",marginTop:10},children:T})]})}function jQ({medics:t}){const e=xr();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:14,marginTop:18,justifyContent:"center",padding:"0 4px"},children:[...t].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(o=>o.trim()).filter(Boolean));const i=()=>{window.confirm(`Do you want to have a one-on-one conversation with ${n.name}?

This will allow you to chat privately, ask questions, and get professional advice. Consultation fee: 3000.

Do you want to proceed?`)&&e("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",width:160,minHeight:180,padding:12,border:"none",borderRadius:14,background:"#fff",boxShadow:"0 2px 10px 0 rgba(0,150,136,0.10)",cursor:"pointer",transition:"box-shadow 0.2s, transform 0.2s",outline:"2px solid transparent",marginBottom:8},onClick:i,onMouseOver:o=>o.currentTarget.style.boxShadow="0 8px 24px 0 rgba(0,150,136,0.18)",onMouseOut:o=>o.currentTarget.style.boxShadow="0 2px 10px 0 rgba(0,150,136,0.10)",children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:12,height:12,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #00968855"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:48,height:48,borderRadius:"50%",objectFit:"cover",marginBottom:8,border:"1.5px solid #e0f7fa",background:"#f5f5f5",display:"block",marginLeft:"auto",marginRight:"auto"}}),l.jsx("div",{style:{fontWeight:800,fontSize:13,color:"#111",marginBottom:2,textAlign:"left",maxWidth:120},children:n.name}),l.jsx("div",{style:{color:"#111",fontWeight:600,fontSize:11,textAlign:"left",letterSpacing:.1},children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#009688",fontWeight:700,fontSize:11,marginTop:2,textAlign:"left",letterSpacing:.1,maxWidth:120},children:n.pharmacyName}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:["Lic: ",l.jsx("span",{style:{color:"#009688",fontWeight:700},children:n.license})]}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:[l.jsx("span",{style:{fontWeight:600,color:"#009688"},children:"Top interest:"})," ",l.jsx("span",{style:{color:"#009688",fontWeight:700}})]}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:["Lang: ",l.jsx("span",{style:{color:"#009688",fontWeight:700},children:r.join(", ")})]})]},n.id)})})}function OQ(){const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,o]=b.useState("");return b.useEffect(()=>{(async()=>{let c=(await Gt(Ve(oe,"verifyMedics"))).docs.map(h=>({id:h.id,...h.data()}));(await Gt(Ve(oe,"users"))).docs.forEach(h=>{const m=h.data();m.role==="medicine-manager"&&m.pharmacist&&c.push({...m.pharmacist,id:h.id,online:!0})}),e(c);const f=await Gt(Ve(oe,"consultMedics"));r(f.docs.map(h=>({id:h.id,...h.data()})))})()},[]),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"18px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",width:"100vw",maxWidth:"100vw",overflowX:"hidden"},children:[l.jsx("div",{style:{width:"100%",maxWidth:400,marginBottom:12,position:"relative",display:"flex",justifyContent:"center",padding:"0 6px"},children:l.jsx(gi,{elevation:6,sx:{borderRadius:2.5,px:{xs:1,sm:2},py:{xs:1,sm:1.5},boxShadow:"0 2px 12px 0 rgba(0,150,136,0.10)",background:"#fff",position:"relative",width:"100%",maxWidth:400,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:22,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.1,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:8,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:22,marginRight:3},children:""})," Medinterface"]})})}),l.jsx("div",{style:{fontSize:13,color:"#fff",fontWeight:400,textAlign:"center",marginBottom:8,marginTop:2,padding:"0 12px",lineHeight:1.4,maxWidth:340,letterSpacing:.01,fontFamily:"Inter, Arial, sans-serif",textShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:"verify prescriptions, get medicine advise and talk to a medical professional"}),l.jsx("input",{type:"text",placeholder:"Search Pharmacists & Consultants...",value:i,onChange:s=>o(s.target.value),style:{width:"90%",maxWidth:340,marginBottom:12,padding:"7px 12px",borderRadius:8,border:"1px solid #b2dfdb",fontSize:14,outline:"none"}}),l.jsx(jQ,{medics:[...t.filter(s=>{var a;return(a=s.name)==null?void 0:a.toLowerCase().includes(i.toLowerCase())}),...n.filter(s=>{var a;return(a=s.name)==null?void 0:a.toLowerCase().includes(i.toLowerCase())})]})]})}var i1={},NQ=pd;Object.defineProperty(i1,"__esModule",{value:!0});var PA=i1.default=void 0,MQ=NQ(n1()),LQ=l,DQ=(0,MQ.default)((0,LQ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");PA=i1.default=DQ;var o1={},$Q=pd;Object.defineProperty(o1,"__esModule",{value:!0});var AA=o1.default=void 0,FQ=$Q(n1()),zQ=l,VQ=(0,FQ.default)((0,zQ.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");AA=o1.default=VQ;const BQ="/psx_logo.svg";function WQ({userEmail:t,menuOpen:e,setMenuOpen:n}){const r=xr(),i=b.useRef(null);return b.useEffect(()=>{if(!e)return;function o(s){i.current&&!i.current.contains(s.target)&&n(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e,n]),t?l.jsxs("div",{style:{position:"relative"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:l.jsx("div",{onClick:()=>n&&n(o=>!o),style:{width:26,height:26,borderRadius:"50%",background:"#e10098",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:15},title:t,children:t[0].toUpperCase()})}),e&&l.jsxs("div",{ref:i,style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:t}),l.jsx("button",{onClick:async()=>{await Nr().signOut(),r("/auth")},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsx(Lb,{color:"inherit",onClick:()=>r("/auth"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(PA,{fontSize:"small"})})}const UQ=[{label:"Shop",to:"/shop"},{label:"Orders",to:"/orders"},{label:"Medinterface",to:"/medinterface"}];function HQ(){const t=xr(),{user:e}=Km(),n=(e==null?void 0:e.email)||"",[r,i]=b.useState(!1),[o,s]=b.useState(0);return b.useEffect(()=>{if(!e||!e.uid){s(0);return}const a=$e(oe,"carts",e.uid),c=At(a,u=>{if(u.exists()){const f=u.data();s(Array.isArray(f.items)?f.items.length:0)}else s(0)},()=>s(0));return()=>c()},[e]),l.jsx(CB,{position:"sticky",color:"default",elevation:1,sx:{zIndex:1201},children:l.jsx(Bq,{sx:{minWidth:0,p:0},children:l.jsxs(Qe,{sx:{width:"100%",maxWidth:850,mx:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",px:0},children:[l.jsx(Qe,{sx:{display:"flex",alignItems:"center",flexGrow:1,cursor:"pointer"},onClick:()=>t("/"),children:l.jsx("img",{src:BQ,alt:"Logo",style:{height:40}})}),l.jsxs(Qe,{sx:{display:"flex",alignItems:"center",gap:{xs:0,sm:.2,md:.5},flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-end",sm:"flex-end"},maxWidth:{xs:"70vw",sm:"none"},pr:{xs:3,sm:5}},children:[UQ.map(a=>l.jsx(Be,{component:Vu,to:a.to,sx:{color:"#333",textDecoration:"none",fontWeight:500,mx:{xs:.1,sm:.5},fontSize:{xs:13,sm:15,md:16},px:{xs:.3,sm:.7},py:{xs:.5,sm:0},borderRadius:1,"&:hover":{color:"#00796b"},whiteSpace:"nowrap"},children:a.label},a.to)),l.jsx(Lb,{color:"inherit",onClick:()=>t("/cart"),sx:{ml:{xs:0,sm:0},mr:.5,position:"relative"},children:l.jsx(LU,{badgeContent:o,color:"secondary",overlap:"circular",invisible:o===0,sx:{"& .MuiBadge-badge":{background:"#e10098",color:"#fff",fontWeight:700,fontSize:11,minWidth:16,height:16,top:0,right:0,padding:"0 4px"}},children:l.jsx(AA,{fontSize:"small"})})}),l.jsx(WQ,{userEmail:n,menuOpen:r,setMenuOpen:i})]})]})})})}function qQ(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,o]=b.useState("");function s(U){if(!i.trim())return U;const J=i.trim().toLowerCase();return U.filter(H=>{var Ee,Je,Se,Q,re,Ie,Ce,ke,ge,rt,_e,be,Le,Re,it,Tt;const se=(((Ee=E[H.userId])==null?void 0:Ee.email)||"").toLowerCase(),Z=(H.items&&H.items[0]&&((Je=u[H.items[0].ownerId])==null?void 0:Je.name)||"").toLowerCase(),ie=((((Se=H.deliveryInfo)==null?void 0:Se.address)||"")+" "+(((Q=H.deliveryInfo)==null?void 0:Q.city)||"")+" "+(((re=H.deliveryInfo)==null?void 0:re.state)||"")).toLowerCase(),pe=H.items&&H.items[0]&&((((Ie=u[H.items[0].ownerId])==null?void 0:Ie.address)||"")+" "+(((Ce=u[H.items[0].ownerId])==null?void 0:Ce.city)||"")+" "+(((ke=u[H.items[0].ownerId])==null?void 0:ke.state)||"")).toLowerCase()||"",ve=[(ge=H.deliveryInfo)==null?void 0:ge.lat,(rt=H.deliveryInfo)==null?void 0:rt.lng,(Le=u[(be=(_e=H.items)==null?void 0:_e[0])==null?void 0:be.ownerId])==null?void 0:Le.lat,(Tt=u[(it=(Re=H.items)==null?void 0:Re[0])==null?void 0:it.ownerId])==null?void 0:Tt.lng].filter(Boolean).join(",").toLowerCase(),xe=(H.items||[]).map(et=>et.name).join(", ").toLowerCase();return se.includes(J)||Z.includes(J)||ie.includes(J)||pe.includes(J)||ve.includes(J)||xe.includes(J)})}const[a,c]=Te.useState("processing"),[u,f]=b.useState({});b.useEffect(()=>{const U=At(Ve(oe,"users"),J=>{const H={};J.docs.forEach(se=>{const Z=se.data();Z.role==="medicine-manager"&&(H[se.id]={name:Z.businessName||se.id,address:Z.businessAddress||Z.address||"-",lat:Z.lat||Z.latitude||null,lng:Z.lng||Z.longitude||null})}),f(H)});return()=>U()},[]);const[h,m]=b.useState(!0);b.useEffect(()=>{const U=Nr(),J=Ui(U,H=>{e(H),m(!1)});return()=>J()},[]),b.useEffect(()=>{if(h||!t)return;const U=At(Ve(oe,"orders"),J=>{const Z=J.docs.map(ie=>({id:ie.id,...ie.data()})).filter(ie=>ie.status==="Processing"&&!ie.assignedAgentId&&ie.deliveryType&&ie.deliveryType.toLowerCase()==="express").filter(ie=>!n.includes(ie.id));Z.length>0&&(Z.forEach(ie=>{ze.info(` New express delivery order! Order ID: ${ie.id}`)}),r(ie=>[...ie,...Z.map(pe=>pe.id)]))});return()=>U()},[h,t,n]);const[E,C]=b.useState({});b.useEffect(()=>{const U=At(Ve(oe,"users"),J=>{const H={};J.docs.forEach(se=>{const Z=se.data();H[se.id]=Z.email||se.id}),C(H)});return()=>U()},[]);const[_,k]=b.useState([]),[S,g]=b.useState([]),[v,I]=b.useState([]),[M,N]=b.useState(()=>{const U=localStorage.getItem("agentCanceledOrders");return U?JSON.parse(U):[]}),[T,p]=b.useState({}),[y,x]=b.useState({}),[j,A]=b.useState(null),{slug:R}=zu(),[V,F]=b.useState(null),[W,q]=b.useState(!1),[L,z]=b.useState(!0),[B,K]=b.useState("availability");b.useEffect(()=>{if(h||!t)return;const U=At(Ve(oe,"orders"),J=>{const H=J.docs.map(se=>({id:se.id,...se.data()}));k(H.filter(se=>se.status==="Completed"&&se.assignedAgentId===t.uid)),I(H.filter(se=>se.status==="In-Progress"&&se.assignedAgentId===t.uid)),g(H.filter(se=>se.status==="Processing"&&!se.assignedAgentId&&!M.some(Z=>Z.id===se.id)&&se.deliveryType&&se.deliveryType.toLowerCase()==="express"))});return()=>U()},[h,t,M]);const Y=async U=>{A(U);try{await an($e(oe,"orders",U),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:V.slug,assignedAgentName:V.companyName,companyName:V.companyName,agentPhoneNumber:V.phoneNumber||"",agentWhatsappNumber:V.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),ze.success("Order accepted!")}catch{ze.error("Failed to accept order")}A(null)},X=async U=>{try{await an($e(oe,"orders",U),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),ze.success("Order marked as delivered!")}catch{ze.error("Failed to mark as delivered")}},ne=async U=>{try{await an($e(oe,"orders",U),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),ze.info("Order moved back to processing.")}catch{ze.error("Failed to move order back to processing")}},fe=U=>{const J=S.find(H=>H.id===U)||v.find(H=>H.id===U);J&&(N(H=>{const se=[...H,J];return localStorage.setItem("agentCanceledOrders",JSON.stringify(se)),se}),c("canceled"))};b.useEffect(()=>{const U=J=>{J.key==="agentCanceledOrders"&&N(J.newValue?JSON.parse(J.newValue):[])};return window.addEventListener("storage",U),()=>window.removeEventListener("storage",U)},[]);const me=async()=>{if(V){q(!0);try{const U=$e(oe,"deliveryAgents",V.id);await an(U,{available:!V.available}),F({...V,available:!V.available}),ze.success("Availability updated.")}catch{ze.error("Failed to update availability")}q(!1)}};return b.useEffect(()=>{async function U(){z(!0);const H=(await Gt(Ve(oe,"deliveryAgents"))).docs.map(ie=>ie.data());console.log("All agent slugs:",H.map(ie=>ie.slug));const se=Rr(Ve(oe,"deliveryAgents"),Pr("slug","==",R),Pr("approved","==",!0)),Z=await Gt(se);Z.empty?F(null):F({id:Z.docs[0].id,...Z.docs[0].data()}),z(!1)}U()},[R]),L||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):V?!t||t.uid!==V.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:V.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:V.companyName}),l.jsxs("div",{children:["Phone: ",V.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",V.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",V.rcNumber]}),l.jsxs("div",{children:["Address: ",V.businessAddress]}),l.jsxs("div",{children:["Email: ",V.email]}),l.jsxs("div",{children:["Coverage: ",V.coverageArea]}),l.jsxs("div",{children:["Hours: ",V.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:B==="availability"?"2px solid #1976d2":"1px solid #ccc",background:B==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:B==="orders"?"2px solid #1976d2":"1px solid #ccc",background:B==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[B==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",V.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:me,disabled:W,children:V.available?"Set Not Available":"Set Available"})]})]}),B==="orders"&&(V.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:U=>o(U.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>c("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>c("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>c("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>c("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:s(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):s(M).map(U=>{var J;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const H=u[U.items[0].ownerId],se=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:H.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):se}),H.lat&&H.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||E[U.userId]||U.userId}),(()=>{const H=U.deliveryInfo||{},se=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):se}),H.lat&&H.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]}):E[U.userId]&&E[U.userId].lat&&E[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[U.userId].lat,", ",E[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(J=U.items)==null?void 0:J.map(H=>`${H.name} x${H.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},U.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:s(S).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):s(S).map(U=>{var J;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof U.deliveryType," | ",JSON.stringify(U.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const H=u[U.items[0].ownerId],se=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:H.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):se}),H.lat&&H.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||E[U.userId]||U.userId}),(()=>{const H=U.deliveryInfo||{},se=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;let ie=H.lat,pe=H.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):se}),ie&&pe?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ie,", ",pe]}):E[U.userId]&&E[U.userId].lat&&E[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[U.userId].lat,", ",E[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(J=U.items)==null?void 0:J.map(H=>`${H.name} x${H.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:U.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>Y(U.id),disabled:j===U.id,children:j===U.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>fe(U.id),children:"Cancel Order"})]})]},U.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:s(v).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):s(v).map(U=>{var Z;const J=!!T[U.id],H=!!y[U.id],se=async()=>{await X(U.id),p(ie=>({...ie,[U.id]:!0})),x(ie=>({...ie,[U.id]:!0})),setTimeout(()=>x(ie=>({...ie,[U.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const ie=u[U.items[0].ownerId],pe=`${ie.address||""}, ${ie.city||""}, ${ie.state||""}`,ve=!ie.address&&!ie.city&&!ie.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:ie.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ve?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):pe}),ie.lat&&ie.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",ie.lat,", ",ie.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||E[U.userId]||U.userId}),(()=>{const ie=U.deliveryInfo||{},pe=`${ie.address||""}, ${ie.city||""}, ${ie.state||""}`,ve=!ie.address&&!ie.city&&!ie.state;let xe=ie.lat,Ee=ie.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ve?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):pe}),xe&&Ee?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",xe,", ",Ee]}):E[U.userId]&&E[U.userId].lat&&E[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[U.userId].lat,", ",E[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(Z=U.items)==null?void 0:Z.map(ie=>`${ie.name} x${ie.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:U.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:J?"not-allowed":"pointer",opacity:J?.5:1},onClick:se,disabled:J,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:J?"not-allowed":"pointer",opacity:J?.5:1},onClick:()=>ne(U.id),disabled:J,children:"Failed"})]}),H&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),J&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},U.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:s(_).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):s(_).map(U=>{var J;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const H=u[U.items[0].ownerId],se=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:H.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):se}),H.lat&&H.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||E[U.userId]||U.userId}),(()=>{const H=U.deliveryInfo||{},se=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):se}),H.lat&&H.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]}):E[U.userId]&&E[U.userId].lat&&E[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[U.userId].lat,", ",E[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(J=U.items)==null?void 0:J.map(H=>`${H.name} x${H.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:U.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",U.completedAt?new Date(U.completedAt).toLocaleString():"-"]})]},U.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function dC(){const[t,e]=b.useState([]),[n,r]=b.useState(!0);return b.useEffect(()=>{async function i(){r(!0);const o=Rr(Ve(oe,"deliveryAgents"),Pr("approved","==",!0)),s=await Gt(o);e(s.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(Vu,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const KQ=jb({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function GQ(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(t)})}function QQ(){var p,y;const{businessId:t}=zu(),e=ps(),n=xr(),[r,i]=b.useState(null),[o,s]=b.useState(null),[a,c]=b.useState([]),[u,f]=b.useState(""),[h,m]=b.useState(((p=e.state)==null?void 0:p.pharmacist)||null),[E,C]=b.useState(((y=e.state)==null?void 0:y.businessName)||"Pharmacy"),[_,k]=b.useState(null),[S,g]=b.useState(null),[v,I]=b.useState(!1),M=b.useRef(null);b.useEffect(()=>{const x=Nr(),j=Ui(x,A=>{A?i(A):n("/auth")});return()=>j()},[n]),b.useEffect(()=>{h&&E||t&&_n($e(oe,"users",t)).then(x=>{if(x.exists()){const j=x.data();m(j.pharmacist||null),C(j.businessName||"Pharmacy")}})},[t,h,E]),b.useEffect(()=>{if(!r||!t)return;const x=Ve(oe,"chats"),j=Rr(x,Pr("participants","array-contains",r.uid));Gt(j).then(A=>{let R=null;A.forEach(V=>{V.data().participants.includes(t)&&(R=V.id)}),R?s(R):bo(x,{participants:[r.uid,t],createdAt:jv()}).then(V=>s(V.id))})},[r,t]),b.useEffect(()=>{if(!o)return;const x=Rr(Ve(oe,"chats",o,"messages"),vk("timestamp","asc")),j=At(x,A=>{c(A.docs.map(R=>({id:R.id,...R.data()})))});return()=>j()},[o]),b.useEffect(()=>{var x;(x=M.current)==null||x.scrollIntoView({behavior:"smooth"})},[a]);const N=async x=>{if(x.preventDefault(),!u.trim()&&!_||!r||!o)return;let j=null,A=!1;if(_){I(!0);try{const{url:R,isBase64:V}=await GQ(_);j=R,A=V}catch{alert("Image upload failed")}I(!1)}await bo(Ve(oe,"chats",o,"messages"),{text:u,image:j||null,isBase64:A,sender:r.uid,senderName:r.displayName||r.email,timestamp:jv()}),f(""),k(null),g(null)},T=x=>{const j=x.target.files[0];j&&(k(j),g(URL.createObjectURL(j)))};return r?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(h==null?void 0:h.photo)&&l.jsx("img",{src:h.photo,alt:h.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(h==null?void 0:h.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",E,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[a.map(x=>l.jsxs("div",{style:{marginBottom:10,textAlign:x.sender===(r==null?void 0:r.uid)?"right":"left"},children:[x.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:x.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),x.text&&l.jsx("span",{style:{background:x.sender===(r==null?void 0:r.uid)?"#6366f1":"#e0e7ff",color:x.sender===(r==null?void 0:r.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:x.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:x.senderName})]},x.id)),l.jsx("div",{ref:M})]}),l.jsxs("form",{onSubmit:N,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:u,onChange:x=>f(x.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:T}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:""})]}),S&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:S,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{k(null),g(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:""})]}),l.jsx("button",{type:"submit",style:{background:v?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:v?"not-allowed":"pointer"},disabled:v,children:v?"Sending...":"Send"})]})]}):null}function fC(){return l.jsx(KM,{to:"/auth",replace:!0})}my.createRoot(document.getElementById("root")).render(l.jsx(Te.StrictMode,{children:l.jsxs(vV,{theme:KQ,children:[l.jsx(u7,{}),l.jsx(qG,{children:l.jsx(nL,{children:l.jsxs(l.Fragment,{children:[l.jsx(HQ,{}),l.jsx(YQ,{}),l.jsx(WG,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(QM,{children:[l.jsx(Zt,{path:"/signup",element:l.jsx(fC,{})}),l.jsx(Zt,{path:"/login",element:l.jsx(fC,{})}),l.jsx(Zt,{path:"/agent/:slug",element:l.jsx(qQ,{})}),l.jsx(Zt,{path:"/agents",element:l.jsx(dC,{})}),l.jsx(Zt,{path:"/",element:l.jsx(HG,{})}),l.jsx(Zt,{path:"/shop",element:l.jsx(tQ,{})}),l.jsx(Zt,{path:"/cart",element:l.jsx(CA,{})}),l.jsx(Zt,{path:"/auth",element:l.jsx(aQ,{})}),l.jsx(Zt,{path:"/orders",element:l.jsx(rQ,{})}),l.jsx(Zt,{path:"/add-medicine",element:l.jsx(uQ,{})}),l.jsx(Zt,{path:"/payment",element:l.jsx(xQ,{})}),l.jsx(Zt,{path:"/admin",element:l.jsx(wQ,{})}),l.jsx(Zt,{path:"/store",element:l.jsx(IQ,{})}),l.jsx(Zt,{path:"/store/:slug",element:l.jsx(TQ,{})}),l.jsx(Zt,{path:"/store/:slug/cart",element:l.jsx(CQ,{})}),l.jsx(Zt,{path:"/restock",element:l.jsx(PQ,{})}),l.jsx(Zt,{path:"/medinterface",element:l.jsx(OQ,{})}),l.jsx(Zt,{path:"/about",element:l.jsx(Gq,{})}),l.jsx(Zt,{path:"/businesses",element:l.jsx(s8,{})}),l.jsx(Zt,{path:"/agents",element:l.jsx(dC,{})}),l.jsx(Zt,{path:"/chat/:businessId",element:l.jsx(QQ,{})})]}),l.jsx(Zj,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})]})}));function YQ(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=xr();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
