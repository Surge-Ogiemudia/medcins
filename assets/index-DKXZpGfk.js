(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function XA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var dC={exports:{}},sp={},hC={exports:{}},ht={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Nu=Symbol.for("react.element"),YA=Symbol.for("react.portal"),JA=Symbol.for("react.fragment"),ZA=Symbol.for("react.strict_mode"),eO=Symbol.for("react.profiler"),tO=Symbol.for("react.provider"),nO=Symbol.for("react.context"),rO=Symbol.for("react.forward_ref"),iO=Symbol.for("react.suspense"),oO=Symbol.for("react.memo"),aO=Symbol.for("react.lazy"),D1=Symbol.iterator;function sO(t){return t===null||typeof t!="object"?null:(t=D1&&t[D1]||t["@@iterator"],typeof t=="function"?t:null)}var fC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pC=Object.assign,mC={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=mC,this.updater=n||fC}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gC(){}gC.prototype=Tl.prototype;function lv(t,e,n){this.props=t,this.context=e,this.refs=mC,this.updater=n||fC}var cv=lv.prototype=new gC;cv.constructor=lv;pC(cv,Tl.prototype);cv.isPureReactComponent=!0;var z1=Array.isArray,yC=Object.prototype.hasOwnProperty,uv={current:null},vC={key:!0,ref:!0,__self:!0,__source:!0};function bC(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)yC.call(e,r)&&!vC.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Nu,type:t,key:o,ref:a,props:i,_owner:uv.current}}function lO(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function cO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var F1=/\/+/g;function rg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cO(""+t.key):e.toString(36)}function ph(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nu:case YA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+rg(a,0):r,z1(i)?(n="",t!=null&&(n=t.replace(F1,"$&/")+"/"),ph(i,e,n,"",function(u){return u})):i!=null&&(dv(i)&&(i=lO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(F1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",z1(t))for(var s=0;s<t.length;s++){o=t[s];var c=r+rg(o,s);a+=ph(o,e,n,c,i)}else if(c=sO(t),typeof c=="function")for(t=c.call(t),s=0;!(o=t.next()).done;)o=o.value,c=r+rg(o,s++),a+=ph(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Od(t,e,n){if(t==null)return t;var r=[],i=0;return ph(t,r,"","",function(o){return e.call(n,o,i++)}),r}function uO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},mh={transition:null},dO={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:mh,ReactCurrentOwner:uv};function xC(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:Od,forEach:function(t,e,n){Od(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Od(t,function(){e++}),e},toArray:function(t){return Od(t,function(e){return e})||[]},only:function(t){if(!dv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ht.Component=Tl;ht.Fragment=JA;ht.Profiler=eO;ht.PureComponent=lv;ht.StrictMode=ZA;ht.Suspense=iO;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dO;ht.act=xC;ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pC({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=uv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)yC.call(e,c)&&!vC.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Nu,type:t.type,key:i,ref:o,props:r,_owner:a}};ht.createContext=function(t){return t={$$typeof:nO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tO,_context:t},t.Consumer=t};ht.createElement=bC;ht.createFactory=function(t){var e=bC.bind(null,t);return e.type=t,e};ht.createRef=function(){return{current:null}};ht.forwardRef=function(t){return{$$typeof:rO,render:t}};ht.isValidElement=dv;ht.lazy=function(t){return{$$typeof:aO,_payload:{_status:-1,_result:t},_init:uO}};ht.memo=function(t,e){return{$$typeof:oO,type:t,compare:e===void 0?null:e}};ht.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}};ht.unstable_act=xC;ht.useCallback=function(t,e){return rr.current.useCallback(t,e)};ht.useContext=function(t){return rr.current.useContext(t)};ht.useDebugValue=function(){};ht.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};ht.useEffect=function(t,e){return rr.current.useEffect(t,e)};ht.useId=function(){return rr.current.useId()};ht.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};ht.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};ht.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};ht.useMemo=function(t,e){return rr.current.useMemo(t,e)};ht.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};ht.useRef=function(t){return rr.current.useRef(t)};ht.useState=function(t){return rr.current.useState(t)};ht.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};ht.useTransition=function(){return rr.current.useTransition()};ht.version="18.3.1";hC.exports=ht;var x=hC.exports;const Ce=ap(x),Uh=XA({__proto__:null,default:Ce},[x]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hO=x,fO=Symbol.for("react.element"),pO=Symbol.for("react.fragment"),mO=Object.prototype.hasOwnProperty,gO=hO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yO={key:!0,ref:!0,__self:!0,__source:!0};function wC(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)mO.call(e,r)&&!yO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:fO,type:t,key:o,ref:a,props:i,_owner:gO.current}}sp.Fragment=pO;sp.jsx=wC;sp.jsxs=wC;dC.exports=sp;var l=dC.exports;function SC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SC(t))&&(r&&(r+=" "),r+=e);return r}function vO(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}vO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Pu=t=>typeof t=="number"&&!isNaN(t),Da=t=>typeof t=="string",co=t=>typeof t=="function",bO=t=>Da(t)||Pu(t),sy=t=>Da(t)||co(t)?t:null,xO=(t,e)=>t===!1||Pu(t)&&t>0?t:e,ly=t=>x.isValidElement(t)||Da(t)||co(t)||Pu(t);function wO(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function SO({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:a,preventExitTransition:s,done:c,nodeRef:u,isIn:h,playToast:f}){let v=n?`${t}--${a}`:t,b=n?`${e}--${a}`:e,_=x.useRef(0);return x.useLayoutEffect(()=>{let S=u.current,T=v.split(" "),C=g=>{g.target===u.current&&(f(),S.removeEventListener("animationend",C),S.removeEventListener("animationcancel",C),_.current===0&&g.type!=="animationcancel"&&S.classList.remove(...T))};S.classList.add(...T),S.addEventListener("animationend",C),S.addEventListener("animationcancel",C)},[]),x.useEffect(()=>{let S=u.current,T=()=>{S.removeEventListener("animationend",T),r?wO(S,c,i):c()};h||(s?T():(_.current=1,S.className+=` ${b}`,S.addEventListener("animationend",T)))},[h]),Ce.createElement(Ce.Fragment,null,o)}}function $1(t,e){return{content:kC(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function kC(t,e,n=!1){return x.isValidElement(t)&&!Da(t.type)?x.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):co(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function kO({closeToast:t,theme:e,ariaLabel:n="close"}){return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CO({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:o,controlledProgress:a,progress:s,rtl:c,isIn:u,theme:h}){let f=i||a&&s===0,v={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(v.transform=`scaleX(${s})`);let b=Ae("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),_=co(o)?o({rtl:c,type:r,defaultClassName:b}):Ae(b,o),S={[a&&s>=1?"onTransitionEnd":"onAnimationEnd"]:a&&s<1?null:()=>{u&&n()}};return Ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),Ce.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:_,style:v,...S}))}var _O=1,CC=()=>`${_O++}`;function EO(t,e,n){let r=1,i=0,o=[],a=[],s=e,c=new Map,u=new Set,h=g=>(u.add(g),()=>u.delete(g)),f=()=>{a=Array.from(c.values()),u.forEach(g=>g())},v=({containerId:g,toastId:y,updateId:O})=>{let M=g?g!==t:t!==1,P=c.has(y)&&O==null;return M||P},b=(g,y)=>{c.forEach(O=>{var M;(y==null||y===O.props.toastId)&&((M=O.toggle)==null||M.call(O,g))})},_=g=>{var y,O;(O=(y=g.props)==null?void 0:y.onClose)==null||O.call(y,g.removalReason),g.isActive=!1},S=g=>{if(g==null)c.forEach(_);else{let y=c.get(g);y&&_(y)}f()},T=()=>{i-=o.length,o=[]},C=g=>{var y,O;let{toastId:M,updateId:P}=g.props,E=P==null;g.staleId&&c.delete(g.staleId),g.isActive=!0,c.set(M,g),f(),n($1(g,E?"added":"updated")),E&&((O=(y=g.props).onOpen)==null||O.call(y))};return{id:t,props:s,observe:h,toggle:b,removeToast:S,toasts:c,clearQueue:T,buildToast:(g,y)=>{if(v(y))return;let{toastId:O,updateId:M,data:P,staleId:E,delay:p}=y,m=M==null;m&&i++;let w={...s,style:s.toastStyle,key:r++,...Object.fromEntries(Object.entries(y).filter(([j,I])=>I!=null)),toastId:O,updateId:M,data:P,isIn:!1,className:sy(y.className||s.toastClassName),progressClassName:sy(y.progressClassName||s.progressClassName),autoClose:y.isLoading?!1:xO(y.autoClose,s.autoClose),closeToast(j){c.get(O).removalReason=j,S(O)},deleteToast(){let j=c.get(O);if(j!=null){if(n($1(j,"removed")),c.delete(O),i--,i<0&&(i=0),o.length>0){C(o.shift());return}f()}}};w.closeButton=s.closeButton,y.closeButton===!1||ly(y.closeButton)?w.closeButton=y.closeButton:y.closeButton===!0&&(w.closeButton=ly(s.closeButton)?s.closeButton:!0);let R={content:g,props:w,staleId:E};s.limit&&s.limit>0&&i>s.limit&&m?o.push(R):Pu(p)?setTimeout(()=>{C(R)},p):C(R)},setProps(g){s=g},setToggle:(g,y)=>{let O=c.get(g);O&&(O.toggle=y)},isToastActive:g=>{var y;return(y=c.get(g))==null?void 0:y.isActive},getSnapshot:()=>a}}var er=new Map,Kc=[],cy=new Set,TO=t=>cy.forEach(e=>e(t)),_C=()=>er.size>0;function IO(){Kc.forEach(t=>TC(t.content,t.options)),Kc=[]}var jO=(t,{containerId:e})=>{var n;return(n=er.get(e||1))==null?void 0:n.toasts.get(t)};function EC(t,e){var n;if(e)return!!((n=er.get(e))!=null&&n.isToastActive(t));let r=!1;return er.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function RO(t){if(!_C()){Kc=Kc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||bO(t))er.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=er.get(t.containerId);e?e.removeToast(t.id):er.forEach(n=>{n.removeToast(t.id)})}}var AO=(t={})=>{er.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function TC(t,e){ly(t)&&(_C()||Kc.push({content:t,options:e}),er.forEach(n=>{n.buildToast(t,e)}))}function OO(t){var e;(e=er.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function IC(t,e){er.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function NO(t){let e=t.containerId||1;return{subscribe(n){let r=EO(e,t,TO);er.set(e,r);let i=r.observe(n);return IO(),()=>{i(),er.delete(e)}},setProps(n){var r;(r=er.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=er.get(e))==null?void 0:n.getSnapshot()}}}function PO(t){return cy.add(t),()=>{cy.delete(t)}}function MO(t){return t&&(Da(t.toastId)||Pu(t.toastId))?t.toastId:CC()}function Mu(t,e){return TC(t,e),e.toastId}function lp(t,e){return{...e,type:e&&e.type||t,toastId:MO(e)}}function cp(t){return(e,n)=>Mu(e,lp(t,n))}function De(t,e){return Mu(t,lp("default",e))}De.loading=(t,e)=>Mu(t,lp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function LO(t,{pending:e,error:n,success:r},i){let o;e&&(o=Da(e)?De.loading(e,i):De.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,h,f)=>{if(h==null){De.dismiss(o);return}let v={type:u,...a,...i,data:f},b=Da(h)?{render:h}:h;return o?De.update(o,{...v,...b}):De(b.render,{...v,...b}),f},c=co(t)?t():t;return c.then(u=>s("success",r,u)).catch(u=>s("error",n,u)),c}De.promise=LO;De.success=cp("success");De.info=cp("info");De.error=cp("error");De.warning=cp("warning");De.warn=De.warning;De.dark=(t,e)=>Mu(t,lp("default",{theme:"dark",...e}));function DO(t){RO(t)}De.dismiss=DO;De.clearWaitingQueue=AO;De.isActive=EC;De.update=(t,e={})=>{let n=jO(t,e);if(n){let{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:CC()};o.toastId!==t&&(o.staleId=t);let a=o.render||i;delete o.render,Mu(a,o)}};De.done=t=>{De.update(t,{progress:1})};De.onChange=PO;De.play=t=>IC(!0,t);De.pause=t=>IC(!1,t);function zO(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=x.useRef(NO(t)).current;i(t);let o=(e=x.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function a(s){if(!o)return[];let c=new Map;return t.newestOnTop&&o.reverse(),o.forEach(u=>{let{position:h}=u.props;c.has(h)||c.set(h,[]),c.get(h).push(u)}),Array.from(c,u=>s(u[0],u[1]))}return{getToastToRender:a,isToastActive:EC,count:o==null?void 0:o.length}}function FO(t){let[e,n]=x.useState(!1),[r,i]=x.useState(!1),o=x.useRef(null),a=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:f}=t;OO({id:t.toastId,containerId:t.containerId,fn:n}),x.useEffect(()=>{if(t.pauseOnFocusLoss)return v(),()=>{b()}},[t.pauseOnFocusLoss]);function v(){document.hasFocus()||C(),window.addEventListener("focus",T),window.addEventListener("blur",C)}function b(){window.removeEventListener("focus",T),window.removeEventListener("blur",C)}function _(E){if(t.draggable===!0||t.draggable===E.pointerType){g();let p=o.current;a.canCloseOnClick=!0,a.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(a.start=E.clientX,a.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(a.start=E.clientY,a.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S(E){let{top:p,bottom:m,left:w,right:R}=o.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&E.clientX>=w&&E.clientX<=R&&E.clientY>=p&&E.clientY<=m?C():T()}function T(){n(!0)}function C(){n(!1)}function g(){a.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",M)}function y(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",M)}function O(E){let p=o.current;if(a.canDrag&&p){a.didMove=!0,e&&C(),t.draggableDirection==="x"?a.delta=E.clientX-a.start:a.delta=E.clientY-a.start,a.start!==E.clientX&&(a.canCloseOnClick=!1);let m=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;p.style.transform=`translate3d(${m},0)`,p.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function M(){y();let E=o.current;if(a.canDrag&&a.didMove&&E){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}let P={onPointerDown:_,onPointerUp:S};return s&&c&&(P.onMouseEnter=C,t.stacked||(P.onMouseLeave=T)),f&&(P.onClick=E=>{h&&h(E),a.canCloseOnClick&&u(!0)}),{playToast:T,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:P}}var $O=typeof window<"u"?x.useLayoutEffect:x.useEffect,up=({theme:t,type:e,isLoading:n,...r})=>Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function WO(t){return Ce.createElement(up,{...t},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function BO(t){return Ce.createElement(up,{...t},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function UO(t){return Ce.createElement(up,{...t},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function VO(t){return Ce.createElement(up,{...t},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function qO(){return Ce.createElement("div",{className:"Toastify__spinner"})}var uy={info:BO,warning:WO,success:UO,error:VO,spinner:qO},HO=t=>t in uy;function KO({theme:t,type:e,isLoading:n,icon:r}){let i=null,o={theme:t,type:e};return r===!1||(co(r)?i=r({...o,isLoading:n}):x.isValidElement(r)?i=x.cloneElement(r,o):n?i=uy.spinner():HO(e)&&(i=uy[e](o))),i}var GO=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=FO(t),{closeButton:a,children:s,autoClose:c,onClick:u,type:h,hideProgressBar:f,closeToast:v,transition:b,position:_,className:S,style:T,progressClassName:C,updateId:g,role:y,progress:O,rtl:M,toastId:P,deleteToast:E,isIn:p,isLoading:m,closeOnClick:w,theme:R,ariaLabel:j}=t,I=Ae("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":w}),L=co(S)?S({rtl:M,position:_,type:h,defaultClassName:I}):Ae(I,S),B=KO(t),G=!!O||!c,$={closeToast:v,type:h,theme:R},F=null;return a===!1||(co(a)?F=a($):x.isValidElement(a)?F=x.cloneElement(a,$):F=kO($)),Ce.createElement(b,{isIn:p,done:E,position:_,preventExitTransition:n,nodeRef:r,playToast:o},Ce.createElement("div",{id:P,tabIndex:0,onClick:u,"data-in":p,className:L,...i,style:T,ref:r,...p&&{role:y,"aria-label":j}},B!=null&&Ce.createElement("div",{className:Ae("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!m})},B),kC(s,t,!e),F,!t.customProgressBar&&Ce.createElement(CO,{...g&&!G?{key:`p-${g}`}:{},rtl:M,theme:R,delay:c,isRunning:e,isIn:p,closeToast:v,hide:f,type:h,className:C,controlledProgress:G,progress:O||0})))},QO=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),XO=SO(QO("bounce",!0)),YO={position:"top-right",transition:XO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function JO(t){let e={...YO,...t},n=t.stacked,[r,i]=x.useState(!0),o=x.useRef(null),{getToastToRender:a,isToastActive:s,count:c}=zO(e),{className:u,style:h,rtl:f,containerId:v,hotKeys:b}=e;function _(T){let C=Ae("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":f});return co(u)?u({position:T,rtl:f,defaultClassName:C}):Ae(C,sy(u))}function S(){n&&(i(!0),De.play())}return $O(()=>{var T;if(n){let C=o.current.querySelectorAll('[data-in="true"]'),g=12,y=(T=e.position)==null?void 0:T.includes("top"),O=0,M=0;Array.from(C).reverse().forEach((P,E)=>{let p=P;p.classList.add("Toastify__toast--stacked"),E>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=y?"top":"bot");let m=O*(r?.2:1)+(r?0:g*E);p.style.setProperty("--y",`${y?m:m*-1}px`),p.style.setProperty("--g",`${g}`),p.style.setProperty("--s",`${1-(r?M:0)}`),O+=p.offsetHeight,M+=.025})}},[r,c,n]),x.useEffect(()=>{function T(C){var g;let y=o.current;b(C)&&((g=y.querySelector('[tabIndex="0"]'))==null||g.focus(),i(!1),De.pause()),C.key==="Escape"&&(document.activeElement===y||y!=null&&y.contains(document.activeElement))&&(i(!0),De.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[b]),Ce.createElement("section",{ref:o,className:"Toastify",id:v,onMouseEnter:()=>{n&&(i(!1),De.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((T,C)=>{let g=C.length?{...h}:{...h,pointerEvents:"none"};return Ce.createElement("div",{tabIndex:-1,className:_(T),"data-stacked":n,style:g,key:`c-${T}`},C.map(({content:y,props:O})=>Ce.createElement(GO,{...O,stacked:n,collapseAll:S,isIn:s(O.toastId,O.containerId),key:`t-${O.key}`},y)))}))}var dy={},jC={exports:{}},Rr={},RC={exports:{}},AC={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(F,U){var q=F.length;F.push(U);e:for(;0<q;){var H=q-1>>>1,K=F[H];if(0<i(K,U))F[H]=U,F[q]=K,q=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],q=F.pop();if(q!==U){F[0]=q;e:for(var H=0,K=F.length,Q=K>>>1;H<Q;){var ue=2*(H+1)-1,le=F[ue],Re=ue+1,W=F[Re];if(0>i(le,q))Re<K&&0>i(W,le)?(F[H]=W,F[Re]=q,H=Re):(F[H]=le,F[ue]=q,H=ue);else if(Re<K&&0>i(W,q))F[H]=W,F[Re]=q,H=Re;else break e}}return U}function i(F,U){var q=F.sortIndex-U.sortIndex;return q!==0?q:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var c=[],u=[],h=1,f=null,v=3,b=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function O(F){if(S=!1,y(F),!_)if(n(c)!==null)_=!0,G(M);else{var U=n(u);U!==null&&$(O,U.startTime-F)}}function M(F,U){_=!1,S&&(S=!1,C(p),p=-1),b=!0;var q=v;try{for(y(U),f=n(c);f!==null&&(!(f.expirationTime>U)||F&&!R());){var H=f.callback;if(typeof H=="function"){f.callback=null,v=f.priorityLevel;var K=H(f.expirationTime<=U);U=t.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),y(U)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var ue=n(u);ue!==null&&$(O,ue.startTime-U),Q=!1}return Q}finally{f=null,v=q,b=!1}}var P=!1,E=null,p=-1,m=5,w=-1;function R(){return!(t.unstable_now()-w<m)}function j(){if(E!==null){var F=t.unstable_now();w=F;var U=!0;try{U=E(!0,F)}finally{U?I():(P=!1,E=null)}}else P=!1}var I;if(typeof g=="function")I=function(){g(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=j,I=function(){B.postMessage(null)}}else I=function(){T(j,0)};function G(F){E=F,P||(P=!0,I())}function $(F,U){p=T(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){_||b||(_=!0,G(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var q=v;v=U;try{return F()}finally{v=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=v;v=F;try{return U()}finally{v=q}},t.unstable_scheduleCallback=function(F,U,q){var H=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,F={id:h++,callback:U,priorityLevel:F,startTime:q,expirationTime:K,sortIndex:-1},q>H?(F.sortIndex=q,e(u,F),n(c)===null&&F===n(u)&&(S?(C(p),p=-1):S=!0,$(O,q-H))):(F.sortIndex=K,e(c,F),_||b||(_=!0,G(M))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var U=v;return function(){var q=v;v=U;try{return F.apply(this,arguments)}finally{v=q}}}})(AC);RC.exports=AC;var ZO=RC.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var e5=x,Er=ZO;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Gc={};function Za(t,e){tl(t,e),tl(t+"Capture",e)}function tl(t,e){for(Gc[t]=e,t=0;t<e.length;t++)OC.add(e[t])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hy=Object.prototype.hasOwnProperty,t5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W1={},B1={};function n5(t){return hy.call(B1,t)?!0:hy.call(W1,t)?!1:t5.test(t)?B1[t]=!0:(W1[t]=!0,!1)}function r5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function i5(t,e,n,r){if(e===null||typeof e>"u"||r5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ln[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ln[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ln[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ln[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ln[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ln[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ln[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ln[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ln[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var hv=/[\-:]([a-z])/g;function fv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hv,fv);Ln[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hv,fv);Ln[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hv,fv);Ln[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ln[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ln[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function pv(t,e,n,r){var i=Ln.hasOwnProperty(e)?Ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(i5(e,n,i,r)&&(n=null),r||i===null?n5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var So=e5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nd=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),mv=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),gv=Symbol.for("react.forward_ref"),py=Symbol.for("react.suspense"),my=Symbol.for("react.suspense_list"),yv=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),MC=Symbol.for("react.offscreen"),U1=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=U1&&t[U1]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,ig;function gc(t){if(ig===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ig=e&&e[1]||""}return`
`+ig+t}var og=!1;function ag(t,e){if(!t||og)return"";og=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=s);break}}}finally{og=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gc(t):""}function o5(t){switch(t.tag){case 5:return gc(t.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return t=ag(t.type,!1),t;case 11:return t=ag(t.type.render,!1),t;case 1:return t=ag(t.type,!0),t;default:return""}}function gy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case ks:return"Portal";case fy:return"Profiler";case mv:return"StrictMode";case py:return"Suspense";case my:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PC:return(t.displayName||"Context")+".Consumer";case NC:return(t._context.displayName||"Context")+".Provider";case gv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yv:return e=t.displayName||null,e!==null?e:gy(t.type)||"Memo";case No:e=t._payload,t=t._init;try{return gy(t(e))}catch{}}return null}function a5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gy(e);case 8:return e===mv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s5(t){var e=LC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){t._valueTracker||(t._valueTracker=s5(t))}function DC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yy(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zC(t,e){e=e.checked,e!=null&&pv(t,"checked",e,!1)}function vy(t,e){zC(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?by(t,e.type,n):e.hasOwnProperty("defaultValue")&&by(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function q1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function by(t,e,n){(e!=="number"||Vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yc=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function H1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(yc(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function FC(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function K1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $C(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$C(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Md,WC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Md=Md||document.createElement("div"),Md.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Md.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l5=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){l5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function BC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function UC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var c5=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sy(t,e){if(e){if(c5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=null;function vv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _y=null,$s=null,Ws=null;function G1(t){if(t=zu(t)){if(typeof _y!="function")throw Error(he(280));var e=t.stateNode;e&&(e=mp(e),_y(t.stateNode,t.type,e))}}function VC(t){$s?Ws?Ws.push(t):Ws=[t]:$s=t}function qC(){if($s){var t=$s,e=Ws;if(Ws=$s=null,G1(t),e)for(t=0;t<e.length;t++)G1(e[t])}}function HC(t,e){return t(e)}function KC(){}var sg=!1;function GC(t,e,n){if(sg)return t(e,n);sg=!0;try{return HC(t,e,n)}finally{sg=!1,($s!==null||Ws!==null)&&(KC(),qC())}}function Xc(t,e){var n=t.stateNode;if(n===null)return null;var r=mp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var Ey=!1;if(uo)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){Ey=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Ey=!1}function u5(t,e,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ic=!1,qh=null,Hh=!1,Ty=null,d5={onError:function(t){Ic=!0,qh=t}};function h5(t,e,n,r,i,o,a,s,c){Ic=!1,qh=null,u5.apply(d5,arguments)}function f5(t,e,n,r,i,o,a,s,c){if(h5.apply(this,arguments),Ic){if(Ic){var u=qh;Ic=!1,qh=null}else throw Error(he(198));Hh||(Hh=!0,Ty=u)}}function es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q1(t){if(es(t)!==t)throw Error(he(188))}function p5(t){var e=t.alternate;if(!e){if(e=es(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Q1(i),t;if(o===r)return Q1(i),e;o=o.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function XC(t){return t=p5(t),t!==null?YC(t):null}function YC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YC(t);if(e!==null)return e;t=t.sibling}return null}var JC=Er.unstable_scheduleCallback,X1=Er.unstable_cancelCallback,m5=Er.unstable_shouldYield,g5=Er.unstable_requestPaint,rn=Er.unstable_now,y5=Er.unstable_getCurrentPriorityLevel,bv=Er.unstable_ImmediatePriority,ZC=Er.unstable_UserBlockingPriority,Kh=Er.unstable_NormalPriority,v5=Er.unstable_LowPriority,e_=Er.unstable_IdlePriority,dp=null,Ei=null;function b5(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(dp,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:S5,x5=Math.log,w5=Math.LN2;function S5(t){return t>>>=0,t===0?32:31-(x5(t)/w5|0)|0}var Ld=64,Dd=4194304;function vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=vc(s):(o&=a,o!==0&&(r=vc(o)))}else a=n&~i,a!==0?r=vc(a):o!==0&&(r=vc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hi(e),i=1<<n,r|=t[n],e&=~i;return r}function k5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-hi(o),s=1<<a,c=i[a];c===-1?(!(s&n)||s&r)&&(i[a]=k5(s,e)):c<=e&&(t.expiredLanes|=s),o&=~s}}function Iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t_(){var t=Ld;return Ld<<=1,!(Ld&4194240)&&(Ld=64),t}function lg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=n}function _5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function xv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ct=0;function n_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r_,wv,i_,o_,a_,jy=!1,zd=[],Uo=null,Vo=null,qo=null,Yc=new Map,Jc=new Map,Lo=[],E5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y1(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(e.pointerId)}}function Zl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=zu(e),e!==null&&wv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function T5(t,e,n,r,i){switch(e){case"focusin":return Uo=Zl(Uo,t,e,n,r,i),!0;case"dragenter":return Vo=Zl(Vo,t,e,n,r,i),!0;case"mouseover":return qo=Zl(qo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yc.set(o,Zl(Yc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jc.set(o,Zl(Jc.get(o)||null,t,e,n,r,i)),!0}return!1}function s_(t){var e=Ia(t.target);if(e!==null){var n=es(e);if(n!==null){if(e=n.tag,e===13){if(e=QC(n),e!==null){t.blockedOn=e,a_(t.priority,function(){i_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ry(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cy=r,n.target.dispatchEvent(r),Cy=null}else return e=zu(n),e!==null&&wv(e),t.blockedOn=n,!1;e.shift()}return!0}function J1(t,e,n){gh(t)&&n.delete(e)}function I5(){jy=!1,Uo!==null&&gh(Uo)&&(Uo=null),Vo!==null&&gh(Vo)&&(Vo=null),qo!==null&&gh(qo)&&(qo=null),Yc.forEach(J1),Jc.forEach(J1)}function ec(t,e){t.blockedOn===e&&(t.blockedOn=null,jy||(jy=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,I5)))}function Zc(t){function e(i){return ec(i,t)}if(0<zd.length){ec(zd[0],t);for(var n=1;n<zd.length;n++){var r=zd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&ec(Uo,t),Vo!==null&&ec(Vo,t),qo!==null&&ec(qo,t),Yc.forEach(e),Jc.forEach(e),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)s_(n),n.blockedOn===null&&Lo.shift()}var Bs=So.ReactCurrentBatchConfig,Qh=!0;function j5(t,e,n,r){var i=Ct,o=Bs.transition;Bs.transition=null;try{Ct=1,Sv(t,e,n,r)}finally{Ct=i,Bs.transition=o}}function R5(t,e,n,r){var i=Ct,o=Bs.transition;Bs.transition=null;try{Ct=4,Sv(t,e,n,r)}finally{Ct=i,Bs.transition=o}}function Sv(t,e,n,r){if(Qh){var i=Ry(t,e,n,r);if(i===null)vg(t,e,r,Xh,n),Y1(t,r);else if(T5(i,t,e,n,r))r.stopPropagation();else if(Y1(t,r),e&4&&-1<E5.indexOf(t)){for(;i!==null;){var o=zu(i);if(o!==null&&r_(o),o=Ry(t,e,n,r),o===null&&vg(t,e,r,Xh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vg(t,e,r,null,n)}}var Xh=null;function Ry(t,e,n,r){if(Xh=null,t=vv(r),t=Ia(t),t!==null)if(e=es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xh=t,null}function l_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y5()){case bv:return 1;case ZC:return 4;case Kh:case v5:return 16;case e_:return 536870912;default:return 16}default:return 16}}var zo=null,kv=null,yh=null;function c_(){if(yh)return yh;var t,e=kv,n=e.length,r,i="value"in zo?zo.value:zo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return yh=i.slice(t,1<r?1-r:void 0)}function vh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fd(){return!0}function Z1(){return!1}function Ar(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fd:Z1,this.isPropagationStopped=Z1,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),e}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cv=Ar(Il),Du=Gt({},Il,{view:0,detail:0}),A5=Ar(Du),cg,ug,tc,hp=Gt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tc&&(tc&&t.type==="mousemove"?(cg=t.screenX-tc.screenX,ug=t.screenY-tc.screenY):ug=cg=0,tc=t),cg)},movementY:function(t){return"movementY"in t?t.movementY:ug}}),ew=Ar(hp),O5=Gt({},hp,{dataTransfer:0}),N5=Ar(O5),P5=Gt({},Du,{relatedTarget:0}),dg=Ar(P5),M5=Gt({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),L5=Ar(M5),D5=Gt({},Il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z5=Ar(D5),F5=Gt({},Il,{data:0}),tw=Ar(F5),$5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=B5[t])?!!e[t]:!1}function _v(){return U5}var V5=Gt({},Du,{key:function(t){if(t.key){var e=$5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_v,charCode:function(t){return t.type==="keypress"?vh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q5=Ar(V5),H5=Gt({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nw=Ar(H5),K5=Gt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_v}),G5=Ar(K5),Q5=Gt({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),X5=Ar(Q5),Y5=Gt({},hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J5=Ar(Y5),Z5=[9,13,27,32],Ev=uo&&"CompositionEvent"in window,jc=null;uo&&"documentMode"in document&&(jc=document.documentMode);var eN=uo&&"TextEvent"in window&&!jc,u_=uo&&(!Ev||jc&&8<jc&&11>=jc),rw=" ",iw=!1;function d_(t,e){switch(t){case"keyup":return Z5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function tN(t,e){switch(t){case"compositionend":return h_(e);case"keypress":return e.which!==32?null:(iw=!0,rw);case"textInput":return t=e.data,t===rw&&iw?null:t;default:return null}}function nN(t,e){if(_s)return t==="compositionend"||!Ev&&d_(t,e)?(t=c_(),yh=kv=zo=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u_&&e.locale!=="ko"?null:e.data;default:return null}}var rN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ow(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rN[t.type]:e==="textarea"}function f_(t,e,n,r){VC(r),e=Yh(e,"onChange"),0<e.length&&(n=new Cv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rc=null,eu=null;function iN(t){C_(t,0)}function fp(t){var e=Is(t);if(DC(e))return t}function oN(t,e){if(t==="change")return e}var p_=!1;if(uo){var hg;if(uo){var fg="oninput"in document;if(!fg){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),fg=typeof aw.oninput=="function"}hg=fg}else hg=!1;p_=hg&&(!document.documentMode||9<document.documentMode)}function sw(){Rc&&(Rc.detachEvent("onpropertychange",m_),eu=Rc=null)}function m_(t){if(t.propertyName==="value"&&fp(eu)){var e=[];f_(e,eu,t,vv(t)),GC(iN,e)}}function aN(t,e,n){t==="focusin"?(sw(),Rc=e,eu=n,Rc.attachEvent("onpropertychange",m_)):t==="focusout"&&sw()}function sN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fp(eu)}function lN(t,e){if(t==="click")return fp(e)}function cN(t,e){if(t==="input"||t==="change")return fp(e)}function uN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mi=typeof Object.is=="function"?Object.is:uN;function tu(t,e){if(mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hy.call(e,i)||!mi(t[i],e[i]))return!1}return!0}function lw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cw(t,e){var n=lw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lw(n)}}function g_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y_(){for(var t=window,e=Vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vh(t.document)}return e}function Tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dN(t){var e=y_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&g_(n.ownerDocument.documentElement,n)){if(r!==null&&Tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cw(n,o);var a=cw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hN=uo&&"documentMode"in document&&11>=document.documentMode,Es=null,Ay=null,Ac=null,Oy=!1;function uw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oy||Es==null||Es!==Vh(r)||(r=Es,"selectionStart"in r&&Tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ac&&tu(Ac,r)||(Ac=r,r=Yh(Ay,"onSelect"),0<r.length&&(e=new Cv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Es)))}function $d(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:$d("Animation","AnimationEnd"),animationiteration:$d("Animation","AnimationIteration"),animationstart:$d("Animation","AnimationStart"),transitionend:$d("Transition","TransitionEnd")},pg={},v_={};uo&&(v_=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function pp(t){if(pg[t])return pg[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v_)return pg[t]=e[n];return t}var b_=pp("animationend"),x_=pp("animationiteration"),w_=pp("animationstart"),S_=pp("transitionend"),k_=new Map,dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(t,e){k_.set(t,e),Za(e,[t])}for(var mg=0;mg<dw.length;mg++){var gg=dw[mg],fN=gg.toLowerCase(),pN=gg[0].toUpperCase()+gg.slice(1);la(fN,"on"+pN)}la(b_,"onAnimationEnd");la(x_,"onAnimationIteration");la(w_,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(S_,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mN=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function hw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f5(r,e,void 0,t),t.currentTarget=null}function C_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;hw(i,s,u),o=c}else for(a=0;a<r.length;a++){if(s=r[a],c=s.instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;hw(i,s,u),o=c}}}if(Hh)throw t=Ty,Hh=!1,Ty=null,t}function Mt(t,e){var n=e[Dy];n===void 0&&(n=e[Dy]=new Set);var r=t+"__bubble";n.has(r)||(__(e,t,2,!1),n.add(r))}function yg(t,e,n){var r=0;e&&(r|=4),__(n,t,r,e)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[Wd]){t[Wd]=!0,OC.forEach(function(n){n!=="selectionchange"&&(mN.has(n)||yg(n,!1,t),yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wd]||(e[Wd]=!0,yg("selectionchange",!1,e))}}function __(t,e,n,r){switch(l_(e)){case 1:var i=j5;break;case 4:i=R5;break;default:i=Sv}n=i.bind(null,e,n,t),i=void 0,!Ey||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ia(s),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}s=s.parentNode}}r=r.return}GC(function(){var u=o,h=vv(n),f=[];e:{var v=k_.get(t);if(v!==void 0){var b=Cv,_=t;switch(t){case"keypress":if(vh(n)===0)break e;case"keydown":case"keyup":b=q5;break;case"focusin":_="focus",b=dg;break;case"focusout":_="blur",b=dg;break;case"beforeblur":case"afterblur":b=dg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=N5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=G5;break;case b_:case x_:case w_:b=L5;break;case S_:b=X5;break;case"scroll":b=A5;break;case"wheel":b=J5;break;case"copy":case"cut":case"paste":b=z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=nw}var S=(e&4)!==0,T=!S&&t==="scroll",C=S?v!==null?v+"Capture":null:v;S=[];for(var g=u,y;g!==null;){y=g;var O=y.stateNode;if(y.tag===5&&O!==null&&(y=O,C!==null&&(O=Xc(g,C),O!=null&&S.push(ru(g,O,y)))),T)break;g=g.return}0<S.length&&(v=new b(v,_,null,n,h),f.push({event:v,listeners:S}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",v&&n!==Cy&&(_=n.relatedTarget||n.fromElement)&&(Ia(_)||_[ho]))break e;if((b||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,b?(_=n.relatedTarget||n.toElement,b=u,_=_?Ia(_):null,_!==null&&(T=es(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(b=null,_=u),b!==_)){if(S=ew,O="onMouseLeave",C="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(S=nw,O="onPointerLeave",C="onPointerEnter",g="pointer"),T=b==null?v:Is(b),y=_==null?v:Is(_),v=new S(O,g+"leave",b,n,h),v.target=T,v.relatedTarget=y,O=null,Ia(h)===u&&(S=new S(C,g+"enter",_,n,h),S.target=y,S.relatedTarget=T,O=S),T=O,b&&_)t:{for(S=b,C=_,g=0,y=S;y;y=ds(y))g++;for(y=0,O=C;O;O=ds(O))y++;for(;0<g-y;)S=ds(S),g--;for(;0<y-g;)C=ds(C),y--;for(;g--;){if(S===C||C!==null&&S===C.alternate)break t;S=ds(S),C=ds(C)}S=null}else S=null;b!==null&&fw(f,v,b,S,!1),_!==null&&T!==null&&fw(f,T,_,S,!0)}}e:{if(v=u?Is(u):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var M=oN;else if(ow(v))if(p_)M=cN;else{M=sN;var P=aN}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(M=lN);if(M&&(M=M(t,u))){f_(f,M,n,h);break e}P&&P(t,v,u),t==="focusout"&&(P=v._wrapperState)&&P.controlled&&v.type==="number"&&by(v,"number",v.value)}switch(P=u?Is(u):window,t){case"focusin":(ow(P)||P.contentEditable==="true")&&(Es=P,Ay=u,Ac=null);break;case"focusout":Ac=Ay=Es=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,uw(f,n,h);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":uw(f,n,h)}var E;if(Ev)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else _s?d_(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(u_&&n.locale!=="ko"&&(_s||p!=="onCompositionStart"?p==="onCompositionEnd"&&_s&&(E=c_()):(zo=h,kv="value"in zo?zo.value:zo.textContent,_s=!0)),P=Yh(u,p),0<P.length&&(p=new tw(p,t,null,n,h),f.push({event:p,listeners:P}),E?p.data=E:(E=h_(n),E!==null&&(p.data=E)))),(E=eN?tN(t,n):nN(t,n))&&(u=Yh(u,"onBeforeInput"),0<u.length&&(h=new tw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=E))}C_(f,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xc(t,n),o!=null&&r.unshift(ru(t,o,i)),o=Xc(t,e),o!=null&&r.push(ru(t,o,i))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,i?(c=Xc(n,o),c!=null&&a.unshift(ru(n,c,s))):i||(c=Xc(n,o),c!=null&&a.push(ru(n,c,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var gN=/\r\n?/g,yN=/\u0000|\uFFFD/g;function pw(t){return(typeof t=="string"?t:""+t).replace(gN,`
`).replace(yN,"")}function Bd(t,e,n){if(e=pw(e),pw(t)!==e&&n)throw Error(he(425))}function Jh(){}var Ny=null,Py=null;function My(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ly=typeof setTimeout=="function"?setTimeout:void 0,vN=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,bN=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(t){return mw.resolve(null).then(t).catch(xN)}:Ly;function xN(t){setTimeout(function(){throw t})}function bg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zc(e)}function Ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jl=Math.random().toString(36).slice(2),ki="__reactFiber$"+jl,iu="__reactProps$"+jl,ho="__reactContainer$"+jl,Dy="__reactEvents$"+jl,wN="__reactListeners$"+jl,SN="__reactHandles$"+jl;function Ia(t){var e=t[ki];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ho]||n[ki]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gw(t);t!==null;){if(n=t[ki])return n;t=gw(t)}return e}t=n,n=t.parentNode}return null}function zu(t){return t=t[ki]||t[ho],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function mp(t){return t[iu]||null}var zy=[],js=-1;function ca(t){return{current:t}}function zt(t){0>js||(t.current=zy[js],zy[js]=null,js--)}function Rt(t,e){js++,zy[js]=t.current,t.current=e}var ta={},Qn=ca(ta),ur=ca(!1),za=ta;function nl(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dr(t){return t=t.childContextTypes,t!=null}function Zh(){zt(ur),zt(Qn)}function yw(t,e,n){if(Qn.current!==ta)throw Error(he(168));Rt(Qn,e),Rt(ur,n)}function E_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,a5(t)||"Unknown",i));return Gt({},n,r)}function ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,za=Qn.current,Rt(Qn,t),Rt(ur,ur.current),!0}function vw(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=E_(t,e,za),r.__reactInternalMemoizedMergedChildContext=t,zt(ur),zt(Qn),Rt(Qn,t)):zt(ur),Rt(ur,n)}var Gi=null,gp=!1,xg=!1;function T_(t){Gi===null?Gi=[t]:Gi.push(t)}function kN(t){gp=!0,T_(t)}function ua(){if(!xg&&Gi!==null){xg=!0;var t=0,e=Ct;try{var n=Gi;for(Ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gi=null,gp=!1}catch(i){throw Gi!==null&&(Gi=Gi.slice(t+1)),JC(bv,ua),i}finally{Ct=e,xg=!1}}return null}var Rs=[],As=0,tf=null,nf=0,Fr=[],$r=0,Fa=null,eo=1,to="";function Sa(t,e){Rs[As++]=nf,Rs[As++]=tf,tf=t,nf=e}function I_(t,e,n){Fr[$r++]=eo,Fr[$r++]=to,Fr[$r++]=Fa,Fa=t;var r=eo;t=to;var i=32-hi(r)-1;r&=~(1<<i),n+=1;var o=32-hi(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,eo=1<<32-hi(e)+i|n<<i|r,to=o+t}else eo=1<<o|n<<i|r,to=t}function Iv(t){t.return!==null&&(Sa(t,1),I_(t,1,0))}function jv(t){for(;t===tf;)tf=Rs[--As],Rs[As]=null,nf=Rs[--As],Rs[As]=null;for(;t===Fa;)Fa=Fr[--$r],Fr[$r]=null,to=Fr[--$r],Fr[$r]=null,eo=Fr[--$r],Fr[$r]=null}var kr=null,wr=null,Bt=!1,ui=null;function j_(t,e){var n=Br(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,wr=Ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fa!==null?{id:eo,overflow:to}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Br(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kr=t,wr=null,!0):!1;default:return!1}}function Fy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $y(t){if(Bt){var e=wr;if(e){var n=e;if(!bw(t,e)){if(Fy(t))throw Error(he(418));e=Ho(n.nextSibling);var r=kr;e&&bw(t,e)?j_(r,n):(t.flags=t.flags&-4097|2,Bt=!1,kr=t)}}else{if(Fy(t))throw Error(he(418));t.flags=t.flags&-4097|2,Bt=!1,kr=t}}}function xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Ud(t){if(t!==kr)return!1;if(!Bt)return xw(t),Bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!My(t.type,t.memoizedProps)),e&&(e=wr)){if(Fy(t))throw R_(),Error(he(418));for(;e;)j_(t,e),e=Ho(e.nextSibling)}if(xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=kr?Ho(t.stateNode.nextSibling):null;return!0}function R_(){for(var t=wr;t;)t=Ho(t.nextSibling)}function rl(){wr=kr=null,Bt=!1}function Rv(t){ui===null?ui=[t]:ui.push(t)}var CN=So.ReactCurrentBatchConfig;function nc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Vd(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ww(t){var e=t._init;return e(t._payload)}function A_(t){function e(C,g){if(t){var y=C.deletions;y===null?(C.deletions=[g],C.flags|=16):y.push(g)}}function n(C,g){if(!t)return null;for(;g!==null;)e(C,g),g=g.sibling;return null}function r(C,g){for(C=new Map;g!==null;)g.key!==null?C.set(g.key,g):C.set(g.index,g),g=g.sibling;return C}function i(C,g){return C=Xo(C,g),C.index=0,C.sibling=null,C}function o(C,g,y){return C.index=y,t?(y=C.alternate,y!==null?(y=y.index,y<g?(C.flags|=2,g):y):(C.flags|=2,g)):(C.flags|=1048576,g)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function s(C,g,y,O){return g===null||g.tag!==6?(g=Tg(y,C.mode,O),g.return=C,g):(g=i(g,y),g.return=C,g)}function c(C,g,y,O){var M=y.type;return M===Cs?h(C,g,y.props.children,O,y.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===No&&ww(M)===g.type)?(O=i(g,y.props),O.ref=nc(C,g,y),O.return=C,O):(O=_h(y.type,y.key,y.props,null,C.mode,O),O.ref=nc(C,g,y),O.return=C,O)}function u(C,g,y,O){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ig(y,C.mode,O),g.return=C,g):(g=i(g,y.children||[]),g.return=C,g)}function h(C,g,y,O,M){return g===null||g.tag!==7?(g=Pa(y,C.mode,O,M),g.return=C,g):(g=i(g,y),g.return=C,g)}function f(C,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Tg(""+g,C.mode,y),g.return=C,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nd:return y=_h(g.type,g.key,g.props,null,C.mode,y),y.ref=nc(C,null,g),y.return=C,y;case ks:return g=Ig(g,C.mode,y),g.return=C,g;case No:var O=g._init;return f(C,O(g._payload),y)}if(yc(g)||Yl(g))return g=Pa(g,C.mode,y,null),g.return=C,g;Vd(C,g)}return null}function v(C,g,y,O){var M=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:s(C,g,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nd:return y.key===M?c(C,g,y,O):null;case ks:return y.key===M?u(C,g,y,O):null;case No:return M=y._init,v(C,g,M(y._payload),O)}if(yc(y)||Yl(y))return M!==null?null:h(C,g,y,O,null);Vd(C,y)}return null}function b(C,g,y,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return C=C.get(y)||null,s(g,C,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Nd:return C=C.get(O.key===null?y:O.key)||null,c(g,C,O,M);case ks:return C=C.get(O.key===null?y:O.key)||null,u(g,C,O,M);case No:var P=O._init;return b(C,g,y,P(O._payload),M)}if(yc(O)||Yl(O))return C=C.get(y)||null,h(g,C,O,M,null);Vd(g,O)}return null}function _(C,g,y,O){for(var M=null,P=null,E=g,p=g=0,m=null;E!==null&&p<y.length;p++){E.index>p?(m=E,E=null):m=E.sibling;var w=v(C,E,y[p],O);if(w===null){E===null&&(E=m);break}t&&E&&w.alternate===null&&e(C,E),g=o(w,g,p),P===null?M=w:P.sibling=w,P=w,E=m}if(p===y.length)return n(C,E),Bt&&Sa(C,p),M;if(E===null){for(;p<y.length;p++)E=f(C,y[p],O),E!==null&&(g=o(E,g,p),P===null?M=E:P.sibling=E,P=E);return Bt&&Sa(C,p),M}for(E=r(C,E);p<y.length;p++)m=b(E,C,p,y[p],O),m!==null&&(t&&m.alternate!==null&&E.delete(m.key===null?p:m.key),g=o(m,g,p),P===null?M=m:P.sibling=m,P=m);return t&&E.forEach(function(R){return e(C,R)}),Bt&&Sa(C,p),M}function S(C,g,y,O){var M=Yl(y);if(typeof M!="function")throw Error(he(150));if(y=M.call(y),y==null)throw Error(he(151));for(var P=M=null,E=g,p=g=0,m=null,w=y.next();E!==null&&!w.done;p++,w=y.next()){E.index>p?(m=E,E=null):m=E.sibling;var R=v(C,E,w.value,O);if(R===null){E===null&&(E=m);break}t&&E&&R.alternate===null&&e(C,E),g=o(R,g,p),P===null?M=R:P.sibling=R,P=R,E=m}if(w.done)return n(C,E),Bt&&Sa(C,p),M;if(E===null){for(;!w.done;p++,w=y.next())w=f(C,w.value,O),w!==null&&(g=o(w,g,p),P===null?M=w:P.sibling=w,P=w);return Bt&&Sa(C,p),M}for(E=r(C,E);!w.done;p++,w=y.next())w=b(E,C,p,w.value,O),w!==null&&(t&&w.alternate!==null&&E.delete(w.key===null?p:w.key),g=o(w,g,p),P===null?M=w:P.sibling=w,P=w);return t&&E.forEach(function(j){return e(C,j)}),Bt&&Sa(C,p),M}function T(C,g,y,O){if(typeof y=="object"&&y!==null&&y.type===Cs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Nd:e:{for(var M=y.key,P=g;P!==null;){if(P.key===M){if(M=y.type,M===Cs){if(P.tag===7){n(C,P.sibling),g=i(P,y.props.children),g.return=C,C=g;break e}}else if(P.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===No&&ww(M)===P.type){n(C,P.sibling),g=i(P,y.props),g.ref=nc(C,P,y),g.return=C,C=g;break e}n(C,P);break}else e(C,P);P=P.sibling}y.type===Cs?(g=Pa(y.props.children,C.mode,O,y.key),g.return=C,C=g):(O=_h(y.type,y.key,y.props,null,C.mode,O),O.ref=nc(C,g,y),O.return=C,C=O)}return a(C);case ks:e:{for(P=y.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(C,g.sibling),g=i(g,y.children||[]),g.return=C,C=g;break e}else{n(C,g);break}else e(C,g);g=g.sibling}g=Ig(y,C.mode,O),g.return=C,C=g}return a(C);case No:return P=y._init,T(C,g,P(y._payload),O)}if(yc(y))return _(C,g,y,O);if(Yl(y))return S(C,g,y,O);Vd(C,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(C,g.sibling),g=i(g,y),g.return=C,C=g):(n(C,g),g=Tg(y,C.mode,O),g.return=C,C=g),a(C)):n(C,g)}return T}var il=A_(!0),O_=A_(!1),rf=ca(null),of=null,Os=null,Av=null;function Ov(){Av=Os=of=null}function Nv(t){var e=rf.current;zt(rf),t._currentValue=e}function Wy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Us(t,e){of=t,Av=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Kr(t){var e=t._currentValue;if(Av!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(of===null)throw Error(he(308));Os=t,of.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var ja=null;function Pv(t){ja===null?ja=[t]:ja.push(t)}function N_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,fo(t,r)}function fo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Po=!1;function Mv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fo(t,n)}return i=r.interleaved,i===null?(e.next=e,Pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,fo(t,n)}function bh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xv(t,n)}}function Sw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function af(t,e,n,r){var i=t.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=c))}if(o!==null){var f=i.baseState;a=0,h=u=c=null,s=o;do{var v=s.lane,b=s.eventTime;if((r&v)===v){h!==null&&(h=h.next={eventTime:b,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,S=s;switch(v=e,b=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){f=_.call(b,f,v);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,v=typeof _=="function"?_.call(b,f,v):_,v==null)break e;f=Gt({},f,v);break e;case 2:Po=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[s]:v.push(s))}else b={eventTime:b,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=b,c=f):h=h.next=b,a|=v;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;v=s,s=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Wa|=a,t.lanes=a,t.memoizedState=f}}function kw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var Fu={},Ti=ca(Fu),ou=ca(Fu),au=ca(Fu);function Ra(t){if(t===Fu)throw Error(he(174));return t}function Lv(t,e){switch(Rt(au,e),Rt(ou,t),Rt(Ti,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wy(e,t)}zt(Ti),Rt(Ti,e)}function ol(){zt(Ti),zt(ou),zt(au)}function M_(t){Ra(au.current);var e=Ra(Ti.current),n=wy(e,t.type);e!==n&&(Rt(ou,t),Rt(Ti,n))}function Dv(t){ou.current===t&&(zt(Ti),zt(ou))}var qt=ca(0);function sf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wg=[];function zv(){for(var t=0;t<wg.length;t++)wg[t]._workInProgressVersionPrimary=null;wg.length=0}var xh=So.ReactCurrentDispatcher,Sg=So.ReactCurrentBatchConfig,$a=0,Kt=null,vn=null,kn=null,lf=!1,Oc=!1,su=0,_N=0;function Fn(){throw Error(he(321))}function Fv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mi(t[n],e[n]))return!1;return!0}function $v(t,e,n,r,i,o){if($a=o,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xh.current=t===null||t.memoizedState===null?jN:RN,t=n(r,i),Oc){o=0;do{if(Oc=!1,su=0,25<=o)throw Error(he(301));o+=1,kn=vn=null,e.updateQueue=null,xh.current=AN,t=n(r,i)}while(Oc)}if(xh.current=cf,e=vn!==null&&vn.next!==null,$a=0,kn=vn=Kt=null,lf=!1,e)throw Error(he(300));return t}function Wv(){var t=su!==0;return su=0,t}function xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Kt.memoizedState=kn=t:kn=kn.next=t,kn}function Gr(){if(vn===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=kn===null?Kt.memoizedState:kn.next;if(e!==null)kn=e,vn=t;else{if(t===null)throw Error(he(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},kn===null?Kt.memoizedState=kn=t:kn=kn.next=t}return kn}function lu(t,e){return typeof e=="function"?e(t):e}function kg(t){var e=Gr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=vn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,c=null,u=o;do{var h=u.lane;if(($a&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,a=r):c=c.next=f,Kt.lanes|=h,Wa|=h}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=s,mi(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Kt.lanes|=o,Wa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cg(t){var e=Gr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);mi(o,e.memoizedState)||(cr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function L_(){}function D_(t,e){var n=Kt,r=Gr(),i=e(),o=!mi(r.memoizedState,i);if(o&&(r.memoizedState=i,cr=!0),r=r.queue,Bv($_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,cu(9,F_.bind(null,n,r,i,e),void 0,null),_n===null)throw Error(he(349));$a&30||z_(n,e,i)}return i}function z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function F_(t,e,n,r){e.value=n,e.getSnapshot=r,W_(e)&&B_(t)}function $_(t,e,n){return n(function(){W_(e)&&B_(t)})}function W_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mi(t,n)}catch{return!0}}function B_(t){var e=fo(t,1);e!==null&&fi(e,t,1,-1)}function Cw(t){var e=xi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=IN.bind(null,Kt,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function U_(){return Gr().memoizedState}function wh(t,e,n,r){var i=xi();Kt.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function yp(t,e,n,r){var i=Gr();r=r===void 0?null:r;var o=void 0;if(vn!==null){var a=vn.memoizedState;if(o=a.destroy,r!==null&&Fv(r,a.deps)){i.memoizedState=cu(e,n,o,r);return}}Kt.flags|=t,i.memoizedState=cu(1|e,n,o,r)}function _w(t,e){return wh(8390656,8,t,e)}function Bv(t,e){return yp(2048,8,t,e)}function V_(t,e){return yp(4,2,t,e)}function q_(t,e){return yp(4,4,t,e)}function H_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function K_(t,e,n){return n=n!=null?n.concat([t]):null,yp(4,4,H_.bind(null,e,t),n)}function Uv(){}function G_(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Q_(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X_(t,e,n){return $a&21?(mi(n,e)||(n=t_(),Kt.lanes|=n,Wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function EN(t,e){var n=Ct;Ct=n!==0&&4>n?n:4,t(!0);var r=Sg.transition;Sg.transition={};try{t(!1),e()}finally{Ct=n,Sg.transition=r}}function Y_(){return Gr().memoizedState}function TN(t,e,n){var r=Qo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J_(t))Z_(e,n);else if(n=N_(t,e,n,r),n!==null){var i=tr();fi(n,t,r,i),eE(n,e,r)}}function IN(t,e,n){var r=Qo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J_(t))Z_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,mi(s,a)){var c=e.interleaved;c===null?(i.next=i,Pv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=N_(t,e,i,r),n!==null&&(i=tr(),fi(n,t,r,i),eE(n,e,r))}}function J_(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function Z_(t,e){Oc=lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xv(t,n)}}var cf={readContext:Kr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},jN={readContext:Kr,useCallback:function(t,e){return xi().memoizedState=[t,e===void 0?null:e],t},useContext:Kr,useEffect:_w,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wh(4194308,4,H_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return wh(4,2,t,e)},useMemo:function(t,e){var n=xi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TN.bind(null,Kt,t),[r.memoizedState,t]},useRef:function(t){var e=xi();return t={current:t},e.memoizedState=t},useState:Cw,useDebugValue:Uv,useDeferredValue:function(t){return xi().memoizedState=t},useTransition:function(){var t=Cw(!1),e=t[0];return t=EN.bind(null,t[1]),xi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Kt,i=xi();if(Bt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),_n===null)throw Error(he(349));$a&30||z_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,_w($_.bind(null,r,o,t),[t]),r.flags|=2048,cu(9,F_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xi(),e=_n.identifierPrefix;if(Bt){var n=to,r=eo;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=su++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_N++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RN={readContext:Kr,useCallback:G_,useContext:Kr,useEffect:Bv,useImperativeHandle:K_,useInsertionEffect:V_,useLayoutEffect:q_,useMemo:Q_,useReducer:kg,useRef:U_,useState:function(){return kg(lu)},useDebugValue:Uv,useDeferredValue:function(t){var e=Gr();return X_(e,vn.memoizedState,t)},useTransition:function(){var t=kg(lu)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:L_,useSyncExternalStore:D_,useId:Y_,unstable_isNewReconciler:!1},AN={readContext:Kr,useCallback:G_,useContext:Kr,useEffect:Bv,useImperativeHandle:K_,useInsertionEffect:V_,useLayoutEffect:q_,useMemo:Q_,useReducer:Cg,useRef:U_,useState:function(){return Cg(lu)},useDebugValue:Uv,useDeferredValue:function(t){var e=Gr();return vn===null?e.memoizedState=t:X_(e,vn.memoizedState,t)},useTransition:function(){var t=Cg(lu)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:L_,useSyncExternalStore:D_,useId:Y_,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function By(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vp={isMounted:function(t){return(t=t._reactInternals)?es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tr(),i=Qo(t),o=oo(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ko(t,o,i),e!==null&&(fi(e,t,i,r),bh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tr(),i=Qo(t),o=oo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ko(t,o,i),e!==null&&(fi(e,t,i,r),bh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tr(),r=Qo(t),i=oo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ko(t,i,r),e!==null&&(fi(e,t,r,n),bh(e,t,r))}};function Ew(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,o):!0}function tE(t,e,n){var r=!1,i=ta,o=e.contextType;return typeof o=="object"&&o!==null?o=Kr(o):(i=dr(e)?za:Qn.current,r=e.contextTypes,o=(r=r!=null)?nl(t,i):ta),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Tw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vp.enqueueReplaceState(e,e.state,null)}function Uy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Kr(o):(o=dr(e)?za:Qn.current,i.context=nl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(By(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vp.enqueueReplaceState(i,i.state,null),af(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function al(t,e){try{var n="",r=e;do n+=o5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function _g(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ON=typeof WeakMap=="function"?WeakMap:Map;function nE(t,e,n){n=oo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){df||(df=!0,Zy=r),Vy(t,e)},n}function rE(t,e,n){n=oo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vy(t,e),typeof r!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Iw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ON;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HN.bind(null,t,e,n),e.then(t,t))}function jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oo(-1,1),e.tag=2,Ko(n,e,1))),n.lanes|=1),t)}var NN=So.ReactCurrentOwner,cr=!1;function Zn(t,e,n,r){e.child=t===null?O_(e,null,n,r):il(e,t.child,n,r)}function Aw(t,e,n,r,i){n=n.render;var o=e.ref;return Us(e,i),r=$v(t,e,n,r,o,i),n=Wv(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,po(t,e,i)):(Bt&&n&&Iv(e),e.flags|=1,Zn(t,e,r,i),e.child)}function Ow(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Yv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,iE(t,e,o,r,i)):(t=_h(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(a,r)&&t.ref===e.ref)return po(t,e,i)}return e.flags|=1,t=Xo(o,r),t.ref=e.ref,t.return=e,e.child=t}function iE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(tu(o,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,po(t,e,i)}return qy(t,e,n,r,i)}function oE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Ps,br),br|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(Ps,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Rt(Ps,br),br|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Rt(Ps,br),br|=r;return Zn(t,e,i,n),e.child}function aE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qy(t,e,n,r,i){var o=dr(n)?za:Qn.current;return o=nl(e,o),Us(e,i),n=$v(t,e,n,r,o,i),r=Wv(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,po(t,e,i)):(Bt&&r&&Iv(e),e.flags|=1,Zn(t,e,n,i),e.child)}function Nw(t,e,n,r,i){if(dr(n)){var o=!0;ef(e)}else o=!1;if(Us(e,i),e.stateNode===null)Sh(t,e),tE(e,n,r),Uy(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=dr(n)?za:Qn.current,u=nl(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||c!==u)&&Tw(e,a,r,u),Po=!1;var v=e.memoizedState;a.state=v,af(e,r,a,i),c=e.memoizedState,s!==r||v!==c||ur.current||Po?(typeof h=="function"&&(By(e,n,h,r),c=e.memoizedState),(s=Po||Ew(e,n,s,r,v,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,P_(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:li(e.type,s),a.props=u,f=e.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=dr(n)?za:Qn.current,c=nl(e,c));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||v!==c)&&Tw(e,a,r,c),Po=!1,v=e.memoizedState,a.state=v,af(e,r,a,i);var _=e.memoizedState;s!==f||v!==_||ur.current||Po?(typeof b=="function"&&(By(e,n,b,r),_=e.memoizedState),(u=Po||Ew(e,n,u,r,v,_,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Hy(t,e,n,r,o,i)}function Hy(t,e,n,r,i,o){aE(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&vw(e,n,!1),po(t,e,o);r=e.stateNode,NN.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=il(e,t.child,null,o),e.child=il(e,null,s,o)):Zn(t,e,s,o),e.memoizedState=r.state,i&&vw(e,n,!0),e.child}function sE(t){var e=t.stateNode;e.pendingContext?yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yw(t,e.context,!1),Lv(t,e.containerInfo)}function Pw(t,e,n,r,i){return rl(),Rv(i),e.flags|=256,Zn(t,e,n,r),e.child}var Ky={dehydrated:null,treeContext:null,retryLane:0};function Gy(t){return{baseLanes:t,cachePool:null,transitions:null}}function lE(t,e,n){var r=e.pendingProps,i=qt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(qt,i&1),t===null)return $y(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=wp(a,r,0,null),t=Pa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gy(n),e.memoizedState=Ky,t):Vv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return PN(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Xo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Xo(s,o):(o=Pa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Gy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Ky,r}return o=t.child,t=o.sibling,r=Xo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vv(t,e){return e=wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qd(t,e,n,r){return r!==null&&Rv(r),il(e,t.child,null,n),t=Vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PN(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=_g(Error(he(422))),qd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=wp({mode:"visible",children:r.children},i,0,null),o=Pa(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&il(e,t.child,null,a),e.child.memoizedState=Gy(a),e.memoizedState=Ky,o);if(!(e.mode&1))return qd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(he(419)),r=_g(o,r,void 0),qd(t,e,a,r)}if(s=(a&t.childLanes)!==0,cr||s){if(r=_n,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fo(t,i),fi(r,t,i,-1))}return Xv(),r=_g(Error(he(421))),qd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wr=Ho(i.nextSibling),kr=e,Bt=!0,ui=null,t!==null&&(Fr[$r++]=eo,Fr[$r++]=to,Fr[$r++]=Fa,eo=t.id,to=t.overflow,Fa=e),e=Vv(e,r.children),e.flags|=4096,e)}function Mw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wy(t.return,e,n)}function Eg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function cE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Zn(t,e,r.children,n),r=qt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mw(t,n,e);else if(t.tag===19)Mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(qt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eg(e,!0,n,null,o);break;case"together":Eg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function po(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MN(t,e,n){switch(e.tag){case 3:sE(e),rl();break;case 5:M_(e);break;case 1:dr(e.type)&&ef(e);break;case 4:Lv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(rf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(qt,qt.current&1),e.flags|=128,null):n&e.child.childLanes?lE(t,e,n):(Rt(qt,qt.current&1),t=po(t,e,n),t!==null?t.sibling:null);Rt(qt,qt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(qt,qt.current),r)break;return null;case 22:case 23:return e.lanes=0,oE(t,e,n)}return po(t,e,n)}var uE,Qy,dE,hE;uE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qy=function(){};dE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ra(Ti.current);var o=null;switch(n){case"input":i=yy(t,i),r=yy(t,r),o=[];break;case"select":i=Gt({},i,{value:void 0}),r=Gt({},r,{value:void 0}),o=[];break;case"textarea":i=xy(t,i),r=xy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jh)}Sy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",t),o||s===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};hE=function(t,e,n,r){n!==r&&(e.flags|=4)};function rc(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LN(t,e,n){var r=e.pendingProps;switch(jv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return dr(e.type)&&Zh(),$n(e),null;case 3:return r=e.stateNode,ol(),zt(ur),zt(Qn),zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(n0(ui),ui=null))),Qy(t,e),$n(e),null;case 5:Dv(e);var i=Ra(au.current);if(n=e.type,t!==null&&e.stateNode!=null)dE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return $n(e),null}if(t=Ra(Ti.current),Ud(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ki]=e,r[iu]=o,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<bc.length;i++)Mt(bc[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":V1(r,o),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mt("invalid",r);break;case"textarea":H1(r,o),Mt("invalid",r)}Sy(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Bd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Bd(r.textContent,s,t),i=["children",""+s]):Gc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Mt("scroll",r)}switch(n){case"input":Pd(r),q1(r,o,!0);break;case"textarea":Pd(r),K1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$C(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ki]=e,t[iu]=r,uE(t,e,!1,!1),e.stateNode=t;e:{switch(a=ky(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),i=r;break;case"iframe":case"object":case"embed":Mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<bc.length;i++)Mt(bc[i],t);i=r;break;case"source":Mt("error",t),i=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),i=r;break;case"details":Mt("toggle",t),i=r;break;case"input":V1(t,r),i=yy(t,r),Mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":H1(t,r),i=xy(t,r),Mt("invalid",t);break;default:i=r}Sy(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?UC(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WC(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qc(t,c):typeof c=="number"&&Qc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Mt("scroll",t):c!=null&&pv(t,o,c,a))}switch(n){case"input":Pd(t),q1(t,r,!1);break;case"textarea":Pd(t),K1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Fs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)hE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Ra(au.current),Ra(Ti.current),Ud(e)){if(r=e.stateNode,n=e.memoizedProps,r[ki]=e,(o=r.nodeValue!==n)&&(t=kr,t!==null))switch(t.tag){case 3:Bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ki]=e,e.stateNode=r}return $n(e),null;case 13:if(zt(qt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bt&&wr!==null&&e.mode&1&&!(e.flags&128))R_(),rl(),e.flags|=98560,o=!1;else if(o=Ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(he(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[ki]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),o=!1}else ui!==null&&(n0(ui),ui=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qt.current&1?bn===0&&(bn=3):Xv())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return ol(),Qy(t,e),t===null&&nu(e.stateNode.containerInfo),$n(e),null;case 10:return Nv(e.type._context),$n(e),null;case 17:return dr(e.type)&&Zh(),$n(e),null;case 19:if(zt(qt),o=e.memoizedState,o===null)return $n(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)rc(o,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sf(t),a!==null){for(e.flags|=128,rc(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(qt,qt.current&1|2),e.child}t=t.sibling}o.tail!==null&&rn()>sl&&(e.flags|=128,r=!0,rc(o,!1),e.lanes=4194304)}else{if(!r)if(t=sf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Bt)return $n(e),null}else 2*rn()-o.renderingStartTime>sl&&n!==1073741824&&(e.flags|=128,r=!0,rc(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,n=qt.current,Rt(qt,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return Qv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function DN(t,e){switch(jv(e),e.tag){case 1:return dr(e.type)&&Zh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ol(),zt(ur),zt(Qn),zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dv(e),null;case 13:if(zt(qt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(qt),null;case 4:return ol(),null;case 10:return Nv(e.type._context),null;case 22:case 23:return Qv(),null;case 24:return null;default:return null}}var Hd=!1,Hn=!1,zN=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function fE(t,e,n){try{n()}catch(r){tn(t,e,r)}}var Lw=!1;function FN(t,e){if(Ny=Qh,t=y_(),Tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,c=-1,u=0,h=0,f=t,v=null;t:for(;;){for(var b;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(b=f.firstChild)!==null;)v=f,f=b;for(;;){if(f===t)break t;if(v===n&&++u===i&&(s=a),v===o&&++h===r&&(c=a),(b=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=b}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Py={focusedElem:t,selectionRange:n},Qh=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,T=_.memoizedState,C=e.stateNode,g=C.getSnapshotBeforeUpdate(e.elementType===e.type?S:li(e.type,S),T);C.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(O){tn(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return _=Lw,Lw=!1,_}function Nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&fE(e,n,o)}i=i.next}while(i!==r)}}function bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pE(t){var e=t.alternate;e!==null&&(t.alternate=null,pE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ki],delete e[iu],delete e[Dy],delete e[wN],delete e[SN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mE(t){return t.tag===5||t.tag===3||t.tag===4}function Dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jh));else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}var Rn=null,ci=!1;function jo(t,e,n){for(n=n.child;n!==null;)gE(t,e,n),n=n.sibling}function gE(t,e,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(dp,n)}catch{}switch(n.tag){case 5:Hn||Ns(n,e);case 6:var r=Rn,i=ci;Rn=null,jo(t,e,n),Rn=r,ci=i,Rn!==null&&(ci?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(ci?(t=Rn,n=n.stateNode,t.nodeType===8?bg(t.parentNode,n):t.nodeType===1&&bg(t,n),Zc(t)):bg(Rn,n.stateNode));break;case 4:r=Rn,i=ci,Rn=n.stateNode.containerInfo,ci=!0,jo(t,e,n),Rn=r,ci=i;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&fE(n,e,a),i=i.next}while(i!==r)}jo(t,e,n);break;case 1:if(!Hn&&(Ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){tn(n,e,s)}jo(t,e,n);break;case 21:jo(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,jo(t,e,n),Hn=r):jo(t,e,n);break;default:jo(t,e,n)}}function zw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zN),e.forEach(function(r){var i=GN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Rn=s.stateNode,ci=!1;break e;case 3:Rn=s.stateNode.containerInfo,ci=!0;break e;case 4:Rn=s.stateNode.containerInfo,ci=!0;break e}s=s.return}if(Rn===null)throw Error(he(160));gE(o,a,i),Rn=null,ci=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yE(e,t),e=e.sibling}function yE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),bi(t),r&4){try{Nc(3,t,t.return),bp(3,t)}catch(S){tn(t,t.return,S)}try{Nc(5,t,t.return)}catch(S){tn(t,t.return,S)}}break;case 1:si(e,t),bi(t),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(si(e,t),bi(t),r&512&&n!==null&&Ns(n,n.return),t.flags&32){var i=t.stateNode;try{Qc(i,"")}catch(S){tn(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&zC(i,o),ky(s,a);var u=ky(s,o);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?UC(i,f):h==="dangerouslySetInnerHTML"?WC(i,f):h==="children"?Qc(i,f):pv(i,h,f,u)}switch(s){case"input":vy(i,o);break;case"textarea":FC(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Fs(i,!!o.multiple,b,!1):v!==!!o.multiple&&(o.defaultValue!=null?Fs(i,!!o.multiple,o.defaultValue,!0):Fs(i,!!o.multiple,o.multiple?[]:"",!1))}i[iu]=o}catch(S){tn(t,t.return,S)}}break;case 6:if(si(e,t),bi(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(S){tn(t,t.return,S)}}break;case 3:if(si(e,t),bi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(S){tn(t,t.return,S)}break;case 4:si(e,t),bi(t);break;case 13:si(e,t),bi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Kv=rn())),r&4&&zw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(u=Hn)||h,si(e,t),Hn=u):si(e,t),bi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Ne=t,h=t.child;h!==null;){for(f=Ne=h;Ne!==null;){switch(v=Ne,b=v.child,v.tag){case 0:case 11:case 14:case 15:Nc(4,v,v.return);break;case 1:Ns(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){tn(r,n,S)}}break;case 5:Ns(v,v.return);break;case 22:if(v.memoizedState!==null){$w(f);continue}}b!==null?(b.return=v,Ne=b):$w(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=BC("display",a))}catch(S){tn(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){tn(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:si(e,t),bi(t),r&4&&zw(t);break;case 21:break;default:si(e,t),bi(t)}}function bi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mE(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qc(i,""),r.flags&=-33);var o=Dw(t);Jy(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Dw(t);Yy(t,s,a);break;default:throw Error(he(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $N(t,e,n){Ne=t,vE(t)}function vE(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var i=Ne,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Hd;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Hn;s=Hd;var u=Hn;if(Hd=a,(Hn=c)&&!u)for(Ne=i;Ne!==null;)a=Ne,c=a.child,a.tag===22&&a.memoizedState!==null?Ww(i):c!==null?(c.return=a,Ne=c):Ww(i);for(;o!==null;)Ne=o,vE(o),o=o.sibling;Ne=i,Hd=s,Hn=u}Fw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ne=o):Fw(t)}}function Fw(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&kw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Zc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Hn||e.flags&512&&Xy(e)}catch(v){tn(e,e.return,v)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function $w(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function Ww(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bp(4,e)}catch(c){tn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){tn(e,i,c)}}var o=e.return;try{Xy(e)}catch(c){tn(e,o,c)}break;case 5:var a=e.return;try{Xy(e)}catch(c){tn(e,a,c)}}}catch(c){tn(e,e.return,c)}if(e===t){Ne=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ne=s;break}Ne=e.return}}var WN=Math.ceil,uf=So.ReactCurrentDispatcher,qv=So.ReactCurrentOwner,Ur=So.ReactCurrentBatchConfig,yt=0,_n=null,hn=null,Nn=0,br=0,Ps=ca(0),bn=0,uu=null,Wa=0,xp=0,Hv=0,Pc=null,sr=null,Kv=0,sl=1/0,Ki=null,df=!1,Zy=null,Go=null,Kd=!1,Fo=null,hf=0,Mc=0,e0=null,kh=-1,Ch=0;function tr(){return yt&6?rn():kh!==-1?kh:kh=rn()}function Qo(t){return t.mode&1?yt&2&&Nn!==0?Nn&-Nn:CN.transition!==null?(Ch===0&&(Ch=t_()),Ch):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:l_(t.type)),t):1}function fi(t,e,n,r){if(50<Mc)throw Mc=0,e0=null,Error(he(185));Lu(t,n,r),(!(yt&2)||t!==_n)&&(t===_n&&(!(yt&2)&&(xp|=n),bn===4&&Do(t,Nn)),hr(t,r),n===1&&yt===0&&!(e.mode&1)&&(sl=rn()+500,gp&&ua()))}function hr(t,e){var n=t.callbackNode;C5(t,e);var r=Gh(t,t===_n?Nn:0);if(r===0)n!==null&&X1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&X1(n),e===1)t.tag===0?kN(Bw.bind(null,t)):T_(Bw.bind(null,t)),bN(function(){!(yt&6)&&ua()}),n=null;else{switch(n_(r)){case 1:n=bv;break;case 4:n=ZC;break;case 16:n=Kh;break;case 536870912:n=e_;break;default:n=Kh}n=EE(n,bE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bE(t,e){if(kh=-1,Ch=0,yt&6)throw Error(he(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=Gh(t,t===_n?Nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ff(t,r);else{e=r;var i=yt;yt|=2;var o=wE();(_n!==t||Nn!==e)&&(Ki=null,sl=rn()+500,Na(t,e));do try{VN();break}catch(s){xE(t,s)}while(!0);Ov(),uf.current=o,yt=i,hn!==null?e=0:(_n=null,Nn=0,e=bn)}if(e!==0){if(e===2&&(i=Iy(t),i!==0&&(r=i,e=t0(t,i))),e===1)throw n=uu,Na(t,0),Do(t,r),hr(t,rn()),n;if(e===6)Do(t,r);else{if(i=t.current.alternate,!(r&30)&&!BN(i)&&(e=ff(t,r),e===2&&(o=Iy(t),o!==0&&(r=o,e=t0(t,o))),e===1))throw n=uu,Na(t,0),Do(t,r),hr(t,rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:ka(t,sr,Ki);break;case 3:if(Do(t,r),(r&130023424)===r&&(e=Kv+500-rn(),10<e)){if(Gh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ly(ka.bind(null,t,sr,Ki),e);break}ka(t,sr,Ki);break;case 4:if(Do(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-hi(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WN(r/1960))-r,10<r){t.timeoutHandle=Ly(ka.bind(null,t,sr,Ki),r);break}ka(t,sr,Ki);break;case 5:ka(t,sr,Ki);break;default:throw Error(he(329))}}}return hr(t,rn()),t.callbackNode===n?bE.bind(null,t):null}function t0(t,e){var n=Pc;return t.current.memoizedState.isDehydrated&&(Na(t,e).flags|=256),t=ff(t,e),t!==2&&(e=sr,sr=n,e!==null&&n0(e)),t}function n0(t){sr===null?sr=t:sr.push.apply(sr,t)}function BN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e){for(e&=~Hv,e&=~xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hi(e),r=1<<n;t[n]=-1,e&=~r}}function Bw(t){if(yt&6)throw Error(he(327));Vs();var e=Gh(t,0);if(!(e&1))return hr(t,rn()),null;var n=ff(t,e);if(t.tag!==0&&n===2){var r=Iy(t);r!==0&&(e=r,n=t0(t,r))}if(n===1)throw n=uu,Na(t,0),Do(t,e),hr(t,rn()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ka(t,sr,Ki),hr(t,rn()),null}function Gv(t,e){var n=yt;yt|=1;try{return t(e)}finally{yt=n,yt===0&&(sl=rn()+500,gp&&ua())}}function Ba(t){Fo!==null&&Fo.tag===0&&!(yt&6)&&Vs();var e=yt;yt|=1;var n=Ur.transition,r=Ct;try{if(Ur.transition=null,Ct=1,t)return t()}finally{Ct=r,Ur.transition=n,yt=e,!(yt&6)&&ua()}}function Qv(){br=Ps.current,zt(Ps)}function Na(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vN(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(jv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zh();break;case 3:ol(),zt(ur),zt(Qn),zv();break;case 5:Dv(r);break;case 4:ol();break;case 13:zt(qt);break;case 19:zt(qt);break;case 10:Nv(r.type._context);break;case 22:case 23:Qv()}n=n.return}if(_n=t,hn=t=Xo(t.current,null),Nn=br=e,bn=0,uu=null,Hv=xp=Wa=0,sr=Pc=null,ja!==null){for(e=0;e<ja.length;e++)if(n=ja[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ja=null}return t}function xE(t,e){do{var n=hn;try{if(Ov(),xh.current=cf,lf){for(var r=Kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lf=!1}if($a=0,kn=vn=Kt=null,Oc=!1,su=0,qv.current=null,n===null||n.return===null){bn=1,uu=e,hn=null;break}e:{var o=t,a=n.return,s=n,c=e;if(e=Nn,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=s,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=jw(a);if(b!==null){b.flags&=-257,Rw(b,a,s,o,e),b.mode&1&&Iw(o,u,e),e=b,c=u;var _=e.updateQueue;if(_===null){var S=new Set;S.add(c),e.updateQueue=S}else _.add(c);break e}else{if(!(e&1)){Iw(o,u,e),Xv();break e}c=Error(he(426))}}else if(Bt&&s.mode&1){var T=jw(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Rw(T,a,s,o,e),Rv(al(c,s));break e}}o=c=al(c,s),bn!==4&&(bn=2),Pc===null?Pc=[o]:Pc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var C=nE(o,c,e);Sw(o,C);break e;case 1:s=c;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Go===null||!Go.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=rE(o,s,e);Sw(o,O);break e}}o=o.return}while(o!==null)}kE(n)}catch(M){e=M,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function wE(){var t=uf.current;return uf.current=cf,t===null?cf:t}function Xv(){(bn===0||bn===3||bn===2)&&(bn=4),_n===null||!(Wa&268435455)&&!(xp&268435455)||Do(_n,Nn)}function ff(t,e){var n=yt;yt|=2;var r=wE();(_n!==t||Nn!==e)&&(Ki=null,Na(t,e));do try{UN();break}catch(i){xE(t,i)}while(!0);if(Ov(),yt=n,uf.current=r,hn!==null)throw Error(he(261));return _n=null,Nn=0,bn}function UN(){for(;hn!==null;)SE(hn)}function VN(){for(;hn!==null&&!m5();)SE(hn)}function SE(t){var e=_E(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?kE(t):hn=e,qv.current=null}function kE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DN(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,hn=null;return}}else if(n=LN(n,e,br),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);bn===0&&(bn=5)}function ka(t,e,n){var r=Ct,i=Ur.transition;try{Ur.transition=null,Ct=1,qN(t,e,n,r)}finally{Ur.transition=i,Ct=r}return null}function qN(t,e,n,r){do Vs();while(Fo!==null);if(yt&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_5(t,o),t===_n&&(hn=_n=null,Nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kd||(Kd=!0,EE(Kh,function(){return Vs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ur.transition,Ur.transition=null;var a=Ct;Ct=1;var s=yt;yt|=4,qv.current=null,FN(t,n),yE(n,t),dN(Py),Qh=!!Ny,Py=Ny=null,t.current=n,$N(n),g5(),yt=s,Ct=a,Ur.transition=o}else t.current=n;if(Kd&&(Kd=!1,Fo=t,hf=i),o=t.pendingLanes,o===0&&(Go=null),b5(n.stateNode),hr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(df)throw df=!1,t=Zy,Zy=null,t;return hf&1&&t.tag!==0&&Vs(),o=t.pendingLanes,o&1?t===e0?Mc++:(Mc=0,e0=t):Mc=0,ua(),null}function Vs(){if(Fo!==null){var t=n_(hf),e=Ur.transition,n=Ct;try{if(Ur.transition=null,Ct=16>t?16:t,Fo===null)var r=!1;else{if(t=Fo,Fo=null,hf=0,yt&6)throw Error(he(331));var i=yt;for(yt|=4,Ne=t.current;Ne!==null;){var o=Ne,a=o.child;if(Ne.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(Ne=u;Ne!==null;){var h=Ne;switch(h.tag){case 0:case 11:case 15:Nc(8,h,o)}var f=h.child;if(f!==null)f.return=h,Ne=f;else for(;Ne!==null;){h=Ne;var v=h.sibling,b=h.return;if(pE(h),h===u){Ne=null;break}if(v!==null){v.return=b,Ne=v;break}Ne=b}}}var _=o.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}Ne=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ne=a;else e:for(;Ne!==null;){if(o=Ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Nc(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,Ne=C;break e}Ne=o.return}}var g=t.current;for(Ne=g;Ne!==null;){a=Ne;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Ne=y;else e:for(a=g;Ne!==null;){if(s=Ne,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:bp(9,s)}}catch(M){tn(s,s.return,M)}if(s===a){Ne=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,Ne=O;break e}Ne=s.return}}if(yt=i,ua(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(dp,t)}catch{}r=!0}return r}finally{Ct=n,Ur.transition=e}}return!1}function Uw(t,e,n){e=al(n,e),e=nE(t,e,1),t=Ko(t,e,1),e=tr(),t!==null&&(Lu(t,1,e),hr(t,e))}function tn(t,e,n){if(t.tag===3)Uw(t,t,n);else for(;e!==null;){if(e.tag===3){Uw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Go===null||!Go.has(r))){t=al(n,t),t=rE(e,t,1),e=Ko(e,t,1),t=tr(),e!==null&&(Lu(e,1,t),hr(e,t));break}}e=e.return}}function HN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tr(),t.pingedLanes|=t.suspendedLanes&n,_n===t&&(Nn&n)===n&&(bn===4||bn===3&&(Nn&130023424)===Nn&&500>rn()-Kv?Na(t,0):Hv|=n),hr(t,e)}function CE(t,e){e===0&&(t.mode&1?(e=Dd,Dd<<=1,!(Dd&130023424)&&(Dd=4194304)):e=1);var n=tr();t=fo(t,e),t!==null&&(Lu(t,e,n),hr(t,n))}function KN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CE(t,n)}function GN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),CE(t,n)}var _E;_E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,MN(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Bt&&e.flags&1048576&&I_(e,nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sh(t,e),t=e.pendingProps;var i=nl(e,Qn.current);Us(e,n),i=$v(null,e,r,t,i,n);var o=Wv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(o=!0,ef(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mv(e),i.updater=vp,e.stateNode=i,i._reactInternals=e,Uy(e,r,t,n),e=Hy(null,e,r,!0,o,n)):(e.tag=0,Bt&&o&&Iv(e),Zn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XN(r),t=li(r,t),i){case 0:e=qy(null,e,r,t,n);break e;case 1:e=Nw(null,e,r,t,n);break e;case 11:e=Aw(null,e,r,t,n);break e;case 14:e=Ow(null,e,r,li(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),qy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Nw(t,e,r,i,n);case 3:e:{if(sE(e),t===null)throw Error(he(387));r=e.pendingProps,o=e.memoizedState,i=o.element,P_(t,e),af(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=al(Error(he(423)),e),e=Pw(t,e,r,n,i);break e}else if(r!==i){i=al(Error(he(424)),e),e=Pw(t,e,r,n,i);break e}else for(wr=Ho(e.stateNode.containerInfo.firstChild),kr=e,Bt=!0,ui=null,n=O_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===i){e=po(t,e,n);break e}Zn(t,e,r,n)}e=e.child}return e;case 5:return M_(e),t===null&&$y(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,My(r,i)?a=null:o!==null&&My(r,o)&&(e.flags|=32),aE(t,e),Zn(t,e,a,n),e.child;case 6:return t===null&&$y(e),null;case 13:return lE(t,e,n);case 4:return Lv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=il(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Aw(t,e,r,i,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Rt(rf,r._currentValue),r._currentValue=a,o!==null)if(mi(o.value,a)){if(o.children===i.children&&!ur.current){e=po(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=oo(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Wy(o.return,n,e),s.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(he(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Wy(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Zn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Us(e,n),i=Kr(i),r=r(i),e.flags|=1,Zn(t,e,r,n),e.child;case 14:return r=e.type,i=li(r,e.pendingProps),i=li(r.type,i),Ow(t,e,r,i,n);case 15:return iE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Sh(t,e),e.tag=1,dr(r)?(t=!0,ef(e)):t=!1,Us(e,n),tE(e,r,i),Uy(e,r,i,n),Hy(null,e,r,!0,t,n);case 19:return cE(t,e,n);case 22:return oE(t,e,n)}throw Error(he(156,e.tag))};function EE(t,e){return JC(t,e)}function QN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(t,e,n,r){return new QN(t,e,n,r)}function Yv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XN(t){if(typeof t=="function")return Yv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gv)return 11;if(t===yv)return 14}return 2}function Xo(t,e){var n=t.alternate;return n===null?(n=Br(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _h(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Yv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Cs:return Pa(n.children,i,o,e);case mv:a=8,i|=8;break;case fy:return t=Br(12,n,e,i|2),t.elementType=fy,t.lanes=o,t;case py:return t=Br(13,n,e,i),t.elementType=py,t.lanes=o,t;case my:return t=Br(19,n,e,i),t.elementType=my,t.lanes=o,t;case MC:return wp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NC:a=10;break e;case PC:a=9;break e;case gv:a=11;break e;case yv:a=14;break e;case No:a=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=Br(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Pa(t,e,n,r){return t=Br(7,t,r,e),t.lanes=n,t}function wp(t,e,n,r){return t=Br(22,t,r,e),t.elementType=MC,t.lanes=n,t.stateNode={isHidden:!1},t}function Tg(t,e,n){return t=Br(6,t,null,e),t.lanes=n,t}function Ig(t,e,n){return e=Br(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lg(0),this.expirationTimes=lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jv(t,e,n,r,i,o,a,s,c){return t=new YN(t,e,n,s,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Br(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mv(o),t}function JN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TE(t){if(!t)return ta;t=t._reactInternals;e:{if(es(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(dr(n))return E_(t,n,e)}return e}function IE(t,e,n,r,i,o,a,s,c){return t=Jv(n,r,!0,t,i,o,a,s,c),t.context=TE(null),n=t.current,r=tr(),i=Qo(n),o=oo(r,i),o.callback=e??null,Ko(n,o,i),t.current.lanes=i,Lu(t,i,r),hr(t,r),t}function Sp(t,e,n,r){var i=e.current,o=tr(),a=Qo(i);return n=TE(n),e.context===null?e.context=n:e.pendingContext=n,e=oo(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ko(i,e,a),t!==null&&(fi(t,i,a,o),bh(t,i,a)),a}function pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zv(t,e){Vw(t,e),(t=t.alternate)&&Vw(t,e)}function ZN(){return null}var jE=typeof reportError=="function"?reportError:function(t){console.error(t)};function eb(t){this._internalRoot=t}kp.prototype.render=eb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Sp(t,e,null,null)};kp.prototype.unmount=eb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ba(function(){Sp(null,t,null,null)}),e[ho]=null}};function kp(t){this._internalRoot=t}kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=o_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lo.length&&e!==0&&e<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&s_(t)}};function tb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qw(){}function eP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pf(a);o.call(u)}}var a=IE(e,r,t,0,null,!1,!1,"",qw);return t._reactRootContainer=a,t[ho]=a.current,nu(t.nodeType===8?t.parentNode:t),Ba(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=pf(c);s.call(u)}}var c=Jv(t,0,!1,null,null,!1,!1,"",qw);return t._reactRootContainer=c,t[ho]=c.current,nu(t.nodeType===8?t.parentNode:t),Ba(function(){Sp(e,c,n,r)}),c}function _p(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=pf(a);s.call(c)}}Sp(e,a,t,i)}else a=eP(n,e,t,i,r);return pf(a)}r_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vc(e.pendingLanes);n!==0&&(xv(e,n|1),hr(e,rn()),!(yt&6)&&(sl=rn()+500,ua()))}break;case 13:Ba(function(){var r=fo(t,1);if(r!==null){var i=tr();fi(r,t,1,i)}}),Zv(t,1)}};wv=function(t){if(t.tag===13){var e=fo(t,134217728);if(e!==null){var n=tr();fi(e,t,134217728,n)}Zv(t,134217728)}};i_=function(t){if(t.tag===13){var e=Qo(t),n=fo(t,e);if(n!==null){var r=tr();fi(n,t,e,r)}Zv(t,e)}};o_=function(){return Ct};a_=function(t,e){var n=Ct;try{return Ct=t,e()}finally{Ct=n}};_y=function(t,e,n){switch(e){case"input":if(vy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mp(r);if(!i)throw Error(he(90));DC(r),vy(r,i)}}}break;case"textarea":FC(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};HC=Gv;KC=Ba;var tP={usingClientEntryPoint:!1,Events:[zu,Is,mp,VC,qC,Gv]},ic={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nP={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XC(t),t===null?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||ZN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{dp=Gd.inject(nP),Ei=Gd}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tP;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tb(e))throw Error(he(200));return JN(t,e,null,n)};Rr.createRoot=function(t,e){if(!tb(t))throw Error(he(299));var n=!1,r="",i=jE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jv(t,1,!1,null,null,n,!1,r,i),t[ho]=e.current,nu(t.nodeType===8?t.parentNode:t),new eb(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=XC(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return Ba(t)};Rr.hydrate=function(t,e,n){if(!Cp(e))throw Error(he(200));return _p(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!tb(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=jE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=IE(e,null,t,1,n??null,i,!1,o,a),t[ho]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kp(e)};Rr.render=function(t,e,n){if(!Cp(e))throw Error(he(200));return _p(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!Cp(t))throw Error(he(40));return t._reactRootContainer?(Ba(function(){_p(null,null,t,!1,function(){t._reactRootContainer=null,t[ho]=null})}),!0):!1};Rr.unstable_batchedUpdates=Gv;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cp(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return _p(t,e,n,!1,r)};Rr.version="18.3.1-next-f1338f8080-20240426";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(t){console.error(t)}}RE(),jC.exports=Rr;var nb=jC.exports;const Qd=ap(nb);var Hw=nb;dy.createRoot=Hw.createRoot,dy.hydrateRoot=Hw.hydrateRoot;/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}var $o;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($o||($o={}));const Kw="popstate";function rP(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:c=""}=ts(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),r0("",{pathname:a,search:s,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");s=u===-1?c:c.slice(0,u)}return s+"#"+(typeof o=="string"?o:mf(o))}function r(i,o){rb(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return oP(e,n,r,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iP(){return Math.random().toString(36).substr(2,8)}function Gw(t,e){return{usr:t.state,key:t.key,idx:e}}function r0(t,e,n,r){return n===void 0&&(n=null),du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ts(e):e,{state:n,key:e&&e.key||r||iP()})}function mf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=$o.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(du({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){s=$o.Pop;let T=h(),C=T==null?null:T-u;u=T,c&&c({action:s,location:S.location,delta:C})}function v(T,C){s=$o.Push;let g=r0(S.location,T,C);n&&n(g,T),u=h()+1;let y=Gw(g,u),O=S.createHref(g);try{a.pushState(y,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}o&&c&&c({action:s,location:S.location,delta:1})}function b(T,C){s=$o.Replace;let g=r0(S.location,T,C);n&&n(g,T),u=h();let y=Gw(g,u),O=S.createHref(g);a.replaceState(y,"",O),o&&c&&c({action:s,location:S.location,delta:0})}function _(T){let C=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof T=="string"?T:mf(T);return g=g.replace(/ $/,"%20"),an(C,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,C)}let S={get action(){return s},get location(){return t(i,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Kw,f),c=T,()=>{i.removeEventListener(Kw,f),c=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let C=_(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:b,go(T){return a.go(T)}};return S}var Qw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qw||(Qw={}));function aP(t,e,n){return n===void 0&&(n="/"),sP(t,e,n)}function sP(t,e,n,r){let i=typeof e=="string"?ts(e):e,o=ib(i.pathname||"/",n);if(o==null)return null;let a=AE(t);lP(a);let s=null;for(let c=0;s==null&&c<a.length;++c){let u=xP(o);s=yP(a[c],u)}return s}function AE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let c={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(an(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Yo([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(an(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AE(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:mP(u,o.index),routesMeta:h})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let c of OE(o.path))i(o,a,c)}),e}function OE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=OE(r.join("/")),s=[];return s.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&s.push(...a),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function lP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cP=/^:[\w-]+$/,uP=3,dP=2,hP=1,fP=10,pP=-2,Xw=t=>t==="*";function mP(t,e){let n=t.split("/"),r=n.length;return n.some(Xw)&&(r+=pP),e&&(r+=dP),n.filter(i=>!Xw(i)).reduce((i,o)=>i+(cP.test(o)?uP:o===""?hP:fP),r)}function gP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function yP(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=vP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),v=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Yo([o,f.pathname]),pathnameBase:CP(Yo([o,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(o=Yo([o,f.pathnameBase]))}return a}function vP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:v}=u;if(f==="*"){let _=s[h]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const b=s[h];return v&&!b?c[f]=void 0:c[f]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function bP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,s)=>(r.push({paramName:a,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ib(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ts(t):t;return{pathname:n?n.startsWith("/")?n:SP(n,e):e,search:_P(r),hash:EP(i)}}function SP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function jg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ob(t,e){let n=kP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ab(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ts(t):(i=du({},t),an(!i.pathname||!i.pathname.includes("?"),jg("?","pathname","search",i)),an(!i.pathname||!i.pathname.includes("#"),jg("#","pathname","hash",i)),an(!i.search||!i.search.includes("#"),jg("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}s=f>=0?e[f]:"/"}let c=wP(i,s),u=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Yo=t=>t.join("/").replace(/\/\/+/g,"/"),CP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_P=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NE=["post","put","patch","delete"];new Set(NE);const IP=["get",...NE];new Set(IP);/**
* React Router v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}const sb=x.createContext(null),jP=x.createContext(null),da=x.createContext(null),Ep=x.createContext(null),ko=x.createContext({outlet:null,matches:[],isDataRoute:!1}),PE=x.createContext(null);function RP(t,e){let{relative:n}=e===void 0?{}:e;Rl()||an(!1);let{basename:r,navigator:i}=x.useContext(da),{hash:o,pathname:a,search:s}=LE(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Yo([r,a])),i.createHref({pathname:c,search:s,hash:o})}function Rl(){return x.useContext(Ep)!=null}function ha(){return Rl()||an(!1),x.useContext(Ep).location}function ME(t){x.useContext(da).static||x.useLayoutEffect(t)}function gr(){let{isDataRoute:t}=x.useContext(ko);return t?UP():AP()}function AP(){Rl()||an(!1);let t=x.useContext(sb),{basename:e,future:n,navigator:r}=x.useContext(da),{matches:i}=x.useContext(ko),{pathname:o}=ha(),a=JSON.stringify(ob(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return ME(()=>{s.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let h=ab(c,JSON.parse(a),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yo([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,a,o,t])}function $u(){let{matches:t}=x.useContext(ko),e=t[t.length-1];return e?e.params:{}}function LE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(da),{matches:i}=x.useContext(ko),{pathname:o}=ha(),a=JSON.stringify(ob(i,r.v7_relativeSplatPath));return x.useMemo(()=>ab(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function OP(t,e){return NP(t,e)}function NP(t,e,n,r){Rl()||an(!1);let{navigator:i}=x.useContext(da),{matches:o}=x.useContext(ko),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ha(),h;if(e){var f;let T=typeof e=="string"?ts(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||an(!1),h=T}else h=u;let v=h.pathname||"/",b=v;if(c!=="/"){let T=c.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=aP(t,{pathname:b}),S=zP(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},s,T.params),pathname:Yo([c,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Yo([c,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&S?x.createElement(Ep.Provider,{value:{location:hu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:$o.Pop}},S):S}function PP(){let t=BP(),e=TP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:r},n):null,null)}const MP=x.createElement(PP,null);class LP extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(ko.Provider,{value:this.props.routeContext},x.createElement(PE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DP(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(sb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ko.Provider,{value:e},r)}function zP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let h=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);h>=0||an(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:v,errors:b}=n,_=f.route.loader&&v[f.route.id]===void 0&&(!b||b[f.route.id]===void 0);if(f.route.lazy||_){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,v)=>{let b,_=!1,S=null,T=null;n&&(b=s&&f.route.id?s[f.route.id]:void 0,S=f.route.errorElement||MP,c&&(u<0&&v===0?(VP("route-fallback"),_=!0,T=null):u===v&&(_=!0,T=f.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),g=()=>{let y;return b?y=S:_?y=T:f.route.Component?y=x.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=h,x.createElement(DP,{match:f,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?x.createElement(LP,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:g(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):g()},null)}var DE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DE||{}),zE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zE||{});function FP(t){let e=x.useContext(sb);return e||an(!1),e}function $P(t){let e=x.useContext(jP);return e||an(!1),e}function WP(t){let e=x.useContext(ko);return e||an(!1),e}function FE(t){let e=WP(),n=e.matches[e.matches.length-1];return n.route.id||an(!1),n.route.id}function BP(){var t;let e=x.useContext(PE),n=$P(),r=FE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function UP(){let{router:t}=FP(DE.UseNavigateStable),e=FE(zE.UseNavigateStable),n=x.useRef(!1);return ME(()=>{n.current=!0}),x.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,hu({fromRouteId:e},i)))},[t,e])}const Yw={};function VP(t,e,n){Yw[t]||(Yw[t]=!0)}function qP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function HP(t){let{to:e,replace:n,state:r,relative:i}=t;Rl()||an(!1);let{future:o,static:a}=x.useContext(da),{matches:s}=x.useContext(ko),{pathname:c}=ha(),u=gr(),h=ab(e,ob(s,o.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(h);return x.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Jt(t){an(!1)}function KP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$o.Pop,navigator:o,static:a=!1,future:s}=t;Rl()&&an(!1);let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:o,static:a,future:hu({v7_relativeSplatPath:!1},s)}),[c,s,o,a]);typeof r=="string"&&(r=ts(r));let{pathname:h="/",search:f="",hash:v="",state:b=null,key:_="default"}=r,S=x.useMemo(()=>{let T=ib(h,c);return T==null?null:{location:{pathname:T,search:f,hash:v,state:b,key:_},navigationType:i}},[c,h,f,v,b,_,i]);return S==null?null:x.createElement(da.Provider,{value:u},x.createElement(Ep.Provider,{children:n,value:S}))}function GP(t){let{children:e,location:n}=t;return OP(i0(e),n)}new Promise(()=>{});function i0(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,i0(r.props.children,o));return}r.type!==Jt&&an(!1),!r.props.index||!r.props.children||an(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=i0(r.props.children,o)),n.push(a)}),n}/**
* React Router DOM v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function QP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YP(t,e){return t.button===0&&(!e||e==="_self")&&!XP(t)}const JP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZP="6";try{window.__reactRouterVersion=ZP}catch{}const e4="startTransition",Jw=Uh[e4];function t4(t){let{basename:e,children:n,future:r,window:i}=t,o=x.useRef();o.current==null&&(o.current=rP({window:i,v5Compat:!0}));let a=o.current,[s,c]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=x.useCallback(f=>{u&&Jw?Jw(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>a.listen(h),[a,h]),x.useEffect(()=>qP(r),[r]),x.createElement(KP,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const n4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wu=x.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:i,replace:o,state:a,target:s,to:c,preventScrollReset:u,viewTransition:h}=t,f=QP(t,JP),{basename:v}=x.useContext(da),b,_=!1;if(typeof c=="string"&&r4.test(c)&&(b=c,n4))try{let g=new URL(window.location.href),y=c.startsWith("//")?new URL(g.protocol+c):new URL(c),O=ib(y.pathname,v);y.origin===g.origin&&O!=null?c=O+y.search+y.hash:_=!0}catch{}let S=RP(c,{relative:r}),T=i4(c,{replace:o,state:a,target:s,preventScrollReset:u,relative:r,viewTransition:h});function C(g){n&&n(g),g.defaultPrevented||T(g)}return x.createElement("a",o0({},f,{href:b||S,onClick:_||i?n:C,ref:e,target:s}))});var Zw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zw||(Zw={}));var eS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eS||(eS={}));function i4(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,c=gr(),u=ha(),h=LE(t,{relative:a});return x.useCallback(f=>{if(YP(f,n)){f.preventDefault();let v=r!==void 0?r:mf(u)===mf(h);c(t,{replace:v,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,c,h,r,i,n,t,o,a,s])}var tS={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $E=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=o>>2,f=(o&3)<<4|s>>4;let v=(s&15)<<2|u>>6,b=u&63;c||(b=64,a||(v=64)),r.push(n[h],n[f],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const s=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||s==null||c==null)throw new a4;const u=o<<2|a>>4;if(r.push(u),s!==64){const h=a<<4&240|s>>2;if(r.push(h),c!==64){const f=s<<6&192|c;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s4=function(t){const e=$E(t);return WE.encodeByteArray(e,!0)},gf=function(t){return s4(t).replace(/\./g,"")},BE=function(t){try{return WE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function l4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c4=()=>l4().__FIREBASE_DEFAULTS__,u4=()=>{if(typeof process>"u"||typeof tS>"u")return;const t=tS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},d4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BE(t[1]);return e&&JSON.parse(e)},Tp=()=>{try{return c4()||u4()||d4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UE=t=>{var e,n;return(n=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VE=t=>{const e=UE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qE=()=>{var t;return(t=Tp())===null||t===void 0?void 0:t.config},HE=t=>{var e;return(e=Tp())===null||e===void 0?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gf(JSON.stringify(n)),gf(JSON.stringify(a)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function p4(){var t;const e=(t=Tp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v4(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b4(){return!p4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x4(){try{return typeof indexedDB=="object"}catch{return!1}}function w4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S4="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S4,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?k4(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new $i(i,s,r)}}function k4(t,e){return t.replace(C4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C4=/\{\$([^}]+)}/g;function _4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(nS(o)&&nS(a)){if(!yf(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nS(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,i]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function wc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E4(t,e){const n=new T4(t,e);return n.subscribe.bind(n)}class T4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rg),i.error===void 0&&(i.error=Rg),i.complete===void 0&&(i.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rg(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mn(t){return t&&t._delegate?t._delegate:t}class na{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ca="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new h4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A4(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R4(t){return t===Ca?void 0:t}function A4(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const N4={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},P4=mt.INFO,M4={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},L4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lb{constructor(e){this.name=e,this._logLevel=P4,this._logHandler=L4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const D4=(t,e)=>e.some(n=>t instanceof n);let rS,iS;function z4(){return rS||(rS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F4(){return iS||(iS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,a0=new WeakMap,QE=new WeakMap,Ag=new WeakMap,cb=new WeakMap;function $4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Jo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,t)}).catch(()=>{}),cb.set(e,t),e}function W4(t){if(a0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});a0.set(t,e)}let s0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B4(t){s0=t(s0)}function U4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Og(this),e,...n);return QE.set(r,e.sort?e.sort():[e]),Jo(r)}:F4().includes(t)?function(...e){return t.apply(Og(this),e),Jo(GE.get(this))}:function(...e){return Jo(t.apply(Og(this),e))}}function V4(t){return typeof t=="function"?U4(t):(t instanceof IDBTransaction&&W4(t),D4(t,z4())?new Proxy(t,s0):t)}function Jo(t){if(t instanceof IDBRequest)return $4(t);if(Ag.has(t))return Ag.get(t);const e=V4(t);return e!==t&&(Ag.set(t,e),cb.set(e,t)),e}const Og=t=>cb.get(t);function q4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Jo(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Jo(a.result),c.oldVersion,c.newVersion,Jo(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const H4=["get","getKey","getAll","getAllKeys","count"],K4=["put","add","delete","clear"],Ng=new Map;function oS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H4.includes(n)))return;const o=async function(a,...s){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&c.done]))[0]};return Ng.set(e,o),o}B4(t=>({...t,get:(e,n,r)=>oS(e,n)||t.get(e,n,r),has:(e,n)=>!!oS(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Q4(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function Q4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const l0="@firebase/app",aS="0.10.13";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mo=new lb("@firebase/app"),X4="@firebase/app-compat",Y4="@firebase/analytics-compat",J4="@firebase/analytics",Z4="@firebase/app-check-compat",e6="@firebase/app-check",t6="@firebase/auth",n6="@firebase/auth-compat",r6="@firebase/database",i6="@firebase/data-connect",o6="@firebase/database-compat",a6="@firebase/functions",s6="@firebase/functions-compat",l6="@firebase/installations",c6="@firebase/installations-compat",u6="@firebase/messaging",d6="@firebase/messaging-compat",h6="@firebase/performance",f6="@firebase/performance-compat",p6="@firebase/remote-config",m6="@firebase/remote-config-compat",g6="@firebase/storage",y6="@firebase/storage-compat",v6="@firebase/firestore",b6="@firebase/vertexai-preview",x6="@firebase/firestore-compat",w6="firebase",S6="10.14.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c0="[DEFAULT]",k6={[l0]:"fire-core",[X4]:"fire-core-compat",[J4]:"fire-analytics",[Y4]:"fire-analytics-compat",[e6]:"fire-app-check",[Z4]:"fire-app-check-compat",[t6]:"fire-auth",[n6]:"fire-auth-compat",[r6]:"fire-rtdb",[i6]:"fire-data-connect",[o6]:"fire-rtdb-compat",[a6]:"fire-fn",[s6]:"fire-fn-compat",[l6]:"fire-iid",[c6]:"fire-iid-compat",[u6]:"fire-fcm",[d6]:"fire-fcm-compat",[h6]:"fire-perf",[f6]:"fire-perf-compat",[p6]:"fire-rc",[m6]:"fire-rc-compat",[g6]:"fire-gcs",[y6]:"fire-gcs-compat",[v6]:"fire-fst",[x6]:"fire-fst-compat",[b6]:"fire-vertex","fire-js":"fire-js",[w6]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vf=new Map,C6=new Map,u0=new Map;function sS(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ua(t){const e=t.name;if(u0.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;u0.set(e,t);for(const n of vf.values())sS(n,t);for(const n of C6.values())sS(n,t);return!0}function Ip(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ci(t){return t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new Bu("app","Firebase",_6);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ns=S6;function XE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:c0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(n||(n=qE()),!n)throw Zo.create("no-options");const o=vf.get(i);if(o){if(yf(n,o.options)&&yf(r,o.config))return o;throw Zo.create("duplicate-app",{appName:i})}const a=new O4(i);for(const c of u0.values())a.addComponent(c);const s=new E6(n,r,a);return vf.set(i,s),s}function ub(t=c0){const e=vf.get(t);if(!e&&t===c0&&qE())return XE();if(!e)throw Zo.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=k6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(s.join(" "));return}Ua(new na(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T6="firebase-heartbeat-database",I6=1,fu="firebase-heartbeat-store";let Pg=null;function YE(){return Pg||(Pg=q4(T6,I6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zo.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function j6(t){try{const e=(await YE()).transaction(fu),n=await e.objectStore(fu).get(JE(t));return await e.done,n}catch(e){if(e instanceof $i)mo.warn(e.message);else{const n=Zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(n.message)}}}async function lS(t,e){try{const n=(await YE()).transaction(fu,"readwrite");await n.objectStore(fu).put(e,JE(t)),await n.done}catch(n){if(n instanceof $i)mo.warn(n.message);else{const r=Zo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mo.warn(r.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R6=1024,A6=30*24*60*60*1e3;class O6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=A6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cS(),{heartbeatsToSend:r,unsentEntries:i}=N6(this._heartbeatsCache.heartbeats),o=gf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mo.warn(n),""}}}function cS(){return new Date().toISOString().substring(0,10)}function N6(t,e=R6){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),uS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x4()?w4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await j6(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return lS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return lS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uS(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M6(t){Ua(new na("platform-logger",e=>new G4(e),"PRIVATE")),Ua(new na("heartbeat",e=>new O6(e),"PRIVATE")),Ii(l0,aS,t),Ii(l0,aS,"esm2017"),Ii("fire-js","")}M6("");var L6="firebase",D6="10.14.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Ii(L6,D6,"app");var dS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ma,ZE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,p){function m(){}m.prototype=p.prototype,E.D=p.prototype,E.prototype=new m,E.prototype.constructor=E,E.C=function(w,R,j){for(var I=Array(arguments.length-2),L=2;L<arguments.length;L++)I[L-2]=arguments[L];return p.prototype[R].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,p,m){m||(m=0);var w=Array(16);if(typeof p=="string")for(var R=0;16>R;++R)w[R]=p.charCodeAt(m++)|p.charCodeAt(m++)<<8|p.charCodeAt(m++)<<16|p.charCodeAt(m++)<<24;else for(R=0;16>R;++R)w[R]=p[m++]|p[m++]<<8|p[m++]<<16|p[m++]<<24;p=E.g[0],m=E.g[1],R=E.g[2];var j=E.g[3],I=p+(j^m&(R^j))+w[0]+3614090360&4294967295;p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[1]+3905402710&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[2]+606105819&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[3]+3250441966&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(j^m&(R^j))+w[4]+4118548399&4294967295,p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[5]+1200080426&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[6]+2821735955&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[7]+4249261313&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(j^m&(R^j))+w[8]+1770035416&4294967295,p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[9]+2336552879&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[10]+4294925233&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[11]+2304563134&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(j^m&(R^j))+w[12]+1804603682&4294967295,p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[13]+4254626195&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[14]+2792965006&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[15]+1236535329&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(R^j&(m^R))+w[1]+4129170786&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[6]+3225465664&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[11]+643717713&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[0]+3921069994&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(R^j&(m^R))+w[5]+3593408605&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[10]+38016083&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[15]+3634488961&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[4]+3889429448&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(R^j&(m^R))+w[9]+568446438&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[14]+3275163606&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[3]+4107603335&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[8]+1163531501&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(R^j&(m^R))+w[13]+2850285829&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[2]+4243563512&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[7]+1735328473&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[12]+2368359562&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(m^R^j)+w[5]+4294588738&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[8]+2272392833&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[11]+1839030562&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[14]+4259657740&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(m^R^j)+w[1]+2763975236&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[4]+1272893353&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[7]+4139469664&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[10]+3200236656&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(m^R^j)+w[13]+681279174&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[0]+3936430074&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[3]+3572445317&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[6]+76029189&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(m^R^j)+w[9]+3654602809&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[12]+3873151461&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[15]+530742520&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[2]+3299628645&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(R^(m|~j))+w[0]+4096336452&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[7]+1126891415&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[14]+2878612391&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[5]+4237533241&4294967295,m=R+(I<<21&4294967295|I>>>11),I=p+(R^(m|~j))+w[12]+1700485571&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[3]+2399980690&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[10]+4293915773&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[1]+2240044497&4294967295,m=R+(I<<21&4294967295|I>>>11),I=p+(R^(m|~j))+w[8]+1873313359&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[15]+4264355552&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[6]+2734768916&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[13]+1309151649&4294967295,m=R+(I<<21&4294967295|I>>>11),I=p+(R^(m|~j))+w[4]+4149444226&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[11]+3174756917&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[2]+718787259&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+p&4294967295,E.g[1]=E.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.u=function(E,p){p===void 0&&(p=E.length);for(var m=p-this.blockSize,w=this.B,R=this.h,j=0;j<p;){if(R==0)for(;j<=m;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<p;)if(w[R++]=E.charCodeAt(j++),R==this.blockSize){i(this,w),R=0;break}}else for(;j<p;)if(w[R++]=E[j++],R==this.blockSize){i(this,w),R=0;break}}this.h=R,this.o+=p},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var p=1;p<E.length-8;++p)E[p]=0;var m=8*this.o;for(p=E.length-8;p<E.length;++p)E[p]=m&255,m/=256;for(this.u(E),E=Array(16),p=m=0;4>p;++p)for(var w=0;32>w;w+=8)E[m++]=this.g[p]>>>w&255;return E};function o(E,p){var m=s;return Object.prototype.hasOwnProperty.call(m,E)?m[E]:m[E]=p(E)}function a(E,p){this.h=p;for(var m=[],w=!0,R=E.length-1;0<=R;R--){var j=E[R]|0;w&&j==p||(m[R]=j,w=!1)}this.g=m}var s={};function c(E){return-128<=E&&128>E?o(E,function(p){return new a([p|0],0>p?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return T(u(-E));for(var p=[],m=1,w=0;E>=m;w++)p[w]=E/m|0,m*=4294967296;return new a(p,0)}function h(E,p){if(E.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(E.charAt(0)=="-")return T(h(E.substring(1),p));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=u(Math.pow(p,8)),w=f,R=0;R<E.length;R+=8){var j=Math.min(8,E.length-R),I=parseInt(E.substring(R,R+j),p);8>j?(j=u(Math.pow(p,j)),w=w.j(j).add(u(I))):(w=w.j(m),w=w.add(u(I)))}return w}var f=c(0),v=c(1),b=c(16777216);t=a.prototype,t.m=function(){if(S(this))return-T(this).m();for(var E=0,p=1,m=0;m<this.g.length;m++){var w=this.i(m);E+=(0<=w?w:4294967296+w)*p,p*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(S(this))return"-"+T(this).toString(E);for(var p=u(Math.pow(E,6)),m=this,w="";;){var R=O(m,p).g;m=C(m,R.j(p));var j=((0<m.g.length?m.g[0]:m.h)>>>0).toString(E);if(m=R,_(m))return j+w;for(;6>j.length;)j="0"+j;w=j+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(var p=0;p<E.g.length;p++)if(E.g[p]!=0)return!1;return!0}function S(E){return E.h==-1}t.l=function(E){return E=C(this,E),S(E)?-1:_(E)?0:1};function T(E){for(var p=E.g.length,m=[],w=0;w<p;w++)m[w]=~E.g[w];return new a(m,~E.h).add(v)}t.abs=function(){return S(this)?T(this):this},t.add=function(E){for(var p=Math.max(this.g.length,E.g.length),m=[],w=0,R=0;R<=p;R++){var j=w+(this.i(R)&65535)+(E.i(R)&65535),I=(j>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);w=I>>>16,j&=65535,I&=65535,m[R]=I<<16|j}return new a(m,m[m.length-1]&-2147483648?-1:0)};function C(E,p){return E.add(T(p))}t.j=function(E){if(_(this)||_(E))return f;if(S(this))return S(E)?T(this).j(T(E)):T(T(this).j(E));if(S(E))return T(this.j(T(E)));if(0>this.l(b)&&0>E.l(b))return u(this.m()*E.m());for(var p=this.g.length+E.g.length,m=[],w=0;w<2*p;w++)m[w]=0;for(w=0;w<this.g.length;w++)for(var R=0;R<E.g.length;R++){var j=this.i(w)>>>16,I=this.i(w)&65535,L=E.i(R)>>>16,B=E.i(R)&65535;m[2*w+2*R]+=I*B,g(m,2*w+2*R),m[2*w+2*R+1]+=j*B,g(m,2*w+2*R+1),m[2*w+2*R+1]+=I*L,g(m,2*w+2*R+1),m[2*w+2*R+2]+=j*L,g(m,2*w+2*R+2)}for(w=0;w<p;w++)m[w]=m[2*w+1]<<16|m[2*w];for(w=p;w<2*p;w++)m[w]=0;return new a(m,0)};function g(E,p){for(;(E[p]&65535)!=E[p];)E[p+1]+=E[p]>>>16,E[p]&=65535,p++}function y(E,p){this.g=E,this.h=p}function O(E,p){if(_(p))throw Error("division by zero");if(_(E))return new y(f,f);if(S(E))return p=O(T(E),p),new y(T(p.g),T(p.h));if(S(p))return p=O(E,T(p)),new y(T(p.g),p.h);if(30<E.g.length){if(S(E)||S(p))throw Error("slowDivide_ only works with positive integers.");for(var m=v,w=p;0>=w.l(E);)m=M(m),w=M(w);var R=P(m,1),j=P(w,1);for(w=P(w,2),m=P(m,2);!_(w);){var I=j.add(w);0>=I.l(E)&&(R=R.add(m),j=I),w=P(w,1),m=P(m,1)}return p=C(E,R.j(p)),new y(R,p)}for(R=f;0<=E.l(p);){for(m=Math.max(1,Math.floor(E.m()/p.m())),w=Math.ceil(Math.log(m)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),j=u(m),I=j.j(p);S(I)||0<I.l(E);)m-=w,j=u(m),I=j.j(p);_(j)&&(j=v),R=R.add(j),E=C(E,I)}return new y(R,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var p=Math.max(this.g.length,E.g.length),m=[],w=0;w<p;w++)m[w]=this.i(w)&E.i(w);return new a(m,this.h&E.h)},t.or=function(E){for(var p=Math.max(this.g.length,E.g.length),m=[],w=0;w<p;w++)m[w]=this.i(w)|E.i(w);return new a(m,this.h|E.h)},t.xor=function(E){for(var p=Math.max(this.g.length,E.g.length),m=[],w=0;w<p;w++)m[w]=this.i(w)^E.i(w);return new a(m,this.h^E.h)};function M(E){for(var p=E.g.length+1,m=[],w=0;w<p;w++)m[w]=E.i(w)<<1|E.i(w-1)>>>31;return new a(m,E.h)}function P(E,p){var m=p>>5;p%=32;for(var w=E.g.length-m,R=[],j=0;j<w;j++)R[j]=0<p?E.i(j+m)>>>p|E.i(j+m+1)<<32-p:E.i(j+m);return new a(R,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZE=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Ma=a}).apply(typeof dS<"u"?dS:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eT,Sc,tT,Eh,d0,nT,rT,iT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,k,A){return d==Array.prototype||d==Object.prototype||(d[k]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var k=0;k<d.length;++k){var A=d[k];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,k){if(k)e:{var A=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var X=d[D];if(!(X in A))break e;A=A[X]}d=d[d.length-1],D=A[d],k=k(D),k!=D&&k!=null&&e(A,d,{configurable:!0,writable:!0,value:k})}}function o(d,k){d instanceof String&&(d+="");var A=0,D=!1,X={next:function(){if(!D&&A<d.length){var ne=A++;return{value:k(ne,d[ne]),done:!1}}return D=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(d){return d||function(){return o(this,function(k,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function c(d){var k=typeof d;return k=k!="object"?k:d?Array.isArray(d)?"array":k:"null",k=="array"||k=="object"&&typeof d.length=="number"}function u(d){var k=typeof d;return k=="object"&&d!=null||k=="function"}function h(d,k,A){return d.call.apply(d.bind,arguments)}function f(d,k,A){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,D),d.apply(k,X)}}return function(){return d.apply(k,arguments)}}function v(d,k,A){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,v.apply(null,arguments)}function b(d,k){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function _(d,k){function A(){}A.prototype=k.prototype,d.aa=k.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(D,X,ne){for(var ge=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)ge[Pt-2]=arguments[Pt];return k.prototype[X].apply(D,ge)}}function S(d){const k=d.length;if(0<k){const A=Array(k);for(let D=0;D<k;D++)A[D]=d[D];return A}return[]}function T(d,k){for(let A=1;A<arguments.length;A++){const D=arguments[A];if(c(D)){const X=d.length||0,ne=D.length||0;d.length=X+ne;for(let ge=0;ge<ne;ge++)d[X+ge]=D[ge]}else d.push(D)}}class C{constructor(k,A){this.i=k,this.j=A,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function g(d){return/^[\s\xa0]*$/.test(d)}function y(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function O(d){return O[" "](d),d}O[" "]=function(){};var M=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function P(d,k,A){for(const D in d)k.call(A,d[D],D,d)}function E(d,k){for(const A in d)k.call(void 0,d[A],A,d)}function p(d){const k={};for(const A in d)k[A]=d[A];return k}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(d,k){let A,D;for(let X=1;X<arguments.length;X++){D=arguments[X];for(A in D)d[A]=D[A];for(let ne=0;ne<m.length;ne++)A=m[ne],Object.prototype.hasOwnProperty.call(D,A)&&(d[A]=D[A])}}function R(d){var k=1;d=d.split(":");const A=[];for(;0<k&&d.length;)A.push(d.shift()),k--;return d.length&&A.push(d.join(":")),A}function j(d){s.setTimeout(()=>{throw d},0)}function I(){var d=U;let k=null;return d.g&&(k=d.g,d.g=d.g.next,d.g||(d.h=null),k.next=null),k}class L{constructor(){this.h=this.g=null}add(k,A){const D=B.get();D.set(k,A),this.h?this.h.next=D:this.g=D,this.h=D}}var B=new C(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(k,A){this.h=k,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let $,F=!1,U=new L,q=()=>{const d=s.Promise.resolve(void 0);$=()=>{d.then(H)}};var H=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(A){j(A)}var k=B;k.j(d),100>k.h&&(k.h++,d.next=k.g,k.g=d)}F=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(d,k){this.type=d,this.g=this.target=k,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,k=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,k),s.removeEventListener("test",A,k)}catch{}return d}();function le(d,k){if(Q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=k,k=d.relatedTarget){if(M){e:{try{O(k.nodeName);var X=!0;break e}catch{}X=!1}X||(k=null)}}else A=="mouseover"?k=d.fromElement:A=="mouseout"&&(k=d.toElement);this.relatedTarget=k,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}_(le,Q);var Re={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),ee=0;function V(d,k,A,D,X){this.listener=d,this.proxy=null,this.src=k,this.type=A,this.capture=!!D,this.ha=X,this.key=++ee,this.da=this.fa=!1}function J(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function te(d){this.src=d,this.g={},this.h=0}te.prototype.add=function(d,k,A,D,X){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var ge=me(d,k,D,X);return-1<ge?(k=d[ge],A||(k.fa=!1)):(k=new V(k,this.src,ne,!!D,X),k.fa=A,d.push(k)),k};function oe(d,k){var A=k.type;if(A in d.g){var D=d.g[A],X=Array.prototype.indexOf.call(D,k,void 0),ne;(ne=0<=X)&&Array.prototype.splice.call(D,X,1),ne&&(J(k),d.g[A].length==0&&(delete d.g[A],d.h--))}}function me(d,k,A,D){for(var X=0;X<d.length;++X){var ne=d[X];if(!ne.da&&ne.listener==k&&ne.capture==!!A&&ne.ha==D)return X}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Le={};function _e(d,k,A,D,X){if(Array.isArray(k)){for(var ne=0;ne<k.length;ne++)_e(d,k[ne],A,D,X);return null}return A=Ye(A),d&&d[W]?d.K(k,A,u(D)?!!D.capture:!1,X):Ue(d,k,A,!1,D,X)}function Ue(d,k,A,D,X,ne){if(!k)throw Error("Invalid event type");var ge=u(X)?!!X.capture:!!X,Pt=ve(d);if(Pt||(d[Se]=Pt=new te(d)),A=Pt.add(k,A,D,ge,ne),A.proxy)return A;if(D=ke(),A.proxy=D,D.src=d,D.listener=A,d.addEventListener)ue||(X=ge),X===void 0&&(X=!1),d.addEventListener(k.toString(),D,X);else if(d.attachEvent)d.attachEvent(Oe(k.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ke(){function d(A){return k.call(d.src,d.listener,A)}const k=xe;return d}function Y(d,k,A,D,X){if(Array.isArray(k))for(var ne=0;ne<k.length;ne++)Y(d,k[ne],A,D,X);else D=u(D)?!!D.capture:!!D,A=Ye(A),d&&d[W]?(d=d.i,k=String(k).toString(),k in d.g&&(ne=d.g[k],A=me(ne,A,D,X),-1<A&&(J(ne[A]),Array.prototype.splice.call(ne,A,1),ne.length==0&&(delete d.g[k],d.h--)))):d&&(d=ve(d))&&(k=d.g[k.toString()],d=-1,k&&(d=me(k,A,D,X)),(A=-1<d?k[d]:null)&&ae(A))}function ae(d){if(typeof d!="number"&&d&&!d.da){var k=d.src;if(k&&k[W])oe(k.i,d);else{var A=d.type,D=d.proxy;k.removeEventListener?k.removeEventListener(A,D,d.capture):k.detachEvent?k.detachEvent(Oe(A),D):k.addListener&&k.removeListener&&k.removeListener(D),(A=ve(k))?(oe(A,d),A.h==0&&(A.src=null,k[Se]=null)):J(d)}}}function Oe(d){return d in Le?Le[d]:Le[d]="on"+d}function xe(d,k){if(d.da)d=!0;else{k=new le(k,this);var A=d.listener,D=d.ha||d.src;d.fa&&ae(d),d=A.call(D,k)}return d}function ve(d){return d=d[Se],d instanceof te?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(k){return d.handleEvent(k)}),d[Fe])}function Ee(){K.call(this),this.i=new te(this),this.M=this,this.F=null}_(Ee,K),Ee.prototype[W]=!0,Ee.prototype.removeEventListener=function(d,k,A,D){Y(this,d,k,A,D)};function de(d,k){var A,D=d.F;if(D)for(A=[];D;D=D.F)A.push(D);if(d=d.M,D=k.type||k,typeof k=="string")k=new Q(k,d);else if(k instanceof Q)k.target=k.target||d;else{var X=k;k=new Q(D,d),w(k,X)}if(X=!0,A)for(var ne=A.length-1;0<=ne;ne--){var ge=k.g=A[ne];X=ye(ge,D,!0,k)&&X}if(ge=k.g=d,X=ye(ge,D,!0,k)&&X,X=ye(ge,D,!1,k)&&X,A)for(ne=0;ne<A.length;ne++)ge=k.g=A[ne],X=ye(ge,D,!1,k)&&X}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var d=this.i,k;for(k in d.g){for(var A=d.g[k],D=0;D<A.length;D++)J(A[D]);delete d.g[k],d.h--}}this.F=null},Ee.prototype.K=function(d,k,A,D){return this.i.add(String(d),k,!1,A,D)},Ee.prototype.L=function(d,k,A,D){return this.i.add(String(d),k,!0,A,D)};function ye(d,k,A,D){if(k=d.i.g[String(k)],!k)return!0;k=k.concat();for(var X=!0,ne=0;ne<k.length;++ne){var ge=k[ne];if(ge&&!ge.da&&ge.capture==A){var Pt=ge.listener,jn=ge.ha||ge.src;ge.fa&&oe(d.i,ge),X=Pt.call(jn,D)!==!1&&X}}return X&&!D.defaultPrevented}function nt(d,k,A){if(typeof d=="function")A&&(d=v(d,A));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:s.setTimeout(d,k||0)}function At(d){d.g=nt(()=>{d.g=null,d.i&&(d.i=!1,At(d))},d.l);const k=d.h;d.h=null,d.m.apply(null,k)}class at extends K{constructor(k,A){super(),this.m=k,this.l=A,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(d){K.call(this),this.h=d,this.g={}}_(be,K);var it=[];function qe(d){P(d.g,function(k,A){this.g.hasOwnProperty(A)&&ae(k)},d),d.g={}}be.prototype.N=function(){be.aa.N.call(this),qe(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=s.JSON.stringify,Pr=s.JSON.parse,Eo=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function ii(){}ii.prototype.h=null;function Mr(d){return d.h||(d.h=d.i())}function Yn(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){Q.call(this,"d")}_(oi,Q);function Z(){Q.call(this,"c")}_(Z,Q);var N={},ie=null;function pe(){return ie=ie||new Ee}N.La="serverreachability";function He(d){Q.call(this,N.La,d)}_(He,Q);function rt(d){const k=pe();de(k,new He(k))}N.STAT_EVENT="statevent";function Xt(d,k){Q.call(this,N.STAT_EVENT,d),this.stat=k}_(Xt,Q);function Je(d){const k=pe();de(k,new Xt(k,d))}N.Ma="timingevent";function Be(d,k){Q.call(this,N.Ma,d),this.size=k}_(Be,Q);function Ge(d,k){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},k)}function Ft(){this.g=!0}Ft.prototype.xa=function(){this.g=!1};function Lr(d,k,A,D,X,ne){d.info(function(){if(d.g)if(ne)for(var ge="",Pt=ne.split("&"),jn=0;jn<Pt.length;jn++){var kt=Pt[jn].split("=");if(1<kt.length){var zn=kt[0];kt=kt[1];var or=zn.split("_");ge=2<=or.length&&or[1]=="type"?ge+(zn+"="+kt+"&"):ge+(zn+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+D+") [attempt "+X+"]: "+k+`
`+A+`
`+ge})}function Dn(d,k,A,D,X,ne,ge){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+X+"]: "+k+`
`+A+`
`+ne+" "+ge})}function St(d,k,A,D){d.info(function(){return"XMLHTTP TEXT ("+k+"): "+Vi(d,A)+(D?" "+D:"")})}function Ut(d,k){d.info(function(){return"TIMEOUT: "+k})}Ft.prototype.info=function(){};function Vi(d,k){if(!d.g)return k;if(!k)return null;try{var A=JSON.parse(k);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var D=A[d];if(!(2>D.length)){var X=D[1];if(Array.isArray(X)&&!(1>X.length)){var ne=X[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<X.length;ge++)X[ge]=""}}}}return gn(A)}catch{return k}}var We={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ot={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ya;function ss(){}_(ss,ii),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},ya=new ss;function vi(d,k,A,D){this.j=d,this.i=k,this.l=A,this.R=D||1,this.U=new be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bd}function bd(){this.i=null,this.g="",this.h=!1}var st={},In={};function Km(d,k,A){d.L=1,d.v=kd(qi(k)),d.m=A,d.P=!0,t1(d,null)}function t1(d,k){d.F=Date.now(),xd(d),d.A=qi(d.v);var A=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),m1(A.i,"t",D),d.C=0,A=d.j.J,d.h=new bd,d.g=N1(d.j,A?k:null,!d.m),0<d.O&&(d.M=new at(v(d.Y,d,d.g),d.O)),k=d.U,A=d.g,D=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(it[0]=X.toString()),X=it);for(var ne=0;ne<X.length;ne++){var ge=_e(A,X[ne],D||k.handleEvent,!1,k.h||k);if(!ge)break;k.g[ge.key]=ge}k=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,k)):(d.u="GET",d.g.ea(d.A,d.u,null,k)),rt(),Lr(d.i,d.u,d.A,d.l,d.R,d.m)}vi.prototype.ca=function(d){d=d.target;const k=this.M;k&&Hi(d)==3?k.j():this.Y(d)},vi.prototype.Y=function(d){try{if(d==this.g)e:{const or=Hi(this.g);var k=this.g.Ba();const us=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||S1(this.g)))){this.J||or!=4||k==7||(k==8||0>=us?rt(3):rt(2)),Gm(this);var A=this.g.Z();this.X=A;t:if(n1(this)){var D=S1(this.g);d="";var X=D.length,ne=Hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){va(this),Ul(this);var ge="";break t}this.h.i=new s.TextDecoder}for(k=0;k<X;k++)this.h.h=!0,d+=this.h.i.decode(D[k],{stream:!(ne&&k==X-1)});D.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=A==200,Dn(this.i,this.u,this.A,this.l,this.R,or,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,jn=this.g;if((Pt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Pt)){var kt=Pt;break t}}kt=null}if(A=kt)St(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qm(this,A);else{this.o=!1,this.s=3,Je(12),va(this),Ul(this);break e}}if(this.P){A=!0;let ai;for(;!this.J&&this.C<ge.length;)if(ai=AA(this,ge),ai==In){or==4&&(this.s=4,Je(14),A=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==st){this.s=4,Je(15),St(this.i,this.l,ge,"[Invalid Chunk]"),A=!1;break}else St(this.i,this.l,ai,null),Qm(this,ai);if(n1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||ge.length!=0||this.h.h||(this.s=1,Je(16),A=!1),this.o=this.o&&A,!A)St(this.i,this.l,ge,"[Invalid Chunked Response]"),va(this),Ul(this);else if(0<ge.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),tg(zn),zn.M=!0,Je(11))}}else St(this.i,this.l,ge,null),Qm(this,ge);or==4&&va(this),this.o&&!this.J&&(or==4?j1(this.j,this):(this.o=!1,xd(this)))}else GA(this.g),A==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),va(this),Ul(this)}}}catch{}finally{}};function n1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function AA(d,k){var A=d.C,D=k.indexOf(`
`,A);return D==-1?In:(A=Number(k.substring(A,D)),isNaN(A)?st:(D+=1,D+A>k.length?In:(k=k.slice(D,D+A),d.C=D+A,k)))}vi.prototype.cancel=function(){this.J=!0,va(this)};function xd(d){d.S=Date.now()+d.I,r1(d,d.I)}function r1(d,k){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ge(v(d.ba,d),k)}function Gm(d){d.B&&(s.clearTimeout(d.B),d.B=null)}vi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ut(this.i,this.A),this.L!=2&&(rt(),Je(17)),va(this),this.s=2,Ul(this)):r1(this,this.S-d)};function Ul(d){d.j.G==0||d.J||j1(d.j,d)}function va(d){Gm(d);var k=d.M;k&&typeof k.ma=="function"&&k.ma(),d.M=null,qe(d.U),d.g&&(k=d.g,d.g=null,k.abort(),k.ma())}function Qm(d,k){try{var A=d.j;if(A.G!=0&&(A.g==d||Xm(A.h,d))){if(!d.K&&Xm(A.h,d)&&A.G==3){try{var D=A.Da.g.parse(k)}catch{D=null}if(Array.isArray(D)&&D.length==3){var X=D;if(X[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)jd(A),Td(A);else break e;eg(A),Je(18)}}else A.za=X[1],0<A.za-A.T&&37500>X[2]&&A.F&&A.v==0&&!A.C&&(A.C=Ge(v(A.Za,A),6e3));if(1>=a1(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else xa(A,11)}else if((d.K||A.g==d)&&jd(A),!g(k))for(X=A.Da.g.parse(k),k=0;k<X.length;k++){let kt=X[k];if(A.T=kt[0],kt=kt[1],A.G==2)if(kt[0]=="c"){A.K=kt[1],A.ia=kt[2];const zn=kt[3];zn!=null&&(A.la=zn,A.j.info("VER="+A.la));const or=kt[4];or!=null&&(A.Aa=or,A.j.info("SVER="+A.Aa));const us=kt[5];us!=null&&typeof us=="number"&&0<us&&(D=1.5*us,A.L=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const ai=d.g;if(ai){const Ad=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ad){var ne=D.h;ne.g||Ad.indexOf("spdy")==-1&&Ad.indexOf("quic")==-1&&Ad.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ym(ne,ne.h),ne.h=null))}if(D.D){const ng=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ng&&(D.ya=ng,Nt(D.I,D.D,ng))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),D=A;var ge=d;if(D.qa=O1(D,D.J?D.ia:null,D.W),ge.K){s1(D.h,ge);var Pt=ge,jn=D.L;jn&&(Pt.I=jn),Pt.B&&(Gm(Pt),xd(Pt)),D.g=ge}else T1(D);0<A.i.length&&Id(A)}else kt[0]!="stop"&&kt[0]!="close"||xa(A,7);else A.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?xa(A,7):Zm(A):kt[0]!="noop"&&A.l&&A.l.ta(kt),A.v=0)}}rt(4)}catch{}}var OA=class{constructor(d,k){this.g=d,this.map=k}};function i1(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function o1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function a1(d){return d.h?1:d.g?d.g.size:0}function Xm(d,k){return d.h?d.h==k:d.g?d.g.has(k):!1}function Ym(d,k){d.g?d.g.add(k):d.h=k}function s1(d,k){d.h&&d.h==k?d.h=null:d.g&&d.g.has(k)&&d.g.delete(k)}i1.prototype.cancel=function(){if(this.i=l1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function l1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let k=d.i;for(const A of d.g.values())k=k.concat(A.D);return k}return S(d.i)}function NA(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var k=[],A=d.length,D=0;D<A;D++)k.push(d[D]);return k}k=[],A=0;for(D in d)k[A++]=d[D];return k}function PA(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var k=[];d=d.length;for(var A=0;A<d;A++)k.push(A);return k}k=[],A=0;for(const D in d)k[A++]=D;return k}}}function c1(d,k){if(d.forEach&&typeof d.forEach=="function")d.forEach(k,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,k,void 0);else for(var A=PA(d),D=NA(d),X=D.length,ne=0;ne<X;ne++)k.call(void 0,D[ne],A&&A[ne],d)}var u1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MA(d,k){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var D=d[A].indexOf("="),X=null;if(0<=D){var ne=d[A].substring(0,D);X=d[A].substring(D+1)}else ne=d[A];k(ne,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ba(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ba){this.h=d.h,wd(this,d.j),this.o=d.o,this.g=d.g,Sd(this,d.s),this.l=d.l;var k=d.i,A=new Hl;A.i=k.i,k.g&&(A.g=new Map(k.g),A.h=k.h),d1(this,A),this.m=d.m}else d&&(k=String(d).match(u1))?(this.h=!1,wd(this,k[1]||"",!0),this.o=Vl(k[2]||""),this.g=Vl(k[3]||"",!0),Sd(this,k[4]),this.l=Vl(k[5]||"",!0),d1(this,k[6]||"",!0),this.m=Vl(k[7]||"")):(this.h=!1,this.i=new Hl(null,this.h))}ba.prototype.toString=function(){var d=[],k=this.j;k&&d.push(ql(k,h1,!0),":");var A=this.g;return(A||k=="file")&&(d.push("//"),(k=this.o)&&d.push(ql(k,h1,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(ql(A,A.charAt(0)=="/"?zA:DA,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",ql(A,$A)),d.join("")};function qi(d){return new ba(d)}function wd(d,k,A){d.j=A?Vl(k,!0):k,d.j&&(d.j=d.j.replace(/:$/,""))}function Sd(d,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);d.s=k}else d.s=null}function d1(d,k,A){k instanceof Hl?(d.i=k,WA(d.i,d.h)):(A||(k=ql(k,FA)),d.i=new Hl(k,d.h))}function Nt(d,k,A){d.i.set(k,A)}function kd(d){return Nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Vl(d,k){return d?k?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ql(d,k,A){return typeof d=="string"?(d=encodeURI(d).replace(k,LA),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function LA(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var h1=/[#\/\?@]/g,DA=/[#\?:]/g,zA=/[#\?]/g,FA=/[#\?@]/g,$A=/#/g;function Hl(d,k){this.h=this.g=null,this.i=d||null,this.j=!!k}function To(d){d.g||(d.g=new Map,d.h=0,d.i&&MA(d.i,function(k,A){d.add(decodeURIComponent(k.replace(/\+/g," ")),A)}))}t=Hl.prototype,t.add=function(d,k){To(this),this.i=null,d=ls(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(k),this.h+=1,this};function f1(d,k){To(d),k=ls(d,k),d.g.has(k)&&(d.i=null,d.h-=d.g.get(k).length,d.g.delete(k))}function p1(d,k){return To(d),k=ls(d,k),d.g.has(k)}t.forEach=function(d,k){To(this),this.g.forEach(function(A,D){A.forEach(function(X){d.call(k,X,D,this)},this)},this)},t.na=function(){To(this);const d=Array.from(this.g.values()),k=Array.from(this.g.keys()),A=[];for(let D=0;D<k.length;D++){const X=d[D];for(let ne=0;ne<X.length;ne++)A.push(k[D])}return A},t.V=function(d){To(this);let k=[];if(typeof d=="string")p1(this,d)&&(k=k.concat(this.g.get(ls(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)k=k.concat(d[A])}return k},t.set=function(d,k){return To(this),this.i=null,d=ls(this,d),p1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[k]),this.h+=1,this},t.get=function(d,k){return d?(d=this.V(d),0<d.length?String(d[0]):k):k};function m1(d,k,A){f1(d,k),0<A.length&&(d.i=null,d.g.set(ls(d,k),S(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],k=Array.from(this.g.keys());for(var A=0;A<k.length;A++){var D=k[A];const ne=encodeURIComponent(String(D)),ge=this.V(D);for(D=0;D<ge.length;D++){var X=ne;ge[D]!==""&&(X+="="+encodeURIComponent(String(ge[D]))),d.push(X)}}return this.i=d.join("&")};function ls(d,k){return k=String(k),d.j&&(k=k.toLowerCase()),k}function WA(d,k){k&&!d.j&&(To(d),d.i=null,d.g.forEach(function(A,D){var X=D.toLowerCase();D!=X&&(f1(this,D),m1(this,X,A))},d)),d.j=k}function BA(d,k){const A=new Ft;if(s.Image){const D=new Image;D.onload=b(Io,A,"TestLoadImage: loaded",!0,k,D),D.onerror=b(Io,A,"TestLoadImage: error",!1,k,D),D.onabort=b(Io,A,"TestLoadImage: abort",!1,k,D),D.ontimeout=b(Io,A,"TestLoadImage: timeout",!1,k,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else k(!1)}function UA(d,k){const A=new Ft,D=new AbortController,X=setTimeout(()=>{D.abort(),Io(A,"TestPingServer: timeout",!1,k)},1e4);fetch(d,{signal:D.signal}).then(ne=>{clearTimeout(X),ne.ok?Io(A,"TestPingServer: ok",!0,k):Io(A,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(X),Io(A,"TestPingServer: error",!1,k)})}function Io(d,k,A,D,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),D(A)}catch{}}function VA(){this.g=new Eo}function qA(d,k,A){const D=A||"";try{c1(d,function(X,ne){let ge=X;u(X)&&(ge=gn(X)),k.push(D+ne+"="+encodeURIComponent(ge))})}catch(X){throw k.push(D+"type="+encodeURIComponent("_badmap")),X}}function Cd(d){this.l=d.Ub||null,this.j=d.eb||!1}_(Cd,ii),Cd.prototype.g=function(){return new _d(this.l,this.j)},Cd.prototype.i=function(d){return function(){return d}}({});function _d(d,k){Ee.call(this),this.D=d,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(_d,Ee),t=_d.prototype,t.open=function(d,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=k,this.readyState=1,Gl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(k.body=d),(this.D||s).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;g1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function g1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var k=d.value?d.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!d.done}))&&(this.response=this.responseText+=k)}d.done?Kl(this):Gl(this),this.readyState==3&&g1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Kl(this))},t.Qa=function(d){this.g&&(this.response=d,Kl(this))},t.ga=function(){this.g&&Kl(this)};function Kl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Gl(d)}t.setRequestHeader=function(d,k){this.u.append(d,k)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],k=this.h.entries();for(var A=k.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=k.next();return d.join(`\r
`)};function Gl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function y1(d){let k="";return P(d,function(A,D){k+=D,k+=":",k+=A,k+=`\r
`}),k}function Jm(d,k,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=y1(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):Nt(d,k,A))}function Yt(d){Ee.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Yt,Ee);var HA=/^https?$/i,KA=["POST","PUT"];t=Yt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,k,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);k=k?k.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ya.g(),this.v=this.o?Mr(this.o):Mr(ya),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(k,String(d),!0),this.B=!1}catch(ne){v1(this,ne);return}if(d=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var X in D)A.set(X,D[X]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())A.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(KA,k,void 0))||D||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of A)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{w1(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){v1(this,ne)}};function v1(d,k){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=k,d.m=5,b1(d),Ed(d)}function b1(d){d.A||(d.A=!0,de(d,"complete"),de(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,de(this,"complete"),de(this,"abort"),Ed(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ed(this,!0)),Yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?x1(this):this.bb())},t.bb=function(){x1(this)};function x1(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Hi(d)!=4||d.Z()!=2)){if(d.u&&Hi(d)==4)nt(d.Ea,0,d);else if(de(d,"readystatechange"),Hi(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var A;if(!(A=k)){var D;if(D=ge===0){var X=String(d.D).match(u1)[1]||null;!X&&s.self&&s.self.location&&(X=s.self.location.protocol.slice(0,-1)),D=!HA.test(X?X.toLowerCase():"")}A=D}if(A)de(d,"complete"),de(d,"success");else{d.m=6;try{var ne=2<Hi(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",b1(d)}}finally{Ed(d)}}}}function Ed(d,k){if(d.g){w1(d);const A=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,k||de(d,"ready");try{A.onreadystatechange=D}catch{}}}function w1(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Hi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var k=this.g.responseText;return d&&k.indexOf(d)==0&&(k=k.substring(d.length)),Pr(k)}};function S1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function GA(d){const k={};d=(d.g&&2<=Hi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(g(d[D]))continue;var A=R(d[D]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ne=k[X]||[];k[X]=ne,ne.push(A)}E(k,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ql(d,k,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||k}function k1(d){this.Aa=0,this.i=[],this.j=new Ft,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ql("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ql("baseRetryDelayMs",5e3,d),this.cb=Ql("retryDelaySeedMs",1e4,d),this.Wa=Ql("forwardChannelMaxRetries",2,d),this.wa=Ql("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new i1(d&&d.concurrentRequestLimit),this.Da=new VA,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=k1.prototype,t.la=8,t.G=1,t.connect=function(d,k,A,D){Je(0),this.W=d,this.H=k||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.I=O1(this,null,this.W),Id(this)};function Zm(d){if(C1(d),d.G==3){var k=d.U++,A=qi(d.I);if(Nt(A,"SID",d.K),Nt(A,"RID",k),Nt(A,"TYPE","terminate"),Xl(d,A),k=new vi(d,d.j,k),k.L=2,k.v=kd(qi(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(k.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=k.v,A=!0),A||(k.g=N1(k.j,null),k.g.ea(k.v)),k.F=Date.now(),xd(k)}A1(d)}function Td(d){d.g&&(tg(d),d.g.cancel(),d.g=null)}function C1(d){Td(d),d.u&&(s.clearTimeout(d.u),d.u=null),jd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Id(d){if(!o1(d.h)&&!d.s){d.s=!0;var k=d.Ga;$||q(),F||($(),F=!0),U.add(k,d),d.B=0}}function QA(d,k){return a1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=k.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ge(v(d.Ga,d,k),R1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new vi(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=p(ne),w(ne,this.S)):ne=this.S),this.m!==null||this.O||(X.H=ne,ne=null),this.P)e:{for(var k=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(k+=D,4096<k){k=A;break e}if(k===4096||A===this.i.length-1){k=A+1;break e}}k=1e3}else k=1e3;k=E1(this,X,k),A=qi(this.I),Nt(A,"RID",d),Nt(A,"CVER",22),this.D&&Nt(A,"X-HTTP-Session-Id",this.D),Xl(this,A),ne&&(this.O?k="headers="+encodeURIComponent(String(y1(ne)))+"&"+k:this.m&&Jm(A,this.m,ne)),Ym(this.h,X),this.Ua&&Nt(A,"TYPE","init"),this.P?(Nt(A,"$req",k),Nt(A,"SID","null"),X.T=!0,Km(X,A,null)):Km(X,A,k),this.G=2}}else this.G==3&&(d?_1(this,d):this.i.length==0||o1(this.h)||_1(this))};function _1(d,k){var A;k?A=k.l:A=d.U++;const D=qi(d.I);Nt(D,"SID",d.K),Nt(D,"RID",A),Nt(D,"AID",d.T),Xl(d,D),d.m&&d.o&&Jm(D,d.m,d.o),A=new vi(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),k&&(d.i=k.D.concat(d.i)),k=E1(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ym(d.h,A),Km(A,D,k)}function Xl(d,k){d.H&&P(d.H,function(A,D){Nt(k,D,A)}),d.l&&c1({},function(A,D){Nt(k,D,A)})}function E1(d,k,A){A=Math.min(d.i.length,A);var D=d.l?v(d.l.Na,d.l,d):null;e:{var X=d.i;let ne=-1;for(;;){const ge=["count="+A];ne==-1?0<A?(ne=X[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let Pt=!0;for(let jn=0;jn<A;jn++){let kt=X[jn].g;const zn=X[jn].map;if(kt-=ne,0>kt)ne=Math.max(0,X[jn].g-100),Pt=!1;else try{qA(zn,ge,"req"+kt+"_")}catch{D&&D(zn)}}if(Pt){D=ge.join("&");break e}}}return d=d.i.splice(0,A),k.D=d,D}function T1(d){if(!d.g&&!d.u){d.Y=1;var k=d.Fa;$||q(),F||($(),F=!0),U.add(k,d),d.v=0}}function eg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ge(v(d.Fa,d),R1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,I1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ge(v(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Td(this),I1(this))};function tg(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function I1(d){d.g=new vi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var k=qi(d.qa);Nt(k,"RID","rpc"),Nt(k,"SID",d.K),Nt(k,"AID",d.T),Nt(k,"CI",d.F?"0":"1"),!d.F&&d.ja&&Nt(k,"TO",d.ja),Nt(k,"TYPE","xmlhttp"),Xl(d,k),d.m&&d.o&&Jm(k,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=kd(qi(k)),A.m=null,A.P=!0,t1(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Td(this),eg(this),Je(19))};function jd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function j1(d,k){var A=null;if(d.g==k){jd(d),tg(d),d.g=null;var D=2}else if(Xm(d.h,k))A=k.D,s1(d.h,k),D=1;else return;if(d.G!=0){if(k.o)if(D==1){A=k.m?k.m.length:0,k=Date.now()-k.F;var X=d.B;D=pe(),de(D,new Be(D,A)),Id(d)}else T1(d);else if(X=k.s,X==3||X==0&&0<k.X||!(D==1&&QA(d,k)||D==2&&eg(d)))switch(A&&0<A.length&&(k=d.h,k.i=k.i.concat(A)),X){case 1:xa(d,5);break;case 4:xa(d,10);break;case 3:xa(d,6);break;default:xa(d,2)}}}function R1(d,k){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*k}function xa(d,k){if(d.j.info("Error code "+k),k==2){var A=v(d.fb,d),D=d.Xa;const X=!D;D=new ba(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||wd(D,"https"),kd(D),X?BA(D.toString(),A):UA(D.toString(),A)}else Je(2);d.G=0,d.l&&d.l.sa(k),A1(d),C1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function A1(d){if(d.G=0,d.ka=[],d.l){const k=l1(d.h);(k.length!=0||d.i.length!=0)&&(T(d.ka,k),T(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function O1(d,k,A){var D=A instanceof ba?qi(A):new ba(A);if(D.g!="")k&&(D.g=k+"."+D.g),Sd(D,D.s);else{var X=s.location;D=X.protocol,k=k?k+"."+X.hostname:X.hostname,X=+X.port;var ne=new ba(null);D&&wd(ne,D),k&&(ne.g=k),X&&Sd(ne,X),A&&(ne.l=A),D=ne}return A=d.D,k=d.ya,A&&k&&Nt(D,A,k),Nt(D,"VER",d.la),Xl(d,D),D}function N1(d,k,A){if(k&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=d.Ca&&!d.pa?new Yt(new Cd({eb:A})):new Yt(d.pa),k.Ha(d.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function P1(){}t=P1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rd(){}Rd.prototype.g=function(d,k){return new vr(d,k)};function vr(d,k){Ee.call(this),this.g=new k1(k),this.l=d,this.h=k&&k.messageUrlParams||null,d=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(d?d["X-WebChannel-Content-Type"]=k.messageContentType:d={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(d?d["X-WebChannel-Client-Profile"]=k.va:d={"X-WebChannel-Client-Profile":k.va}),this.g.S=d,(d=k&&k.Sb)&&!g(d)&&(this.g.m=d),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!g(k)&&(this.g.D=k,d=this.h,d!==null&&k in d&&(d=this.h,k in d&&delete d[k])),this.j=new cs(this)}_(vr,Ee),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Zm(this.g)},vr.prototype.o=function(d){var k=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=gn(d),d=A);k.i.push(new OA(k.Ya++,d)),k.G==3&&Id(k)},vr.prototype.N=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,vr.aa.N.call(this)};function M1(d){oi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var k=d.__sm__;if(k){e:{for(const A in k){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,k=k!==null&&d in k?k[d]:void 0),this.data=k}else this.data=d}_(M1,oi);function L1(){Z.call(this),this.status=1}_(L1,Z);function cs(d){this.g=d}_(cs,P1),cs.prototype.ua=function(){de(this.g,"a")},cs.prototype.ta=function(d){de(this.g,new M1(d))},cs.prototype.sa=function(d){de(this.g,new L1)},cs.prototype.ra=function(){de(this.g,"b")},Rd.prototype.createWebChannel=Rd.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,iT=function(){return new Rd},rT=function(){return pe()},nT=N,d0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Eh=We,Ot.COMPLETE="complete",tT=Ot,Yn.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Sc=Yn,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,eT=Yt}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const hS="@firebase/firestore";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Al="10.14.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Va=new lb("@firebase/firestore");function oc(){return Va.logLevel}function Pe(t,...e){if(Va.logLevel<=mt.DEBUG){const n=e.map(db);Va.debug(`Firestore (${Al}): ${t}`,...n)}}function go(t,...e){if(Va.logLevel<=mt.ERROR){const n=e.map(db);Va.error(`Firestore (${Al}): ${t}`,...n)}}function qa(t,...e){if(Va.logLevel<=mt.WARN){const n=e.map(db);Va.warn(`Firestore (${Al}): ${t}`,...n)}}function db(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ze(t="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+t;throw go(e),new Error(e)}function _t(t,e){t||Ze()}function tt(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qn.UNAUTHENTICATED))}shutdown(){}}class z6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F6{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ao,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},s=c=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>s(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?s(c):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ao)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string"),new oT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new qn(e)}}class $6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class W6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_t(this.o===void 0);const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string"),this.R=n.token,new B6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=V6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new et(e)}static min(){return new et(new pn(0,0))}static max(){return new et(new pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(),r===void 0?r=e.length-n:r>e.length-n&&Ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends pu{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends pu{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return q6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Te(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Te(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Te(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Dt.fromString(e))}static fromName(e){return new Ve(Dt.fromString(e).popFirst(5))}static empty(){return new Ve(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Dt(e.slice()))}}function H6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new ra(i,Ve.empty(),e)}function K6(t){return new ra(t.readTime,t.key,-1)}class ra{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ra(et.min(),Ve.empty(),-1)}static max(){return new ra(et.max(),Ve.empty(),-1)}}function G6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Q6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Vu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==Q6)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++s,s===o&&r(a)},h=>i(h))}})}static doWhile(e,n){return new ce((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Y6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qu(t){return t.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fb.oe=-1;function jp(t){return t==null}function bf(t){return t===0&&1/t==-1/0}function J6(t){return typeof t=="number"&&Number.isInteger(t)&&!bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=o??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new An(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(t,e,n,r,i){return this}insert(t,e,n){return new An(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pS(this.data.getIterator())}getIteratorFrom(e){return new pS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class pS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new Pn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lT("Invalid base64 string: "+i):i}}(e);return new En(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const Z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(_t(!!t),typeof t=="string"){let e=0;const n=Z6.exec(t);if(_t(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ha(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mb(t){const e=t.mapValue.fields.__previous_value__;return pb(e)?mb(e):e}function mu(t){const e=ia(t.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eM{constructor(e,n,r,i,o,a,s,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=u}}class cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jd={mapValue:{}};function Ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pb(t)?4:nM(t)?9007199254740991:tM(t)?10:11:Ze()}function Mi(t,e){if(t===e)return!0;const n=Ka(t);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ia(r.timestampValue),a=ia(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ha(r.bytesValue).isEqual(Ha(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nn(r.geoPointValue.latitude)===nn(i.geoPointValue.latitude)&&nn(r.geoPointValue.longitude)===nn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nn(r.integerValue)===nn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=nn(r.doubleValue),a=nn(i.doubleValue);return o===a?bf(o)===bf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(fS(o)!==fS(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!Mi(o[s],a[s])))return!1;return!0}(t,e);default:return Ze()}}function gu(t,e){return(t.values||[]).find(n=>Mi(n,e))!==void 0}function ul(t,e){if(t===e)return 0;const n=Ka(t),r=Ka(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=nn(i.integerValue||i.doubleValue),s=nn(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(t,e);case 3:return mS(t.timestampValue,e.timestampValue);case 4:return mS(mu(t),mu(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ha(i),s=Ha(o);return a.compareTo(s)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),s=o.split("/");for(let c=0;c<a.length&&c<s.length;c++){const u=bt(a[c],s[c]);if(u!==0)return u}return bt(a.length,s.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=bt(nn(i.latitude),nn(o.latitude));return a!==0?a:bt(nn(i.longitude),nn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,s,c,u;const h=i.fields||{},f=o.fields||{},v=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(s=f.value)===null||s===void 0?void 0:s.arrayValue,_=bt(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((u=b==null?void 0:b.values)===null||u===void 0?void 0:u.length)||0);return _!==0?_:gS(v,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Jd.mapValue&&o===Jd.mapValue)return 0;if(i===Jd.mapValue)return 1;if(o===Jd.mapValue)return-1;const a=i.fields||{},s=Object.keys(a),c=o.fields||{},u=Object.keys(c);s.sort(),u.sort();for(let h=0;h<s.length&&h<u.length;++h){const f=bt(s[h],u[h]);if(f!==0)return f;const v=ul(a[s[h]],c[u[h]]);if(v!==0)return v}return bt(s.length,u.length)}(t.mapValue,e.mapValue);default:throw Ze()}}function mS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=ia(t),r=ia(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function gS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ul(n[i],r[i]);if(o)return o}return bt(n.length,r.length)}function dl(t){return h0(t)}function h0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const n=ia(e);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return Ha(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return Ve.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let n="[",r=!0;for(const i of e.values||[])r?r=!1:n+=",",n+=h0(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+=`${o}:${h0(e.fields[o])}`;return r+"}"}(t.mapValue):Ze()}function yS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f0(t){return!!t&&"integerValue"in t}function gb(t){return!!t&&"arrayValue"in t}function vS(t){return!!t&&"nullValue"in t}function bS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function tM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Lc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new lr(Lc(this.value))}}function cT(t){const e=[];return rs(t.fields,(n,r)=>{const i=new Cn([n]);if(Th(r)){const o=cT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Sr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Kn(e,0,et.min(),et.min(),et.min(),lr.empty(),0)}static newFoundDocument(e,n,r,i){return new Kn(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Kn(e,2,n,et.min(),et.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,et.min(),et.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xf{constructor(e,n){this.position=e,this.inclusive=n}}function xS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Ve.comparator(Ve.fromName(a.referenceValue),n.key):r=ul(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mi(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function rM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uT{}class fn extends uT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oM(e,n,r):n==="array-contains"?new lM(e,r):n==="in"?new cM(e,r):n==="not-in"?new uM(e,r):n==="array-contains-any"?new dM(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aM(e,r):new sM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ul(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends uT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gi(e,n)}matches(e){return dT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dT(t){return t.op==="and"}function hT(t){return iM(t)&&dT(t)}function iM(t){for(const e of t.filters)if(e instanceof gi)return!1;return!0}function p0(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(hT(t))return t.filters.map(e=>p0(e)).join(",");{const e=t.filters.map(n=>p0(n)).join(",");return`${t.op}(${e})`}}function fT(t,e){return t instanceof fn?function(n,r){return r instanceof fn&&n.op===r.op&&n.field.isEqual(r.field)&&Mi(n.value,r.value)}(t,e):t instanceof gi?function(n,r){return r instanceof gi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,a)=>i&&fT(o,r.filters[a]),!0):!1}(t,e):void Ze()}function pT(t){return t instanceof fn?function(e){return`${e.field.canonicalString()} ${e.op} ${dl(e.value)}`}(t):t instanceof gi?function(e){return e.op.toString()+" {"+e.getFilters().map(pT).join(" ,")+"}"}(t):"Filter"}class oM extends fn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class aM extends fn{constructor(e,n){super(e,"in",n),this.keys=mT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sM extends fn{constructor(e,n){super(e,"not-in",n),this.keys=mT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class lM extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gb(n)&&gu(n.arrayValue,this.value)}}class cM extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class uM extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gu(this.value.arrayValue,n)}}class dM extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hM{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function SS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new hM(t,e,n,r,i,o,a)}function yb(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>p0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ue=n}return e.ue}function vb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wS(t.startAt,e.startAt)&&wS(t.endAt,e.endAt)}function m0(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ol{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fM(t,e,n,r,i,o,a,s){return new Ol(t,e,n,r,i,o,a,s)}function Rp(t){return new Ol(t)}function kS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gT(t){return t.collectionGroup!==null}function Dc(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new Pn(Cn.comparator);return i.filters.forEach(a=>{a.getFlattenedFilters().forEach(s=>{s.isInequality()&&(o=o.add(s.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new yu(i,r))}),n.has(Cn.keyField().canonicalString())||e.ce.push(new yu(Cn.keyField(),r))}return e.ce}function ji(t){const e=tt(t);return e.le||(e.le=pM(e,Dc(t))),e.le}function pM(t,e){if(t.limitType==="F")return SS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new yu(i.field,o)});const n=t.endAt?new xf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xf(t.startAt.position,t.startAt.inclusive):null;return SS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g0(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y0(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return vb(ji(t),ji(e))&&t.limitType===e.limitType}function yT(t){return`${yb(ji(t))}|lt:${t.limitType}`}function bs(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>pT(r)).join(", ")}]`),jp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),`Target(${n})`}(ji(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ve.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Dc(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,a){const s=xS(i,o,a);return i.inclusive?s<=0:s<0}(n.startAt,Dc(n),r)||n.endAt&&!function(i,o,a){const s=xS(i,o,a);return i.inclusive?s>=0:s>0}(n.endAt,Dc(n),r))}(t,e)}function mM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vT(t){return(e,n)=>{let r=!1;for(const i of Dc(t)){const o=gM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gM(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(i,o,a){const s=o.data.field(i),c=a.data.field(i);return s!==null&&c!==null?ul(s,c):Ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return sT(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yM=new Qt(Ve.comparator);function yo(){return yM}const bT=new Qt(Ve.comparator);function kc(...t){let e=bT;for(const n of t)e=e.insert(n.key,n);return e}function xT(t){let e=bT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Aa(){return zc()}function wT(){return zc()}function zc(){return new Nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const vM=new Qt(Ve.comparator),bM=new Pn(Ve.comparator);function pt(...t){let e=bM;for(const n of t)e=e.add(n);return e}const xM=new Pn(bt);function wM(){return xM}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function ST(t){return{integerValue:""+t}}function SM(t,e){return J6(e)?ST(e):bb(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Np{constructor(){this._=void 0}}function kM(t,e,n){return t instanceof vu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&pb(i)&&(i=mb(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof bu?CT(t,e):t instanceof xu?_T(t,e):function(r,i){const o=kT(r,i),a=CS(o)+CS(r.Pe);return f0(o)&&f0(r.Pe)?ST(a):bb(r.serializer,a)}(t,e)}function CM(t,e,n){return t instanceof bu?CT(t,e):t instanceof xu?_T(t,e):n}function kT(t,e){return t instanceof wf?function(n){return f0(n)||function(r){return!!r&&"doubleValue"in r}(n)}(e)?e:{integerValue:0}:null}class vu extends Np{}class bu extends Np{constructor(e){super(),this.elements=e}}function CT(t,e){const n=ET(e);for(const r of t.elements)n.some(i=>Mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class xu extends Np{constructor(e){super(),this.elements=e}}function _T(t,e){let n=ET(e);for(const r of t.elements)n=n.filter(i=>!Mi(i,r));return{arrayValue:{values:n}}}class wf extends Np{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function CS(t){return nn(t.integerValue||t.doubleValue)}function ET(t){return gb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _M{constructor(e,n){this.field=e,this.transform=n}}function EM(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof bu&&r instanceof bu||n instanceof xu&&r instanceof xu?ll(n.elements,r.elements,Mi):n instanceof wf&&r instanceof wf?Mi(n.Pe,r.Pe):n instanceof vu&&r instanceof vu}(t.transform,e.transform)}class TM{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pp{}function TT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xb(t.key,Vr.none()):new Hu(t.key,t.data,Vr.none());{const n=t.data,r=lr.empty();let i=new Pn(Cn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new fa(t.key,r,new Sr(i.toArray()),Vr.none())}}function IM(t,e,n){t instanceof Hu?function(r,i,o){const a=r.value.clone(),s=ES(r.fieldTransforms,i,o.transformResults);a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(r,i,o){if(!Ih(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=ES(r.fieldTransforms,i,o.transformResults),s=i.data;s.setAll(IT(r)),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof Hu?function(i,o,a,s){if(!Ih(i.precondition,o))return a;const c=i.value.clone(),u=TS(i.fieldTransforms,s,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fa?function(i,o,a,s){if(!Ih(i.precondition,o))return a;const c=TS(i.fieldTransforms,s,o),u=o.data;return u.setAll(IT(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Ih(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function jM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=kT(r.transform,i||null);o!=null&&(n===null&&(n=lr.empty()),n.set(r.field,o))}return n||null}function _S(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ll(n,r,(i,o)=>EM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hu extends Pp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fa extends Pp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ES(t,e,n){const r=new Map;_t(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,CM(a,s,n[i]))}return r}function TS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,kM(o,a,e))}return r}class xb extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RM extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&IM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wT();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const c=TT(a,s);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,r)=>_S(n,r))&&ll(this.baseMutations,e.baseMutations,(n,r)=>_S(n,r))}}class wb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length);let i=function(){return vM}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new wb(e,n,r,i)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var un,gt;function PM(t){switch(t){default:return Ze();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function jT(t){if(t===void 0)return go("GRPC error has no .code"),se.UNKNOWN;switch(t){case un.OK:return se.OK;case un.CANCELLED:return se.CANCELLED;case un.UNKNOWN:return se.UNKNOWN;case un.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case un.INTERNAL:return se.INTERNAL;case un.UNAVAILABLE:return se.UNAVAILABLE;case un.UNAUTHENTICATED:return se.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case un.NOT_FOUND:return se.NOT_FOUND;case un.ALREADY_EXISTS:return se.ALREADY_EXISTS;case un.PERMISSION_DENIED:return se.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case un.ABORTED:return se.ABORTED;case un.OUT_OF_RANGE:return se.OUT_OF_RANGE;case un.UNIMPLEMENTED:return se.UNIMPLEMENTED;case un.DATA_LOSS:return se.DATA_LOSS;default:return Ze()}}(gt=un||(un={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function MM(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LM=new Ma([4294967295,4294967295],0);function IS(t){const e=MM().encode(t),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function jS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ma([n,r],0),new Ma([i,o],0)]}class Sb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cc(`Invalid padding: ${n}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ma.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ma.fromNumber(r)));return i.compare(LM)===1&&(i=new Ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=IS(e),[r,i]=jS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Sb(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=IS(e),[r,i]=jS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mp(et.min(),i,new Qt(bt),yo(),pt())}}class Ku{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ku(r,n,pt(),pt(),pt())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class RT{constructor(e,n){this.targetId=e,this.me=n}}class AT{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class RS{constructor(){this.fe=0,this.ge=OS(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pt(),n=pt(),r=pt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze()}}),new Ku(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=OS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class DM{constructor(e){this.Le=e,this.Be=new Map,this.ke=yo(),this.qe=AS(),this.Qe=new Qt(bt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(m0(o))if(r===0){const a=new Ve(o.path);this.Ue(n,a,Kn.newNoDocument(a,et.min()))}else _t(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),c=s?this.Xe(s,e,a):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Ha(r).toUint8Array()}catch(c){if(c instanceof lT)return qa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{s=new Sb(a,i,o)}catch(c){return qa(c instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&m0(s.target)){const c=new Ve(s.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Kn.newNoDocument(c,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=pt();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Mp(e,n,this.Qe,this.ke,r);return this.ke=yo(),this.qe=AS(),this.Qe=new Qt(bt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new RS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pn(bt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new RS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AS(){return new Qt(Ve.comparator)}function OS(){return new Qt(Ve.comparator)}const zM={asc:"ASCENDING",desc:"DESCENDING"},FM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$M={and:"AND",or:"OR"};class WM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v0(t,e){return t.useProto3Json||jp(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BM(t,e){return Sf(t,e.toTimestamp())}function Ri(t){return _t(!!t),et.fromTimestamp(function(e){const n=ia(e);return new pn(n.seconds,n.nanos)}(t))}function kb(t,e){return b0(t,e).canonicalString()}function b0(t,e){const n=function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NT(t){const e=Dt.fromString(t);return _t(zT(e)),e}function x0(t,e){return kb(t.databaseId,e.path)}function Mg(t,e){const n=NT(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(MT(n))}function PT(t,e){return kb(t.databaseId,e)}function UM(t){const e=NT(t);return e.length===4?Dt.emptyPath():MT(e)}function w0(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MT(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NS(t,e,n){return{name:x0(t,e),fields:n.value.mapValue.fields}}function VM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(_t(u===void 0||typeof u=="string"),En.fromBase64String(u||"")):(_t(u===void 0||u instanceof Buffer||u instanceof Uint8Array),En.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(c){const u=c.code===void 0?se.UNKNOWN:jT(c.code);return new Te(u,c.message||"")}(a);n=new AT(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mg(t,r.document.name),o=Ri(r.document.updateTime),a=r.document.createTime?Ri(r.document.createTime):et.min(),s=new lr({mapValue:{fields:r.document.fields}}),c=Kn.newFoundDocument(i,o,a,s),u=r.targetIds||[],h=r.removedTargetIds||[];n=new jh(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mg(t,r.document),o=r.readTime?Ri(r.readTime):et.min(),a=Kn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new jh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mg(t,r.document),o=r.removedTargetIds||[];n=new jh([],o,i,null)}else{if(!("filter"in e))return Ze();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new NM(i,o),s=r.targetId;n=new RT(s,a)}}return n}function qM(t,e){let n;if(e instanceof Hu)n={update:NS(t,e.key,e.value)};else if(e instanceof xb)n={delete:x0(t,e.key)};else if(e instanceof fa)n={update:NS(t,e.key,e.data),updateMask:e3(e.fieldMask)};else{if(!(e instanceof RM))return Ze();n={verify:x0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof vu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:BM(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ze()}(t,e.precondition)),n}function HM(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Ri(r.updateTime):Ri(i);return o.isEqual(et.min())&&(o=Ri(i)),new TM(o,r.transformResults||[])}(n,e))):[]}function KM(t,e){return{documents:[PT(t,e.path)]}}function GM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PT(t,i);const o=function(c){if(c.length!==0)return DT(gi.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:xs(h.field),direction:YM(h.dir)}}(u))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=v0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function QM(t){let e=UM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(h){const f=LT(h);return f instanceof gi&&hT(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(v){return new yu(ws(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let s=null;n.limit&&(s=function(h){let f;return f=typeof h=="object"?h.value:h,jp(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,v=h.values||[];return new xf(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,v=h.values||[];return new xf(v,f)}(n.endAt)),fM(e,i,a,o,s,"F",c,u)}function XM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ws(e.unaryFilter.field);return fn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(e.unaryFilter.field);return fn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ws(e.unaryFilter.field);return fn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(e.unaryFilter.field);return fn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(t):t.fieldFilter!==void 0?function(e){return fn.create(ws(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return gi.create(e.compositeFilter.filters.map(n=>LT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ze()}}(e.compositeFilter.op))}(t):Ze()}function YM(t){return zM[t]}function JM(t){return FM[t]}function ZM(t){return $M[t]}function xs(t){return{fieldPath:t.canonicalString()}}function ws(t){return Cn.fromServerFormat(t.fieldPath)}function DT(t){return t instanceof fn?function(e){if(e.op==="=="){if(bS(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NAN"}};if(vS(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bS(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NAN"}};if(vS(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(e.field),op:JM(e.op),value:e.value}}}(t):t instanceof gi?function(e){const n=e.getFilters().map(r=>DT(r));return n.length===1?n[0]:{compositeFilter:{op:ZM(e.op),filters:n}}}(t):Ze()}function e3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wo{constructor(e,n,r,i,o=et.min(),a=et.min(),s=En.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=c}withSequenceNumber(e){return new Wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t3{constructor(e){this.ct=e}}function n3(t){const e=QM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y0(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r3{constructor(){this.un=new i3}addToCollectionParentIndex(e,n){return this.un.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(ra.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class i3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(Dt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(Dt.comparator)).toArray()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hl(0)}static kn(){return new hl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o3{constructor(){this.changes=new Nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class s3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,Sr.empty(),pn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){const i=Aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=kc();return o.forEach((s,c)=>{a=a.insert(s,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=yo();const a=zc(),s=function(){return zc()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof fa)?o=o.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),Fc(h.mutation,u,h.mutation.getFieldMask(),pn.now())):a.set(u.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var f;return s.set(u,new a3(h,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=zc();let i=new Qt((a,s)=>a-s),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Sr.empty();h=s.applyToLocalView(u,h),r.set(c,h);const f=(i.get(s.batchId)||pt()).add(c);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const c=s.getNext(),u=c.key,h=c.value,f=wT();h.forEach(v=>{if(!o.has(v)){const b=TT(n.get(v),r.get(v));b!==null&&f.set(v,b),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ce.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(Aa());let s=-1,c=o;return a.next(u=>ce.forEach(u,(h,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(h)?ce.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,pt())).next(h=>({batchId:s,changes:xT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let i=kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=kc();return this.indexManager.getCollectionParents(e,o).next(s=>ce.forEach(s,c=>{const u=function(h,f){return new Ol(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,v)=>{a=a.insert(f,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Kn.newInvalidDocument(h)))});let s=kc();return a.forEach((c,u)=>{const h=o.get(c);h!==void 0&&Fc(h.mutation,u,Sr.empty(),pn.now()),Op(n,u)&&(s=s.insert(c,u))}),s})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ri(r.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:n3(r.bundledQuery),readTime:Ri(r.readTime)}}(n)),ce.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c3{constructor(){this.overlays=new Qt(Ve.comparator),this.Ir=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Aa();return ce.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=Aa(),o=n.length+1,a=new Ve(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const c=s.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Aa(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const s=Aa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>s.set(u,h)),!(s.size()>=i)););return ce.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new OM(n,r));let o=this.Ir.get(n);o===void 0&&(o=pt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u3{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cb{constructor(){this.Tr=new Pn(Sn.Er),this.dr=new Pn(Sn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Sn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ve(new Dt([])),r=new Sn(n,e),i=new Sn(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ve(new Dt([])),r=new Sn(n,e),i=new Sn(n,e+1);let o=pt();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Sn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ve.comparator(e.key,n.key)||bt(e.wr,n.wr)}static Ar(e,n){return bt(e.wr,n.wr)||Ve.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pn(Sn.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new AM(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Sn(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ce.resolve(a)}lookupMutationBatch(e,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(bt);return n.forEach(i=>{const o=new Sn(i,0),a=new Sn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ve.isDocumentKey(o)||(o=o.child(""));const a=new Sn(new Ve(o),0);let s=new Pn(bt);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(c.wr)),!0)},a),ce.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_t(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ce.forEach(n.mutations,i=>{const o=new Sn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Sn(n,0),i=this.br.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h3{constructor(e){this.Mr=e,this.docs=function(){return new Qt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=yo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yo();const a=n.path,s=new Ve(a.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||G6(K6(h),r)<=0||(i.has(h.key)||Op(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ze()}Or(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f3(this)}getSize(e){return ce.resolve(this.size)}}class f3 extends o3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p3{constructor(e){this.persistence=e,this.Nr=new Nl(n=>yb(n),vb),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cb,this.targetCount=0,this.kr=hl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Kn(n),ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Br.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fb(0),this.Kr=!1,this.Kr=!0,this.$r=new u3,this.referenceDelegate=e(this),this.Ur=new p3(this),this.indexManager=new r3,this.remoteDocumentCache=function(r){return new h3(r)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new t3(n),this.Gr=new l3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new d3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new g3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class g3 extends X6{constructor(e){super(),this.currentSequenceNumber=e}}class _b{constructor(e){this.persistence=e,this.Jr=new Cb,this.Yr=null}static Zr(e){return new _b(e)}get Xr(){if(this.Yr)return this.Yr;throw Ze()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,r=>{const i=Ve.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,et.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Eb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pt(),i=pt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Eb(e,n.fromCache,r,i)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return b4()?8:Y6(Xn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new y3;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(oc()<=mt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(oc()<=mt.DEBUG&&Pe("QueryEngine","Query:",bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(oc()<=mt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ce.resolve())}Yi(e,n){if(kS(n))return ce.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=y0(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=pt(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,s);return this.ns(n,u,a,c.readTime)?this.Yi(e,y0(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return kS(n)||i.isEqual(et.min())?ce.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?ce.resolve(null):(oc()<=mt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bs(n)),this.rs(e,a,n,H6(i,-1)).next(s=>s))})}ts(e,n){let r=new Pn(vT(e));return n.forEach((i,o)=>{Op(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return oc()<=mt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",bs(n)),this.Ji.getDocumentsMatchingQuery(e,n,ra.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b3{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Qt(bt),this._s=new Nl(o=>yb(o),vb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function x3(t,e,n,r){return new b3(t,e,n,r)}async function FT(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let c=pt();for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of o){s.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function w3(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,s,c,u){const h=c.batch,f=h.keys();let v=ce.resolve();return f.forEach(b=>{v=v.next(()=>u.getEntry(s,b)).next(_=>{const S=c.docVersions.get(b);_t(S!==null),_.version.compareTo(S)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(s,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let s=pt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(s=s.add(a.batch.mutations[c].key));return s}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $T(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function S3(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((h,f)=>{const v=i.get(f);if(!v)return;s.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?b=b.withResumeToken(En.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(f,b),function(_,S,T){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(v,b,h)&&s.push(n.Ur.updateTargetData(o,b))});let c=yo(),u=pt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),s.push(k3(o,a,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!r.isEqual(et.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(h)}return ce.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=i,o))}function k3(t,e,n){let r=pt(),i=pt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=yo();return n.forEach((s,c)=>{const u=o.get(s);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),c.isNoDocument()&&c.version.isEqual(et.min())?(e.removeEntry(s,c.readTime),a=a.insert(s,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(s,c)):Pe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function C3(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _3(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ce.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Wo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function S0(t,e,n){const r=tt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!qu(a))throw a;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function PS(t,e,n){const r=tt(t);let i=et.min(),o=pt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(s,c,u){const h=tt(s),f=h._s.get(u);return f!==void 0?ce.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,a,ji(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:et.min(),n?o:pt())).next(s=>(E3(r,mM(e),s),{documents:s,Ts:o})))}function E3(t,e,n){let r=t.us.get(e)||et.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class MS{constructor(){this.activeTargetIds=wM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T3{constructor(){this.so=new MS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new MS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I3{_o(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Zd=null;function Lg(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wn="WebChannelConnection";class A3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${r}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${i}`}get Fo(){return!1}Mo(e,n,r,i,o){const a=Lg(),s=this.xo(e,n.toUriEncodedString());Pe("RestConnection",`Sending RPC '${e}' ${a}:`,s,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(e,s,c,r).then(u=>(Pe("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw qa("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",s,"request:",r),u})}Lo(e,n,r,i,o,a){return this.Mo(e,n,r,i,o)}Oo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}xo(e,n){const r=j3[e];return`${this.Do}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Lg();return new Promise((a,s)=>{const c=new eT;c.setWithCredentials(!0),c.listenOnce(tT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Eh.NO_ERROR:const h=c.getResponseJson();Pe(Wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Eh.TIMEOUT:Pe(Wn,`RPC '${e}' ${o} timed out`),s(new Te(se.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const f=c.getStatus();if(Pe(Wn,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const _=function(S){const T=S.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(T)>=0?T:se.UNKNOWN}(b.status);s(new Te(_,b.message))}else s(new Te(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else s(new Te(se.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Pe(Wn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Pe(Wn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Lg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=iT(),s=rT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");Pe(Wn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=a.createWebChannel(h,c);let v=!1,b=!1;const _=new R3({Io:T=>{b?Pe(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(v||(Pe(Wn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),v=!0),Pe(Wn,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},To:()=>f.close()}),S=(T,C,g)=>{T.listen(C,y=>{try{g(y)}catch(O){setTimeout(()=>{throw O},0)}})};return S(f,Sc.EventType.OPEN,()=>{b||(Pe(Wn,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),S(f,Sc.EventType.CLOSE,()=>{b||(b=!0,Pe(Wn,`RPC '${e}' stream ${i} transport closed`),_.So())}),S(f,Sc.EventType.ERROR,T=>{b||(b=!0,qa(Wn,`RPC '${e}' stream ${i} transport errored:`,T),_.So(new Te(se.UNAVAILABLE,"The operation could not be completed")))}),S(f,Sc.EventType.MESSAGE,T=>{var C;if(!b){const g=T.data[0];_t(!!g);const y=g,O=y.error||((C=y[0])===null||C===void 0?void 0:C.error);if(O){Pe(Wn,`RPC '${e}' stream ${i} received error:`,O);const M=O.status;let P=function(p){const m=un[p];if(m!==void 0)return jT(m)}(M),E=O.message;P===void 0&&(P=se.INTERNAL,E="Unknown error status: "+M+" with message "+O.message),b=!0,_.So(new Te(P,E)),f.close()}else Pe(Wn,`RPC '${e}' stream ${i} received:`,g),_.bo(g)}}),S(s,nT.STAT_EVENT,T=>{T.stat===d0.PROXY?Pe(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===d0.NOPROXY&&Pe(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Dg(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lp(t){return new WM(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BT{constructor(e,n,r,i,o,a,s,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(go(n.toString()),go("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Te(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O3 extends BT{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=VM(this.serializer,e),r=function(i){if(!("targetChange"in i))return et.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?Ri(o.readTime):et.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=w0(this.serializer),n.addTarget=function(i,o){let a;const s=o.target;if(a=m0(s)?{documents:KM(i,s)}:{query:GM(i,s)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OT(i,o.resumeToken);const c=v0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(et.min())>0){a.readTime=Sf(i,o.snapshotVersion.toTimestamp());const c=v0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=XM(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=w0(this.serializer),n.removeTarget=e,this.a_(n)}}class N3 extends BT{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _t(!!e.streamToken),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=HM(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=w0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qM(this.serializer,r))};this.a_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,b0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(se.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,b0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(se.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class M3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(go(n),this.D_=!1):Pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L3{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{is(this)&&(Pe("RemoteStore","Restarting streams for network reachability change."),await async function(s){const c=tt(s);c.L_.add(4),await Gu(c),c.q_.set("Unknown"),c.L_.delete(4),await Dp(c)}(this))})}),this.q_=new M3(r,i)}}async function Dp(t){if(is(t))for(const e of t.B_)await e(!0)}async function Gu(t){for(const e of t.B_)await e(!1)}function UT(t,e){const n=tt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Rb(n)?jb(n):Pl(n).r_()&&Ib(n,e))}function Tb(t,e){const n=tt(t),r=Pl(n);n.N_.delete(e),r.r_()&&VT(n,e),n.N_.size===0&&(r.r_()?r.o_():is(n)&&n.q_.set("Unknown"))}function Ib(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).A_(e)}function VT(t,e){t.Q_.xe(e),Pl(t).R_(e)}function jb(t){t.Q_=new DM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.q_.v_()}function Rb(t){return is(t)&&!Pl(t).n_()&&t.N_.size>0}function is(t){return tt(t).L_.size===0}function qT(t){t.Q_=void 0}async function D3(t){t.q_.set("Online")}async function z3(t){t.N_.forEach((e,n)=>{Ib(t,e)})}async function F3(t,e){qT(t),Rb(t)?(t.q_.M_(e),jb(t)):t.q_.set("Unknown")}async function $3(t,e,n){if(t.q_.set("Online"),e instanceof AT&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kf(t,r)}else if(e instanceof jh?t.Q_.Ke(e):e instanceof RT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(et.min()))try{const r=await $T(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((s,c)=>{if(s.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach((s,c)=>{const u=i.N_.get(s);if(!u)return;i.N_.set(s,u.withResumeToken(En.EMPTY_BYTE_STRING,u.snapshotVersion)),VT(i,s);const h=new Wo(u.target,s,c,u.sequenceNumber);Ib(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),await kf(t,r)}}async function kf(t,e,n){if(!qu(e))throw e;t.L_.add(1),await Gu(t),t.q_.set("Offline"),n||(n=()=>$T(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dp(t)})}function HT(t,e){return e().catch(n=>kf(t,n,e))}async function zp(t){const e=tt(t),n=oa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;W3(e);)try{const i=await C3(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,B3(e,i)}catch(i){await kf(e,i)}KT(e)&&GT(e)}function W3(t){return is(t)&&t.O_.length<10}function B3(t,e){t.O_.push(e);const n=oa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function KT(t){return is(t)&&!oa(t).n_()&&t.O_.length>0}function GT(t){oa(t).start()}async function U3(t){oa(t).p_()}async function V3(t){const e=oa(t);for(const n of t.O_)e.m_(n.mutations)}async function q3(t,e,n){const r=t.O_.shift(),i=wb.from(r,e,n);await HT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zp(t)}async function H3(t,e){e&&oa(t).V_&&await async function(n,r){if(function(i){return PM(i)&&i!==se.ABORTED}(r.code)){const i=n.O_.shift();oa(n).s_(),await HT(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await zp(n)}}(t,e),KT(t)&&GT(t)}async function DS(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=is(n);n.L_.add(3),await Gu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dp(n)}async function K3(t,e){const n=tt(t);e?(n.L_.delete(2),await Dp(n)):e||(n.L_.add(2),await Gu(n),n.q_.set("Unknown"))}function Pl(t){return t.K_||(t.K_=function(e,n,r){const i=tt(e);return i.w_(),new O3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Eo:D3.bind(null,t),Ro:z3.bind(null,t),mo:F3.bind(null,t),d_:$3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Rb(t)?jb(t):t.q_.set("Unknown")):(await t.K_.stop(),qT(t))})),t.K_}function oa(t){return t.U_||(t.U_=function(e,n,r){const i=tt(e);return i.w_(),new N3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U3.bind(null,t),mo:H3.bind(null,t),f_:V3.bind(null,t),g_:q3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zp(t)):(await t.U_.stop(),t.O_.length>0&&(Pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ab{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Ab(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ob(t,e){if(go("AsyncQueue",`${e}: ${t}`),qu(t))return new Te(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new Qt(this.comparator)}static emptySet(e){return new qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zS{constructor(){this.W_=new Qt(Ve.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fl{constructor(e,n,r,i,o,a,s,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new fl(e,n,qs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Q3{constructor(){this.queries=FS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){const r=tt(e),i=r.queries;r.queries=FS(),i.forEach((o,a)=>{for(const s of a.j_)s.onError(n)})})(this,new Te(se.ABORTED,"Firestore shutting down"))}}function FS(){return new Nl(t=>yT(t),Ap)}async function Nb(t,e){const n=tt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new G3,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Ob(a,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Mb(n)}async function Pb(t,e){const n=tt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X3(t,e){const n=tt(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&Mb(n)}function Y3(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Mb(t){t.Y_.forEach(e=>{e.next()})}var k0,$S;($S=k0||(k0={})).ea="default",$S.Cache="cache";class Lb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==k0.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class J3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pt(),this.mutatedKeys=pt(),this.Aa=vT(e),this.Ra=new qs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const v=i.get(h),b=Op(this.query,f)?f:null,_=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;v&&b?v.data.isEqual(b.data)?_!==S&&(r.track({type:3,doc:b}),T=!0):this.ga(v,b)||(r.track({type:2,doc:b}),T=!0,(c&&this.Aa(b,c)>0||u&&this.Aa(b,u)<0)&&(s=!0)):!v&&b?(r.track({type:0,doc:b}),T=!0):v&&!b&&(r.track({type:1,doc:v}),T=!0,(c||u)&&(s=!0)),T&&(b?(a=a.add(b),o=S?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(v,b){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return _(v)-_(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,a.length!==0||u?{snapshot:new fl(this.query,e.Ra,o,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new XT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new QT(r))}),n}ba(e){this.Ta=e.Ts,this.da=pt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Z3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eL{constructor(e){this.key=e,this.va=!1}}class tL{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Nl(s=>yT(s),Ap),this.Ma=new Map,this.xa=new Set,this.Oa=new Qt(Ve.comparator),this.Na=new Map,this.La=new Cb,this.Ba={},this.ka=new Map,this.qa=hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nL(t,e,n=!0){const r=nI(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await YT(r,e,n,!0),i}async function rL(t,e){const n=nI(t);await YT(n,e,!0,!1)}async function YT(t,e,n,r){const i=await _3(t.localStore,ji(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await iL(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&UT(t.remoteStore,i),s}async function iL(t,e,n,r,i){t.Ka=(f,v,b)=>async function(_,S,T,C){let g=S.view.ma(T);g.ns&&(g=await PS(_.localStore,S.query,!1).then(({documents:P})=>S.view.ma(P,g)));const y=C&&C.targetChanges.get(S.targetId),O=C&&C.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(g,_.isPrimaryClient,y,O);return BS(_,S.targetId,M.wa),M.snapshot}(t,f,v,b);const o=await PS(t.localStore,e,!0),a=new J3(e,o.Ts),s=a.ma(o.documents),c=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,c);BS(t,n,u.wa);const h=new Z3(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function oL(t,e,n){const r=tt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Ap(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Tb(r.remoteStore,i.targetId),C0(r,i.targetId)}).catch(Vu)):(C0(r,i.targetId),await S0(r.localStore,i.targetId,!0))}async function aL(t,e){const n=tt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tb(n.remoteStore,r.targetId))}async function sL(t,e,n){const r=pL(t);try{const i=await function(o,a){const s=tt(o),c=pn.now(),u=a.reduce((v,b)=>v.add(b.key),pt());let h,f;return s.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=yo(),_=pt();return s.cs.getEntries(v,u).next(S=>{b=S,b.forEach((T,C)=>{C.isValidDocument()||(_=_.add(T))})}).next(()=>s.localDocuments.getOverlayedDocuments(v,b)).next(S=>{h=S;const T=[];for(const C of a){const g=jM(C,h.get(C.key).overlayedDocument);g!=null&&T.push(new fa(C.key,g,cT(g.value.mapValue),Vr.exists(!0)))}return s.mutationQueue.addMutationBatch(v,c,T,a)}).next(S=>{f=S;const T=S.applyToLocalDocumentSet(h,_);return s.documentOverlayCache.saveOverlays(v,S.batchId,T)})}).then(()=>({batchId:f.batchId,changes:xT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,s){let c=o.Ba[o.currentUser.toKey()];c||(c=new Qt(bt)),c=c.insert(a,s),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Qu(r,i.changes),await zp(r.remoteStore)}catch(i){const o=Ob(i,"Failed to persist write");n.reject(o)}}async function JT(t,e){const n=tt(t);try{const r=await S3(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?_t(a.va):i.removedDocuments.size>0&&(_t(a.va),a.va=!1))}),await Qu(n,r,e)}catch(r){await Vu(r)}}function WS(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,a){const s=tt(o);s.onlineState=a;let c=!1;s.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&Mb(s)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lL(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new Qt(Ve.comparator);a=a.insert(o,Kn.newNoDocument(o,et.min()));const s=pt().add(o),c=new Mp(et.min(),new Map,new Qt(bt),a,s);await JT(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),Db(r)}else await S0(r.localStore,e,!1).then(()=>C0(r,e,n)).catch(Vu)}async function cL(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await w3(n.localStore,e);eI(n,r,null),ZT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(n,i)}catch(i){await Vu(i)}}async function uL(t,e,n){const r=tt(t);try{const i=await function(o,a){const s=tt(o);return s.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return s.mutationQueue.lookupMutationBatch(c,a).next(h=>(_t(h!==null),u=h.keys(),s.mutationQueue.removeMutationBatch(c,h))).next(()=>s.mutationQueue.performConsistencyCheck(c)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>s.localDocuments.getDocuments(c,u))})}(r.localStore,e);eI(r,e,n),ZT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qu(r,i)}catch(i){await Vu(i)}}function ZT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function eI(t,e,n){const r=tt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function C0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||tI(t,r)})}function tI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Tb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Db(t))}function BS(t,e,n){for(const r of n)r instanceof QT?(t.La.addReference(r.key,e),dL(t,r)):r instanceof XT?(Pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||tI(t,r.key)):Ze()}function dL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Db(t))}function Db(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ve(Dt.fromString(e)),r=t.qa.next();t.Na.set(r,new eL(n)),t.Oa=t.Oa.insert(n,r),UT(t.remoteStore,new Wo(ji(Rp(n.path)),r,"TargetPurposeLimboResolution",fb.oe))}}async function Qu(t,e,n){const r=tt(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,c)=>{a.push(r.Ka(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Eb.Wi(c.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(s,c){const u=tt(s);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ce.forEach(c,f=>ce.forEach(f.$i,v=>u.persistence.referenceDelegate.addReference(h,f.targetId,v)).next(()=>ce.forEach(f.Ui,v=>u.persistence.referenceDelegate.removeReference(h,f.targetId,v)))))}catch(h){if(!qu(h))throw h;Pe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const v=u.os.get(f),b=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(b);u.os=u.os.insert(f,_)}}}(r.localStore,o))}async function hL(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=await FT(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(s=>{s.reject(new Te(se.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qu(n,r.hs)}}function fL(t,e){const n=tt(t),r=n.Na.get(e);if(r&&r.va)return pt().add(r.key);{let i=pt();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function nI(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lL.bind(null,e),e.Ca.d_=X3.bind(null,e.eventManager),e.Ca.$a=Y3.bind(null,e.eventManager),e}function pL(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uL.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return x3(this.persistence,new v3,e.initialUser,this.serializer)}Ga(e){return new m3(_b.Zr,this.serializer)}Wa(e){return new T3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class _0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hL.bind(null,this.syncEngine),await K3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q3}()}createDatastore(e){const n=Lp(e.databaseInfo.databaseId),r=function(i){return new A3(i)}(e.databaseInfo);return function(i,o,a,s){return new P3(i,o,a,s)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(n,r,i,o,a){return new L3(n,r,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>WS(this.syncEngine,n,0),function(){return LS.D()?new LS:new I3}())}createSyncEngine(e,n){return function(r,i,o,a,s,c,u){const h=new tL(r,i,o,a,s,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=tt(r);Pe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Gu(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_0.provider={build:()=>new _0};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):go("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mL{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Pe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Pe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ob(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zg(t,e){t.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function US(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gL(t);Pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>DS(e.remoteStore,i)),t._onlineComponents=e}async function gL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await zg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await zg(t,new Cf)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),await zg(t,new Cf);return t._offlineComponents}async function rI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),await US(t,t._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),await US(t,new _0))),t._onlineComponents}function yL(t){return rI(t).then(e=>e.syncEngine)}async function _f(t){const e=await rI(t),n=e.eventManager;return n.onListen=nL.bind(null,e.syncEngine),n.onUnlisten=oL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aL.bind(null,e.syncEngine),n}function vL(t,e,n={}){const r=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,c){const u=new zb({next:f=>{u.Za(),o.enqueueAndForget(()=>Pb(i,h));const v=f.docs.has(a);!v&&f.fromCache?c.reject(new Te(se.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&s&&s.source==="server"?c.reject(new Te(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Lb(Rp(a.path),u,{includeMetadataChanges:!0,_a:!0});return Nb(i,h)}(await _f(t),t.asyncQueue,e,n,r)),r.promise}function bL(t,e,n={}){const r=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,c){const u=new zb({next:f=>{u.Za(),o.enqueueAndForget(()=>Pb(i,h)),f.fromCache&&s.source==="server"?c.reject(new Te(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Lb(a,u,{includeMetadataChanges:!0,_a:!0});return Nb(i,h)}(await _f(t),t.asyncQueue,e,n,r)),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VS=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oI(t,e,n){if(!n)throw new Te(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aI(t,e,n,r){if(e===!0&&r===!0)throw new Te(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qS(t){if(!Ve.isDocumentKey(t))throw new Te(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HS(t){if(Ve.isDocumentKey(t))throw new Te(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze()}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fp(t);throw new Te(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $p{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aT;switch(n.type){case"firstParty":return new W6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=VS.get(e);n&&(Pe("ComponentProvider","Removing Datastore"),VS.delete(e),n.terminate())}(this),Promise.resolve()}}function sI(t,e,n,r={}){var i;const o=(t=nr(t,$p))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,c;if(typeof r.mockUserToken=="string")s=r.mockUserToken,c=qn.MOCK_USER;else{s=KE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Te(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qn(u)}t._authCredentials=new z6(new oT(s,c))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class so extends Co{constructor(e,n,r){super(e,n,Rp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ve(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function ze(t,e,...n){if(t=mn(t),oI("collection","path",e),t instanceof $p){const r=Dt.fromString(e,...n);return HS(r),new so(t,null,r)}{if(!(t instanceof Mn||t instanceof so))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return HS(r),new so(t.firestore,null,r)}}function Me(t,e,...n){if(t=mn(t),arguments.length===1&&(e=hb.newId()),oI("doc","path",e),t instanceof $p){const r=Dt.fromString(e,...n);return qS(r),new Mn(t,null,new Ve(r))}{if(!(t instanceof Mn||t instanceof so))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return qS(r),new Mn(t.firestore,t instanceof so?t.converter:null,new Ve(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WT(this,"async_queue_retry"),this.Vu=()=>{const r=Dg();r&&Pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ao;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qu(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw go("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ab.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function QS(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Li extends $p{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GS(e),this._firestoreClient=void 0,await e}}}function lI(t,e){const n=typeof t=="object"?t:ub(),r=typeof t=="string"?t:"(default)",i=Ip(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VE("firestore");o&&sI(i,...o)}return i}function Xu(t){if(t._terminated)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xL(t),t._firestoreClient}function xL(t){var e,n,r;const i=t._freezeSettings(),o=function(a,s,c,u){return new eM(a,s,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iI(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mL(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const s=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(s),_online:s}}(t._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(En.fromBase64String(e))}catch(n){throw new Te(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ga(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ju{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wL=/^__.*__$/;class SL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class cI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class Fb{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ef(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uI(this.Cu)&&wL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lp(e)}Qu(e,n,r,i=!1){return new Fb({Cu:e,methodName:n,qu:r,path:Cn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(t){const e=t._freezeSettings(),n=Lp(t._databaseId);return new kL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dI(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Wb("Data must be an object, but it was:",a,r);const s=hI(r,a);let c,u;if(o.merge)c=new Sr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const v=E0(e,f,n);if(!a.contains(v))throw new Te(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);pI(h,v)||h.push(v)}c=new Sr(h),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new SL(new lr(s),c,u)}class Vp extends Ju{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vp}}class $b extends Ju{_toFieldTransform(e){return new _M(e.path,new vu)}isEqual(e){return e instanceof $b}}function CL(t,e,n,r){const i=t.Qu(1,e,n);Wb("Data must be an object, but it was:",i,r);const o=[],a=lr.empty();rs(r,(c,u)=>{const h=Bb(e,c,n);u=mn(u);const f=i.Nu(h);if(u instanceof Vp)o.push(h);else{const v=Zu(u,f);v!=null&&(o.push(h),a.set(h,v))}});const s=new Sr(o);return new cI(a,s,i.fieldTransforms)}function _L(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[E0(e,r,n)],c=[i];if(o.length%2!=0)throw new Te(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)s.push(E0(e,o[v])),c.push(o[v+1]);const u=[],h=lr.empty();for(let v=s.length-1;v>=0;--v)if(!pI(u,s[v])){const b=s[v];let _=c[v];_=mn(_);const S=a.Nu(b);if(_ instanceof Vp)u.push(b);else{const T=Zu(_,S);T!=null&&(u.push(b),h.set(b,T))}}const f=new Sr(u);return new cI(h,f,a.fieldTransforms)}function EL(t,e,n,r=!1){return Zu(n,t.Qu(r?4:3,e))}function Zu(t,e){if(fI(t=mn(t)))return Wb("Unsupported field value:",e,t),hI(t,e);if(t instanceof Ju)return function(n,r){if(!uI(r.Cu))throw r.Bu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const a of n){let s=Zu(a,r.Lu(o));s==null&&(s={nullValue:"NULL_VALUE"}),i.push(s),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return SM(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=pn.fromDate(n);return{timestampValue:Sf(r.serializer,i)}}if(n instanceof pn){const i=new pn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sf(r.serializer,i)}}if(n instanceof Wp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ga)return{bytesValue:OT(r.serializer,n._byteString)};if(n instanceof Mn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kb(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Bp)return function(i,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(a=>{if(typeof a!="number")throw o.Bu("VectorValues must only contain numeric values.");return bb(o.serializer,a)})}}}}}}(n,r);throw r.Bu(`Unsupported field value: ${Fp(n)}`)}(t,e)}function hI(t,e){const n={};return sT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(t,(r,i)=>{const o=Zu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function fI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof Wp||t instanceof Ga||t instanceof Mn||t instanceof Ju||t instanceof Bp)}function Wb(t,e,n){if(!fI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Fp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function E0(t,e,n){if((e=mn(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return Bb(t,e);throw Ef("Field path arguments must be of type string or ",t,!1,void 0,n)}const TL=new RegExp("[~\\*/\\[\\]]");function Bb(t,e,n){if(e.search(TL)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ef(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Te(se.INVALID_ARGUMENT,s+t+c)}function pI(t,e){return t.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IL extends mI{data(){return super.data()}}function qp(t,e){return typeof e=="string"?Bb(t,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{}class Vb extends Ub{}function Tr(t,e,...n){let r=[];e instanceof Ub&&r.push(e),r=r.concat(n),function(i){const o=i.filter(s=>s instanceof Hp).length,a=i.filter(s=>s instanceof ed).length;if(o>1||o>0&&a>0)throw new Te(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ed extends Vb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ed(e,n,r)}_apply(e){const n=this._parse(e);return vI(e._query,n),new Co(e.firestore,e.converter,g0(e._query,n))}_parse(e){const n=Up(e.firestore);return function(r,i,o,a,s,c,u){let h;if(s.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Te(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YS(u,c);const f=[];for(const v of u)f.push(XS(a,r,v));h={arrayValue:{values:f}}}else h=XS(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YS(u,c),h=EL(o,i,u,c==="in"||c==="not-in");return fn.create(s,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ir(t,e,n){const r=e,i=qp("where",t);return ed._create(i,r,n)}class Hp extends Ub{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const a=i.getFlattenedFilters();for(const s of a)vI(o,s),o=g0(o,s)}(e._query,n),new Co(e.firestore,e.converter,g0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kp extends Vb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kp(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new Te(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Te(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(i,o)}(e._query,this._field,this._direction);return new Co(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Ol(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function yI(t,e="asc"){const n=e,r=qp("orderBy",t);return Kp._create(r,n)}function XS(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new Te(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(e)&&n.indexOf("/")!==-1)throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Ve.isDocumentKey(r))throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yS(t,new Ve(r))}if(n instanceof Mn)return yS(t,n._key);throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fp(n)}.`)}function YS(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vI(t,e){const n=function(r,i){for(const o of r)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bI{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>nn(a.doubleValue));return new Bp(o)}convertGeoPoint(e){return new Wp(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=ia(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);_t(zT(r));const i=new cl(r.get(1),r.get(3)),o=new Ve(r.popFirst(5));return i.isEqual(n)||go(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ms{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qb extends mI{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $c extends qb{data(e={}){return super.data(e)}}class Hb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $c(this._firestore,this._userDataWriter,r.key,r,new Ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const s=new $c(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ms(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const s=new $c(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ms(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:jL(a.type),doc:s,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xn(t){t=nr(t,Mn);const e=nr(t.firestore,Li);return vL(Xu(e),t._key).then(n=>wI(e,t,n))}class Kb extends bI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function Ht(t){t=nr(t,Co);const e=nr(t.firestore,Li),n=Xu(e),r=new Kb(e);return gI(t._query),bL(n,t._query).then(i=>new Hb(e,r,t,i))}function Qr(t,e,n){t=nr(t,Mn);const r=nr(t.firestore,Li),i=xI(t.converter,e,n);return td(r,[dI(Up(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vr.none())])}function on(t,e,n,...r){t=nr(t,Mn);const i=nr(t.firestore,Li),o=Up(i);let a;return a=typeof(e=mn(e))=="string"||e instanceof Yu?_L(o,"updateDoc",t._key,e,n,r):CL(o,"updateDoc",t._key,e),td(i,[a.toMutation(t._key,Vr.exists(!0))])}function qr(t){return td(nr(t.firestore,Li),[new xb(t._key,Vr.none())])}function vo(t,e){const n=nr(t.firestore,Li),r=Me(t),i=xI(t.converter,e);return td(n,[dI(Up(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}function It(t,...e){var n,r,i;t=mn(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||QS(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QS(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,h;if(t instanceof Mn)u=nr(t.firestore,Li),h=Rp(t._key.path),c={next:f=>{e[a]&&e[a](wI(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=nr(t,Co);u=nr(f.firestore,Li),h=f._query;const v=new Kb(u);c={next:b=>{e[a]&&e[a](new Hb(u,v,f,b))},error:e[a+1],complete:e[a+2]},gI(t._query)}return function(f,v,b,_){const S=new zb(_),T=new Lb(v,S,b);return f.asyncQueue.enqueueAndForget(async()=>Nb(await _f(f),T)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>Pb(await _f(f),T))}}(Xu(u),h,s,c)}function td(t,e){return function(n,r){const i=new ao;return n.asyncQueue.enqueueAndForget(async()=>sL(await yL(n),r,i)),i.promise}(Xu(t),e)}function wI(t,e,n){const r=n.docs.get(e._key),i=new Kb(t);return new qb(t,i,e._key,r,new Ms(n.hasPendingWrites,n.fromCache),e.converter)}function T0(){return new $b("serverTimestamp")}(function(t,e=!0){(function(n){Al=n})(ns),Ua(new na("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new Li(new F6(n.getProvider("auth-internal")),new U6(n.getProvider("app-check-internal")),function(s,c){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Te(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(s.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ii(hS,"4.7.3",t),Ii(hS,"4.7.3","esm2017")})();const Gb=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:bI,Bytes:Ga,CollectionReference:so,DocumentReference:Mn,DocumentSnapshot:qb,FieldPath:Yu,FieldValue:Ju,Firestore:Li,FirestoreError:Te,GeoPoint:Wp,Query:Co,QueryCompositeFilterConstraint:Hp,QueryConstraint:Vb,QueryDocumentSnapshot:$c,QueryFieldFilterConstraint:ed,QueryOrderByConstraint:Kp,QuerySnapshot:Hb,SnapshotMetadata:Ms,Timestamp:pn,VectorValue:Bp,_AutoId:hb,_ByteString:En,_DatabaseId:cl,_DocumentKey:Ve,_EmptyAuthCredentialsProvider:aT,_FieldPath:Cn,_cast:nr,_logWarn:qa,_validateIsNotUsedTogether:aI,addDoc:vo,collection:ze,connectFirestoreEmulator:sI,deleteDoc:qr,doc:Me,ensureFirestoreConfigured:Xu,executeWrite:td,getDoc:xn,getDocs:Ht,getFirestore:lI,onSnapshot:It,orderBy:yI,query:Tr,serverTimestamp:T0,setDoc:Qr,updateDoc:on,where:Ir},Symbol.toStringTag,{value:"Module"}));function Qb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=SI,CI=new Bu("auth","Firebase",SI());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tf=new lb("@firebase/auth");function RL(t,...e){Tf.logLevel<=mt.WARN&&Tf.warn(`Auth (${ns}): ${t}`,...e)}function Rh(t,...e){Tf.logLevel<=mt.ERROR&&Tf.error(`Auth (${ns}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yi(t,...e){throw Xb(t,...e)}function Ai(t,...e){return Xb(t,...e)}function _I(t,e,n){const r=Object.assign(Object.assign({},kI()),{[e]:n});return new Bu("auth","Firebase",r).create(e,{appName:t.name})}function lo(t){return _I(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CI.create(t,...e)}function Xe(t,e,...n){if(!t)throw Xb(e,...n)}function no(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function bo(t,e){t||no(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function I0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AL(){return JS()==="http:"||JS()==="https:"}function JS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AL()||g4()||"connection"in navigator)?navigator.onLine:!0}function NL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,bo(n>e,"Short delay should be less than long delay!"),this.isMobile=f4()||y4()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yb(t,e){bo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;no("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;no("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;no("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ML=new nd(3e4,6e4);function pa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ma(t,e,n,r,i={}){return TI(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Uu(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return m4()||(u.referrerPolicy="no-referrer"),EI.fetch()(II(t,t.config.apiHost,n,s),u)})}async function TI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PL),e);try{const i=new DL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw eh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw eh(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _I(t,h,u);yi(t,h)}}catch(i){if(i instanceof $i)throw i;yi(t,"network-request-failed",{message:String(i)})}}async function rd(t,e,n,r,i={}){const o=await ma(t,e,n,r,i);return"mfaPendingCredential"in o&&yi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function II(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Yb(t.config,i):`${t.config.apiScheme}://${i}`}function LL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),ML.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ai(t,e,r);return i.customData._tokenResponse=n,i}function ZS(t){return t!==void 0&&t.enterprise!==void 0}class zL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function FL(t,e){return ma(t,"GET","/v2/recaptchaConfig",pa(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $L(t,e){return ma(t,"POST","/v1/accounts:delete",e)}async function jI(t,e){return ma(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RI(t,e=!1){const n=mn(t),r=await n.getIdToken(e),i=Jb(r);Xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wc(Fg(i.auth_time)),issuedAtTime:Wc(Fg(i.iat)),expirationTime:Wc(Fg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function Jb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=BE(n);return i?JSON.parse(i):(Rh("Failed to decode base64 JWT payload"),null)}catch(i){return Rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ek(t){const e=Jb(t);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $i&&WL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function If(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wu(t,jI(n,{idToken:r}));Xe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?OI(o.providerUserInfo):[],s=UL(t.providerData,a),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),h=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new j0(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function AI(t){const e=mn(t);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UL(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function OI(t){return t.map(e=>{var{providerId:n}=e,r=Qb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function VL(t,e){const n=await TI(t,{},async()=>{const r=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=II(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",EI.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qL(t,e){return ma(t,"POST","/v2/accounts:revokeToken",pa(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ek(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const n=ek(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await VL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Hs;return r&&(Xe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Xe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Xe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return no("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ro(t,e){Xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ro{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Qb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new j0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RI(this,e)}reload(){return AI(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await If(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(lo(this.auth));const e=await this.getIdToken();return await wu(this,$L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(s=n.tenantId)!==null&&s!==void 0?s:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:O,isAnonymous:M,providerData:P,stsTokenManager:E}=n;Xe(y&&E,e,"internal-error");const p=Hs.fromJSON(this.name,E);Xe(typeof y=="string",e,"internal-error"),Ro(f,e.name),Ro(v,e.name),Xe(typeof O=="boolean",e,"internal-error"),Xe(typeof M=="boolean",e,"internal-error"),Ro(b,e.name),Ro(_,e.name),Ro(S,e.name),Ro(T,e.name),Ro(C,e.name),Ro(g,e.name);const m=new ro({uid:y,auth:e,email:v,emailVerified:O,displayName:f,isAnonymous:M,photoURL:_,phoneNumber:b,tenantId:S,stsTokenManager:p,createdAt:C,lastLoginAt:g});return P&&Array.isArray(P)&&(m.providerData=P.map(w=>Object.assign({},w))),T&&(m._redirectEventId=T),m}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hs;i.updateFromServerResponse(n);const o=new ro({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await If(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?OI(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Hs;s.updateFromIdToken(r);const c=new ro({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new j0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tk=new Map;function io(t){bo(t instanceof Function,"Expected a class definition");let e=tk.get(t);return e?(bo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tk.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NI.type="NONE";const R0=NI;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ks(io(R0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||io(R0);const a=Ah(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const h=await u._get(a);if(h){const f=ro._fromJSON(e,h);u!==o&&(s=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Ks(o,e,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Ks(o,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FI(e))return"Blackberry";if($I(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||LI(e))&&!e.includes("edge/"))return"Chrome";if(zI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PI(t=Xn()){return/firefox\//i.test(t)}function MI(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LI(t=Xn()){return/crios\//i.test(t)}function DI(t=Xn()){return/iemobile/i.test(t)}function zI(t=Xn()){return/android/i.test(t)}function FI(t=Xn()){return/blackberry/i.test(t)}function $I(t=Xn()){return/webos/i.test(t)}function Zb(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HL(t=Xn()){var e;return Zb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KL(){return v4()&&document.documentMode===10}function WI(t=Xn()){return Zb(t)||zI(t)||$I(t)||FI(t)||/windows phone/i.test(t)||DI(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BI(t,e=[]){let n;switch(t){case"Browser":n=nk(Xn());break;case"Worker":n=`${nk(Xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ns}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const c=e(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function QL(t,e={}){return ma(t,"GET","/v2/passwordPolicy",pa(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XL=6;class YL{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XL,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rk(this),this.idTokenSubscription=new rk(this),this.beforeStateQueue=new GL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=io(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jI(this,{idToken:e}),r=await ro._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ci(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===s)&&c!=null&&c.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(lo(this));const n=e?mn(e):null;return n&&Xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QL(this),n=new YL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&io(e)||this._popupRedirectResolver;Xe(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(t){return mn(t)}class rk{constructor(e){this.auth=e,this.observer=null,this.addObserver=E4(n=>this.observer=n)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZL(t){Gp=t}function UI(t){return Gp.loadJS(t)}function e8(){return Gp.recaptchaEnterpriseScript}function t8(){return Gp.gapiScript}function n8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const r8="recaptcha-enterprise",i8="NO_RECAPTCHA";class o8{constructor(e){this.type=r8,this.auth=os(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{FL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new zL(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(c=>{s(c)})})}function i(o,a,s){const c=window.grecaptcha;ZS(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(i8)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&ZS(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=e8();c.length!==0&&(c+=s),UI(c).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function ik(t,e,n,r=!1){const i=new o8(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function A0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ik(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ik(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VI(t,e){const n=Ip(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(yf(i,e??{}))return r;yi(r,"already-initialized")}return n.initialize({options:e})}function a8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qI(t,e,n){const r=os(t);Xe(r._canInitEmulator,r,"emulator-config-failed"),Xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=HI(e),{host:a,port:s}=s8(e),c=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),l8()}function HI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s8(t){const e=HI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ok(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:ok(a)}}}function ok(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return no("not implemented")}_getIdTokenResponse(e){return no("not implemented")}_linkToIdToken(e,n){return no("not implemented")}_getReauthenticationResolver(e){return no("not implemented")}}async function c8(t,e){return ma(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u8(t,e){return rd(t,"POST","/v1/accounts:signInWithPassword",pa(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function d8(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}async function h8(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pl extends Qp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,n,"signInWithPassword",u8);case"emailLink":return d8(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,r,"signUpPassword",c8);case"emailLink":return h8(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Gs(t,e){return rd(t,"POST","/v1/accounts:signInWithIdp",pa(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f8="http://localhost";class aa extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Qb(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new aa(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Gs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gs(e,n)}buildRequest(){const e={requestUri:f8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function p8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m8(t){const e=xc(wc(t)).link,n=e?xc(wc(e)).deep_link_id:null,r=xc(wc(t)).deep_link_id;return(r?xc(wc(r)).link:null)||r||n||e||t}class Xp{constructor(e){var n,r,i,o,a,s;const c=xc(wc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=p8((i=c.mode)!==null&&i!==void 0?i:null);Xe(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=c.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=m8(e);try{return new Xp(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class as{constructor(){this.providerId=as.PROVIDER_ID}static credential(e,n){return pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xp.parseLink(n);return Xe(r,"argument-error"),pl._fromEmailAndCode(e,r.code,r.tenantId)}}as.PROVIDER_ID="password";as.EMAIL_PASSWORD_SIGN_IN_METHOD="password";as.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class id extends KI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qi extends id{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xi extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yi extends id{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ji extends id{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function g8(t,e){return rd(t,"POST","/v1/accounts:signUp",pa(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ro._fromIdTokenResponse(e,r,i),a=ak(r);return new Qa({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ak(r);return new Qa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ak(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jf extends $i{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jf(e,n,r,i)}}function GI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(t,i,e,r):i})}async function y8(t,e,n=!1){const r=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function v8(t,e,n=!1){const{auth:r}=t;if(Ci(r.app))return Promise.reject(lo(r));const i="reauthenticate";try{const o=await wu(t,GI(r,i,e,t),n);Xe(o.idToken,r,"internal-error");const a=Jb(o.idToken);Xe(a,r,"internal-error");const{sub:s}=a;return Xe(t.uid===s,r,"user-mismatch"),Qa._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),o}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function QI(t,e,n=!1){if(Ci(t.app))return Promise.reject(lo(t));const r="signIn",i=await GI(t,r,e),o=await Qa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function XI(t,e){return QI(os(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function YI(t){const e=os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _c(t,e,n){if(Ci(t.app))return Promise.reject(lo(t));const r=os(t),i=await A0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g8).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&YI(t),a}),o=await Qa._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function JI(t,e,n){return Ci(t.app)?Promise.reject(lo(t)):XI(mn(t),as.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YI(t),r})}function ZI(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function ej(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function Wi(t,e,n,r){return mn(t).onAuthStateChanged(e,n,r)}function tj(t){return mn(t).signOut()}const Rf="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b8=1e3,x8=10;class rj extends nj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);KL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rj.type="LOCAL";const ij=rj;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oj extends nj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oj.type="SESSION";const ex=oj;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function w8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),c=await w8(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yp.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{const u=tx("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const v=f;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Oi(){return window}function k8(t){Oi().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aj(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function C8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E8(){return aj()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sj="firebaseLocalStorageDb",T8=1,Af="firebaseLocalStorage",lj="fbase_key";class od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jp(t,e){return t.transaction([Af],e?"readwrite":"readonly").objectStore(Af)}function I8(){const t=indexedDB.deleteDatabase(sj);return new od(t).toPromise()}function O0(){const t=indexedDB.open(sj,T8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Af,{keyPath:lj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Af)?e(r):(r.close(),await I8(),e(await O0()))})})}async function sk(t,e,n){const r=Jp(t,!0).put({[lj]:e,value:n});return new od(r).toPromise()}async function j8(t,e){const n=Jp(t,!1).get(e),r=await new od(n).toPromise();return r===void 0?null:r.value}function lk(t,e){const n=Jp(t,!0).delete(e);return new od(n).toPromise()}const R8=800,A8=3;class cj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yp._getInstance(E8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await C8(),!this.activeServiceWorker)return;this.sender=new S8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O0();return await sk(e,Rf,"1"),await lk(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Jp(i,!1).getAll();return new od(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cj.type="LOCAL";const uj=cj;new nd(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function O8(t,e){return e?io(e):(Xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nx extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N8(t){return QI(t.auth,new nx(t),t.bypassAuthState)}function P8(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),v8(n,new nx(t),t.bypassAuthState)}async function M8(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),y8(n,new nx(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N8;case"linkViaPopup":case"linkViaRedirect":return M8;case"reauthViaPopup":case"reauthViaRedirect":return P8;default:yi(this.auth,"internal-error")}}resolve(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L8=new nd(2e3,1e4);class Ls extends dj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const e=tx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L8.get())};e()}}Ls.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D8="pendingRedirect",Oh=new Map;class z8 extends dj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const n=await F8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F8(t,e){const n=B8(e),r=W8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $8(t,e){Oh.set(t._key(),e)}function W8(t){return io(t._redirectPersistence)}function B8(t){return Ah(D8,t.config.apiKey,t.name)}async function U8(t,e,n=!1){if(Ci(t.app))return Promise.reject(lo(t));const r=os(t),i=O8(r,e),o=await new z8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V8=10*60*1e3;class q8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V8&&this.cachedEventUids.clear(),this.cachedEventUids.has(ck(e))}saveEventToCache(e){this.cachedEventUids.add(ck(e)),this.lastProcessedEventTime=Date.now()}}function ck(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hj(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function K8(t,e={}){return ma(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q8=/^https?/;async function X8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K8(t);for(const n of e)try{if(Y8(n))return}catch{}yi(t,"unauthorized-domain")}function Y8(t){const e=I0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q8.test(n))return!1;if(G8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J8=new nd(3e4,6e4);function uk(){const t=Oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z8(t){return new Promise((e,n)=>{var r,i,o;function a(){uk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uk(),n(Ai(t,"network-request-failed"))},timeout:J8.get()})}if(!((i=(r=Oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Oi().gapi)===null||o===void 0)&&o.load)a();else{const s=n8("iframefcb");return Oi()[s]=()=>{gapi.load?a():n(Ai(t,"network-request-failed"))},UI(`${t8()}?onload=${s}`).catch(c=>n(c))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function eD(t){return Nh=Nh||Z8(t),Nh}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tD=new nd(5e3,15e3),nD="__/auth/iframe",rD="emulator/auth/iframe",iD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aD(t){const e=t.config;Xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yb(e,rD):`https://${t.config.authDomain}/${nD}`,r={apiKey:e.apiKey,appName:t.name,v:ns},i=oD.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Uu(r).slice(1)}`}async function sD(t){const e=await eD(t),n=Oi().gapi;return Xe(n,t,"internal-error"),e.open({where:document.body,url:aD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Ai(t,"network-request-failed"),s=Oi().setTimeout(()=>{o(a)},tD.get());function c(){Oi().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,uD=600,dD="_blank",hD="http://localhost";class dk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fD(t,e,n,r=cD,i=uD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},lD),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Xn().toLowerCase();n&&(s=LI(u)?dD:n),PI(u)&&(e=e||hD,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[b,_])=>`${v}${b}=${_},`,"");if(HL(u)&&s!=="_self")return pD(e||"",s),new dk(null);const f=window.open(e||"",s,h);Xe(f,t,"popup-blocked");try{f.focus()}catch{}return new dk(f)}function pD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mD="__/auth/handler",gD="emulator/auth/handler",yD=encodeURIComponent("fac");async function hk(t,e,n,r,i,o){Xe(t.config.authDomain,t,"auth-domain-config-required"),Xe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ns,eventId:i};if(e instanceof KI){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof id){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const h of Object.keys(s))s[h]===void 0&&delete s[h];const c=await t._getAppCheckToken(),u=c?`#${yD}=${encodeURIComponent(c)}`:"";return`${vD(t)}?${Uu(s).slice(1)}${u}`}function vD({config:t}){return t.emulator?Yb(t,gD):`https://${t.authDomain}/${mD}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $g="webStorageSupport";class bD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ex,this._completeRedirectFn=U8,this._overrideRedirectResult=$8}async _openPopup(e,n,r,i){var o;bo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await hk(e,n,r,I0(),i);return fD(e,a,tx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await hk(e,n,r,I0(),i);return k8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(bo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sD(e),r=new q8(e);return n.register("authEvent",i=>(Xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($g,{type:$g},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[$g];o!==void 0&&n(!!o),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WI()||MI()||Zb()}}const fj=bD;var fk="@firebase/auth",pk="1.7.9";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SD(t){Ua(new na("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Xe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BI(t)},u=new JL(r,i,o,c);return a8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ua(new na("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(r=>new xD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(fk,pk,wD(t)),Ii(fk,pk,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kD=5*60,CD=HE("authIdTokenMaxAge")||kD;let mk=null;const _D=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CD)return;const i=n==null?void 0:n.token;mk!==i&&(mk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Or(t=ub()){const e=Ip(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VI(t,{popupRedirectResolver:fj,persistence:[uj,ij,ex]}),r=HE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=_D(o.toString());ej(n,a,()=>a(n.currentUser)),ZI(n,s=>a(s))}}const i=UE("auth");return i&&qI(n,`http://${i}`),n}function ED(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ai("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",ED().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SD("Browser");const pj=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Xp,AuthCredential:Qp,EmailAuthCredential:pl,EmailAuthProvider:as,FacebookAuthProvider:Qi,GithubAuthProvider:Yi,GoogleAuthProvider:Xi,OAuthCredential:aa,TwitterAuthProvider:Ji,beforeAuthStateChanged:ej,browserLocalPersistence:ij,browserPopupRedirectResolver:fj,browserSessionPersistence:ex,connectAuthEmulator:qI,createUserWithEmailAndPassword:_c,getAuth:Or,getIdTokenResult:RI,inMemoryPersistence:R0,indexedDBLocalPersistence:uj,initializeAuth:VI,onAuthStateChanged:Wi,onIdTokenChanged:ZI,prodErrorMap:kI,reload:AI,signInWithCredential:XI,signInWithEmailAndPassword:JI,signOut:tj},Symbol.toStringTag,{value:"Module"}));/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mj="firebasestorage.googleapis.com",TD="storageBucket",ID=2*60*1e3,jD=10*60*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bi extends $i{constructor(e,n,r=0){super(Wg(e),`Firebase Storage: ${n} (${Wg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Di||(Di={}));function Wg(t){return"storage/"+t}function RD(){const t="An unknown error occurred, please check the error payload for server response.";return new Bi(Di.UNKNOWN,t)}function AD(){return new Bi(Di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OD(){return new Bi(Di.CANCELED,"User canceled the upload/download.")}function ND(t){return new Bi(Di.INVALID_URL,"Invalid URL '"+t+"'.")}function PD(t){return new Bi(Di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gk(t){return new Bi(Di.INVALID_ARGUMENT,t)}function gj(){return new Bi(Di.APP_DELETED,"The Firebase app was deleted.")}function MD(t){return new Bi(Di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class di{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=di.makeFromUrl(e,n)}catch{return new di(e,"")}if(r.path==="")return r;throw PD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${f}/${h}/b/${i}/o${v}`,"i"),_={bucket:1,path:3},S=n===mj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",C=new RegExp(`^https?://${S}/${i}/${T}`,"i"),g=[{regex:s,indices:c,postModify:o},{regex:b,indices:_,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<g.length;y++){const O=g[y],M=O.regex.exec(e);if(M){const P=M[O.indices.bucket];let E=M[O.indices.path];E||(E=""),r=new di(P,E),O.postModify(r);break}}if(r==null)throw ND(e);return r}}class LD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DD(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function c(){return s===2}let u=!1;function h(...T){u||(u=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,t(b,c())},T)}function v(){o&&clearTimeout(o)}function b(T,...C){if(u){v();return}if(T){v(),h.call(null,T,...C);return}if(c()||a){v(),h.call(null,T,...C);return}r<64&&(r*=2);let g;s===1?(s=2,g=0):g=(r+Math.random())*1e3,f(g)}let _=!1;function S(T){_||(_=!0,v(),!u&&(i!==null?(T||(s=2),clearTimeout(i),f(0)):T||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,S(!0)},n),S}function zD(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FD(t){return t!==void 0}function yk(t,e,n,r){if(r<e)throw gk(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gk(`Invalid value for '${t}'. Expected ${n} or less.`)}function $D(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Of;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Of||(Of={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WD(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BD{constructor(e,n,r,i,o,a,s,c,u,h,f,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,_)=>{this.resolve_=b,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new th(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const c=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Of.NO_ERROR,c=o.getStatus();if(!s||WD(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Of.ABORT;r(!1,new th(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new th(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());FD(c)?o(c):o()}catch(c){a(c)}else if(s!==null){const c=RD();c.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,c)):a(c)}else if(i.canceled){const c=this.appDelete_?gj():OD();a(c)}else{const c=AD();a(c)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=DD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function UD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function HD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KD(t,e,n,r,i,o,a=!0){const s=$D(t.urlParams),c=t.url+s,u=Object.assign({},t.headers);return qD(u,e),UD(u,n),VD(u,o),HD(u,r),new BD(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nf{constructor(e,n){this._service=e,n instanceof di?this._location=n:this._location=di.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nf(e,n)}get root(){const e=new di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QD(this._location.path)}get storage(){return this._service}get parent(){const e=GD(this._location.path);if(e===null)return null;const n=new di(this._location.bucket,e);return new Nf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MD(e)}}function vk(t,e){const n=e==null?void 0:e[TD];return n==null?null:di.makeFromBucketSpec(n,t)}function XD(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:KE(i,t.app.options.projectId))}class YD{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=mj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ID,this._maxUploadRetryTime=jD,this._requests=new Set,i!=null?this._bucket=di.makeFromBucketSpec(i,this._host):this._bucket=vk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=di.makeFromBucketSpec(this._url,e):this._bucket=vk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nf(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new LD(gj());{const a=KD(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bk="@firebase/storage",xk="0.13.2";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yj="storage";function JD(t=ub(),e){t=mn(t);const n=Ip(t,yj).getImmediate({identifier:e}),r=VE("storage");return r&&ZD(n,...r),n}function ZD(t,e,n,r={}){XD(t,e,n,r)}function e9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new YD(n,r,i,e,ns)}function t9(){Ua(new na(yj,e9,"PUBLIC").setMultipleInstances(!0)),Ii(bk,xk,""),Ii(bk,xk,"esm2017")}t9();const n9={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},Zp=XE(n9),re=lI(Zp),_a=Or(Zp);JD(Zp);const r9=Object.freeze(Object.defineProperty({__proto__:null,app:Zp,auth:_a,db:re},Symbol.toStringTag,{value:"Module"}));function i9(t,e,n,r){const i=c=>c*Math.PI/180,o=i(n-t),a=i(r-e),s=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function o9(){const[t,e]=x.useState([]),[n,r]=x.useState(null),[i,o]=x.useState(""),a=gr();x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),x.useEffect(()=>{async function c(){const u=(await Ht(ze(re,"users"))).docs.map(h=>({id:h.id,...h.data()})).filter(h=>h.role==="medicine-manager");e(u)}c()},[]);const s=t.map(c=>{let u=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(u=i9(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:u}}).sort((c,u)=>c.distance-u.distance).filter(c=>{var u;return(u=c.businessName)==null?void 0:u.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>o(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:s.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&a(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?" Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),s.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}const Su={black:"#000",white:"#fff"},hs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},fs={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ps={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ms={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ac={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},a9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Xa(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const s9=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),ml="$$material";function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z.apply(null,arguments)}function Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function l9(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function c9(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var u9=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(c9(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=l9(r);try{i.insertRule(n,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Un="-ms-",Pf="-moz-",xt="-webkit-",vj="comm",rx="rule",ix="decl",d9="@import",bj="@keyframes",h9="@layer",f9=Math.abs,em=String.fromCharCode,p9=Object.assign;function m9(t,e){return On(t,0)^45?(((e<<2^On(t,0))<<2^On(t,1))<<2^On(t,2))<<2^On(t,3):0}function xj(t){return t.trim()}function g9(t,e){return(t=e.exec(t))?t[0]:t}function wt(t,e,n){return t.replace(e,n)}function N0(t,e){return t.indexOf(e)}function On(t,e){return t.charCodeAt(e)|0}function ku(t,e,n){return t.slice(e,n)}function wi(t){return t.length}function ox(t){return t.length}function nh(t,e){return e.push(t),t}function y9(t,e){return t.map(e).join("")}var tm=1,gl=1,wj=0,mr=0,dn=0,Ml="";function nm(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:tm,column:gl,length:a,return:""}}function sc(t,e){return p9(nm("",null,null,"",null,null,0),t,{length:-t.length},e)}function v9(){return dn}function b9(){return dn=mr>0?On(Ml,--mr):0,gl--,dn===10&&(gl=1,tm--),dn}function Cr(){return dn=mr<wj?On(Ml,mr++):0,gl++,dn===10&&(gl=1,tm++),dn}function Ni(){return On(Ml,mr)}function Ph(){return mr}function ad(t,e){return ku(Ml,t,e)}function Cu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sj(t){return tm=gl=1,wj=wi(Ml=t),mr=0,[]}function kj(t){return Ml="",t}function Mh(t){return xj(ad(mr-1,P0(t===91?t+2:t===40?t+1:t)))}function x9(t){for(;(dn=Ni())&&dn<33;)Cr();return Cu(t)>2||Cu(dn)>3?"":" "}function w9(t,e){for(;--e&&Cr()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return ad(t,Ph()+(e<6&&Ni()==32&&Cr()==32))}function P0(t){for(;Cr();)switch(dn){case t:return mr;case 34:case 39:t!==34&&t!==39&&P0(dn);break;case 40:t===41&&P0(t);break;case 92:Cr();break}return mr}function S9(t,e){for(;Cr()&&t+dn!==57&&!(t+dn===84&&Ni()===47););return"/*"+ad(e,mr-1)+"*"+em(t===47?t:Cr())}function k9(t){for(;!Cu(Ni());)Cr();return ad(t,mr)}function C9(t){return kj(Lh("",null,null,null,[""],t=Sj(t),0,[0],t))}function Lh(t,e,n,r,i,o,a,s,c){for(var u=0,h=0,f=a,v=0,b=0,_=0,S=1,T=1,C=1,g=0,y="",O=i,M=o,P=r,E=y;T;)switch(_=g,g=Cr()){case 40:if(_!=108&&On(E,f-1)==58){N0(E+=wt(Mh(g),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:E+=Mh(g);break;case 9:case 10:case 13:case 32:E+=x9(_);break;case 92:E+=w9(Ph()-1,7);continue;case 47:switch(Ni()){case 42:case 47:nh(_9(S9(Cr(),Ph()),e,n),c);break;default:E+="/"}break;case 123*S:s[u++]=wi(E)*C;case 125*S:case 59:case 0:switch(g){case 0:case 125:T=0;case 59+h:C==-1&&(E=wt(E,/\f/g,"")),b>0&&wi(E)-f&&nh(b>32?Sk(E+";",r,n,f-1):Sk(wt(E," ","")+";",r,n,f-2),c);break;case 59:E+=";";default:if(nh(P=wk(E,e,n,u,h,i,s,y,O=[],M=[],f),o),g===123)if(h===0)Lh(E,e,P,P,O,o,f,s,M);else switch(v===99&&On(E,3)===110?100:v){case 100:case 108:case 109:case 115:Lh(t,P,P,r&&nh(wk(t,P,P,0,0,i,s,y,i,O=[],f),M),i,M,f,s,r?O:M);break;default:Lh(E,P,P,P,[""],M,0,s,M)}}u=h=b=0,S=C=1,y=E="",f=a;break;case 58:f=1+wi(E),b=_;default:if(S<1){if(g==123)--S;else if(g==125&&S++==0&&b9()==125)continue}switch(E+=em(g),g*S){case 38:C=h>0?1:(E+="\f",-1);break;case 44:s[u++]=(wi(E)-1)*C,C=1;break;case 64:Ni()===45&&(E+=Mh(Cr())),v=Ni(),h=f=wi(y=E+=k9(Ph())),g++;break;case 45:_===45&&wi(E)==2&&(S=0)}}return o}function wk(t,e,n,r,i,o,a,s,c,u,h){for(var f=i-1,v=i===0?o:[""],b=ox(v),_=0,S=0,T=0;_<r;++_)for(var C=0,g=ku(t,f+1,f=f9(S=a[_])),y=t;C<b;++C)(y=xj(S>0?v[C]+" "+g:wt(g,/&\f/g,v[C])))&&(c[T++]=y);return nm(t,e,n,i===0?rx:s,c,u,h)}function _9(t,e,n){return nm(t,e,n,vj,em(v9()),ku(t,2,-2),0)}function Sk(t,e,n,r){return nm(t,e,n,ix,ku(t,0,r),ku(t,r+1,-1),r)}function Qs(t,e){for(var n="",r=ox(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function E9(t,e,n,r){switch(t.type){case h9:if(t.children.length)break;case d9:case ix:return t.return=t.return||t.value;case vj:return"";case bj:return t.return=t.value+"{"+Qs(t.children,r)+"}";case rx:t.value=t.props.join(",")}return wi(n=Qs(t.children,r))?t.return=t.value+"{"+n+"}":""}function T9(t){var e=ox(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}function I9(t){return function(e){e.root||(e=e.return)&&t(e)}}function Cj(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var j9=function(t,e,n){for(var r=0,i=0;r=i,i=Ni(),r===38&&i===12&&(e[n]=1),!Cu(i);)Cr();return ad(t,mr)},R9=function(t,e){var n=-1,r=44;do switch(Cu(r)){case 0:r===38&&Ni()===12&&(e[n]=1),t[n]+=j9(mr-1,e,n);break;case 2:t[n]+=Mh(r);break;case 4:if(r===44){t[++n]=Ni()===58?"&\f":"",e[n]=t[n].length;break}default:t[n]+=em(r)}while(r=Cr());return t},A9=function(t,e){return kj(R9(Sj(t),e))},kk=new WeakMap,O9=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!kk.get(n))&&!r){kk.set(t,!0);for(var i=[],o=A9(e,i),a=n.props,s=0,c=0;s<o.length;s++)for(var u=0;u<a.length;u++,c++)t.props[c]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},N9=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function _j(t,e){switch(m9(t,e)){case 5103:return xt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return xt+t+Pf+t+Un+t+t;case 6828:case 4268:return xt+t+Un+t+t;case 6165:return xt+t+Un+"flex-"+t+t;case 5187:return xt+t+wt(t,/(\w+).+(:[^]+)/,xt+"box-$1$2"+Un+"flex-$1$2")+t;case 5443:return xt+t+Un+"flex-item-"+wt(t,/flex-|-self/,"")+t;case 4675:return xt+t+Un+"flex-line-pack"+wt(t,/align-content|flex-|-self/,"")+t;case 5548:return xt+t+Un+wt(t,"shrink","negative")+t;case 5292:return xt+t+Un+wt(t,"basis","preferred-size")+t;case 6060:return xt+"box-"+wt(t,"-grow","")+xt+t+Un+wt(t,"grow","positive")+t;case 4554:return xt+wt(t,/([^-])(transform)/g,"$1"+xt+"$2")+t;case 6187:return wt(wt(wt(t,/(zoom-|grab)/,xt+"$1"),/(image-set)/,xt+"$1"),t,"")+t;case 5495:case 3959:return wt(t,/(image-set\([^]*)/,xt+"$1$`$1");case 4968:return wt(wt(t,/(.+:)(flex-)?(.*)/,xt+"box-pack:$3"+Un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xt+t+t;case 4095:case 3583:case 4068:case 2532:return wt(t,/(.+)-inline(.+)/,xt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wi(t)-1-e>6)switch(On(t,e+1)){case 109:if(On(t,e+4)!==45)break;case 102:return wt(t,/(.+:)(.+)-([^]+)/,"$1"+xt+"$2-$3$1"+Pf+(On(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~N0(t,"stretch")?_j(wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(On(t,e+1)!==115)break;case 6444:switch(On(t,wi(t)-3-(~N0(t,"!important")&&10))){case 107:return wt(t,":",":"+xt)+t;case 101:return wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xt+(On(t,14)===45?"inline-":"")+"box$3$1"+xt+"$2$3$1"+Un+"$2box$3")+t}break;case 5936:switch(On(t,e+11)){case 114:return xt+t+Un+wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return xt+t+Un+wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return xt+t+Un+wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return xt+t+Un+t+t}return t}var P9=function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case ix:t.return=_j(t.value,t.length);break;case bj:return Qs([sc(t,{value:wt(t.value,"@","@"+xt)})],r);case rx:if(t.length)return y9(t.props,function(i){switch(g9(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qs([sc(t,{props:[wt(i,/:(read-\w+)/,":"+Pf+"$1")]})],r);case"::placeholder":return Qs([sc(t,{props:[wt(i,/:(plac\w+)/,":"+xt+"input-$1")]}),sc(t,{props:[wt(i,/:(plac\w+)/,":"+Pf+"$1")]}),sc(t,{props:[wt(i,/:(plac\w+)/,Un+"input-$1")]})],r)}return""})}},M9=[P9],Ej=function(t){var e=t.key;if(e==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var r=t.stylisPlugins||M9,i={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),T=1;T<S.length;T++)i[S[T]]=!0;a.push(_)});var s,c=[O9,N9];{var u,h=[E9,I9(function(_){u.insert(_)})],f=T9(c.concat(r,h)),v=function(_){return Qs(C9(_),f)};s=function(_,S,T,C){u=T,v(_?_+"{"+S.styles+"}":S.styles),C&&(b.inserted[S.name]=!0)}}var b={key:e,sheet:new u9({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:s};return b.sheet.hydrate(a),b},Tj={exports:{}},Et={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Tn=typeof Symbol=="function"&&Symbol.for,ax=Tn?Symbol.for("react.element"):60103,sx=Tn?Symbol.for("react.portal"):60106,rm=Tn?Symbol.for("react.fragment"):60107,im=Tn?Symbol.for("react.strict_mode"):60108,om=Tn?Symbol.for("react.profiler"):60114,am=Tn?Symbol.for("react.provider"):60109,sm=Tn?Symbol.for("react.context"):60110,lx=Tn?Symbol.for("react.async_mode"):60111,lm=Tn?Symbol.for("react.concurrent_mode"):60111,cm=Tn?Symbol.for("react.forward_ref"):60112,um=Tn?Symbol.for("react.suspense"):60113,L9=Tn?Symbol.for("react.suspense_list"):60120,dm=Tn?Symbol.for("react.memo"):60115,hm=Tn?Symbol.for("react.lazy"):60116,D9=Tn?Symbol.for("react.block"):60121,z9=Tn?Symbol.for("react.fundamental"):60117,F9=Tn?Symbol.for("react.responder"):60118,$9=Tn?Symbol.for("react.scope"):60119;function Nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ax:switch(t=t.type,t){case lx:case lm:case rm:case om:case im:case um:return t;default:switch(t=t&&t.$$typeof,t){case sm:case cm:case hm:case dm:case am:return t;default:return e}}case sx:return e}}}function Ij(t){return Nr(t)===lm}Et.AsyncMode=lx;Et.ConcurrentMode=lm;Et.ContextConsumer=sm;Et.ContextProvider=am;Et.Element=ax;Et.ForwardRef=cm;Et.Fragment=rm;Et.Lazy=hm;Et.Memo=dm;Et.Portal=sx;Et.Profiler=om;Et.StrictMode=im;Et.Suspense=um;Et.isAsyncMode=function(t){return Ij(t)||Nr(t)===lx};Et.isConcurrentMode=Ij;Et.isContextConsumer=function(t){return Nr(t)===sm};Et.isContextProvider=function(t){return Nr(t)===am};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ax};Et.isForwardRef=function(t){return Nr(t)===cm};Et.isFragment=function(t){return Nr(t)===rm};Et.isLazy=function(t){return Nr(t)===hm};Et.isMemo=function(t){return Nr(t)===dm};Et.isPortal=function(t){return Nr(t)===sx};Et.isProfiler=function(t){return Nr(t)===om};Et.isStrictMode=function(t){return Nr(t)===im};Et.isSuspense=function(t){return Nr(t)===um};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rm||t===lm||t===om||t===im||t===um||t===L9||typeof t=="object"&&t!==null&&(t.$$typeof===hm||t.$$typeof===dm||t.$$typeof===am||t.$$typeof===sm||t.$$typeof===cm||t.$$typeof===z9||t.$$typeof===F9||t.$$typeof===$9||t.$$typeof===D9)};Et.typeOf=Nr;Tj.exports=Et;var W9=Tj.exports,jj=W9,B9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rj={};Rj[jj.ForwardRef]=B9;Rj[jj.Memo]=U9;var V9=!0;function Aj(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var cx=function(t,e,n){var r=t.key+"-"+e.name;(n===!1||V9===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},ux=function(t,e,n){cx(t,e,n);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function q9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var H9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K9=/[A-Z]|^ms/g,G9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Oj=function(t){return t.charCodeAt(1)===45},Ck=function(t){return t!=null&&typeof t!="boolean"},Bg=Cj(function(t){return Oj(t)?t:t.replace(K9,"-$&").toLowerCase()}),_k=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(G9,function(n,r,i){return Si={name:r,styles:i,next:Si},r})}return H9[t]!==1&&!Oj(t)&&typeof e=="number"&&e!==0?e+"px":e};function _u(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Si={name:i.name,styles:i.styles,next:Si},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)Si={name:a.name,styles:a.styles,next:Si},a=a.next;var s=o.styles+";";return s}return Q9(t,e,n)}case"function":{if(t!==void 0){var c=Si,u=n(t);return Si=c,_u(t,e,u)}break}}var h=n;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function Q9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_u(t,e,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":Ck(s)&&(r+=Bg(o)+":"+_k(o,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)Ck(a[c])&&(r+=Bg(o)+":"+_k(o,a[c])+";");else{var u=_u(t,e,a);switch(o){case"animation":case"animationName":{r+=Bg(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var Ek=/label:\s*([^\s;{]+)\s*(;|$)/g,Si;function sd(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Si=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=_u(n,e,o);else{var a=o;i+=a[0]}for(var s=1;s<t.length;s++)if(i+=_u(n,e,t[s]),r){var c=o;i+=c[s]}Ek.lastIndex=0;for(var u="",h;(h=Ek.exec(i))!==null;)u+="-"+h[1];var f=q9(i)+u;return{name:f,styles:i,next:Si}}var X9=function(t){return t()},Nj=Uh.useInsertionEffect?Uh.useInsertionEffect:!1,Pj=Nj||X9,Tk=Nj||x.useLayoutEffect,Mj=x.createContext(typeof HTMLElement<"u"?Ej({key:"css"}):null),Y9=Mj.Provider,dx=function(t){return x.forwardRef(function(e,n){var r=x.useContext(Mj);return t(e,r,n)})},Ll=x.createContext({}),hx={}.hasOwnProperty,M0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",J9=function(t,e){var n={};for(var r in e)hx.call(e,r)&&(n[r]=e[r]);return n[M0]=t,n},Z9=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return cx(e,n,r),Pj(function(){return ux(e,n,r)}),null},ez=dx(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[M0],o=[r],a="";typeof t.className=="string"?a=Aj(e.registered,o,t.className):t.className!=null&&(a=t.className+" ");var s=sd(o,void 0,x.useContext(Ll));a+=e.key+"-"+s.name;var c={};for(var u in t)hx.call(t,u)&&u!=="css"&&u!==M0&&(c[u]=t[u]);return c.className=a,n&&(c.ref=n),x.createElement(x.Fragment,null,x.createElement(Z9,{cache:e,serialized:s,isStringTag:typeof i=="string"}),x.createElement(i,c))}),tz=ez,Ik={exports:{}},jk;function Lj(){return jk||(jk=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Ik)),Ik.exports}Lj();var Rk=function(t,e){var n=arguments;if(e==null||!hx.call(e,"css"))return x.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=tz,i[1]=J9(t,e);for(var o=2;o<r;o++)i[o]=n[o];return x.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Rk||(Rk={}));var nz=dx(function(t,e){var n=t.styles,r=sd([n],void 0,x.useContext(Ll)),i=x.useRef();return Tk(function(){var o=e.key+"-global",a=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,c=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),c!==null&&(s=!0,c.setAttribute("data-emotion",o),a.hydrate([c])),i.current=[a,s],function(){a.flush()}},[e]),Tk(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&ux(e,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function Dj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return sd(e)}function fm(){var t=Dj.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var rz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iz=Cj(function(t){return rz.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),oz=iz,az=function(t){return t!=="theme"},Ak=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?oz:az},Ok=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof r!="function"&&n&&(r=t.__emotion_forwardProp),r},sz=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return cx(e,n,r),Pj(function(){return ux(e,n,r)}),null},lz=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,a;n!==void 0&&(o=n.label,a=n.target);var s=Ok(e,n,r),c=s||Ak(i),u=!c("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var v=h[0];f.push(v[0]);for(var b=h.length,_=1;_<b;_++)f.push(h[_],v[_])}var S=dx(function(T,C,g){var y=u&&T.as||i,O="",M=[],P=T;if(T.theme==null){P={};for(var E in T)P[E]=T[E];P.theme=x.useContext(Ll)}typeof T.className=="string"?O=Aj(C.registered,M,T.className):T.className!=null&&(O=T.className+" ");var p=sd(f.concat(M),C.registered,P);O+=C.key+"-"+p.name,a!==void 0&&(O+=" "+a);var m=u&&s===void 0?Ak(y):c,w={};for(var R in T)u&&R==="as"||m(R)&&(w[R]=T[R]);return w.className=O,g&&(w.ref=g),x.createElement(x.Fragment,null,x.createElement(sz,{cache:C,serialized:p,isStringTag:typeof y=="string"}),x.createElement(y,w))});return S.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=f,S.__emotion_forwardProp=s,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(T,C){var g=t(T,z({},n,C,{shouldForwardProp:Ok(S,C,!0)}));return g.apply(void 0,f)},S}},cz=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],L0=lz.bind(null);cz.forEach(function(t){L0[t]=L0(t)});function uz(t,e){const n=Ej({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Ug=new Map;function dz(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=x.useMemo(()=>{const o=`${e}-${n}`;if(typeof document=="object"&&Ug.has(o))return Ug.get(o);const a=uz(e,n);return Ug.set(o,a),a},[e,n]);return e||n?l.jsx(Y9,{value:i,children:r}):r}function hz(t){return t==null||Object.keys(t).length===0}function zj(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(hz(i)?n:i):e;return l.jsx(nz,{styles:r})}function fx(t,e){return L0(t,e)}const Fj=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Nk=[];function Mf(t){return Nk[0]=t,sd(Nk)}const fz=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:zj,StyledEngineProvider:dz,ThemeContext:Ll,css:Dj,default:fx,internal_processStyles:Fj,internal_serializeStyles:Mf,keyframes:fm},Symbol.toStringTag,{value:"Module"}));function Zi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $j(t){if(x.isValidElement(t)||!Zi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=$j(t[n])}),e}function _r(t,e,n={clone:!0}){const r=n.clone?z({},t):t;return Zi(t)&&Zi(e)&&Object.keys(e).forEach(i=>{x.isValidElement(e[i])?r[i]=e[i]:Zi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Zi(t[i])?r[i]=_r(t[i],e[i],n):n.clone?r[i]=Zi(e[i])?$j(e[i]):e[i]:r[i]=e[i]}),r}const pz=Object.freeze(Object.defineProperty({__proto__:null,default:_r,isPlainObject:Zi},Symbol.toStringTag,{value:"Module"})),mz=["values","unit","step"],gz=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>z({},n,{[r.key]:r.val}),{})};function Wj(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ie(t,mz),o=gz(e),a=Object.keys(o);function s(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n})`}function c(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${n})`}function u(v,b){const _=a.indexOf(b);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:b)-r/100}${n})`}function h(v){return a.indexOf(v)+1<a.length?u(v,a[a.indexOf(v)+1]):s(v)}function f(v){const b=a.indexOf(v);return b===0?s(a[1]):b===a.length-1?c(a[b]):u(v,a[a.indexOf(v)+1]).replace("@media","@media not all and")}return z({keys:a,values:o,up:s,down:c,between:u,only:h,not:f,unit:n},i)}const yz={borderRadius:4};function Bc(t,e){return e?_r(t,e,{clone:!1}):t}const px={xs:0,sm:600,md:900,lg:1200,xl:1536},Pk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${px[t]}px)`};function Xr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||Pk;return e.reduce((o,a,s)=>(o[i.up(i.keys[s])]=n(e[s]),o),{})}if(typeof e=="object"){const i=r.breakpoints||Pk;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||px).indexOf(a)!==-1){const s=i.up(a);o[s]=n(e[a],a)}else{const s=a;o[s]=e[s]}return o},{})}return n(e)}function vz(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,r)=>{const i=t.up(r);return n[i]={},n},{}))||{}}function Mk(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function bz(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function pm({values:t,breakpoints:e,base:n}){const r=n||bz(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((a,s,c)=>(Array.isArray(t)?(a[s]=t[c]!=null?t[c]:t[o],o=c):typeof t=="object"?(a[s]=t[s]!=null?t[s]:t[o],o=s):a[s]=t,a),{})}function fe(t){if(typeof t!="string")throw new Error(Xa(7));return t.charAt(0).toUpperCase()+t.slice(1)}const xz=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));function mm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Lf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=mm(t,n)||r,e&&(i=e(i,r,t)),i}function ln(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=a=>{if(a[e]==null)return null;const s=a[e],c=a.theme,u=mm(c,r)||{};return Xr(a,s,h=>{let f=Lf(u,i,h);return h===f&&typeof h=="string"&&(f=Lf(u,i,`${e}${h==="default"?"":fe(h)}`,h)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function wz(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Sz={m:"margin",p:"padding"},kz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Lk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Cz=wz(t=>{if(t.length>2)if(Lk[t])t=Lk[t];else return[t];const[e,n]=t.split(""),r=Sz[e],i=kz[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),mx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...mx,...gx];function ld(t,e,n,r){var i;const o=(i=mm(t,e,!1))!=null?i:n;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function Bj(t){return ld(t,"spacing",8)}function cd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function _z(t,e){return n=>t.reduce((r,i)=>(r[i]=cd(e,n),r),{})}function Ez(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Cz(n),o=_z(i,r),a=t[n];return Xr(t,a,o)}function Uj(t,e){const n=Bj(t.theme);return Object.keys(t).map(r=>Ez(t,e,r,n)).reduce(Bc,{})}function Zt(t){return Uj(t,mx)}Zt.propTypes={};Zt.filterProps=mx;function en(t){return Uj(t,gx)}en.propTypes={};en.filterProps=gx;function Tz(t=8){if(t.mui)return t;const e=Bj({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function gm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Bc(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Wr(t){return typeof t!="number"?t:`${t}px solid`}function ti(t,e){return ln({prop:t,themeKey:"borders",transform:e})}const Iz=ti("border",Wr),jz=ti("borderTop",Wr),Rz=ti("borderRight",Wr),Az=ti("borderBottom",Wr),Oz=ti("borderLeft",Wr),Nz=ti("borderColor"),Pz=ti("borderTopColor"),Mz=ti("borderRightColor"),Lz=ti("borderBottomColor"),Dz=ti("borderLeftColor"),zz=ti("outline",Wr),Fz=ti("outlineColor"),ym=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ld(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:cd(e,r)});return Xr(t,t.borderRadius,n)}return null};ym.propTypes={};ym.filterProps=["borderRadius"];gm(Iz,jz,Rz,Az,Oz,Nz,Pz,Mz,Lz,Dz,ym,zz,Fz);const vm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ld(t.theme,"spacing",8),n=r=>({gap:cd(e,r)});return Xr(t,t.gap,n)}return null};vm.propTypes={};vm.filterProps=["gap"];const bm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ld(t.theme,"spacing",8),n=r=>({columnGap:cd(e,r)});return Xr(t,t.columnGap,n)}return null};bm.propTypes={};bm.filterProps=["columnGap"];const xm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ld(t.theme,"spacing",8),n=r=>({rowGap:cd(e,r)});return Xr(t,t.rowGap,n)}return null};xm.propTypes={};xm.filterProps=["rowGap"];const $z=ln({prop:"gridColumn"}),Wz=ln({prop:"gridRow"}),Bz=ln({prop:"gridAutoFlow"}),Uz=ln({prop:"gridAutoColumns"}),Vz=ln({prop:"gridAutoRows"}),qz=ln({prop:"gridTemplateColumns"}),Hz=ln({prop:"gridTemplateRows"}),Kz=ln({prop:"gridTemplateAreas"}),Gz=ln({prop:"gridArea"});gm(vm,bm,xm,$z,Wz,Bz,Uz,Vz,qz,Hz,Kz,Gz);function Xs(t,e){return e==="grey"?e:t}const Qz=ln({prop:"color",themeKey:"palette",transform:Xs}),Xz=ln({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xs}),Yz=ln({prop:"backgroundColor",themeKey:"palette",transform:Xs});gm(Qz,Xz,Yz);function xr(t){return t<=1&&t!==0?`${t*100}%`:t}const Jz=ln({prop:"width",transform:xr}),yx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||px[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:xr(n)}};return Xr(t,t.maxWidth,e)}return null};yx.filterProps=["maxWidth"];const Zz=ln({prop:"minWidth",transform:xr}),eF=ln({prop:"height",transform:xr}),tF=ln({prop:"maxHeight",transform:xr}),nF=ln({prop:"minHeight",transform:xr});ln({prop:"size",cssProperty:"width",transform:xr});ln({prop:"size",cssProperty:"height",transform:xr});const rF=ln({prop:"boxSizing"});gm(Jz,yx,Zz,eF,tF,nF,rF);const ud={border:{themeKey:"borders",transform:Wr},borderTop:{themeKey:"borders",transform:Wr},borderRight:{themeKey:"borders",transform:Wr},borderBottom:{themeKey:"borders",transform:Wr},borderLeft:{themeKey:"borders",transform:Wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ym},color:{themeKey:"palette",transform:Xs},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xs},backgroundColor:{themeKey:"palette",transform:Xs},p:{style:en},pt:{style:en},pr:{style:en},pb:{style:en},pl:{style:en},px:{style:en},py:{style:en},padding:{style:en},paddingTop:{style:en},paddingRight:{style:en},paddingBottom:{style:en},paddingLeft:{style:en},paddingX:{style:en},paddingY:{style:en},paddingInline:{style:en},paddingInlineStart:{style:en},paddingInlineEnd:{style:en},paddingBlock:{style:en},paddingBlockStart:{style:en},paddingBlockEnd:{style:en},m:{style:Zt},mt:{style:Zt},mr:{style:Zt},mb:{style:Zt},ml:{style:Zt},mx:{style:Zt},my:{style:Zt},margin:{style:Zt},marginTop:{style:Zt},marginRight:{style:Zt},marginBottom:{style:Zt},marginLeft:{style:Zt},marginX:{style:Zt},marginY:{style:Zt},marginInline:{style:Zt},marginInlineStart:{style:Zt},marginInlineEnd:{style:Zt},marginBlock:{style:Zt},marginBlockStart:{style:Zt},marginBlockEnd:{style:Zt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vm},rowGap:{style:xm},columnGap:{style:bm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xr},maxWidth:{style:yx},minWidth:{transform:xr},height:{transform:xr},maxHeight:{transform:xr},minHeight:{transform:xr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function iF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function oF(t,e){return typeof t=="function"?t(e):t}function Vj(){function t(n,r,i,o){const a={[n]:r,theme:i},s=o[n];if(!s)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:f}=s;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const v=mm(i,u)||{};return f?f(a):Xr(a,r,b=>{let _=Lf(v,h,b);return b===_&&typeof b=="string"&&(_=Lf(v,h,`${n}${b==="default"?"":fe(b)}`,b)),c===!1?_:{[c]:_}})}function e(n){var r;const{sx:i,theme:o={},nested:a}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:ud;function c(u){let h=u;if(typeof u=="function")h=u(o);else if(typeof u!="object")return u;if(!h)return null;const f=vz(o.breakpoints),v=Object.keys(f);let b=f;return Object.keys(h).forEach(_=>{const S=oF(h[_],o);if(S!=null)if(typeof S=="object")if(s[_])b=Bc(b,t(_,S,o,s));else{const T=Xr({theme:o},S,C=>({[_]:C}));iF(T,S)?b[_]=e({sx:S,theme:o,nested:!0}):b=Bc(b,T)}else b=Bc(b,t(_,S,o,s))}),!a&&o.modularCssLayers?{"@layer sx":Mk(v,b)}:Mk(v,b)}return Array.isArray(i)?i.map(c):c(i)}return e}const Dl=Vj();Dl.filterProps=["sx"];function qj(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const aF=["breakpoints","palette","spacing","shape"];function dd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,a=Ie(t,aF),s=Wj(n),c=Tz(i);let u=_r({breakpoints:s,direction:"ltr",components:{},palette:z({mode:"light"},r),spacing:c,shape:z({},yz,o)},a);return u.applyStyles=qj,u=e.reduce((h,f)=>_r(h,f),u),u.unstable_sxConfig=z({},ud,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return Dl({sx:h,theme:this})},u}const sF=Object.freeze(Object.defineProperty({__proto__:null,default:dd,private_createBreakpoints:Wj,unstable_applyStyles:qj},Symbol.toStringTag,{value:"Module"}));function lF(t){return Object.keys(t).length===0}function vx(t=null){const e=x.useContext(Ll);return!e||lF(e)?t:e}const cF=dd();function wm(t=cF){return vx(t)}function Dk(t){const e=Mf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function Hj({styles:t,themeId:e,defaultTheme:n={}}){const r=wm(n),i=e&&r[e]||r;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(a=>Dk(typeof a=="function"?a(i):a)):o=Dk(o)),l.jsx(zj,{styles:o})}const uF=["sx"],dF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ud;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function Sm(t){const{sx:e}=t,n=Ie(t,uF),{systemProps:r,otherProps:i}=dF(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...a)=>{const s=e(...a);return Zi(s)?z({},r,s):r}:o=z({},r,e),z({},i,{sx:o})}const hF=Object.freeze(Object.defineProperty({__proto__:null,default:Dl,extendSxProp:Sm,unstable_createStyleFunctionSx:Vj,unstable_defaultSxConfig:ud},Symbol.toStringTag,{value:"Module"})),zk=t=>t,fF=()=>{let t=zk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=zk}}},bx=fF(),pF=["className","component"];function mF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=fx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Dl);return x.forwardRef(function(a,s){const c=wm(n),u=Sm(a),{className:h,component:f="div"}=u,v=Ie(u,pF);return l.jsx(o,z({as:f,ref:s,className:Ae(h,i?i(r):r),theme:e&&c[e]||c},v))})}const gF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function lt(t,e,n="Mui"){const r=gF[e];return r?`${n}-${r}`:`${bx.generate(t)}-${e}`}function ot(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=lt(t,i,n)}),r}var Kj={exports:{}},jt={};/**
* @license React
* react-is.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var xx=Symbol.for("react.transitional.element"),wx=Symbol.for("react.portal"),km=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),Em=Symbol.for("react.consumer"),Tm=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),yF=Symbol.for("react.view_transition"),vF=Symbol.for("react.client.reference");function ni(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xx:switch(t=t.type,t){case km:case _m:case Cm:case jm:case Rm:case yF:return t;default:switch(t=t&&t.$$typeof,t){case Tm:case Im:case Om:case Am:return t;case Em:return t;default:return e}}case wx:return e}}}jt.ContextConsumer=Em;jt.ContextProvider=Tm;jt.Element=xx;jt.ForwardRef=Im;jt.Fragment=km;jt.Lazy=Om;jt.Memo=Am;jt.Portal=wx;jt.Profiler=_m;jt.StrictMode=Cm;jt.Suspense=jm;jt.SuspenseList=Rm;jt.isContextConsumer=function(t){return ni(t)===Em};jt.isContextProvider=function(t){return ni(t)===Tm};jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xx};jt.isForwardRef=function(t){return ni(t)===Im};jt.isFragment=function(t){return ni(t)===km};jt.isLazy=function(t){return ni(t)===Om};jt.isMemo=function(t){return ni(t)===Am};jt.isPortal=function(t){return ni(t)===wx};jt.isProfiler=function(t){return ni(t)===_m};jt.isStrictMode=function(t){return ni(t)===Cm};jt.isSuspense=function(t){return ni(t)===jm};jt.isSuspenseList=function(t){return ni(t)===Rm};jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===km||t===_m||t===Cm||t===jm||t===Rm||typeof t=="object"&&t!==null&&(t.$$typeof===Om||t.$$typeof===Am||t.$$typeof===Tm||t.$$typeof===Em||t.$$typeof===Im||t.$$typeof===vF||t.getModuleId!==void 0)};jt.typeOf=ni;Kj.exports=jt;var Fk=Kj.exports;const bF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Gj(t){const e=`${t}`.match(bF);return e&&e[1]||""}function Qj(t,e=""){return t.displayName||t.name||Gj(t)||e}function $k(t,e,n){const r=Qj(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function xF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Qj(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Fk.ForwardRef:return $k(t,t.render,"ForwardRef");case Fk.Memo:return $k(t,t.type,"memo");default:return}}}const wF=Object.freeze(Object.defineProperty({__proto__:null,default:xF,getFunctionName:Gj},Symbol.toStringTag,{value:"Module"})),SF=["ownerState"],kF=["variants"],CF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _F(t){return Object.keys(t).length===0}function EF(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Vg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Wk(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const TF=dd(),IF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function rh({defaultTheme:t,theme:e,themeId:n}){return _F(e)?t:e[n]||e}function jF(t){return t?(e,n)=>n[t]:null}function Dh(t,e,n){let{ownerState:r}=e,i=Ie(e,SF);const o=typeof t=="function"?t(z({ownerState:r},i)):t;if(Array.isArray(o))return o.flatMap(a=>Dh(a,z({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:a=[]}=o;let s=Ie(o,kF);return a.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props(z({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(u=!1)}),u){Array.isArray(s)||(s=[s]);const h=typeof c.style=="function"?c.style(z({ownerState:r},i,r)):c.style;s.push(n?Wk(Mf(h),n):h)}}),s}return n?Wk(Mf(o),n):o}function RF(t={}){const{themeId:e,defaultTheme:n=TF,rootShouldForwardProp:r=Vg,slotShouldForwardProp:i=Vg}=t,o=a=>Dl(z({},a,{theme:rh(z({},a,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(a,s={})=>{Fj(a,P=>P.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:v=jF(IF(u))}=s,b=Ie(s,CF),_=c&&c.startsWith("Mui")||u?"components":"custom",S=h!==void 0?h:u&&u!=="Root"&&u!=="root"||!1,T=f||!1;let C,g=Vg;u==="Root"||u==="root"?g=r:u?g=i:EF(a)&&(g=void 0);const y=fx(a,z({shouldForwardProp:g,label:C},b)),O=P=>typeof P=="function"&&P.__emotion_real!==P||Zi(P)?E=>{const p=rh({theme:E.theme,defaultTheme:n,themeId:e});return Dh(P,z({},E,{theme:p}),p.modularCssLayers?_:void 0)}:P,M=(P,...E)=>{let p=O(P);const m=E?E.map(O):[];c&&v&&m.push(j=>{const I=rh(z({},j,{defaultTheme:n,themeId:e}));if(!I.components||!I.components[c]||!I.components[c].styleOverrides)return null;const L=I.components[c].styleOverrides,B={};return Object.entries(L).forEach(([G,$])=>{B[G]=Dh($,z({},j,{theme:I}),I.modularCssLayers?"theme":void 0)}),v(j,B)}),c&&!S&&m.push(j=>{var I;const L=rh(z({},j,{defaultTheme:n,themeId:e})),B=L==null||(I=L.components)==null||(I=I[c])==null?void 0:I.variants;return Dh({variants:B},z({},j,{theme:L}),L.modularCssLayers?"theme":void 0)}),T||m.push(o);const w=m.length-E.length;if(Array.isArray(P)&&w>0){const j=new Array(w).fill("");p=[...P,...j],p.raw=[...P.raw,...j]}const R=y(p,...m);return a.muiName&&(R.muiName=a.muiName),R};return y.withConfig&&(M.withConfig=y.withConfig),M}}const AF=RF();function Eu(t,e){const n=z({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=z({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=z({},o),Object.keys(i).forEach(a=>{n[r][a]=Eu(i[a],o[a])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function OF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Eu(e.components[n].defaultProps,r)}function NF({props:t,name:e,defaultTheme:n,themeId:r}){let i=wm(n);return r&&(i=i[r]||i),OF({theme:i,name:e,props:t})}const Yr=typeof window<"u"?x.useLayoutEffect:x.useEffect;function PF(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const MF=Object.freeze(Object.defineProperty({__proto__:null,default:PF},Symbol.toStringTag,{value:"Module"}));function D0(...t){return t.reduce((e,n)=>n==null?e:function(...r){e.apply(this,r),n.apply(this,r)},()=>{})}function Sx(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function LF(t,e){return()=>null}function zh(t,e){var n,r;return x.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Gn(t){return t&&t.ownerDocument||document}function sa(t){return Gn(t).defaultView||window}function DF(t,e){return()=>null}function Df(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Bk=0;function zF(t){const[e,n]=x.useState(t),r=t||e;return x.useEffect(()=>{e==null&&(Bk+=1,n(`mui-${Bk}`))},[e]),r}const Uk=Uh.useId;function hd(t){if(Uk!==void 0){const e=Uk();return t??e}return zF(t)}function FF(t,e,n,r,i){return null}function zf({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=x.useRef(t!==void 0),[o,a]=x.useState(e),s=i?t:o,c=x.useCallback(u=>{i||a(u)},[]);return[s,c]}function _i(t){const e=x.useRef(t);return Yr(()=>{e.current=t}),x.useRef((...n)=>(0,e.current)(...n)).current}function sn(...t){return x.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Df(n,e)})},t)}const Vk={};function $F(t,e){const n=x.useRef(Vk);return n.current===Vk&&(n.current=t(e)),n}const WF=[];function BF(t){x.useEffect(t,WF)}class fd{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new fd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Ds(){const t=$F(fd.create).current;return BF(t.disposeEffect),t}let Nm=!0,z0=!1;const UF=new fd,VF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function qF(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&VF[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function HF(t){t.metaKey||t.altKey||t.ctrlKey||(Nm=!0)}function qg(){Nm=!1}function KF(){this.visibilityState==="hidden"&&z0&&(Nm=!0)}function GF(t){t.addEventListener("keydown",HF,!0),t.addEventListener("mousedown",qg,!0),t.addEventListener("pointerdown",qg,!0),t.addEventListener("touchstart",qg,!0),t.addEventListener("visibilitychange",KF,!0)}function QF(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Nm||qF(e)}function kx(){const t=x.useCallback(i=>{i!=null&&GF(i.ownerDocument)},[]),e=x.useRef(!1);function n(){return e.current?(z0=!0,UF.start(100,()=>{z0=!1}),e.current=!1,!0):!1}function r(i){return QF(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Xj(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const Yj=t=>{const e=x.useRef({});return x.useEffect(()=>{e.current=t}),e.current};function ft(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,a)=>{if(a){const s=e(a);s!==""&&o.push(s),n&&n[a]&&o.push(n[a])}return o},[]).join(" ")}),r}function Ff(t){return typeof t=="string"}function zs(t,e,n){return t===void 0||Ff(t)?e:z({},e,{ownerState:z({},e.ownerState,n)})}function Jj(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function qk(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Zj(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const b=Ae(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),_=z({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),S=z({},n,i,r);return b.length>0&&(S.className=b),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const a=Jj(z({},i,r)),s=qk(r),c=qk(i),u=e(a),h=Ae(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=z({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=z({},u,n,c,s);return h.length>0&&(v.className=h),Object.keys(f).length>0&&(v.style=f),{props:v,internalRef:u.ref}}function eR(t,e,n){return typeof t=="function"?t(e,n):t}const XF=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function xo(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,a=Ie(t,XF),s=o?{}:eR(r,i),{props:c,internalRef:u}=Zj(z({},a,{externalSlotProps:s})),h=sn(u,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return zs(n,z({},c,{ref:h}),i)}function zl(t){if(parseInt(x.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const tR=x.createContext(null);function nR(){return x.useContext(tR)}const YF=typeof Symbol=="function"&&Symbol.for,JF=YF?Symbol.for("mui.nested"):"__THEME_NESTED__";function ZF(t,e){return typeof e=="function"?e(t):z({},t,e)}function e$(t){const{children:e,theme:n}=t,r=nR(),i=x.useMemo(()=>{const o=r===null?n:ZF(r,n);return o!=null&&(o[JF]=r!==null),o},[n,r]);return l.jsx(tR.Provider,{value:i,children:e})}const t$=["value"],rR=x.createContext();function n$(t){let{value:e}=t,n=Ie(t,t$);return l.jsx(rR.Provider,z({value:e??!0},n))}const iR=()=>x.useContext(rR)??!1,oR=x.createContext(void 0);function r$({value:t,children:e}){return l.jsx(oR.Provider,{value:t,children:e})}function i$(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Eu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Eu(i,r):r}function o$({props:t,name:e}){const n=x.useContext(oR);return i$({props:t,name:e,theme:{components:n}})}function a$(t){const e=vx(),n=hd()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Yr(()=>{const o=document.querySelector("head");if(!o)return;const a=o.firstChild;if(i){var s;if(a&&(s=a.hasAttribute)!=null&&s.call(a,"data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=i,o.prepend(u)}else{var c;(c=o.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[i,n]),i?l.jsx(Hj,{styles:i}):null}const Hk={};function Kk(t,e,n,r=!1){return x.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),a=t?z({},e,{[t]:o}):o;return r?()=>a:a}return t?z({},e,{[t]:n}):z({},e,n)},[t,e,n,r])}function s$(t){const{children:e,theme:n,themeId:r}=t,i=vx(Hk),o=nR()||Hk,a=Kk(r,i,n),s=Kk(r,o,n,!0),c=a.direction==="rtl",u=a$(a);return l.jsx(e$,{theme:s,children:l.jsx(Ll.Provider,{value:a,children:l.jsx(n$,{value:c,children:l.jsxs(r$,{value:a==null?void 0:a.components,children:[u,e]})})})})}const l$=["className","component","disableGutters","fixed","maxWidth","classes"],c$=dd(),u$=AF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${fe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),d$=t=>NF({props:t,name:"MuiContainer",defaultTheme:c$}),h$=(t,e)=>{const n=c=>lt(e,c),{classes:r,fixed:i,disableGutters:o,maxWidth:a}=t,s={root:["root",a&&`maxWidth${fe(String(a))}`,i&&"fixed",o&&"disableGutters"]};return ft(s,n,r)};function f$(t={}){const{createStyledComponent:e=u$,useThemeProps:n=d$,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>z({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((s,c)=>{const u=c,h=o.breakpoints.values[u];return h!==0&&(s[o.breakpoints.up(u)]={maxWidth:`${h}${o.breakpoints.unit}`}),s},{}),({theme:o,ownerState:a})=>z({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return x.forwardRef(function(o,a){const s=n(o),{className:c,component:u="div",disableGutters:h=!1,fixed:f=!1,maxWidth:v="lg"}=s,b=Ie(s,l$),_=z({},s,{component:u,disableGutters:h,fixed:f,maxWidth:v}),S=h$(_,r);return l.jsx(i,z({as:u,ownerState:_,className:Ae(S.root,c),ref:a},b))})}function p$(t,e){return z({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var cn={},aR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(aR);var pd=aR.exports;const m$=Fi(s9),g$=Fi(MF);var sR=pd;Object.defineProperty(cn,"__esModule",{value:!0});var Lt=cn.alpha=dR;cn.blend=T$;cn.colorChannel=void 0;var F0=cn.darken=_x;cn.decomposeColor=Jr;cn.emphasize=hR;var y$=cn.getContrastRatio=S$;cn.getLuminance=$f;cn.hexToRgb=lR;cn.hslToRgb=uR;var $0=cn.lighten=Ex;cn.private_safeAlpha=k$;cn.private_safeColorChannel=void 0;cn.private_safeDarken=C$;cn.private_safeEmphasize=E$;cn.private_safeLighten=_$;cn.recomposeColor=Fl;cn.rgbToHex=w$;var Gk=sR(m$),v$=sR(g$);function Cx(t,e=0,n=1){return(0,v$.default)(t,e,n)}function lR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function b$(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Jr(t){if(t.type)return t;if(t.charAt(0)==="#")return Jr(lR(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Gk.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Gk.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const cR=t=>{const e=Jr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};cn.colorChannel=cR;const x$=(t,e)=>{try{return cR(t)}catch{return t}};cn.private_safeColorChannel=x$;function Fl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function w$(t){if(t.indexOf("#")===0)return t;const{values:e}=Jr(t);return`#${e.map((n,r)=>b$(r===3?Math.round(255*n):n)).join("")}`}function uR(t){t=Jr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=(u,h=(u+n/30)%12)=>i-o*Math.max(Math.min(h-3,9-h,1),-1);let s="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(s+="a",c.push(e[3])),Fl({type:s,values:c})}function $f(t){t=Jr(t);let e=t.type==="hsl"||t.type==="hsla"?Jr(uR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function S$(t,e){const n=$f(t),r=$f(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function dR(t,e){return t=Jr(t),e=Cx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Fl(t)}function k$(t,e,n){try{return dR(t,e)}catch{return t}}function _x(t,e){if(t=Jr(t),e=Cx(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Fl(t)}function C$(t,e,n){try{return _x(t,e)}catch{return t}}function Ex(t,e){if(t=Jr(t),e=Cx(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Fl(t)}function _$(t,e,n){try{return Ex(t,e)}catch{return t}}function hR(t,e=.15){return $f(t)>.5?_x(t,e):Ex(t,e)}function E$(t,e,n){try{return hR(t,e)}catch{return t}}function T$(t,e,n,r=1){const i=(c,u)=>Math.round((c**(1/r)*(1-n)+u**(1/r)*n)**r),o=Jr(t),a=Jr(e),s=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return Fl({type:"rgb",values:s})}const I$=["mode","contrastThreshold","tonalOffset"],Qk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Su.white,default:Su.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Hg={text:{primary:Su.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Su.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Xk(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=$0(t.main,i):e==="dark"&&(t.dark=F0(t.main,o)))}function j$(t="light"){return t==="dark"?{main:ps[200],light:ps[50],dark:ps[400]}:{main:ps[700],light:ps[400],dark:ps[800]}}function R$(t="light"){return t==="dark"?{main:fs[200],light:fs[50],dark:fs[400]}:{main:fs[500],light:fs[300],dark:fs[700]}}function A$(t="light"){return t==="dark"?{main:hs[500],light:hs[300],dark:hs[700]}:{main:hs[700],light:hs[400],dark:hs[800]}}function O$(t="light"){return t==="dark"?{main:ms[400],light:ms[300],dark:ms[700]}:{main:ms[700],light:ms[500],dark:ms[900]}}function N$(t="light"){return t==="dark"?{main:gs[400],light:gs[300],dark:gs[700]}:{main:gs[800],light:gs[500],dark:gs[900]}}function P$(t="light"){return t==="dark"?{main:ac[400],light:ac[300],dark:ac[700]}:{main:"#ed6c02",light:ac[500],dark:ac[900]}}function M$(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ie(t,I$),o=t.primary||j$(e),a=t.secondary||R$(e),s=t.error||A$(e),c=t.info||O$(e),u=t.success||N$(e),h=t.warning||P$(e);function f(_){return y$(_,Hg.text.primary)>=n?Hg.text.primary:Qk.text.primary}const v=({color:_,name:S,mainShade:T=500,lightShade:C=300,darkShade:g=700})=>{if(_=z({},_),!_.main&&_[T]&&(_.main=_[T]),!_.hasOwnProperty("main"))throw new Error(Xa(11,S?` (${S})`:"",T));if(typeof _.main!="string")throw new Error(Xa(12,S?` (${S})`:"",JSON.stringify(_.main)));return Xk(_,"light",C,r),Xk(_,"dark",g,r),_.contrastText||(_.contrastText=f(_.main)),_},b={dark:Hg,light:Qk};return _r(z({common:z({},Su),mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:s,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:c,name:"info"}),success:v({color:u,name:"success"}),grey:a9,contrastThreshold:n,getContrastText:f,augmentColor:v,tonalOffset:r},b[e]),i)}const L$=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function D$(t){return Math.round(t*1e5)/1e5}const Yk={textTransform:"uppercase"},Jk='"Roboto", "Helvetica", "Arial", sans-serif';function z$(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Jk,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:f}=n,v=Ie(n,L$),b=i/14,_=f||(C=>`${C/u*b}rem`),S=(C,g,y,O,M)=>z({fontFamily:r,fontWeight:C,fontSize:_(g),lineHeight:y},r===Jk?{letterSpacing:`${D$(O/g)}em`}:{},M,h),T={h1:S(o,96,1.167,-1.5),h2:S(o,60,1.2,-.5),h3:S(a,48,1.167,0),h4:S(a,34,1.235,.25),h5:S(a,24,1.334,0),h6:S(s,20,1.6,.15),subtitle1:S(a,16,1.75,.15),subtitle2:S(s,14,1.57,.1),body1:S(a,16,1.5,.15),body2:S(a,14,1.43,.15),button:S(s,14,1.75,.4,Yk),caption:S(a,12,1.66,.4),overline:S(a,12,2.66,1,Yk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _r(z({htmlFontSize:u,pxToRem:_,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:c},T),v,{clone:!1})}const F$=.2,$$=.14,W$=.12;function $t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${F$})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$$})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${W$})`].join(",")}const B$=["none",$t(0,2,1,-1,0,1,1,0,0,1,3,0),$t(0,3,1,-2,0,2,2,0,0,1,5,0),$t(0,3,3,-2,0,3,4,0,0,1,8,0),$t(0,2,4,-1,0,4,5,0,0,1,10,0),$t(0,3,5,-1,0,5,8,0,0,1,14,0),$t(0,3,5,-1,0,6,10,0,0,1,18,0),$t(0,4,5,-2,0,7,10,1,0,2,16,1),$t(0,5,5,-3,0,8,10,1,0,3,14,2),$t(0,5,6,-3,0,9,12,1,0,3,16,2),$t(0,6,6,-3,0,10,14,1,0,4,18,3),$t(0,6,7,-4,0,11,15,1,0,4,20,3),$t(0,7,8,-4,0,12,17,2,0,5,22,4),$t(0,7,8,-4,0,13,19,2,0,5,24,4),$t(0,7,9,-4,0,14,21,2,0,5,26,4),$t(0,8,9,-5,0,15,22,2,0,6,28,5),$t(0,8,10,-5,0,16,24,2,0,6,30,5),$t(0,8,11,-5,0,17,26,2,0,6,32,5),$t(0,9,11,-5,0,18,28,2,0,7,34,6),$t(0,9,12,-6,0,19,29,2,0,7,36,6),$t(0,10,13,-6,0,20,31,3,0,8,38,7),$t(0,10,13,-6,0,21,33,3,0,8,40,7),$t(0,10,14,-6,0,22,35,3,0,8,42,7),$t(0,11,14,-7,0,23,36,3,0,9,44,8),$t(0,11,15,-7,0,24,38,3,0,9,46,8)],U$=["duration","easing","delay"],V$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},q$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zk(t){return`${Math.round(t)}ms`}function H$(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function K$(t){const e=z({},V$,t.easing),n=z({},q$,t.duration);return z({getAutoHeightDuration:H$,create:(r=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:s=0}=i;return Ie(i,U$),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof o=="string"?o:Zk(o)} ${a} ${typeof s=="string"?s:Zk(s)}`).join(",")}},t,{easing:e,duration:n})}const G$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Q$=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Tx(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,a=Ie(t,Q$);if(t.vars&&t.generateCssVars===void 0)throw new Error(Xa(18));const s=M$(r),c=dd(t);let u=_r(c,{mixins:p$(c.breakpoints,n),palette:s,shadows:B$.slice(),typography:z$(s,o),transitions:K$(i),zIndex:z({},G$)});return u=_r(u,a),u=e.reduce((h,f)=>_r(h,f),u),u.unstable_sxConfig=z({},ud,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return Dl({sx:h,theme:this})},u}const Ix=Tx();function Pm(){const t=wm(Ix);return t[ml]||t}var md={},e2={exports:{}},t2;function X$(){return t2||(t2=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(e2)),e2.exports}const fR=Fi(fz),Y$=Fi(pz),J$=Fi(xz),Z$=Fi(wF),eW=Fi(sF),tW=Fi(hF);var $l=pd;Object.defineProperty(md,"__esModule",{value:!0});var nW=md.default=mW;md.shouldForwardProp=Fh;md.systemDefaultTheme=void 0;var Dr=$l(Lj()),W0=$l(X$()),Wf=cW(fR),rW=Y$;$l(J$);$l(Z$);var iW=$l(eW),oW=$l(tW);const aW=["ownerState"],sW=["variants"],lW=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function pR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(pR=function(r){return r?n:e})(t)}function cW(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=pR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function uW(t){return Object.keys(t).length===0}function dW(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Fh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function n2(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const hW=md.systemDefaultTheme=(0,iW.default)(),fW=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ih({defaultTheme:t,theme:e,themeId:n}){return uW(e)?t:e[n]||e}function pW(t){return t?(e,n)=>n[t]:null}function $h(t,e,n){let{ownerState:r}=e,i=(0,W0.default)(e,aW);const o=typeof t=="function"?t((0,Dr.default)({ownerState:r},i)):t;if(Array.isArray(o))return o.flatMap(a=>$h(a,(0,Dr.default)({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:a=[]}=o;let s=(0,W0.default)(o,sW);return a.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props((0,Dr.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(u=!1)}),u){Array.isArray(s)||(s=[s]);const h=typeof c.style=="function"?c.style((0,Dr.default)({ownerState:r},i,r)):c.style;s.push(n?n2((0,Wf.internal_serializeStyles)(h),n):h)}}),s}return n?n2((0,Wf.internal_serializeStyles)(o),n):o}function mW(t={}){const{themeId:e,defaultTheme:n=hW,rootShouldForwardProp:r=Fh,slotShouldForwardProp:i=Fh}=t,o=a=>(0,oW.default)((0,Dr.default)({},a,{theme:ih((0,Dr.default)({},a,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(a,s={})=>{(0,Wf.internal_processStyles)(a,P=>P.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:v=pW(fW(u))}=s,b=(0,W0.default)(s,lW),_=c&&c.startsWith("Mui")||u?"components":"custom",S=h!==void 0?h:u&&u!=="Root"&&u!=="root"||!1,T=f||!1;let C,g=Fh;u==="Root"||u==="root"?g=r:u?g=i:dW(a)&&(g=void 0);const y=(0,Wf.default)(a,(0,Dr.default)({shouldForwardProp:g,label:C},b)),O=P=>typeof P=="function"&&P.__emotion_real!==P||(0,rW.isPlainObject)(P)?E=>{const p=ih({theme:E.theme,defaultTheme:n,themeId:e});return $h(P,(0,Dr.default)({},E,{theme:p}),p.modularCssLayers?_:void 0)}:P,M=(P,...E)=>{let p=O(P);const m=E?E.map(O):[];c&&v&&m.push(j=>{const I=ih((0,Dr.default)({},j,{defaultTheme:n,themeId:e}));if(!I.components||!I.components[c]||!I.components[c].styleOverrides)return null;const L=I.components[c].styleOverrides,B={};return Object.entries(L).forEach(([G,$])=>{B[G]=$h($,(0,Dr.default)({},j,{theme:I}),I.modularCssLayers?"theme":void 0)}),v(j,B)}),c&&!S&&m.push(j=>{var I;const L=ih((0,Dr.default)({},j,{defaultTheme:n,themeId:e})),B=L==null||(I=L.components)==null||(I=I[c])==null?void 0:I.variants;return $h({variants:B},(0,Dr.default)({},j,{theme:L}),L.modularCssLayers?"theme":void 0)}),T||m.push(o);const w=m.length-E.length;if(Array.isArray(P)&&w>0){const j=new Array(w).fill("");p=[...P,...j],p.raw=[...P.raw,...j]}const R=y(p,...m);return a.muiName&&(R.muiName=a.muiName),R};return y.withConfig&&(M.withConfig=y.withConfig),M}}function mR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ri=t=>mR(t)&&t!=="classes",je=nW({themeId:ml,defaultTheme:Ix,rootShouldForwardProp:ri}),gW=["theme"];function yW(t){let{theme:e}=t,n=Ie(t,gW);const r=e[ml];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=z({},r,{vars:null}):e&&!e.vars&&(i=z({},e,{vars:null}))),l.jsx(s$,z({},n,{themeId:r?ml:void 0,theme:i}))}const r2=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function ct(t){return o$(t)}function vW(t){return lt("MuiSvgIcon",t)}ot("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bW=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],xW=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${fe(e)}`,`fontSize${fe(n)}`]};return ft(i,vW,r)},wW=je("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${fe(n.color)}`],e[`fontSize${fe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,a,s,c,u,h,f,v,b,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=t.typography)==null||(c=s.pxToRem)==null?void 0:c.call(s,24))||"1.5rem",large:((u=t.typography)==null||(h=u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}[e.fontSize],color:(f=(v=(t.vars||t).palette)==null||(v=v[e.color])==null?void 0:v.main)!=null?f:{action:(b=(t.vars||t).palette)==null||(b=b.action)==null?void 0:b.active,disabled:(_=(t.vars||t).palette)==null||(_=_.action)==null?void 0:_.disabled,inherit:void 0}[e.color]}}),B0=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiSvgIcon"}),{children:r,className:i,color:o="inherit",component:a="svg",fontSize:s="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:f="0 0 24 24"}=n,v=Ie(n,bW),b=x.isValidElement(r)&&r.type==="svg",_=z({},n,{color:o,component:a,fontSize:s,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:b}),S={};u||(S.viewBox=f);const T=xW(_);return l.jsxs(wW,z({as:a,className:Ae(T.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:e},S,v,b&&r.props,{ownerState:_,children:[b?r.props.children:r,h?l.jsx("title",{children:h}):null]}))});B0.muiName="SvgIcon";function _o(t,e){function n(r,i){return l.jsx(B0,z({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=B0.muiName,x.memo(x.forwardRef(n))}const SW={configure:t=>{bx.configure(t)}},kW=Object.freeze(Object.defineProperty({__proto__:null,capitalize:fe,createChainedFunction:D0,createSvgIcon:_o,debounce:Sx,deprecatedPropType:LF,isMuiElement:zh,ownerDocument:Gn,ownerWindow:sa,requirePropFactory:DF,setRef:Df,unstable_ClassNameGenerator:SW,unstable_useEnhancedEffect:Yr,unstable_useId:hd,unsupportedProp:FF,useControlled:zf,useEventCallback:_i,useForkRef:sn,useIsFocusVisible:kx},Symbol.toStringTag,{value:"Module"}));function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},U0(t,e)}function gR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,U0(t,e)}const i2={disabled:!1},Bf=Ce.createContext(null);var CW=function(t){return t.scrollTop},Ec="unmounted",Ea="exited",Ta="entering",Ss="entered",V0="exiting",Ui=function(t){gR(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?s?(c=Ea,o.appearStatus=Ta):c=Ss:r.unmountOnExit||r.mountOnEnter?c=Ec:c=Ea,o.state={status:c},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,i){var o=r.in;return o&&i.status===Ec?{status:Ea}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var i=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==Ta&&o!==Ss&&(i=Ta):(o===Ta||o===Ss)&&(i=V0)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,i,o,a;return i=o=a=r,r!=null&&typeof r!="number"&&(i=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===Ta){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Qd.findDOMNode(this);o&&CW(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ea&&this.setState({status:Ec})},n.performEnter=function(r){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:r,s=this.props.nodeRef?[a]:[Qd.findDOMNode(this),a],c=s[0],u=s[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!r&&!o||i2.disabled){this.safeSetState({status:Ss},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ta},function(){i.props.onEntering(c,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Ss},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var r=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Qd.findDOMNode(this);if(!i||i2.disabled){this.safeSetState({status:Ea},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:V0},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Ea},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},n.setNextCallback=function(r){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Qd.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=s[0],u=s[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ec)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Ie(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ce.createElement(Bf.Provider,{value:null},typeof o=="function"?o(r,a):Ce.cloneElement(Ce.Children.only(o),a))},e}(Ce.Component);Ui.contextType=Bf;Ui.propTypes={};function ys(){}Ui.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ys,onEntering:ys,onEntered:ys,onExit:ys,onExiting:ys,onExited:ys};Ui.UNMOUNTED=Ec;Ui.EXITED=Ea;Ui.ENTERING=Ta;Ui.ENTERED=Ss;Ui.EXITING=V0;function _W(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jx(t,e){var n=function(i){return e&&x.isValidElement(i)?e(i):i},r=Object.create(null);return t&&x.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function EW(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var c in e){if(r[c])for(a=0;a<r[c].length;a++){var u=r[c][a];s[r[c][a]]=n(u)}s[c]=n(c)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function Oa(t,e,n){return n[e]!=null?n[e]:t.props[e]}function TW(t,e){return jx(t.children,function(n){return x.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Oa(n,"appear",t),enter:Oa(n,"enter",t),exit:Oa(n,"exit",t)})})}function IW(t,e,n){var r=jx(t.children),i=EW(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(x.isValidElement(a)){var s=o in e,c=o in r,u=e[o],h=x.isValidElement(u)&&!u.props.in;c&&(!s||h)?i[o]=x.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Oa(a,"exit",t),enter:Oa(a,"enter",t)}):!c&&s&&!h?i[o]=x.cloneElement(a,{in:!1}):c&&s&&x.isValidElement(u)&&(i[o]=x.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:Oa(a,"exit",t),enter:Oa(a,"enter",t)}))}}),i}var jW=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},RW={component:"div",childFactory:function(t){return t}},Rx=function(t){gR(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=o.handleExited.bind(_W(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,i){var o=i.children,a=i.handleExited,s=i.firstRender;return{children:s?TW(r,a):IW(r,o,a),firstRender:!1}},n.handleExited=function(r,i){var o=jx(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(a){var s=z({},a.children);return delete s[r.key],{children:s}}))},n.render=function(){var r=this.props,i=r.component,o=r.childFactory,a=Ie(r,["component","childFactory"]),s=this.state.contextValue,c=jW(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?Ce.createElement(Bf.Provider,{value:s},c):Ce.createElement(Bf.Provider,{value:s},Ce.createElement(i,a,c))},e}(Ce.Component);Rx.propTypes={};Rx.defaultProps=RW;const yR=t=>t.scrollTop;function Uf(t,e){var n,r;const{timeout:i,easing:o,style:a={}}=t;return{duration:(n=a.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:a.transitionDelay}}function AW(t){return lt("MuiPaper",t)}ot("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const OW=["className","component","elevation","square","variant"],NW=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ft(o,AW,i)},PW=je("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return z({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&z({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Lt("#fff",r2(e.elevation))}, ${Lt("#fff",r2(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),pi=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:a=!1,variant:s="elevation"}=n,c=Ie(n,OW),u=z({},n,{component:i,elevation:o,square:a,variant:s}),h=NW(u);return l.jsx(PW,z({as:i,ownerState:u,className:Ae(h.root,r),ref:e},c))}),MW=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],LW=["component","slots","slotProps"],DW=["component"];function q0(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:a,internalForwardedProps:s}=e,c=Ie(e,MW),{component:u,slots:h={[t]:void 0},slotProps:f={[t]:void 0}}=o,v=Ie(o,LW),b=h[t]||r,_=eR(f[t],i),S=Zj(z({className:n},c,{externalForwardedProps:t==="root"?v:void 0,externalSlotProps:_})),{props:{component:T},internalRef:C}=S,g=Ie(S.props,DW),y=sn(C,_==null?void 0:_.ref,e.ref),O=a?a(g):{},M=z({},i,O),P=t==="root"?T||u:T,E=zs(b,z({},t==="root"&&!u&&!h[t]&&s,t!=="root"&&!h[t]&&s,g,P&&{as:P},{ref:y}),M);return Object.keys(O).forEach(p=>{delete E[p]}),[b,E]}function zW(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:c,timeout:u}=t,[h,f]=x.useState(!1),v=Ae(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),b={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},_=Ae(n.child,h&&n.childLeaving,r&&n.childPulsate);return!s&&!h&&f(!0),x.useEffect(()=>{if(!s&&c!=null){const S=setTimeout(c,u);return()=>{clearTimeout(S)}}},[c,s,u]),l.jsx("span",{className:v,style:b,children:l.jsx("span",{className:_})})}const zr=ot("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),FW=["center","classes","className"];let Mm=t=>t,o2,a2,s2,l2;const H0=550,$W=80,WW=fm(o2||(o2=Mm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),BW=fm(a2||(a2=Mm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),UW=fm(s2||(s2=Mm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),VW=je("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qW=je(zW,{name:"MuiTouchRipple",slot:"Ripple"})(l2||(l2=Mm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),zr.rippleVisible,WW,H0,({theme:t})=>t.transitions.easing.easeInOut,zr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,zr.child,zr.childLeaving,BW,H0,({theme:t})=>t.transitions.easing.easeInOut,zr.childPulsate,UW,({theme:t})=>t.transitions.easing.easeInOut),HW=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:o}=n,a=Ie(n,FW),[s,c]=x.useState([]),u=x.useRef(0),h=x.useRef(null);x.useEffect(()=>{h.current&&(h.current(),h.current=null)},[s]);const f=x.useRef(!1),v=Ds(),b=x.useRef(null),_=x.useRef(null),S=x.useCallback(y=>{const{pulsate:O,rippleX:M,rippleY:P,rippleSize:E,cb:p}=y;c(m=>[...m,l.jsx(qW,{classes:{ripple:Ae(i.ripple,zr.ripple),rippleVisible:Ae(i.rippleVisible,zr.rippleVisible),ripplePulsate:Ae(i.ripplePulsate,zr.ripplePulsate),child:Ae(i.child,zr.child),childLeaving:Ae(i.childLeaving,zr.childLeaving),childPulsate:Ae(i.childPulsate,zr.childPulsate)},timeout:H0,pulsate:O,rippleX:M,rippleY:P,rippleSize:E},u.current)]),u.current+=1,h.current=p},[i]),T=x.useCallback((y={},O={},M=()=>{})=>{const{pulsate:P=!1,center:E=r||O.pulsate,fakeElement:p=!1}=O;if((y==null?void 0:y.type)==="mousedown"&&f.current){f.current=!1;return}(y==null?void 0:y.type)==="touchstart"&&(f.current=!0);const m=p?null:_.current,w=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,j,I;if(E||y===void 0||y.clientX===0&&y.clientY===0||!y.clientX&&!y.touches)R=Math.round(w.width/2),j=Math.round(w.height/2);else{const{clientX:L,clientY:B}=y.touches&&y.touches.length>0?y.touches[0]:y;R=Math.round(L-w.left),j=Math.round(B-w.top)}if(E)I=Math.sqrt((2*w.width**2+w.height**2)/3),I%2===0&&(I+=1);else{const L=Math.max(Math.abs((m?m.clientWidth:0)-R),R)*2+2,B=Math.max(Math.abs((m?m.clientHeight:0)-j),j)*2+2;I=Math.sqrt(L**2+B**2)}y!=null&&y.touches?b.current===null&&(b.current=()=>{S({pulsate:P,rippleX:R,rippleY:j,rippleSize:I,cb:M})},v.start($W,()=>{b.current&&(b.current(),b.current=null)})):S({pulsate:P,rippleX:R,rippleY:j,rippleSize:I,cb:M})},[r,S,v]),C=x.useCallback(()=>{T({},{pulsate:!0})},[T]),g=x.useCallback((y,O)=>{if(v.clear(),(y==null?void 0:y.type)==="touchend"&&b.current){b.current(),b.current=null,v.start(0,()=>{g(y,O)});return}b.current=null,c(M=>M.length>0?M.slice(1):M),h.current=O},[v]);return x.useImperativeHandle(e,()=>({pulsate:C,start:T,stop:g}),[C,T,g]),l.jsx(VW,z({className:Ae(zr.root,i.root,o),ref:_},a,{children:l.jsx(Rx,{component:null,exit:!0,children:s})}))});function KW(t){return lt("MuiButtonBase",t)}const GW=ot("MuiButtonBase",["root","disabled","focusVisible"]),QW=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],XW=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=ft({root:["root",e&&"disabled",n&&"focusVisible"]},KW,i);return n&&r&&(o.root+=` ${r}`),o},YW=je("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${GW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tu=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:o,className:a,component:s="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:v="a",onBlur:b,onClick:_,onContextMenu:S,onDragLeave:T,onFocus:C,onFocusVisible:g,onKeyDown:y,onKeyUp:O,onMouseDown:M,onMouseLeave:P,onMouseUp:E,onTouchEnd:p,onTouchMove:m,onTouchStart:w,tabIndex:R=0,TouchRippleProps:j,touchRippleRef:I,type:L}=n,B=Ie(n,QW),G=x.useRef(null),$=x.useRef(null),F=sn($,I),{isFocusVisibleRef:U,onFocus:q,onBlur:H,ref:K}=kx(),[Q,ue]=x.useState(!1);c&&Q&&ue(!1),x.useImperativeHandle(r,()=>({focusVisible:()=>{ue(!0),G.current.focus()}}),[]);const[le,Re]=x.useState(!1);x.useEffect(()=>{Re(!0)},[]);const W=le&&!u&&!c;x.useEffect(()=>{Q&&f&&!u&&le&&$.current.pulsate()},[u,f,Q,le]);function ee(ye,nt,At=h){return _i(at=>(nt&&nt(at),!At&&$.current&&$.current[ye](at),!0))}const V=ee("start",M),J=ee("stop",S),te=ee("stop",T),oe=ee("stop",E),me=ee("stop",ye=>{Q&&ye.preventDefault(),P&&P(ye)}),Se=ee("start",w),Le=ee("stop",p),_e=ee("stop",m),Ue=ee("stop",ye=>{H(ye),U.current===!1&&ue(!1),b&&b(ye)},!1),ke=_i(ye=>{G.current||(G.current=ye.currentTarget),q(ye),U.current===!0&&(ue(!0),g&&g(ye)),C&&C(ye)}),Y=()=>{const ye=G.current;return s&&s!=="button"&&!(ye.tagName==="A"&&ye.href)},ae=x.useRef(!1),Oe=_i(ye=>{f&&!ae.current&&Q&&$.current&&ye.key===" "&&(ae.current=!0,$.current.stop(ye,()=>{$.current.start(ye)})),ye.target===ye.currentTarget&&Y()&&ye.key===" "&&ye.preventDefault(),y&&y(ye),ye.target===ye.currentTarget&&Y()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),_&&_(ye))}),xe=_i(ye=>{f&&ye.key===" "&&$.current&&Q&&!ye.defaultPrevented&&(ae.current=!1,$.current.stop(ye,()=>{$.current.pulsate(ye)})),O&&O(ye),_&&ye.target===ye.currentTarget&&Y()&&ye.key===" "&&!ye.defaultPrevented&&_(ye)});let ve=s;ve==="button"&&(B.href||B.to)&&(ve=v);const Fe={};ve==="button"?(Fe.type=L===void 0?"button":L,Fe.disabled=c):(!B.href&&!B.to&&(Fe.role="button"),c&&(Fe["aria-disabled"]=c));const Ye=sn(e,K,G),Ee=z({},n,{centerRipple:i,component:s,disabled:c,disableRipple:u,disableTouchRipple:h,focusRipple:f,tabIndex:R,focusVisible:Q}),de=XW(Ee);return l.jsxs(YW,z({as:ve,className:Ae(de.root,a),ownerState:Ee,onBlur:Ue,onClick:_,onContextMenu:J,onFocus:ke,onKeyDown:Oe,onKeyUp:xe,onMouseDown:V,onMouseLeave:me,onMouseUp:oe,onDragLeave:te,onTouchEnd:Le,onTouchMove:_e,onTouchStart:Se,ref:Ye,tabIndex:c?-1:R,type:L},Fe,B,{children:[o,W?l.jsx(HW,z({ref:F,center:i},j)):null]}))});function JW(t){return lt("MuiAlert",t)}const c2=ot("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function ZW(t){return lt("MuiIconButton",t)}const e7=ot("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),t7=["edge","children","className","color","disabled","disableFocusRipple","size"],n7=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,a={root:["root",n&&"disabled",r!=="default"&&`color${fe(r)}`,i&&`edge${fe(i)}`,`size${fe(o)}`]};return ft(a,ZW,e)},r7=je(Tu,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${fe(n.color)}`],n.edge&&e[`edge${fe(n.edge)}`],e[`size${fe(n.size)}`]]}})(({theme:t,ownerState:e})=>z({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return z({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&z({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":z({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${e7.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Ax=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:a="default",disabled:s=!1,disableFocusRipple:c=!1,size:u="medium"}=n,h=Ie(n,t7),f=z({},n,{edge:r,color:a,disabled:s,disableFocusRipple:c,size:u}),v=n7(f);return l.jsx(r7,z({className:Ae(v.root,o),centerRipple:!0,focusRipple:!c,disabled:s,ref:e},h,{ownerState:f,children:i}))}),i7=_o(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),o7=_o(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),a7=_o(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),s7=_o(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),l7=_o(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),c7=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],u7=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${fe(n||r)}`,`${e}${fe(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return ft(o,JW,i)},d7=je(pi,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${fe(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?F0:$0,n=t.palette.mode==="light"?$0:F0;return z({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${c2.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${c2.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:z({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),h7=je("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),f7=je("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),u2=je("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),d2={success:l.jsx(i7,{fontSize:"inherit"}),warning:l.jsx(o7,{fontSize:"inherit"}),error:l.jsx(a7,{fontSize:"inherit"}),info:l.jsx(s7,{fontSize:"inherit"})},h2=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:a="Close",color:s,components:c={},componentsProps:u={},icon:h,iconMapping:f=d2,onClose:v,role:b="alert",severity:_="success",slotProps:S={},slots:T={},variant:C="standard"}=n,g=Ie(n,c7),y=z({},n,{color:s,severity:_,variant:C,colorSeverity:s||_}),O=u7(y),M={slots:z({closeButton:c.CloseButton,closeIcon:c.CloseIcon},T),slotProps:z({},u,S)},[P,E]=q0("closeButton",{elementType:Ax,externalForwardedProps:M,ownerState:y}),[p,m]=q0("closeIcon",{elementType:l7,externalForwardedProps:M,ownerState:y});return l.jsxs(d7,z({role:b,elevation:0,ownerState:y,className:Ae(O.root,o),ref:e},g,{children:[h!==!1?l.jsx(h7,{ownerState:y,className:O.icon,children:h||f[_]||d2[_]}):null,l.jsx(f7,{ownerState:y,className:O.message,children:i}),r!=null?l.jsx(u2,{ownerState:y,className:O.action,children:r}):null,r==null&&v?l.jsx(u2,{ownerState:y,className:O.action,children:l.jsx(P,z({size:"small","aria-label":a,title:a,color:"inherit",onClick:v},E,{children:l.jsx(p,z({fontSize:"small"},m))}))}):null]}))});function p7(t){return lt("MuiTypography",t)}ot("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const m7=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g7=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=t,s={root:["root",o,t.align!=="inherit"&&`align${fe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ft(s,p7,a)},y7=je("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${fe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>z({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),f2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},v7={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b7=t=>v7[t]||t,$e=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiTypography"}),r=b7(n.color),i=Sm(z({},n,{color:r})),{align:o="inherit",className:a,component:s,gutterBottom:c=!1,noWrap:u=!1,paragraph:h=!1,variant:f="body1",variantMapping:v=f2}=i,b=Ie(i,m7),_=z({},i,{align:o,color:r,className:a,component:s,gutterBottom:c,noWrap:u,paragraph:h,variant:f,variantMapping:v}),S=s||(h?"p":v[f]||f2[f])||"span",T=g7(_);return l.jsx(y7,z({as:S,ref:e,ownerState:_,className:Ae(T.root,a)},b))});function x7(t){return lt("MuiAppBar",t)}ot("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const w7=["className","color","enableColorOnDark","position"],S7=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${fe(e)}`,`position${fe(n)}`]};return ft(i,x7,r)},oh=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,k7=je(pi,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${fe(n.position)}`],e[`color${fe(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return z({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&z({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&z({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&z({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:oh(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:oh(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:oh(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:oh(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),C7=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=n,s=Ie(n,w7),c=z({},n,{color:i,position:a,enableColorOnDark:o}),u=S7(c);return l.jsx(k7,z({square:!0,component:"header",ownerState:c,elevation:4,className:Ae(u.root,r,a==="fixed"&&"mui-fixed"),ref:e},s))});var Ox={};Object.defineProperty(Ox,"__esModule",{value:!0});var vR=Ox.default=void 0,_7=T7(x),E7=fR;function bR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(bR=function(r){return r?n:e})(t)}function T7(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=bR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function I7(t){return Object.keys(t).length===0}function j7(t=null){const e=_7.useContext(E7.ThemeContext);return!e||I7(e)?t:e}vR=Ox.default=j7;var fr="top",Zr="bottom",ei="right",pr="left",Nx="auto",gd=[fr,Zr,ei,pr],yl="start",Iu="end",R7="clippingParents",xR="viewport",lc="popper",A7="reference",p2=gd.reduce(function(t,e){return t.concat([e+"-"+yl,e+"-"+Iu])},[]),wR=[].concat(gd,[Nx]).reduce(function(t,e){return t.concat([e,e+"-"+yl,e+"-"+Iu])},[]),O7="beforeRead",N7="read",P7="afterRead",M7="beforeMain",L7="main",D7="afterMain",z7="beforeWrite",F7="write",$7="afterWrite",W7=[O7,N7,P7,M7,L7,D7,z7,F7,$7];function zi(t){return t?(t.nodeName||"").toLowerCase():null}function jr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ya(t){var e=jr(t).Element;return t instanceof e||t instanceof Element}function Hr(t){var e=jr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Px(t){if(typeof ShadowRoot>"u")return!1;var e=jr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function B7(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Hr(o)||!zi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function U7(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(c,u){return c[u]="",c},{});!Hr(i)||!zi(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}const V7={name:"applyStyles",enabled:!0,phase:"write",fn:B7,effect:U7,requires:["computeStyles"]};function Pi(t){return t.split("-")[0]}var La=Math.max,Vf=Math.min,vl=Math.round;function K0(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function SR(){return!/^((?!chrome|android).)*safari/i.test(K0())}function bl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Hr(t)&&(i=t.offsetWidth>0&&vl(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&vl(r.height)/t.offsetHeight||1);var a=Ya(t)?jr(t):window,s=a.visualViewport,c=!SR()&&n,u=(r.left+(c&&s?s.offsetLeft:0))/i,h=(r.top+(c&&s?s.offsetTop:0))/o,f=r.width/i,v=r.height/o;return{width:f,height:v,top:h,right:u+f,bottom:h+v,left:u,x:u,y:h}}function Mx(t){var e=bl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function kR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Px(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function wo(t){return jr(t).getComputedStyle(t)}function q7(t){return["table","td","th"].indexOf(zi(t))>=0}function ga(t){return((Ya(t)?t.ownerDocument:t.document)||window.document).documentElement}function Lm(t){return zi(t)==="html"?t:t.assignedSlot||t.parentNode||(Px(t)?t.host:null)||ga(t)}function m2(t){return!Hr(t)||wo(t).position==="fixed"?null:t.offsetParent}function H7(t){var e=/firefox/i.test(K0()),n=/Trident/i.test(K0());if(n&&Hr(t)){var r=wo(t);if(r.position==="fixed")return null}var i=Lm(t);for(Px(i)&&(i=i.host);Hr(i)&&["html","body"].indexOf(zi(i))<0;){var o=wo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function yd(t){for(var e=jr(t),n=m2(t);n&&q7(n)&&wo(n).position==="static";)n=m2(n);return n&&(zi(n)==="html"||zi(n)==="body"&&wo(n).position==="static")?e:n||H7(t)||e}function Lx(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Uc(t,e,n){return La(t,Vf(e,n))}function K7(t,e,n){var r=Uc(t,e,n);return r>n?n:r}function CR(){return{top:0,right:0,bottom:0,left:0}}function _R(t){return Object.assign({},CR(),t)}function ER(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var G7=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,_R(typeof t!="number"?t:ER(t,gd))};function Q7(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Pi(n.placement),c=Lx(s),u=[pr,ei].indexOf(s)>=0,h=u?"height":"width";if(!(!o||!a)){var f=G7(i.padding,n),v=Mx(o),b=c==="y"?fr:pr,_=c==="y"?Zr:ei,S=n.rects.reference[h]+n.rects.reference[c]-a[c]-n.rects.popper[h],T=a[c]-n.rects.reference[c],C=yd(o),g=C?c==="y"?C.clientHeight||0:C.clientWidth||0:0,y=S/2-T/2,O=f[b],M=g-v[h]-f[_],P=g/2-v[h]/2+y,E=Uc(O,P,M),p=c;n.modifiersData[r]=(e={},e[p]=E,e.centerOffset=E-P,e)}}function X7(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||kR(e.elements.popper,i)&&(e.elements.arrow=i))}const Y7={name:"arrow",enabled:!0,phase:"main",fn:Q7,effect:X7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xl(t){return t.split("-")[1]}var J7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z7(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:vl(n*i)/i||0,y:vl(r*i)/i||0}}function g2(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,c=t.gpuAcceleration,u=t.adaptive,h=t.roundOffsets,f=t.isFixed,v=a.x,b=v===void 0?0:v,_=a.y,S=_===void 0?0:_,T=typeof h=="function"?h({x:b,y:S}):{x:b,y:S};b=T.x,S=T.y;var C=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),y=pr,O=fr,M=window;if(u){var P=yd(n),E="clientHeight",p="clientWidth";if(P===jr(n)&&(P=ga(n),wo(P).position!=="static"&&s==="absolute"&&(E="scrollHeight",p="scrollWidth")),P=P,i===fr||(i===pr||i===ei)&&o===Iu){O=Zr;var m=f&&P===M&&M.visualViewport?M.visualViewport.height:P[E];S-=m-r.height,S*=c?1:-1}if(i===pr||(i===fr||i===Zr)&&o===Iu){y=ei;var w=f&&P===M&&M.visualViewport?M.visualViewport.width:P[p];b-=w-r.width,b*=c?1:-1}}var R=Object.assign({position:s},u&&J7),j=h===!0?Z7({x:b,y:S},jr(n)):{x:b,y:S};if(b=j.x,S=j.y,c){var I;return Object.assign({},R,(I={},I[O]=g?"0":"",I[y]=C?"0":"",I.transform=(M.devicePixelRatio||1)<=1?"translate("+b+"px, "+S+"px)":"translate3d("+b+"px, "+S+"px, 0)",I))}return Object.assign({},R,(e={},e[O]=g?S+"px":"",e[y]=C?b+"px":"",e.transform="",e))}function eB(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,c=s===void 0?!0:s,u={placement:Pi(e.placement),variation:xl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,g2(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,g2(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const tB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eB,data:{}};var ah={passive:!0};function nB(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,c=jr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(h){h.addEventListener("scroll",n.update,ah)}),s&&c.addEventListener("resize",n.update,ah),function(){o&&u.forEach(function(h){h.removeEventListener("scroll",n.update,ah)}),s&&c.removeEventListener("resize",n.update,ah)}}const rB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nB,data:{}};var iB={left:"right",right:"left",bottom:"top",top:"bottom"};function Wh(t){return t.replace(/left|right|bottom|top/g,function(e){return iB[e]})}var oB={start:"end",end:"start"};function y2(t){return t.replace(/start|end/g,function(e){return oB[e]})}function Dx(t){var e=jr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function zx(t){return bl(ga(t)).left+Dx(t).scrollLeft}function aB(t,e){var n=jr(t),r=ga(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var u=SR();(u||!u&&e==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+zx(t),y:c}}function sB(t){var e,n=ga(t),r=Dx(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=La(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=La(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+zx(t),c=-r.scrollTop;return wo(i||n).direction==="rtl"&&(s+=La(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}function Fx(t){var e=wo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function TR(t){return["html","body","#document"].indexOf(zi(t))>=0?t.ownerDocument.body:Hr(t)&&Fx(t)?t:TR(Lm(t))}function Vc(t,e){var n;e===void 0&&(e=[]);var r=TR(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=jr(r),a=i?[o].concat(o.visualViewport||[],Fx(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Vc(Lm(a)))}function G0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function lB(t,e){var n=bl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function v2(t,e,n){return e===xR?G0(aB(t,n)):Ya(e)?lB(e,n):G0(sB(ga(t)))}function cB(t){var e=Vc(Lm(t)),n=["absolute","fixed"].indexOf(wo(t).position)>=0,r=n&&Hr(t)?yd(t):t;return Ya(r)?e.filter(function(i){return Ya(i)&&kR(i,r)&&zi(i)!=="body"}):[]}function uB(t,e,n,r){var i=e==="clippingParents"?cB(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(c,u){var h=v2(t,u,r);return c.top=La(h.top,c.top),c.right=Vf(h.right,c.right),c.bottom=Vf(h.bottom,c.bottom),c.left=La(h.left,c.left),c},v2(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function IR(t){var e=t.reference,n=t.element,r=t.placement,i=r?Pi(r):null,o=r?xl(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,c;switch(i){case fr:c={x:a,y:e.y-n.height};break;case Zr:c={x:a,y:e.y+e.height};break;case ei:c={x:e.x+e.width,y:s};break;case pr:c={x:e.x-n.width,y:s};break;default:c={x:e.x,y:e.y}}var u=i?Lx(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(o){case yl:c[u]=c[u]-(e[h]/2-n[h]/2);break;case Iu:c[u]=c[u]+(e[h]/2-n[h]/2);break}}return c}function ju(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,c=s===void 0?R7:s,u=n.rootBoundary,h=u===void 0?xR:u,f=n.elementContext,v=f===void 0?lc:f,b=n.altBoundary,_=b===void 0?!1:b,S=n.padding,T=S===void 0?0:S,C=_R(typeof T!="number"?T:ER(T,gd)),g=v===lc?A7:lc,y=t.rects.popper,O=t.elements[_?g:v],M=uB(Ya(O)?O:O.contextElement||ga(t.elements.popper),c,h,a),P=bl(t.elements.reference),E=IR({reference:P,element:y,placement:i}),p=G0(Object.assign({},y,E)),m=v===lc?p:P,w={top:M.top-m.top+C.top,bottom:m.bottom-M.bottom+C.bottom,left:M.left-m.left+C.left,right:m.right-M.right+C.right},R=t.modifiersData.offset;if(v===lc&&R){var j=R[i];Object.keys(w).forEach(function(I){var L=[ei,Zr].indexOf(I)>=0?1:-1,B=[fr,Zr].indexOf(I)>=0?"y":"x";w[I]+=j[B]*L})}return w}function dB(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?wR:c,h=xl(r),f=h?s?p2:p2.filter(function(_){return xl(_)===h}):gd,v=f.filter(function(_){return u.indexOf(_)>=0});v.length===0&&(v=f);var b=v.reduce(function(_,S){return _[S]=ju(t,{placement:S,boundary:i,rootBoundary:o,padding:a})[Pi(S)],_},{});return Object.keys(b).sort(function(_,S){return b[_]-b[S]})}function hB(t){if(Pi(t)===Nx)return[];var e=Wh(t);return[y2(t),e,y2(e)]}function fB(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,c=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,_=b===void 0?!0:b,S=n.allowedAutoPlacements,T=e.options.placement,C=Pi(T),g=C===T,y=c||(g||!_?[Wh(T)]:hB(T)),O=[T].concat(y).reduce(function(ue,le){return ue.concat(Pi(le)===Nx?dB(e,{placement:le,boundary:h,rootBoundary:f,padding:u,flipVariations:_,allowedAutoPlacements:S}):le)},[]),M=e.rects.reference,P=e.rects.popper,E=new Map,p=!0,m=O[0],w=0;w<O.length;w++){var R=O[w],j=Pi(R),I=xl(R)===yl,L=[fr,Zr].indexOf(j)>=0,B=L?"width":"height",G=ju(e,{placement:R,boundary:h,rootBoundary:f,altBoundary:v,padding:u}),$=L?I?ei:pr:I?Zr:fr;M[B]>P[B]&&($=Wh($));var F=Wh($),U=[];if(o&&U.push(G[j]<=0),s&&U.push(G[$]<=0,G[F]<=0),U.every(function(ue){return ue})){m=R,p=!1;break}E.set(R,U)}if(p)for(var q=_?3:1,H=function(ue){var le=O.find(function(Re){var W=E.get(Re);if(W)return W.slice(0,ue).every(function(ee){return ee})});if(le)return m=le,"break"},K=q;K>0;K--){var Q=H(K);if(Q==="break")break}e.placement!==m&&(e.modifiersData[r]._skip=!0,e.placement=m,e.reset=!0)}}const pB={name:"flip",enabled:!0,phase:"main",fn:fB,requiresIfExists:["offset"],data:{_skip:!1}};function b2(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function x2(t){return[fr,ei,Zr,pr].some(function(e){return t[e]>=0})}function mB(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=ju(e,{elementContext:"reference"}),s=ju(e,{altBoundary:!0}),c=b2(a,r),u=b2(s,i,o),h=x2(c),f=x2(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const gB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mB};function yB(t,e,n){var r=Pi(t),i=[pr,fr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[pr,ei].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function vB(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=wR.reduce(function(h,f){return h[f]=yB(f,e.rects,o),h},{}),s=a[e.placement],c=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}const bB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vB};function xB(t){var e=t.state,n=t.name;e.modifiersData[n]=IR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const wB={name:"popperOffsets",enabled:!0,phase:"read",fn:xB,data:{}};function SB(t){return t==="x"?"y":"x"}function kB(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,v=n.tether,b=v===void 0?!0:v,_=n.tetherOffset,S=_===void 0?0:_,T=ju(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:h}),C=Pi(e.placement),g=xl(e.placement),y=!g,O=Lx(C),M=SB(O),P=e.modifiersData.popperOffsets,E=e.rects.reference,p=e.rects.popper,m=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,w=typeof m=="number"?{mainAxis:m,altAxis:m}:Object.assign({mainAxis:0,altAxis:0},m),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(P){if(o){var I,L=O==="y"?fr:pr,B=O==="y"?Zr:ei,G=O==="y"?"height":"width",$=P[O],F=$+T[L],U=$-T[B],q=b?-p[G]/2:0,H=g===yl?E[G]:p[G],K=g===yl?-p[G]:-E[G],Q=e.elements.arrow,ue=b&&Q?Mx(Q):{width:0,height:0},le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:CR(),Re=le[L],W=le[B],ee=Uc(0,E[G],ue[G]),V=y?E[G]/2-q-ee-Re-w.mainAxis:H-ee-Re-w.mainAxis,J=y?-E[G]/2+q+ee+W+w.mainAxis:K+ee+W+w.mainAxis,te=e.elements.arrow&&yd(e.elements.arrow),oe=te?O==="y"?te.clientTop||0:te.clientLeft||0:0,me=(I=R==null?void 0:R[O])!=null?I:0,Se=$+V-me-oe,Le=$+J-me,_e=Uc(b?Vf(F,Se):F,$,b?La(U,Le):U);P[O]=_e,j[O]=_e-$}if(s){var Ue,ke=O==="x"?fr:pr,Y=O==="x"?Zr:ei,ae=P[M],Oe=M==="y"?"height":"width",xe=ae+T[ke],ve=ae-T[Y],Fe=[fr,pr].indexOf(C)!==-1,Ye=(Ue=R==null?void 0:R[M])!=null?Ue:0,Ee=Fe?xe:ae-E[Oe]-p[Oe]-Ye+w.altAxis,de=Fe?ae+E[Oe]+p[Oe]-Ye-w.altAxis:ve,ye=b&&Fe?K7(Ee,ae,de):Uc(b?Ee:xe,ae,b?de:ve);P[M]=ye,j[M]=ye-ae}e.modifiersData[r]=j}}const CB={name:"preventOverflow",enabled:!0,phase:"main",fn:kB,requiresIfExists:["offset"]};function _B(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function EB(t){return t===jr(t)||!Hr(t)?Dx(t):_B(t)}function TB(t){var e=t.getBoundingClientRect(),n=vl(e.width)/t.offsetWidth||1,r=vl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function IB(t,e,n){n===void 0&&(n=!1);var r=Hr(e),i=Hr(e)&&TB(e),o=ga(e),a=bl(t,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((zi(e)!=="body"||Fx(o))&&(s=EB(e)),Hr(e)?(c=bl(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=zx(o))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function jB(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var c=e.get(s);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function RB(t){var e=jB(t);return W7.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function AB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OB(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var w2={placement:"bottom",modifiers:[],strategy:"absolute"};function S2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function NB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?w2:i;return function(a,s,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},w2,o),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},h=[],f=!1,v={state:u,setOptions:function(S){var T=typeof S=="function"?S(u.options):S;_(),u.options=Object.assign({},o,u.options,T),u.scrollParents={reference:Ya(a)?Vc(a):a.contextElement?Vc(a.contextElement):[],popper:Vc(s)};var C=RB(OB([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(g){return g.enabled}),b(),v.update()},forceUpdate:function(){if(!f){var S=u.elements,T=S.reference,C=S.popper;if(S2(T,C)){u.rects={reference:IB(T,yd(C),u.options.strategy==="fixed"),popper:Mx(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(p){return u.modifiersData[p.name]=Object.assign({},p.data)});for(var g=0;g<u.orderedModifiers.length;g++){if(u.reset===!0){u.reset=!1,g=-1;continue}var y=u.orderedModifiers[g],O=y.fn,M=y.options,P=M===void 0?{}:M,E=y.name;typeof O=="function"&&(u=O({state:u,options:P,name:E,instance:v})||u)}}}},update:AB(function(){return new Promise(function(S){v.forceUpdate(),S(u)})}),destroy:function(){_(),f=!0}};if(!S2(a,s))return v;v.setOptions(c).then(function(S){!f&&c.onFirstUpdate&&c.onFirstUpdate(S)});function b(){u.orderedModifiers.forEach(function(S){var T=S.name,C=S.options,g=C===void 0?{}:C,y=S.effect;if(typeof y=="function"){var O=y({state:u,name:T,instance:v,options:g}),M=function(){};h.push(O||M)}})}function _(){h.forEach(function(S){return S()}),h=[]}return v}}var PB=[rB,wB,tB,V7,bB,pB,CB,Y7,gB],MB=NB({defaultModifiers:PB});function LB(t){return typeof t=="function"?t():t}const jR=x.forwardRef(function(t,e){const{children:n,container:r,disablePortal:i=!1}=t,[o,a]=x.useState(null),s=sn(x.isValidElement(n)?zl(n):null,e);if(Yr(()=>{i||a(LB(r)||document.body)},[r,i]),Yr(()=>{if(o&&!i)return Df(e,o),()=>{Df(e,null)}},[e,o,i]),i){if(x.isValidElement(n)){const c={ref:s};return x.cloneElement(n,c)}return l.jsx(x.Fragment,{children:n})}return l.jsx(x.Fragment,{children:o&&nb.createPortal(n,o)})});function DB(t){return lt("MuiPopper",t)}ot("MuiPopper",["root"]);const zB=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],FB=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function $B(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Q0(t){return typeof t=="function"?t():t}function WB(t){return t.nodeType!==void 0}const BB=t=>{const{classes:e}=t;return ft({root:["root"]},DB,e)},UB={},VB=x.forwardRef(function(t,e){var n;const{anchorEl:r,children:i,direction:o,disablePortal:a,modifiers:s,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:v={},slots:b={},TransitionProps:_}=t,S=Ie(t,zB),T=x.useRef(null),C=sn(T,e),g=x.useRef(null),y=sn(g,f),O=x.useRef(y);Yr(()=>{O.current=y},[y]),x.useImperativeHandle(f,()=>g.current,[]);const M=$B(u,o),[P,E]=x.useState(M),[p,m]=x.useState(Q0(r));x.useEffect(()=>{g.current&&g.current.forceUpdate()}),x.useEffect(()=>{r&&m(Q0(r))},[r]),Yr(()=>{if(!p||!c)return;const L=$=>{E($.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$})=>{L($)}}];s!=null&&(B=B.concat(s)),h&&h.modifiers!=null&&(B=B.concat(h.modifiers));const G=MB(p,T.current,z({placement:M},h,{modifiers:B}));return O.current(G),()=>{G.destroy(),O.current(null)}},[p,a,s,c,h,M]);const w={placement:P};_!==null&&(w.TransitionProps=_);const R=BB(t),j=(n=b.root)!=null?n:"div",I=xo({elementType:j,externalSlotProps:v.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:C},ownerState:t,className:R.root});return l.jsx(j,z({},I,{children:typeof i=="function"?i(w):i}))}),qB=x.forwardRef(function(t,e){const{anchorEl:n,children:r,container:i,direction:o="ltr",disablePortal:a=!1,keepMounted:s=!1,modifiers:c,open:u,placement:h="bottom",popperOptions:f=UB,popperRef:v,style:b,transition:_=!1,slotProps:S={},slots:T={}}=t,C=Ie(t,FB),[g,y]=x.useState(!0),O=()=>{y(!1)},M=()=>{y(!0)};if(!s&&!u&&(!_||g))return null;let P;if(i)P=i;else if(n){const m=Q0(n);P=m&&WB(m)?Gn(m).body:Gn(null).body}const E=!u&&s&&(!_||g)?"none":void 0,p=_?{in:u,onEnter:O,onExited:M}:void 0;return l.jsx(jR,{disablePortal:a,container:P,children:l.jsx(VB,z({anchorEl:n,direction:o,disablePortal:a,modifiers:c,ref:e,open:_?!g:u,placement:h,popperOptions:f,popperRef:v,slotProps:S,slots:T},C,{style:z({position:"fixed",top:0,left:0,display:E},b),TransitionProps:p,children:r}))})}),HB=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],KB=je(qB,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),RR=x.forwardRef(function(t,e){var n;const r=vR(),i=ct({props:t,name:"MuiPopper"}),{anchorEl:o,component:a,components:s,componentsProps:c,container:u,disablePortal:h,keepMounted:f,modifiers:v,open:b,placement:_,popperOptions:S,popperRef:T,transition:C,slots:g,slotProps:y}=i,O=Ie(i,HB),M=(n=g==null?void 0:g.root)!=null?n:s==null?void 0:s.Root,P=z({anchorEl:o,container:u,disablePortal:h,keepMounted:f,modifiers:v,open:b,placement:_,popperOptions:S,popperRef:T,transition:C},O);return l.jsx(KB,z({as:a,direction:r==null?void 0:r.direction,slots:{root:M},slotProps:y??c},P,{ref:e}))}),GB=_o(l.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function QB(t){return lt("MuiChip",t)}const vt=ot("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),XB=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],YB=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:a,clickable:s,variant:c}=t,u={root:["root",c,n&&"disabled",`size${fe(r)}`,`color${fe(i)}`,s&&"clickable",s&&`clickableColor${fe(i)}`,a&&"deletable",a&&`deletableColor${fe(i)}`,`${c}${fe(i)}`],label:["label",`label${fe(r)}`],avatar:["avatar",`avatar${fe(r)}`,`avatarColor${fe(i)}`],icon:["icon",`icon${fe(r)}`,`iconColor${fe(o)}`],deleteIcon:["deleteIcon",`deleteIcon${fe(r)}`,`deleteIconColor${fe(i)}`,`deleteIcon${fe(c)}Color${fe(i)}`]};return ft(u,QB,e)},JB=je("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:a,size:s,variant:c}=n;return[{[`& .${vt.avatar}`]:e.avatar},{[`& .${vt.avatar}`]:e[`avatar${fe(s)}`]},{[`& .${vt.avatar}`]:e[`avatarColor${fe(r)}`]},{[`& .${vt.icon}`]:e.icon},{[`& .${vt.icon}`]:e[`icon${fe(s)}`]},{[`& .${vt.icon}`]:e[`iconColor${fe(i)}`]},{[`& .${vt.deleteIcon}`]:e.deleteIcon},{[`& .${vt.deleteIcon}`]:e[`deleteIcon${fe(s)}`]},{[`& .${vt.deleteIcon}`]:e[`deleteIconColor${fe(r)}`]},{[`& .${vt.deleteIcon}`]:e[`deleteIcon${fe(c)}Color${fe(r)}`]},e.root,e[`size${fe(s)}`],e[`color${fe(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${fe(r)})`],a&&e.deletable,a&&r!=="default"&&e[`deletableColor${fe(r)}`],e[c],e[`${c}${fe(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return z({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${vt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${vt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${vt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${vt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${vt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${vt.icon}`]:z({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&z({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${vt.deleteIcon}`]:z({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Lt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Lt(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Lt(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${vt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${vt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>z({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${vt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${vt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>z({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${vt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${vt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${vt.avatar}`]:{marginLeft:4},[`& .${vt.avatarSmall}`]:{marginLeft:2},[`& .${vt.icon}`]:{marginLeft:4},[`& .${vt.iconSmall}`]:{marginLeft:2},[`& .${vt.deleteIcon}`]:{marginRight:5},[`& .${vt.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Lt(t.palette[e.color].main,.7)}`,[`&.${vt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${vt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Lt(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${vt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Lt(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),ZB=je("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${fe(r)}`]]}})(({ownerState:t})=>z({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function k2(t){return t.key==="Backspace"||t.key==="Delete"}const C2=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiChip"}),{avatar:r,className:i,clickable:o,color:a="default",component:s,deleteIcon:c,disabled:u=!1,icon:h,label:f,onClick:v,onDelete:b,onKeyDown:_,onKeyUp:S,size:T="medium",variant:C="filled",tabIndex:g,skipFocusWhenDisabled:y=!1}=n,O=Ie(n,XB),M=x.useRef(null),P=sn(M,e),E=F=>{F.stopPropagation(),b&&b(F)},p=F=>{F.currentTarget===F.target&&k2(F)&&F.preventDefault(),_&&_(F)},m=F=>{F.currentTarget===F.target&&(b&&k2(F)?b(F):F.key==="Escape"&&M.current&&M.current.blur()),S&&S(F)},w=o!==!1&&v?!0:o,R=w||b?Tu:s||"div",j=z({},n,{component:R,disabled:u,size:T,color:a,iconColor:x.isValidElement(h)&&h.props.color||a,onDelete:!!b,clickable:w,variant:C}),I=YB(j),L=R===Tu?z({component:s||"div",focusVisibleClassName:I.focusVisible},b&&{disableRipple:!0}):{};let B=null;b&&(B=c&&x.isValidElement(c)?x.cloneElement(c,{className:Ae(c.props.className,I.deleteIcon),onClick:E}):l.jsx(GB,{className:Ae(I.deleteIcon),onClick:E}));let G=null;r&&x.isValidElement(r)&&(G=x.cloneElement(r,{className:Ae(I.avatar,r.props.className)}));let $=null;return h&&x.isValidElement(h)&&($=x.cloneElement(h,{className:Ae(I.icon,h.props.className)})),l.jsxs(JB,z({as:R,className:Ae(I.root,i),disabled:w&&u?!0:void 0,onClick:v,onKeyDown:p,onKeyUp:m,ref:P,tabIndex:y&&u?-1:g,ownerState:j},L,O,{children:[G||$,l.jsx(ZB,{className:Ae(I.label),ownerState:j,children:f}),B]}))}),eU=["onChange","maxRows","minRows","style","value"];function sh(t){return parseInt(t,10)||0}const tU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function nU(t){for(const e in t)return!1;return!0}function _2(t){return nU(t)||t.outerHeightStyle===0&&!t.overflowing}const rU=x.forwardRef(function(t,e){const{onChange:n,maxRows:r,minRows:i=1,style:o,value:a}=t,s=Ie(t,eU),{current:c}=x.useRef(a!=null),u=x.useRef(null),h=sn(e,u),f=x.useRef(null),v=x.useRef(null),b=x.useCallback(()=>{const g=u.current,y=v.current;if(!g||!y)return;const O=sa(g).getComputedStyle(g);if(O.width==="0px")return{outerHeightStyle:0,overflowing:!1};y.style.width=O.width,y.value=g.value||t.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const M=O.boxSizing,P=sh(O.paddingBottom)+sh(O.paddingTop),E=sh(O.borderBottomWidth)+sh(O.borderTopWidth),p=y.scrollHeight;y.value="x";const m=y.scrollHeight;let w=p;i&&(w=Math.max(Number(i)*m,w)),r&&(w=Math.min(Number(r)*m,w)),w=Math.max(w,m);const R=w+(M==="border-box"?P+E:0),j=Math.abs(w-p)<=1;return{outerHeightStyle:R,overflowing:j}},[r,i,t.placeholder]),_=_i(()=>{const g=u.current,y=b();if(!g||!y||_2(y))return!1;const O=y.outerHeightStyle;return f.current!=null&&f.current!==O}),S=x.useCallback(()=>{const g=u.current,y=b();if(!g||!y||_2(y))return;const O=y.outerHeightStyle;f.current!==O&&(f.current=O,g.style.height=`${O}px`),g.style.overflow=y.overflowing?"hidden":""},[b]),T=x.useRef(-1);Yr(()=>{const g=Sx(S),y=u==null?void 0:u.current;if(!y)return;const O=sa(y);O.addEventListener("resize",g);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>{_()&&(M.unobserve(y),cancelAnimationFrame(T.current),S(),T.current=requestAnimationFrame(()=>{M.observe(y)}))}),M.observe(y)),()=>{g.clear(),cancelAnimationFrame(T.current),O.removeEventListener("resize",g),M&&M.disconnect()}},[b,S,_]),Yr(()=>{S()});const C=g=>{c||S(),n&&n(g)};return l.jsxs(x.Fragment,{children:[l.jsx("textarea",z({value:a,onChange:C,ref:h,rows:i,style:o},s)),l.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:v,tabIndex:-1,style:z({},tU.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function Wl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const $x=x.createContext(void 0);function Bl(){return x.useContext($x)}function AR(t){return l.jsx(Hj,z({},t,{defaultTheme:Ix,themeId:ml}))}function E2(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function qf(t,e=!1){return t&&(E2(t.value)&&t.value!==""||e&&E2(t.defaultValue)&&t.defaultValue!=="")}function iU(t){return t.startAdornment}function oU(t){return lt("MuiInputBase",t)}const wl=ot("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),aU=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Dm=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${fe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},zm=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},sU=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:f,size:v,startAdornment:b,type:_}=t,S={root:["root",`color${fe(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",s&&"formControl",v&&v!=="medium"&&`size${fe(v)}`,h&&"multiline",b&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",_==="search"&&"inputTypeSearch",h&&"inputMultiline",v==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",b&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return ft(S,oU,e)},Fm=je("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Dm})(({theme:t,ownerState:e})=>z({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${wl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&z({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),$m=je("input",{name:"MuiInputBase",slot:"Input",overridesResolver:zm})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=z({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return z({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${wl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${wl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),lU=l.jsx(AR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Wx=x.forwardRef(function(t,e){var n;const r=ct({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:s,components:c={},componentsProps:u={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:v,endAdornment:b,fullWidth:_=!1,id:S,inputComponent:T="input",inputProps:C={},inputRef:g,maxRows:y,minRows:O,multiline:M=!1,name:P,onBlur:E,onChange:p,onClick:m,onFocus:w,onKeyDown:R,onKeyUp:j,placeholder:I,readOnly:L,renderSuffix:B,rows:G,slotProps:$={},slots:F={},startAdornment:U,type:q="text",value:H}=r,K=Ie(r,aU),Q=C.value!=null?C.value:H,{current:ue}=x.useRef(Q!=null),le=x.useRef(),Re=x.useCallback(de=>{},[]),W=sn(le,g,C.ref,Re),[ee,V]=x.useState(!1),J=Bl(),te=Wl({props:r,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});te.focused=J?J.focused:ee,x.useEffect(()=>{!J&&f&&ee&&(V(!1),E&&E())},[J,f,ee,E]);const oe=J&&J.onFilled,me=J&&J.onEmpty,Se=x.useCallback(de=>{qf(de)?oe&&oe():me&&me()},[oe,me]);Yr(()=>{ue&&Se({value:Q})},[Q,Se,ue]);const Le=de=>{if(te.disabled){de.stopPropagation();return}w&&w(de),C.onFocus&&C.onFocus(de),J&&J.onFocus?J.onFocus(de):V(!0)},_e=de=>{E&&E(de),C.onBlur&&C.onBlur(de),J&&J.onBlur?J.onBlur(de):V(!1)},Ue=(de,...ye)=>{if(!ue){const nt=de.target||le.current;if(nt==null)throw new Error(Xa(1));Se({value:nt.value})}C.onChange&&C.onChange(de,...ye),p&&p(de,...ye)};x.useEffect(()=>{Se(le.current)},[]);const ke=de=>{le.current&&de.currentTarget===de.target&&le.current.focus(),m&&m(de)};let Y=T,ae=C;M&&Y==="input"&&(G?ae=z({type:void 0,minRows:G,maxRows:G},ae):ae=z({type:void 0,maxRows:y,minRows:O},ae),Y=rU);const Oe=de=>{Se(de.animationName==="mui-auto-fill-cancel"?le.current:{value:"x"})};x.useEffect(()=>{J&&J.setAdornedStart(!!U)},[J,U]);const xe=z({},r,{color:te.color||"primary",disabled:te.disabled,endAdornment:b,error:te.error,focused:te.focused,formControl:J,fullWidth:_,hiddenLabel:te.hiddenLabel,multiline:M,size:te.size,startAdornment:U,type:q}),ve=sU(xe),Fe=F.root||c.Root||Fm,Ye=$.root||u.root||{},Ee=F.input||c.Input||$m;return ae=z({},ae,(n=$.input)!=null?n:u.input),l.jsxs(x.Fragment,{children:[!v&&lU,l.jsxs(Fe,z({},Ye,!Ff(Fe)&&{ownerState:z({},xe,Ye.ownerState)},{ref:e,onClick:ke},K,{className:Ae(ve.root,Ye.className,s,L&&"MuiInputBase-readOnly"),children:[U,l.jsx($x.Provider,{value:null,children:l.jsx(Ee,z({ownerState:xe,"aria-invalid":te.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:h,disabled:te.disabled,id:S,onAnimationStart:Oe,name:P,placeholder:I,readOnly:L,required:te.required,rows:G,value:Q,onKeyDown:R,onKeyUp:j,type:q},ae,!Ff(Ee)&&{as:Y,ownerState:z({},xe,ae.ownerState)},{ref:W,className:Ae(ve.input,ae.className,L&&"MuiInputBase-readOnly"),onBlur:_e,onChange:Ue,onFocus:Le}))}),b,B?B(z({},te,{startAdornment:U})):null]}))]})});function cU(t){return lt("MuiInput",t)}const cc=z({},wl,ot("MuiInput",["root","underline","input"]));function uU(t){return lt("MuiOutlinedInput",t)}const Ao=z({},wl,ot("MuiOutlinedInput",["root","notchedOutline","input"]));function dU(t){return lt("MuiFilledInput",t)}const wa=z({},wl,ot("MuiFilledInput",["root","underline","input"])),hU=_o(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),fU=_o(l.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function pU(t){return lt("MuiAvatar",t)}ot("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const mU=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],gU=t=>{const{classes:e,variant:n,colorDefault:r}=t;return ft({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},pU,e)},yU=je("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:z({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:z({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),vU=je("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),bU=je(fU,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function xU({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=x.useState(!1);return x.useEffect(()=>{if(!n&&!r)return;o(!1);let a=!0;const s=new Image;return s.onload=()=>{a&&o("loaded")},s.onerror=()=>{a&&o("error")},s.crossOrigin=t,s.referrerPolicy=e,s.src=n,r&&(s.srcset=r),()=>{a=!1}},[t,e,n,r]),i}const wU=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiAvatar"}),{alt:r,children:i,className:o,component:a="div",slots:s={},slotProps:c={},imgProps:u,sizes:h,src:f,srcSet:v,variant:b="circular"}=n,_=Ie(n,mU);let S=null;const T=xU(z({},u,{src:f,srcSet:v})),C=f||v,g=C&&T!=="error",y=z({},n,{colorDefault:!g,component:a,variant:b}),O=gU(y),[M,P]=q0("img",{className:O.img,elementType:vU,externalForwardedProps:{slots:s,slotProps:{img:z({},u,c.img)}},additionalProps:{alt:r,src:f,srcSet:v,sizes:h},ownerState:y});return g?S=l.jsx(M,z({},P)):i||i===0?S=i:C&&r?S=r[0]:S=l.jsx(bU,{ownerState:y,className:O.fallback}),l.jsx(yU,z({as:a,ownerState:y,className:Ae(O.root,o),ref:e},_,{children:S}))}),SU=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],kU={entering:{opacity:1},entered:{opacity:1}},OR=x.forwardRef(function(t,e){const n=Pm(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:s,in:c,onEnter:u,onEntered:h,onEntering:f,onExit:v,onExited:b,onExiting:_,style:S,timeout:T=r,TransitionComponent:C=Ui}=t,g=Ie(t,SU),y=x.useRef(null),O=sn(y,zl(a),e),M=I=>L=>{if(I){const B=y.current;L===void 0?I(B):I(B,L)}},P=M(f),E=M((I,L)=>{yR(I);const B=Uf({style:S,timeout:T,easing:s},{mode:"enter"});I.style.webkitTransition=n.transitions.create("opacity",B),I.style.transition=n.transitions.create("opacity",B),u&&u(I,L)}),p=M(h),m=M(_),w=M(I=>{const L=Uf({style:S,timeout:T,easing:s},{mode:"exit"});I.style.webkitTransition=n.transitions.create("opacity",L),I.style.transition=n.transitions.create("opacity",L),v&&v(I)}),R=M(b),j=I=>{i&&i(y.current,I)};return l.jsx(C,z({appear:o,in:c,nodeRef:y,onEnter:E,onEntered:p,onEntering:P,onExit:w,onExited:R,onExiting:m,addEndListener:j,timeout:T},g,{children:(I,L)=>x.cloneElement(a,z({style:z({opacity:0,visibility:I==="exited"&&!c?"hidden":void 0},kU[I],S,a.props.style),ref:O},L))}))});function CU(t){return lt("MuiBackdrop",t)}ot("MuiBackdrop",["root","invisible"]);const _U=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],EU=t=>{const{classes:e,invisible:n}=t;return ft({root:["root",n&&"invisible"]},CU,e)},TU=je("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>z({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),IU=x.forwardRef(function(t,e){var n,r,i;const o=ct({props:t,name:"MuiBackdrop"}),{children:a,className:s,component:c="div",components:u={},componentsProps:h={},invisible:f=!1,open:v,slotProps:b={},slots:_={},TransitionComponent:S=OR,transitionDuration:T}=o,C=Ie(o,_U),g=z({},o,{component:c,invisible:f}),y=EU(g),O=(n=b.root)!=null?n:h.root;return l.jsx(S,z({in:v,timeout:T},C,{children:l.jsx(TU,z({"aria-hidden":!0},O,{as:(r=(i=_.root)!=null?i:u.Root)!=null?r:c,className:Ae(y.root,s,O==null?void 0:O.className),ownerState:z({},g,O==null?void 0:O.ownerState),classes:y,ref:e,children:a}))}))});function jU(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,o=Yj({badgeContent:e,max:r});let a=n;n===!1&&e===0&&!i&&(a=!0);const{badgeContent:s,max:c=r}=a?o:t,u=s&&Number(s)>c?`${c}+`:s;return{badgeContent:s,invisible:a,max:c,displayValue:u}}function RU(t){return lt("MuiBadge",t)}const Oo=ot("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),AU=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Kg=10,Gg=4,OU=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:a={}}=t,s={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${fe(n.vertical)}${fe(n.horizontal)}`,`anchorOrigin${fe(n.vertical)}${fe(n.horizontal)}${fe(i)}`,`overlap${fe(i)}`,e!=="default"&&`color${fe(e)}`]};return ft(s,RU,a)},NU=je("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),PU=je("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${fe(n.anchorOrigin.vertical)}${fe(n.anchorOrigin.horizontal)}${fe(n.overlap)}`],n.color!=="default"&&e[`color${fe(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Kg*2,lineHeight:1,padding:"0 6px",height:Kg*2,borderRadius:Kg,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,i;return((r=t.vars)!=null?r:t).palette[n].main&&((i=t.vars)!=null?i:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Gg,height:Gg*2,minWidth:Gg*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Oo.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),MU=x.forwardRef(function(t,e){var n,r,i,o,a,s;const c=ct({props:t,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:h,component:f,components:v={},componentsProps:b={},children:_,overlap:S="rectangular",color:T="default",invisible:C=!1,max:g=99,badgeContent:y,slots:O,slotProps:M,showZero:P=!1,variant:E="standard"}=c,p=Ie(c,AU),{badgeContent:m,invisible:w,max:R,displayValue:j}=jU({max:g,invisible:C,badgeContent:y,showZero:P}),I=Yj({anchorOrigin:u,color:T,overlap:S,variant:E,badgeContent:y}),L=w||m==null&&E!=="dot",{color:B=T,overlap:G=S,anchorOrigin:$=u,variant:F=E}=L?I:c,U=F!=="dot"?j:void 0,q=z({},c,{badgeContent:m,invisible:L,max:R,displayValue:U,showZero:P,anchorOrigin:$,color:B,overlap:G,variant:F}),H=OU(q),K=(n=(r=O==null?void 0:O.root)!=null?r:v.Root)!=null?n:NU,Q=(i=(o=O==null?void 0:O.badge)!=null?o:v.Badge)!=null?i:PU,ue=(a=M==null?void 0:M.root)!=null?a:b.root,le=(s=M==null?void 0:M.badge)!=null?s:b.badge,Re=xo({elementType:K,externalSlotProps:ue,externalForwardedProps:p,additionalProps:{ref:e,as:f},ownerState:q,className:Ae(ue==null?void 0:ue.className,H.root,h)}),W=xo({elementType:Q,externalSlotProps:le,ownerState:q,className:Ae(H.badge,le==null?void 0:le.className)});return l.jsxs(K,z({},Re,{children:[_,l.jsx(Q,z({},W,{children:U}))]}))}),LU=ot("MuiBox",["root"]),DU=Tx(),Qe=mF({themeId:ml,defaultTheme:DU,defaultClassName:LU.root,generateClassName:bx.generate});function zU(t){return lt("MuiButton",t)}const lh=ot("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),FU=x.createContext({}),$U=x.createContext(void 0),WU=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],BU=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=t,s={root:["root",o,`${o}${fe(e)}`,`size${fe(i)}`,`${o}Size${fe(i)}`,`color${fe(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${fe(i)}`],endIcon:["icon","endIcon",`iconSize${fe(i)}`]},c=ft(s,zU,a);return z({},a,c)},NR=t=>z({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),UU=je(Tu,{shouldForwardProp:t=>ri(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${fe(n.color)}`],e[`size${fe(n.size)}`],e[`${n.variant}Size${fe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return z({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":z({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":z({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${lh.focusVisible}`]:z({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${lh.disabled}`]:z({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Lt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${lh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${lh.disabled}`]:{boxShadow:"none"}}),VU=je("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${fe(n.size)}`]]}})(({ownerState:t})=>z({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},NR(t))),qU=je("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${fe(n.size)}`]]}})(({ownerState:t})=>z({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},NR(t))),Vn=x.forwardRef(function(t,e){const n=x.useContext(FU),r=x.useContext($U),i=Eu(n,t),o=ct({props:i,name:"MuiButton"}),{children:a,color:s="primary",component:c="button",className:u,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:v=!1,endIcon:b,focusVisibleClassName:_,fullWidth:S=!1,size:T="medium",startIcon:C,type:g,variant:y="text"}=o,O=Ie(o,WU),M=z({},o,{color:s,component:c,disabled:h,disableElevation:f,disableFocusRipple:v,fullWidth:S,size:T,type:g,variant:y}),P=BU(M),E=C&&l.jsx(VU,{className:P.startIcon,ownerState:M,children:C}),p=b&&l.jsx(qU,{className:P.endIcon,ownerState:M,children:b}),m=r||"";return l.jsxs(UU,z({ownerState:M,className:Ae(n.className,P.root,u,m),component:c,disabled:h,focusRipple:!v,focusVisibleClassName:Ae(P.focusVisible,_),ref:e,type:g},O,{classes:P,children:[E,a,p]}))});function HU(t){return lt("MuiCard",t)}ot("MuiCard",["root"]);const KU=["className","raised"],GU=t=>{const{classes:e}=t;return ft({root:["root"]},HU,e)},QU=je(pi,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Hf=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=Ie(n,KU),a=z({},n,{raised:i}),s=GU(a);return l.jsx(QU,z({className:Ae(s.root,r),elevation:i?8:void 0,ref:e,ownerState:a},o))});function XU(t){return lt("MuiCardContent",t)}ot("MuiCardContent",["root"]);const YU=["className","component"],JU=t=>{const{classes:e}=t;return ft({root:["root"]},XU,e)},ZU=je("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Kf=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=Ie(n,YU),a=z({},n,{component:i}),s=JU(a);return l.jsx(ZU,z({as:i,className:Ae(s.root,r),ownerState:a,ref:e},o))});function eV(t){return lt("MuiCardMedia",t)}ot("MuiCardMedia",["root","media","img"]);const tV=["children","className","component","image","src","style"],nV=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return ft({root:["root",n&&"media",r&&"img"]},eV,e)},rV=je("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>z({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),iV=["video","audio","picture","iframe","img"],oV=["picture","img"],T2=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiCardMedia"}),{children:r,className:i,component:o="div",image:a,src:s,style:c}=n,u=Ie(n,tV),h=iV.indexOf(o)!==-1,f=!h&&a?z({backgroundImage:`url("${a}")`},c):c,v=z({},n,{component:o,isMediaComponent:h,isImageComponent:oV.indexOf(o)!==-1}),b=nV(v);return l.jsx(rV,z({className:Ae(b.root,i),as:o,role:!h&&a?"img":void 0,ref:e,style:f,ownerState:v,src:h?a||s:void 0},u,{children:r}))}),PR=f$({createStyledComponent:je("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${fe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>ct({props:t,name:"MuiContainer"})}),aV=(t,e)=>z({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),sV=t=>z({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),lV=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([a,s])=>{var c;r[t.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(c=s.palette)==null?void 0:c.mode}});let i=z({html:aV(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:z({margin:0},sV(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const o=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function cV(t){const e=ct({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(x.Fragment,{children:[l.jsx(AR,{styles:i=>lV(i,r)}),n]})}function uV(t){const e=Gn(t);return e.body===t?sa(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function qc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function I2(t){return parseInt(sa(t).getComputedStyle(t).paddingRight,10)||0}function dV(t){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return e||n}function j2(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,a=>{const s=o.indexOf(a)===-1,c=!dV(a);s&&c&&qc(a,i)})}function Qg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function hV(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(uV(r)){const o=Xj(Gn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${I2(r)+o}px`;const a=Gn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,s=>{n.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${I2(s)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Gn(r).body;else{const o=r.parentElement,a=sa(r);i=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:a})=>{i?o.style.setProperty(a,i):o.style.removeProperty(a)})}}function fV(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class pV{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&qc(e.modalRef,!1);const i=fV(n);j2(n,e.mount,e.modalRef,i,!0);const o=Qg(this.containers,a=>a.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Qg(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=hV(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Qg(this.containers,a=>a.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&qc(e.modalRef,n),j2(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&qc(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const mV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function gV(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function yV(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function vV(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||yV(t))}function bV(t){const e=[],n=[];return Array.from(t.querySelectorAll(mV)).forEach((r,i)=>{const o=gV(r);o===-1||!vV(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function xV(){return!0}function wV(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=bV,isEnabled:a=xV,open:s}=t,c=x.useRef(!1),u=x.useRef(null),h=x.useRef(null),f=x.useRef(null),v=x.useRef(null),b=x.useRef(!1),_=x.useRef(null),S=sn(zl(e),_),T=x.useRef(null);x.useEffect(()=>{!s||!_.current||(b.current=!n)},[n,s]),x.useEffect(()=>{if(!s||!_.current)return;const y=Gn(_.current);return _.current.contains(y.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),b.current&&_.current.focus()),()=>{i||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[s]),x.useEffect(()=>{if(!s||!_.current)return;const y=Gn(_.current),O=E=>{T.current=E,!(r||!a()||E.key!=="Tab")&&y.activeElement===_.current&&E.shiftKey&&(c.current=!0,h.current&&h.current.focus())},M=()=>{const E=_.current;if(E===null)return;if(!y.hasFocus()||!a()||c.current){c.current=!1;return}if(E.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==h.current)return;if(y.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!b.current)return;let p=[];if((y.activeElement===u.current||y.activeElement===h.current)&&(p=o(_.current)),p.length>0){var m,w;const R=!!((m=T.current)!=null&&m.shiftKey&&((w=T.current)==null?void 0:w.key)==="Tab"),j=p[0],I=p[p.length-1];typeof j!="string"&&typeof I!="string"&&(R?I.focus():j.focus())}else E.focus()};y.addEventListener("focusin",M),y.addEventListener("keydown",O,!0);const P=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(P),y.removeEventListener("focusin",M),y.removeEventListener("keydown",O,!0)}},[n,r,i,a,s,o]);const C=y=>{f.current===null&&(f.current=y.relatedTarget),b.current=!0,v.current=y.target;const O=e.props.onFocus;O&&O(y)},g=y=>{f.current===null&&(f.current=y.relatedTarget),b.current=!0};return l.jsxs(x.Fragment,{children:[l.jsx("div",{tabIndex:s?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),x.cloneElement(e,{ref:S,onFocus:C}),l.jsx("div",{tabIndex:s?0:-1,onFocus:g,ref:h,"data-testid":"sentinelEnd"})]})}function SV(t){return typeof t=="function"?t():t}function kV(t){return t?t.props.hasOwnProperty("in"):!1}const CV=new pV;function _V(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=CV,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:c,onClose:u,open:h,rootRef:f}=t,v=x.useRef({}),b=x.useRef(null),_=x.useRef(null),S=sn(_,f),[T,C]=x.useState(!h),g=kV(c);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const O=()=>Gn(b.current),M=()=>(v.current.modalRef=_.current,v.current.mount=b.current,v.current),P=()=>{i.mount(M(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},E=_i(()=>{const I=SV(e)||O().body;i.add(M(),I),_.current&&P()}),p=x.useCallback(()=>i.isTopModal(M()),[i]),m=_i(I=>{b.current=I,I&&(h&&p()?P():_.current&&qc(_.current,y))}),w=x.useCallback(()=>{i.remove(M(),y)},[y,i]);x.useEffect(()=>()=>{w()},[w]),x.useEffect(()=>{h?E():(!g||!o)&&w()},[h,w,g,o,E]);const R=I=>L=>{var B;(B=I.onKeyDown)==null||B.call(I,L),!(L.key!=="Escape"||L.which===229||!p())&&(n||(L.stopPropagation(),u&&u(L,"escapeKeyDown")))},j=I=>L=>{var B;(B=I.onClick)==null||B.call(I,L),L.target===L.currentTarget&&u&&u(L,"backdropClick")};return{getRootProps:(I={})=>{const L=Jj(t);delete L.onTransitionEnter,delete L.onTransitionExited;const B=z({},L,I);return z({role:"presentation"},B,{onKeyDown:R(B),ref:S})},getBackdropProps:(I={})=>{const L=I;return z({"aria-hidden":!0},L,{onClick:j(L),open:h})},getTransitionProps:()=>{const I=()=>{C(!1),a&&a()},L=()=>{C(!0),s&&s(),o&&w()};return{onEnter:D0(I,c==null?void 0:c.props.onEnter),onExited:D0(L,c==null?void 0:c.props.onExited)}},rootRef:S,portalRef:m,isTopModal:p,exited:T,hasTransition:g}}function EV(t){return lt("MuiModal",t)}ot("MuiModal",["root","hidden","backdrop"]);const TV=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],IV=t=>{const{open:e,exited:n,classes:r}=t;return ft({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},EV,r)},jV=je("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>z({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),RV=je(IU,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),AV=x.forwardRef(function(t,e){var n,r,i,o,a,s;const c=ct({name:"MuiModal",props:t}),{BackdropComponent:u=RV,BackdropProps:h,className:f,closeAfterTransition:v=!1,children:b,container:_,component:S,components:T={},componentsProps:C={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:O=!1,disablePortal:M=!1,disableRestoreFocus:P=!1,disableScrollLock:E=!1,hideBackdrop:p=!1,keepMounted:m=!1,onBackdropClick:w,open:R,slotProps:j,slots:I}=c,L=Ie(c,TV),B=z({},c,{closeAfterTransition:v,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:O,disablePortal:M,disableRestoreFocus:P,disableScrollLock:E,hideBackdrop:p,keepMounted:m}),{getRootProps:G,getBackdropProps:$,getTransitionProps:F,portalRef:U,isTopModal:q,exited:H,hasTransition:K}=_V(z({},B,{rootRef:e})),Q=z({},B,{exited:H}),ue=IV(Q),le={};if(b.props.tabIndex===void 0&&(le.tabIndex="-1"),K){const{onEnter:oe,onExited:me}=F();le.onEnter=oe,le.onExited=me}const Re=(n=(r=I==null?void 0:I.root)!=null?r:T.Root)!=null?n:jV,W=(i=(o=I==null?void 0:I.backdrop)!=null?o:T.Backdrop)!=null?i:u,ee=(a=j==null?void 0:j.root)!=null?a:C.root,V=(s=j==null?void 0:j.backdrop)!=null?s:C.backdrop,J=xo({elementType:Re,externalSlotProps:ee,externalForwardedProps:L,getSlotProps:G,additionalProps:{ref:e,as:S},ownerState:Q,className:Ae(f,ee==null?void 0:ee.className,ue==null?void 0:ue.root,!Q.open&&Q.exited&&(ue==null?void 0:ue.hidden))}),te=xo({elementType:W,externalSlotProps:V,additionalProps:h,getSlotProps:oe=>$(z({},oe,{onClick:me=>{w&&w(me),oe!=null&&oe.onClick&&oe.onClick(me)}})),className:Ae(V==null?void 0:V.className,h==null?void 0:h.className,ue==null?void 0:ue.backdrop),ownerState:Q});return!m&&!R&&(!K||H)?null:l.jsx(jR,{ref:U,container:_,disablePortal:M,children:l.jsxs(Re,z({},J,{children:[!p&&u?l.jsx(W,z({},te)):null,l.jsx(wV,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:P,isEnabled:q,open:R,children:x.cloneElement(b,le)})]}))})});function OV(t){return lt("MuiDivider",t)}const R2=ot("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),NV=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],PV=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:c}=t;return ft({root:["root",e&&"absolute",c,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},OV,r)},MV=je("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>z({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Lt(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>z({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>z({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>z({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>z({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),LV=je("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>z({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),MR=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,component:a=i?"div":"hr",flexItem:s=!1,light:c=!1,orientation:u="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:f="center",variant:v="fullWidth"}=n,b=Ie(n,NV),_=z({},n,{absolute:r,component:a,flexItem:s,light:c,orientation:u,role:h,textAlign:f,variant:v}),S=PV(_);return l.jsx(MV,z({as:a,className:Ae(S.root,o),role:h,ref:e,ownerState:_},b,{children:i?l.jsx(LV,{className:S.wrapper,ownerState:_,children:i}):null}))});MR.muiSkipListHighlight=!0;const DV=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],zV=t=>{const{classes:e,disableUnderline:n}=t,r=ft({root:["root",!n&&"underline"],input:["input"]},dU,e);return z({},e,r)},FV=je(Fm,{shouldForwardProp:t=>ri(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Dm(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return z({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${wa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${wa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wa.disabled}, .${wa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${wa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&z({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),$V=je($m,{name:"MuiFilledInput",slot:"Input",overridesResolver:zm})(({theme:t,ownerState:e})=>z({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Bx=x.forwardRef(function(t,e){var n,r,i,o;const a=ct({props:t,name:"MuiFilledInput"}),{components:s={},componentsProps:c,fullWidth:u=!1,inputComponent:h="input",multiline:f=!1,slotProps:v,slots:b={},type:_="text"}=a,S=Ie(a,DV),T=z({},a,{fullWidth:u,inputComponent:h,multiline:f,type:_}),C=zV(a),g={root:{ownerState:T},input:{ownerState:T}},y=v??c?_r(g,v??c):g,O=(n=(r=b.root)!=null?r:s.Root)!=null?n:FV,M=(i=(o=b.input)!=null?o:s.Input)!=null?i:$V;return l.jsx(Wx,z({slots:{root:O,input:M},componentsProps:y,fullWidth:u,inputComponent:h,multiline:f,ref:e,type:_},S,{classes:C}))});Bx.muiName="Input";function WV(t){return lt("MuiFormControl",t)}ot("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const BV=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],UV=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${fe(n)}`,r&&"fullWidth"]};return ft(i,WV,e)},VV=je("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>z({},e.root,e[`margin${fe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>z({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),LR=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiFormControl"}),{children:r,className:i,color:o="primary",component:a="div",disabled:s=!1,error:c=!1,focused:u,fullWidth:h=!1,hiddenLabel:f=!1,margin:v="none",required:b=!1,size:_="medium",variant:S="outlined"}=n,T=Ie(n,BV),C=z({},n,{color:o,component:a,disabled:s,error:c,fullWidth:h,hiddenLabel:f,margin:v,required:b,size:_,variant:S}),g=UV(C),[y,O]=x.useState(()=>{let j=!1;return r&&x.Children.forEach(r,I=>{if(!zh(I,["Input","Select"]))return;const L=zh(I,["Select"])?I.props.input:I;L&&iU(L.props)&&(j=!0)}),j}),[M,P]=x.useState(()=>{let j=!1;return r&&x.Children.forEach(r,I=>{zh(I,["Input","Select"])&&(qf(I.props,!0)||qf(I.props.inputProps,!0))&&(j=!0)}),j}),[E,p]=x.useState(!1);s&&E&&p(!1);const m=u!==void 0&&!s?u:E;let w;const R=x.useMemo(()=>({adornedStart:y,setAdornedStart:O,color:o,disabled:s,error:c,filled:M,focused:m,fullWidth:h,hiddenLabel:f,size:_,onBlur:()=>{p(!1)},onEmpty:()=>{P(!1)},onFilled:()=>{P(!0)},onFocus:()=>{p(!0)},registerEffect:w,required:b,variant:S}),[y,o,s,c,M,m,h,f,w,b,_,S]);return l.jsx($x.Provider,{value:R,children:l.jsx(VV,z({as:a,ownerState:C,className:Ae(g.root,i),ref:e},T,{children:r}))})});function qV(t){return lt("MuiFormHelperText",t)}const A2=ot("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var O2;const HV=["children","className","component","disabled","error","filled","focused","margin","required","variant"],KV=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:c}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${fe(r)}`,n&&"contained",s&&"focused",a&&"filled",c&&"required"]};return ft(u,qV,e)},GV=je("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${fe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>z({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${A2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${A2.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),QV=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,a=Ie(n,HV),s=Bl(),c=Wl({props:n,muiFormControl:s,states:["variant","size","disabled","error","filled","focused","required"]}),u=z({},n,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=KV(u);return l.jsx(GV,z({as:o,ownerState:u,className:Ae(h.root,i),ref:e},a,{children:r===" "?O2||(O2=l.jsx("span",{className:"notranslate",children:""})):r}))});function XV(t){return lt("MuiFormLabel",t)}const Hc=ot("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),YV=["children","className","color","component","disabled","error","filled","focused","required"],JV=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=t,c={root:["root",`color${fe(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return ft(c,XV,e)},ZV=je("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>z({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>z({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Hc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Hc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Hc.error}`]:{color:(t.vars||t).palette.error.main}})),eq=je("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Hc.error}`]:{color:(t.vars||t).palette.error.main}})),tq=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,a=Ie(n,YV),s=Bl(),c=Wl({props:n,muiFormControl:s,states:["color","required","focused","disabled","error","filled"]}),u=z({},n,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=JV(u);return l.jsxs(ZV,z({as:o,ownerState:u,className:Ae(h.root,i),ref:e},a,{children:[r,c.required&&l.jsxs(eq,{ownerState:u,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),N2=x.createContext();function nq(t){return lt("MuiGrid",t)}const rq=[0,1,2,3,4,5,6,7,8,9,10],iq=["column-reverse","column","row-reverse","row"],oq=["nowrap","wrap-reverse","wrap"],uc=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ru=ot("MuiGrid",["root","container","item","zeroMinWidth",...rq.map(t=>`spacing-xs-${t}`),...iq.map(t=>`direction-xs-${t}`),...oq.map(t=>`wrap-xs-${t}`),...uc.map(t=>`grid-xs-${t}`),...uc.map(t=>`grid-sm-${t}`),...uc.map(t=>`grid-md-${t}`),...uc.map(t=>`grid-lg-${t}`),...uc.map(t=>`grid-xl-${t}`)]),aq=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ys(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function sq({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=pm({values:e.columns,breakpoints:t.breakpoints.values}),s=typeof a=="object"?a[i]:a;if(s==null)return r;const c=`${Math.round(n/s*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const h=t.spacing(e.columnSpacing);if(h!=="0px"){const f=`calc(${c} + ${Ys(h)})`;u={flexBasis:f,maxWidth:f}}}o=z({flexBasis:c,flexGrow:0,maxWidth:c},u)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function lq({theme:t,ownerState:e}){const n=pm({values:e.direction,breakpoints:t.breakpoints.values});return Xr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Ru.item}`]={maxWidth:"none"}),i})}function DR({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function cq({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=pm({values:r,breakpoints:t.breakpoints.values});let a;typeof o=="object"&&(a=DR({breakpoints:t.breakpoints.values,values:o})),i=Xr({theme:t},o,(s,c)=>{var u;const h=t.spacing(s);return h!=="0px"?{marginTop:`-${Ys(h)}`,[`& > .${Ru.item}`]:{paddingTop:Ys(h)}}:(u=a)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${Ru.item}`]:{paddingTop:0}}})}return i}function uq({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=pm({values:r,breakpoints:t.breakpoints.values});let a;typeof o=="object"&&(a=DR({breakpoints:t.breakpoints.values,values:o})),i=Xr({theme:t},o,(s,c)=>{var u;const h=t.spacing(s);return h!=="0px"?{width:`calc(100% + ${Ys(h)})`,marginLeft:`-${Ys(h)}`,[`& > .${Ru.item}`]:{paddingLeft:Ys(h)}}:(u=a)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Ru.item}`]:{paddingLeft:0}}})}return i}function dq(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const hq=je("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:c,breakpoints:u}=n;let h=[];r&&(h=dq(a,u,e));const f=[];return u.forEach(v=>{const b=n[v];b&&f.push(e[`grid-${v}-${String(b)}`])}),[e.root,r&&e.container,o&&e.item,c&&e.zeroMinWidth,...h,i!=="row"&&e[`direction-xs-${String(i)}`],s!=="wrap"&&e[`wrap-xs-${String(s)}`],...f]}})(({ownerState:t})=>z({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),lq,cq,uq,sq);function fq(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const pq=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:c}=t;let u=[];n&&(u=fq(o,c));const h=[];c.forEach(v=>{const b=t[v];b&&h.push(`grid-${v}-${String(b)}`)});const f={root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...h]};return ft(f,nq,e)},Tt=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiGrid"}),{breakpoints:r}=Pm(),i=Sm(n),{className:o,columns:a,columnSpacing:s,component:c="div",container:u=!1,direction:h="row",item:f=!1,rowSpacing:v,spacing:b=0,wrap:_="wrap",zeroMinWidth:S=!1}=i,T=Ie(i,aq),C=v||b,g=s||b,y=x.useContext(N2),O=u?a||12:y,M={},P=z({},T);r.keys.forEach(m=>{T[m]!=null&&(M[m]=T[m],delete P[m])});const E=z({},i,{columns:O,container:u,direction:h,item:f,rowSpacing:C,columnSpacing:g,wrap:_,zeroMinWidth:S,spacing:b},M,{breakpoints:r.keys}),p=pq(E);return l.jsx(N2.Provider,{value:O,children:l.jsx(hq,z({ownerState:E,className:Ae(p.root,o),as:c,ref:e},P))})}),mq=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function X0(t){return`scale(${t}, ${t**2})`}const gq={entering:{opacity:1,transform:X0(1)},entered:{opacity:1,transform:"none"}},Xg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Gf=x.forwardRef(function(t,e){const{addEndListener:n,appear:r=!0,children:i,easing:o,in:a,onEnter:s,onEntered:c,onEntering:u,onExit:h,onExited:f,onExiting:v,style:b,timeout:_="auto",TransitionComponent:S=Ui}=t,T=Ie(t,mq),C=Ds(),g=x.useRef(),y=Pm(),O=x.useRef(null),M=sn(O,zl(i),e),P=L=>B=>{if(L){const G=O.current;B===void 0?L(G):L(G,B)}},E=P(u),p=P((L,B)=>{yR(L);const{duration:G,delay:$,easing:F}=Uf({style:b,timeout:_,easing:o},{mode:"enter"});let U;_==="auto"?(U=y.transitions.getAutoHeightDuration(L.clientHeight),g.current=U):U=G,L.style.transition=[y.transitions.create("opacity",{duration:U,delay:$}),y.transitions.create("transform",{duration:Xg?U:U*.666,delay:$,easing:F})].join(","),s&&s(L,B)}),m=P(c),w=P(v),R=P(L=>{const{duration:B,delay:G,easing:$}=Uf({style:b,timeout:_,easing:o},{mode:"exit"});let F;_==="auto"?(F=y.transitions.getAutoHeightDuration(L.clientHeight),g.current=F):F=B,L.style.transition=[y.transitions.create("opacity",{duration:F,delay:G}),y.transitions.create("transform",{duration:Xg?F:F*.666,delay:Xg?G:G||F*.333,easing:$})].join(","),L.style.opacity=0,L.style.transform=X0(.75),h&&h(L)}),j=P(f),I=L=>{_==="auto"&&C.start(g.current||0,L),n&&n(O.current,L)};return l.jsx(S,z({appear:r,in:a,nodeRef:O,onEnter:p,onEntered:m,onEntering:E,onExit:R,onExited:j,onExiting:w,addEndListener:I,timeout:_==="auto"?null:_},T,{children:(L,B)=>x.cloneElement(i,z({style:z({opacity:0,transform:X0(.75),visibility:L==="exited"&&!a?"hidden":void 0},gq[L],b,i.props.style),ref:M},B))}))});Gf.muiSupportAuto=!0;const yq=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],vq=t=>{const{classes:e,disableUnderline:n}=t,r=ft({root:["root",!n&&"underline"],input:["input"]},cU,e);return z({},e,r)},bq=je(Fm,{shouldForwardProp:t=>ri(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Dm(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),z({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cc.disabled}, .${cc.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${cc.disabled}:before`]:{borderBottomStyle:"dotted"}})}),xq=je($m,{name:"MuiInput",slot:"Input",overridesResolver:zm})({}),Ux=x.forwardRef(function(t,e){var n,r,i,o;const a=ct({props:t,name:"MuiInput"}),{disableUnderline:s,components:c={},componentsProps:u,fullWidth:h=!1,inputComponent:f="input",multiline:v=!1,slotProps:b,slots:_={},type:S="text"}=a,T=Ie(a,yq),C=vq(a),g={root:{ownerState:{disableUnderline:s}}},y=b??u?_r(b??u,g):g,O=(n=(r=_.root)!=null?r:c.Root)!=null?n:bq,M=(i=(o=_.input)!=null?o:c.Input)!=null?i:xq;return l.jsx(Wx,z({slots:{root:O,input:M},slotProps:y,fullWidth:h,inputComponent:f,multiline:v,ref:e,type:S},T,{classes:C}))});Ux.muiName="Input";function wq(t){return lt("MuiInputLabel",t)}ot("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Sq=["disableAnimation","margin","shrink","variant","className"],kq=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=t,c={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${fe(r)}`,a],asterisk:[s&&"asterisk"]},u=ft(c,wq,e);return z({},e,u)},Cq=je(tq,{shouldForwardProp:t=>ri(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Hc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>z({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&z({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&z({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&z({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),_q=x.forwardRef(function(t,e){const n=ct({name:"MuiInputLabel",props:t}),{disableAnimation:r=!1,shrink:i,className:o}=n,a=Ie(n,Sq),s=Bl();let c=i;typeof c>"u"&&s&&(c=s.filled||s.focused||s.adornedStart);const u=Wl({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),h=z({},n,{disableAnimation:r,formControl:s,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=kq(h);return l.jsx(Cq,z({"data-shrink":c,ownerState:h,ref:e,className:Ae(f.root,o)},a,{classes:f}))}),Y0=x.createContext({});function Eq(t){return lt("MuiList",t)}ot("MuiList",["root","padding","dense","subheader"]);const Tq=["children","className","component","dense","disablePadding","subheader"],Iq=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ft({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Eq,e)},jq=je("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>z({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Rq=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiList"}),{children:r,className:i,component:o="ul",dense:a=!1,disablePadding:s=!1,subheader:c}=n,u=Ie(n,Tq),h=x.useMemo(()=>({dense:a}),[a]),f=z({},n,{component:o,dense:a,disablePadding:s}),v=Iq(f);return l.jsx(Y0.Provider,{value:h,children:l.jsxs(jq,z({as:o,className:Ae(v.root,i),ref:e,ownerState:f},u,{children:[c,r]}))})}),P2=ot("MuiListItemIcon",["root","alignItemsFlexStart"]),M2=ot("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Aq=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Yg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function L2(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function zR(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function dc(t,e,n,r,i,o){let a=!1,s=i(t,e,e?n:!1);for(;s;){if(s===t.firstChild){if(a)return!1;a=!0}const c=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!zR(s,o)||c)s=i(t,s,n);else return s.focus(),!0}return!1}const Oq=x.forwardRef(function(t,e){const{actions:n,autoFocus:r=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:s=!1,disableListWrap:c=!1,onKeyDown:u,variant:h="selectedMenu"}=t,f=Ie(t,Aq),v=x.useRef(null),b=x.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Yr(()=>{r&&v.current.focus()},[r]),x.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(g,{direction:y})=>{const O=!v.current.style.width;if(g.clientHeight<v.current.clientHeight&&O){const M=`${Xj(Gn(g))}px`;v.current.style[y==="rtl"?"paddingLeft":"paddingRight"]=M,v.current.style.width=`calc(100% + ${M})`}return v.current}}),[]);const _=g=>{const y=v.current,O=g.key,M=Gn(y).activeElement;if(O==="ArrowDown")g.preventDefault(),dc(y,M,c,s,Yg);else if(O==="ArrowUp")g.preventDefault(),dc(y,M,c,s,L2);else if(O==="Home")g.preventDefault(),dc(y,null,c,s,Yg);else if(O==="End")g.preventDefault(),dc(y,null,c,s,L2);else if(O.length===1){const P=b.current,E=O.toLowerCase(),p=performance.now();P.keys.length>0&&(p-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&E!==P.keys[0]&&(P.repeating=!1)),P.lastTime=p,P.keys.push(E);const m=M&&!P.repeating&&zR(M,P);P.previousKeyMatched&&(m||dc(y,M,!1,s,Yg,P))?g.preventDefault():P.previousKeyMatched=!1}u&&u(g)},S=sn(v,e);let T=-1;x.Children.forEach(o,(g,y)=>{if(!x.isValidElement(g)){T===y&&(T+=1,T>=o.length&&(T=-1));return}g.props.disabled||(h==="selectedMenu"&&g.props.selected||T===-1)&&(T=y),T===y&&(g.props.disabled||g.props.muiSkipListHighlight||g.type.muiSkipListHighlight)&&(T+=1,T>=o.length&&(T=-1))});const C=x.Children.map(o,(g,y)=>{if(y===T){const O={};return i&&(O.autoFocus=!0),g.props.tabIndex===void 0&&h==="selectedMenu"&&(O.tabIndex=0),x.cloneElement(g,O)}return g});return l.jsx(Rq,z({role:"menu",ref:S,className:a,onKeyDown:_,tabIndex:r?0:-1},f,{children:C}))});function Nq(t){return lt("MuiPopover",t)}ot("MuiPopover",["root","paper"]);const Pq=["onEntering"],Mq=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Lq=["slotProps"];function D2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function z2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function F2(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Jg(t){return typeof t=="function"?t():t}const Dq=t=>{const{classes:e}=t;return ft({root:["root"],paper:["paper"]},Nq,e)},zq=je(AV,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),FR=je(pi,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Fq=x.forwardRef(function(t,e){var n,r,i;const o=ct({props:t,name:"MuiPopover"}),{action:a,anchorEl:s,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:h="anchorEl",children:f,className:v,container:b,elevation:_=8,marginThreshold:S=16,open:T,PaperProps:C={},slots:g,slotProps:y,transformOrigin:O={vertical:"top",horizontal:"left"},TransitionComponent:M=Gf,transitionDuration:P="auto",TransitionProps:{onEntering:E}={},disableScrollLock:p=!1}=o,m=Ie(o.TransitionProps,Pq),w=Ie(o,Mq),R=(n=y==null?void 0:y.paper)!=null?n:C,j=x.useRef(),I=sn(j,R.ref),L=z({},o,{anchorOrigin:c,anchorReference:h,elevation:_,marginThreshold:S,externalPaperSlotProps:R,transformOrigin:O,TransitionComponent:M,transitionDuration:P,TransitionProps:m}),B=Dq(L),G=x.useCallback(()=>{if(h==="anchorPosition")return u;const oe=Jg(s),me=(oe&&oe.nodeType===1?oe:Gn(j.current).body).getBoundingClientRect();return{top:me.top+D2(me,c.vertical),left:me.left+z2(me,c.horizontal)}},[s,c.horizontal,c.vertical,u,h]),$=x.useCallback(oe=>({vertical:D2(oe,O.vertical),horizontal:z2(oe,O.horizontal)}),[O.horizontal,O.vertical]),F=x.useCallback(oe=>{const me={width:oe.offsetWidth,height:oe.offsetHeight},Se=$(me);if(h==="none")return{top:null,left:null,transformOrigin:F2(Se)};const Le=G();let _e=Le.top-Se.vertical,Ue=Le.left-Se.horizontal;const ke=_e+me.height,Y=Ue+me.width,ae=sa(Jg(s)),Oe=ae.innerHeight-S,xe=ae.innerWidth-S;if(S!==null&&_e<S){const ve=_e-S;_e-=ve,Se.vertical+=ve}else if(S!==null&&ke>Oe){const ve=ke-Oe;_e-=ve,Se.vertical+=ve}if(S!==null&&Ue<S){const ve=Ue-S;Ue-=ve,Se.horizontal+=ve}else if(Y>xe){const ve=Y-xe;Ue-=ve,Se.horizontal+=ve}return{top:`${Math.round(_e)}px`,left:`${Math.round(Ue)}px`,transformOrigin:F2(Se)}},[s,h,G,$,S]),[U,q]=x.useState(T),H=x.useCallback(()=>{const oe=j.current;if(!oe)return;const me=F(oe);me.top!==null&&(oe.style.top=me.top),me.left!==null&&(oe.style.left=me.left),oe.style.transformOrigin=me.transformOrigin,q(!0)},[F]);x.useEffect(()=>(p&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[s,p,H]);const K=(oe,me)=>{E&&E(oe,me),H()},Q=()=>{q(!1)};x.useEffect(()=>{T&&H()}),x.useImperativeHandle(a,()=>T?{updatePosition:()=>{H()}}:null,[T,H]),x.useEffect(()=>{if(!T)return;const oe=Sx(()=>{H()}),me=sa(s);return me.addEventListener("resize",oe),()=>{oe.clear(),me.removeEventListener("resize",oe)}},[s,T,H]);let ue=P;P==="auto"&&!M.muiSupportAuto&&(ue=void 0);const le=b||(s?Gn(Jg(s)).body:void 0),Re=(r=g==null?void 0:g.root)!=null?r:zq,W=(i=g==null?void 0:g.paper)!=null?i:FR,ee=xo({elementType:W,externalSlotProps:z({},R,{style:U?R.style:z({},R.style,{opacity:0})}),additionalProps:{elevation:_,ref:I},ownerState:L,className:Ae(B.paper,R==null?void 0:R.className)}),V=xo({elementType:Re,externalSlotProps:(y==null?void 0:y.root)||{},externalForwardedProps:w,additionalProps:{ref:e,slotProps:{backdrop:{invisible:!0}},container:le,open:T},ownerState:L,className:Ae(B.root,v)}),{slotProps:J}=V,te=Ie(V,Lq);return l.jsx(Re,z({},te,!Ff(Re)&&{slotProps:J,disableScrollLock:p},{children:l.jsx(M,z({appear:!0,in:T,onEntering:K,onExited:Q,timeout:ue},m,{children:l.jsx(W,z({},ee,{children:f}))}))}))});function $q(t){return lt("MuiMenu",t)}ot("MuiMenu",["root","paper","list"]);const Wq=["onEntering"],Bq=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Uq={vertical:"top",horizontal:"right"},Vq={vertical:"top",horizontal:"left"},qq=t=>{const{classes:e}=t;return ft({root:["root"],paper:["paper"],list:["list"]},$q,e)},Hq=je(Fq,{shouldForwardProp:t=>ri(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Kq=je(FR,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Gq=je(Oq,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Qq=x.forwardRef(function(t,e){var n,r;const i=ct({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:s,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:h,open:f,PaperProps:v={},PopoverClasses:b,transitionDuration:_="auto",TransitionProps:{onEntering:S}={},variant:T="selectedMenu",slots:C={},slotProps:g={}}=i,y=Ie(i.TransitionProps,Wq),O=Ie(i,Bq),M=iR(),P=z({},i,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:S,PaperProps:v,transitionDuration:_,TransitionProps:y,variant:T}),E=qq(P),p=o&&!c&&f,m=x.useRef(null),w=($,F)=>{m.current&&m.current.adjustStyleForScrollbar($,{direction:M?"rtl":"ltr"}),S&&S($,F)},R=$=>{$.key==="Tab"&&($.preventDefault(),h&&h($,"tabKeyDown"))};let j=-1;x.Children.map(a,($,F)=>{x.isValidElement($)&&($.props.disabled||(T==="selectedMenu"&&$.props.selected||j===-1)&&(j=F))});const I=(n=C.paper)!=null?n:Kq,L=(r=g.paper)!=null?r:v,B=xo({elementType:C.root,externalSlotProps:g.root,ownerState:P,className:[E.root,s]}),G=xo({elementType:I,externalSlotProps:L,ownerState:P,className:E.paper});return l.jsx(Hq,z({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?Uq:Vq,slots:{paper:I,root:C.root},slotProps:{root:B,paper:G},open:f,ref:e,transitionDuration:_,TransitionProps:z({onEntering:w},y),ownerState:P},O,{classes:b,children:l.jsx(Gq,z({onKeyDown:R,actions:m,autoFocus:o&&(j===-1||c),autoFocusItem:p,variant:T},u,{className:Ae(E.list,u.className),children:a}))}))});function Xq(t){return lt("MuiMenuItem",t)}const hc=ot("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Yq=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Jq=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Zq=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=t,s=ft({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Xq,a);return z({},a,s)},eH=je(Tu,{shouldForwardProp:t=>ri(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Jq})(({theme:t,ownerState:e})=>z({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${hc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${hc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Lt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${hc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${hc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${R2.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${R2.inset}`]:{marginLeft:52},[`& .${M2.root}`]:{marginTop:0,marginBottom:0},[`& .${M2.inset}`]:{paddingLeft:36},[`& .${P2.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&z({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${P2.root} svg`]:{fontSize:"1.25rem"}}))),$2=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:o=!1,divider:a=!1,disableGutters:s=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:h,className:f}=n,v=Ie(n,Yq),b=x.useContext(Y0),_=x.useMemo(()=>({dense:o||b.dense||!1,disableGutters:s}),[b.dense,o,s]),S=x.useRef(null);Yr(()=>{r&&S.current&&S.current.focus()},[r]);const T=z({},n,{dense:_.dense,divider:a,disableGutters:s}),C=Zq(n),g=sn(S,e);let y;return n.disabled||(y=h!==void 0?h:-1),l.jsx(Y0.Provider,{value:_,children:l.jsx(eH,z({ref:g,role:u,tabIndex:y,component:i,focusVisibleClassName:Ae(C.focusVisible,c),className:Ae(C.root,f)},v,{ownerState:T,classes:C}))})});function tH(t){return lt("MuiNativeSelect",t)}const Vx=ot("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nH=["className","disabled","error","IconComponent","inputRef","variant"],rH=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${fe(n)}`,o&&"iconOpen",r&&"disabled"]};return ft(s,tH,e)},$R=({ownerState:t,theme:e})=>z({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":z({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Vx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),iH=je("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ri,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Vx.multiple}`]:e.multiple}]}})($R),WR=({ownerState:t,theme:e})=>z({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Vx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),oH=je("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(WR),aH=x.forwardRef(function(t,e){const{className:n,disabled:r,error:i,IconComponent:o,inputRef:a,variant:s="standard"}=t,c=Ie(t,nH),u=z({},t,{disabled:r,variant:s,error:i}),h=rH(u);return l.jsxs(x.Fragment,{children:[l.jsx(iH,z({ownerState:u,className:Ae(h.select,n),disabled:r,ref:a||e},c)),t.multiple?null:l.jsx(oH,{as:o,ownerState:u,className:h.icon})]})});var W2;const sH=["children","classes","className","label","notched"],lH=je("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:ri})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),cH=je("legend",{name:"MuiNotchedOutlined",shouldForwardProp:ri})(({ownerState:t,theme:e})=>z({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&z({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function uH(t){const{className:e,label:n,notched:r}=t,i=Ie(t,sH),o=n!=null&&n!=="",a=z({},t,{notched:r,withLabel:o});return l.jsx(lH,z({"aria-hidden":!0,className:e,ownerState:a},i,{children:l.jsx(cH,{ownerState:a,children:o?l.jsx("span",{children:n}):W2||(W2=l.jsx("span",{className:"notranslate",children:""}))})}))}const dH=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hH=t=>{const{classes:e}=t,n=ft({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},uU,e);return z({},e,n)},fH=je(Fm,{shouldForwardProp:t=>ri(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Dm})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return z({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ao.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ao.focused} .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ao.error} .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ao.disabled} .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&z({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),pH=je(uH,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),mH=je($m,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:zm})(({theme:t,ownerState:e})=>z({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),qx=x.forwardRef(function(t,e){var n,r,i,o,a;const s=ct({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:h="input",label:f,multiline:v=!1,notched:b,slots:_={},type:S="text"}=s,T=Ie(s,dH),C=hH(s),g=Bl(),y=Wl({props:s,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),O=z({},s,{color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:g,fullWidth:u,hiddenLabel:y.hiddenLabel,multiline:v,size:y.size,type:S}),M=(n=(r=_.root)!=null?r:c.Root)!=null?n:fH,P=(i=(o=_.input)!=null?o:c.Input)!=null?i:mH;return l.jsx(Wx,z({slots:{root:M,input:P},renderSuffix:E=>l.jsx(pH,{ownerState:O,className:C.notchedOutline,label:f!=null&&f!==""&&y.required?a||(a=l.jsxs(x.Fragment,{children:[f,"","*"]})):f,notched:typeof b<"u"?b:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:u,inputComponent:h,multiline:v,ref:e,type:S},T,{classes:z({},C,{notchedOutline:null})}))});qx.muiName="Input";function gH(t){return lt("MuiSelect",t)}const fc=ot("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var B2;const yH=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],vH=je("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${fc.select}`]:e.select},{[`&.${fc.select}`]:e[n.variant]},{[`&.${fc.error}`]:e.error},{[`&.${fc.multiple}`]:e.multiple}]}})($R,{[`&.${fc.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),bH=je("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(WR),xH=je("input",{shouldForwardProp:t=>mR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function U2(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function wH(t){return t==null||typeof t=="string"&&!t.trim()}const SH=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${fe(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ft(s,gH,e)},kH=x.forwardRef(function(t,e){var n;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:a,children:s,className:c,defaultOpen:u,defaultValue:h,disabled:f,displayEmpty:v,error:b=!1,IconComponent:_,inputRef:S,labelId:T,MenuProps:C={},multiple:g,name:y,onBlur:O,onChange:M,onClose:P,onFocus:E,onOpen:p,open:m,readOnly:w,renderValue:R,SelectDisplayProps:j={},tabIndex:I,value:L,variant:B="standard"}=t,G=Ie(t,yH),[$,F]=zf({controlled:L,default:h,name:"Select"}),[U,q]=zf({controlled:m,default:u,name:"Select"}),H=x.useRef(null),K=x.useRef(null),[Q,ue]=x.useState(null),{current:le}=x.useRef(m!=null),[Re,W]=x.useState(),ee=sn(e,S),V=x.useCallback(be=>{K.current=be,be&&ue(be)},[]),J=Q==null?void 0:Q.parentNode;x.useImperativeHandle(ee,()=>({focus:()=>{K.current.focus()},node:H.current,value:$}),[$]),x.useEffect(()=>{u&&U&&Q&&!le&&(W(a?null:J.clientWidth),K.current.focus())},[Q,a]),x.useEffect(()=>{o&&K.current.focus()},[o]),x.useEffect(()=>{if(!T)return;const be=Gn(K.current).getElementById(T);if(be){const it=()=>{getSelection().isCollapsed&&K.current.focus()};return be.addEventListener("click",it),()=>{be.removeEventListener("click",it)}}},[T]);const te=(be,it)=>{be?p&&p(it):P&&P(it),le||(W(a?null:J.clientWidth),q(be))},oe=be=>{be.button===0&&(be.preventDefault(),K.current.focus(),te(!0,be))},me=be=>{te(!1,be)},Se=x.Children.toArray(s),Le=be=>{const it=Se.find(qe=>qe.props.value===be.target.value);it!==void 0&&(F(it.props.value),M&&M(be,it))},_e=be=>it=>{let qe;if(it.currentTarget.hasAttribute("tabindex")){if(g){qe=Array.isArray($)?$.slice():[];const gn=$.indexOf(be.props.value);gn===-1?qe.push(be.props.value):qe.splice(gn,1)}else qe=be.props.value;if(be.props.onClick&&be.props.onClick(it),$!==qe&&(F(qe),M)){const gn=it.nativeEvent||it,Pr=new gn.constructor(gn.type,gn);Object.defineProperty(Pr,"target",{writable:!0,value:{value:qe,name:y}}),M(Pr,be)}g||te(!1,it)}},Ue=be=>{w||[" ","ArrowUp","ArrowDown","Enter"].indexOf(be.key)!==-1&&(be.preventDefault(),te(!0,be))},ke=Q!==null&&U,Y=be=>{!ke&&O&&(Object.defineProperty(be,"target",{writable:!0,value:{value:$,name:y}}),O(be))};delete G["aria-invalid"];let ae,Oe;const xe=[];let ve=!1;(qf({value:$})||v)&&(R?ae=R($):ve=!0);const Fe=Se.map(be=>{if(!x.isValidElement(be))return null;let it;if(g){if(!Array.isArray($))throw new Error(Xa(2));it=$.some(qe=>U2(qe,be.props.value)),it&&ve&&xe.push(be.props.children)}else it=U2($,be.props.value),it&&ve&&(Oe=be.props.children);return x.cloneElement(be,{"aria-selected":it?"true":"false",onClick:_e(be),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),be.props.onKeyUp&&be.props.onKeyUp(qe)},role:"option",selected:it,value:void 0,"data-value":be.props.value})});ve&&(g?xe.length===0?ae=null:ae=xe.reduce((be,it,qe)=>(be.push(it),qe<xe.length-1&&be.push(", "),be),[]):ae=Oe);let Ye=Re;!a&&le&&Q&&(Ye=J.clientWidth);let Ee;typeof I<"u"?Ee=I:Ee=f?null:0;const de=j.id||(y?`mui-component-select-${y}`:void 0),ye=z({},t,{variant:B,value:$,open:ke,error:b}),nt=SH(ye),At=z({},C.PaperProps,(n=C.slotProps)==null?void 0:n.paper),at=hd();return l.jsxs(x.Fragment,{children:[l.jsx(vH,z({ref:V,tabIndex:Ee,role:"combobox","aria-controls":at,"aria-disabled":f?"true":void 0,"aria-expanded":ke?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[T,de].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:Ue,onMouseDown:f||w?null:oe,onBlur:Y,onFocus:E},j,{ownerState:ye,className:Ae(j.className,nt.select,c),id:de,children:wH(ae)?B2||(B2=l.jsx("span",{className:"notranslate",children:""})):ae})),l.jsx(xH,z({"aria-invalid":b,value:Array.isArray($)?$.join(","):$,name:y,ref:H,"aria-hidden":!0,onChange:Le,tabIndex:-1,disabled:f,className:nt.nativeInput,autoFocus:o,ownerState:ye},G)),l.jsx(bH,{as:_,className:nt.icon,ownerState:ye}),l.jsx(Qq,z({id:`menu-${y||""}`,anchorEl:J,open:ke,onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},C,{MenuListProps:z({"aria-labelledby":T,role:"listbox","aria-multiselectable":g?"true":void 0,disableListWrap:!0,id:at},C.MenuListProps),slotProps:z({},C.slotProps,{paper:z({},At,{style:z({minWidth:Ye},At!=null?At.style:null)})}),children:Fe}))]})}),CH=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_H=["root"],EH=t=>{const{classes:e}=t;return e},Hx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ri(t)&&t!=="variant",slot:"Root"},TH=je(Ux,Hx)(""),IH=je(qx,Hx)(""),jH=je(Bx,Hx)(""),Kx=x.forwardRef(function(t,e){const n=ct({name:"MuiSelect",props:t}),{autoWidth:r=!1,children:i,classes:o={},className:a,defaultOpen:s=!1,displayEmpty:c=!1,IconComponent:u=hU,id:h,input:f,inputProps:v,label:b,labelId:_,MenuProps:S,multiple:T=!1,native:C=!1,onClose:g,onOpen:y,open:O,renderValue:M,SelectDisplayProps:P,variant:E="outlined"}=n,p=Ie(n,CH),m=C?aH:kH,w=Bl(),R=Wl({props:n,muiFormControl:w,states:["variant","error"]}),j=R.variant||E,I=z({},n,{variant:j,classes:o}),L=EH(I),B=Ie(L,_H),G=f||{standard:l.jsx(TH,{ownerState:I}),outlined:l.jsx(IH,{label:b,ownerState:I}),filled:l.jsx(jH,{ownerState:I})}[j],$=sn(e,zl(G));return l.jsx(x.Fragment,{children:x.cloneElement(G,z({inputComponent:m,inputProps:z({children:i,error:R.error,IconComponent:u,variant:j,type:void 0,multiple:T},C?{id:h}:{autoWidth:r,defaultOpen:s,displayEmpty:c,labelId:_,MenuProps:S,onClose:g,onOpen:y,open:O,renderValue:M,SelectDisplayProps:z({id:h},P)},v,{classes:v?_r(B,v.classes):B},f?f.props.inputProps:{})},(T&&C||c)&&j==="outlined"?{notched:!0}:{},{ref:$,className:Ae(G.props.className,a,L.root)},!f&&{variant:j},p))})});Kx.muiName="Select";function RH(t){return lt("MuiTooltip",t)}const Bo=ot("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),AH=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function OH(t){return Math.round(t*1e5)/1e5}const NH=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${fe(o.split("-")[0])}`],arrow:["arrow"]};return ft(a,RH,e)},PH=je(RR,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>z({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Bo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Bo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Bo.arrow}`]:z({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Bo.arrow}`]:z({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),MH=je("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${fe(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>z({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Lt(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${OH(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Bo.popper}[data-popper-placement*="left"] &`]:z({transformOrigin:"right center"},e.isRtl?z({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):z({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Bo.popper}[data-popper-placement*="right"] &`]:z({transformOrigin:"left center"},e.isRtl?z({marginRight:"14px"},e.touch&&{marginRight:"24px"}):z({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Bo.popper}[data-popper-placement*="top"] &`]:z({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Bo.popper}[data-popper-placement*="bottom"] &`]:z({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),LH=je("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Lt(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let ch=!1;const V2=new fd;let pc={x:0,y:0};function uh(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const q2=x.forwardRef(function(t,e){var n,r,i,o,a,s,c,u,h,f,v,b,_,S,T,C,g,y,O;const M=ct({props:t,name:"MuiTooltip"}),{arrow:P=!1,children:E,components:p={},componentsProps:m={},describeChild:w=!1,disableFocusListener:R=!1,disableHoverListener:j=!1,disableInteractive:I=!1,disableTouchListener:L=!1,enterDelay:B=100,enterNextDelay:G=0,enterTouchDelay:$=700,followCursor:F=!1,id:U,leaveDelay:q=0,leaveTouchDelay:H=1500,onClose:K,onOpen:Q,open:ue,placement:le="bottom",PopperComponent:Re,PopperProps:W={},slotProps:ee={},slots:V={},title:J,TransitionComponent:te=Gf,TransitionProps:oe}=M,me=Ie(M,AH),Se=x.isValidElement(E)?E:l.jsx("span",{children:E}),Le=Pm(),_e=iR(),[Ue,ke]=x.useState(),[Y,ae]=x.useState(null),Oe=x.useRef(!1),xe=I||F,ve=Ds(),Fe=Ds(),Ye=Ds(),Ee=Ds(),[de,ye]=zf({controlled:ue,default:!1,name:"Tooltip",state:"open"});let nt=de;const At=hd(U),at=x.useRef(),be=_i(()=>{at.current!==void 0&&(document.body.style.WebkitUserSelect=at.current,at.current=void 0),Ee.clear()});x.useEffect(()=>be,[be]);const it=st=>{V2.clear(),ch=!0,ye(!0),Q&&!nt&&Q(st)},qe=_i(st=>{V2.start(800+q,()=>{ch=!1}),ye(!1),K&&nt&&K(st),ve.start(Le.transitions.duration.shortest,()=>{Oe.current=!1})}),gn=st=>{Oe.current&&st.type!=="touchstart"||(Ue&&Ue.removeAttribute("title"),Fe.clear(),Ye.clear(),B||ch&&G?Fe.start(ch?G:B,()=>{it(st)}):it(st))},Pr=st=>{Fe.clear(),Ye.start(q,()=>{qe(st)})},{isFocusVisibleRef:Eo,onBlur:ii,onFocus:Mr,ref:Yn}=kx(),[,yr]=x.useState(!1),oi=st=>{ii(st),Eo.current===!1&&(yr(!1),Pr(st))},Z=st=>{Ue||ke(st.currentTarget),Mr(st),Eo.current===!0&&(yr(!0),gn(st))},N=st=>{Oe.current=!0;const In=Se.props;In.onTouchStart&&In.onTouchStart(st)},ie=st=>{N(st),Ye.clear(),ve.clear(),be(),at.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ee.start($,()=>{document.body.style.WebkitUserSelect=at.current,gn(st)})},pe=st=>{Se.props.onTouchEnd&&Se.props.onTouchEnd(st),be(),Ye.start(H,()=>{qe(st)})};x.useEffect(()=>{if(!nt)return;function st(In){(In.key==="Escape"||In.key==="Esc")&&qe(In)}return document.addEventListener("keydown",st),()=>{document.removeEventListener("keydown",st)}},[qe,nt]);const He=sn(zl(Se),Yn,ke,e);!J&&J!==0&&(nt=!1);const rt=x.useRef(),Xt=st=>{const In=Se.props;In.onMouseMove&&In.onMouseMove(st),pc={x:st.clientX,y:st.clientY},rt.current&&rt.current.update()},Je={},Be=typeof J=="string";w?(Je.title=!nt&&Be&&!j?J:null,Je["aria-describedby"]=nt?At:null):(Je["aria-label"]=Be?J:null,Je["aria-labelledby"]=nt&&!Be?At:null);const Ge=z({},Je,me,Se.props,{className:Ae(me.className,Se.props.className),onTouchStart:N,ref:He},F?{onMouseMove:Xt}:{}),Ft={};L||(Ge.onTouchStart=ie,Ge.onTouchEnd=pe),j||(Ge.onMouseOver=uh(gn,Ge.onMouseOver),Ge.onMouseLeave=uh(Pr,Ge.onMouseLeave),xe||(Ft.onMouseOver=gn,Ft.onMouseLeave=Pr)),R||(Ge.onFocus=uh(Z,Ge.onFocus),Ge.onBlur=uh(oi,Ge.onBlur),xe||(Ft.onFocus=Z,Ft.onBlur=oi));const Lr=x.useMemo(()=>{var st;let In=[{name:"arrow",enabled:!!Y,options:{element:Y,padding:4}}];return(st=W.popperOptions)!=null&&st.modifiers&&(In=In.concat(W.popperOptions.modifiers)),z({},W.popperOptions,{modifiers:In})},[Y,W]),Dn=z({},M,{isRtl:_e,arrow:P,disableInteractive:xe,placement:le,PopperComponentProp:Re,touch:Oe.current}),St=NH(Dn),Ut=(n=(r=V.popper)!=null?r:p.Popper)!=null?n:PH,Vi=(i=(o=(a=V.transition)!=null?a:p.Transition)!=null?o:te)!=null?i:Gf,We=(s=(c=V.tooltip)!=null?c:p.Tooltip)!=null?s:MH,Ot=(u=(h=V.arrow)!=null?h:p.Arrow)!=null?u:LH,ya=zs(Ut,z({},W,(f=ee.popper)!=null?f:m.popper,{className:Ae(St.popper,W==null?void 0:W.className,(v=(b=ee.popper)!=null?b:m.popper)==null?void 0:v.className)}),Dn),ss=zs(Vi,z({},oe,(_=ee.transition)!=null?_:m.transition),Dn),vi=zs(We,z({},(S=ee.tooltip)!=null?S:m.tooltip,{className:Ae(St.tooltip,(T=(C=ee.tooltip)!=null?C:m.tooltip)==null?void 0:T.className)}),Dn),bd=zs(Ot,z({},(g=ee.arrow)!=null?g:m.arrow,{className:Ae(St.arrow,(y=(O=ee.arrow)!=null?O:m.arrow)==null?void 0:y.className)}),Dn);return l.jsxs(x.Fragment,{children:[x.cloneElement(Se,Ge),l.jsx(Ut,z({as:Re??RR,placement:le,anchorEl:F?{getBoundingClientRect:()=>({top:pc.y,left:pc.x,right:pc.x,bottom:pc.y,width:0,height:0})}:Ue,popperRef:rt,open:Ue?nt:!1,id:At,transition:!0},Ft,ya,{popperOptions:Lr,children:({TransitionProps:st})=>l.jsx(Vi,z({timeout:Le.transitions.duration.shorter},st,ss,{children:l.jsxs(We,z({},vi,{children:[J,P?l.jsx(Ot,z({},bd,{ref:ae})):null]}))}))}))]})});function DH(t){return lt("MuiToolbar",t)}ot("MuiToolbar",["root","gutters","regular","dense"]);const zH=["className","component","disableGutters","variant"],FH=t=>{const{classes:e,disableGutters:n,variant:r}=t;return ft({root:["root",!n&&"gutters",r]},DH,e)},$H=je("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>z({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),WH=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:a="regular"}=n,s=Ie(n,zH),c=z({},n,{component:i,disableGutters:o,variant:a}),u=FH(c);return l.jsx($H,z({as:i,className:Ae(u.root,r),ref:e,ownerState:c},s))});function BH(t){return lt("MuiTextField",t)}ot("MuiTextField",["root"]);const UH=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],VH={standard:Ux,filled:Bx,outlined:qx},qH=t=>{const{classes:e}=t;return ft({root:["root"]},BH,e)},HH=je(LR,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wn=x.forwardRef(function(t,e){const n=ct({props:t,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:c,disabled:u=!1,error:h=!1,FormHelperTextProps:f,fullWidth:v=!1,helperText:b,id:_,InputLabelProps:S,inputProps:T,InputProps:C,inputRef:g,label:y,maxRows:O,minRows:M,multiline:P=!1,name:E,onBlur:p,onChange:m,onFocus:w,placeholder:R,required:j=!1,rows:I,select:L=!1,SelectProps:B,type:G,value:$,variant:F="outlined"}=n,U=Ie(n,UH),q=z({},n,{autoFocus:i,color:s,disabled:u,error:h,fullWidth:v,multiline:P,required:j,select:L,variant:F}),H=qH(q),K={};F==="outlined"&&(S&&typeof S.shrink<"u"&&(K.notched=S.shrink),K.label=y),L&&((!B||!B.native)&&(K.id=void 0),K["aria-describedby"]=void 0);const Q=hd(_),ue=b&&Q?`${Q}-helper-text`:void 0,le=y&&Q?`${Q}-label`:void 0,Re=VH[F],W=l.jsx(Re,z({"aria-describedby":ue,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:v,multiline:P,name:E,rows:I,maxRows:O,minRows:M,type:G,value:$,id:Q,inputRef:g,onBlur:p,onChange:m,onFocus:w,placeholder:R,inputProps:T},K,C));return l.jsxs(HH,z({className:Ae(H.root,a),disabled:u,error:h,fullWidth:v,ref:e,required:j,color:s,variant:F,ownerState:q},U,{children:[y!=null&&y!==""&&l.jsx(_q,z({htmlFor:Q,id:le},S,{children:y})),L?l.jsx(Kx,z({"aria-describedby":ue,id:Q,labelId:le,value:$,input:W},B,{children:o})):W,b&&l.jsx(QV,z({id:ue},f,{children:b}))]}))});function KH(){return x.useEffect(()=>{if(!document.getElementById("about-shine-style")){const t=document.createElement("style");t.id="about-shine-style",t.innerHTML=`
        .about-shine-effect {
          position: relative;
          overflow: hidden;
        }
        .about-shine-effect::after {
          content: '';
          position: absolute;
          top: 0;
          left: -80px;
          width: 54px;
          height: 100%;
          background: linear-gradient(120deg, transparent 55%, rgba(255,255,255,0.32) 75%, rgba(255,255,255,0.18) 90%, transparent 100%);
          pointer-events: none;
          animation: about-shine-sweep 2.8s cubic-bezier(.4,1.6,.6,1) infinite;
          opacity: 0.95;
          filter: blur(0.5px);
        }
        @keyframes about-shine-sweep {
          0% { left: -80px; opacity: 0.18; }
          10% { opacity: 0.32; }
          40% { left: 100%; opacity: 0.18; }
          100% { left: 100%; opacity: 0; }
        }
      `,document.head.appendChild(t)}},[]),l.jsx(PR,{maxWidth:"md",sx:{py:6},children:l.jsxs(pi,{elevation:3,className:"about-shine-effect",sx:{p:{xs:2,sm:4},borderRadius:4,background:"#f8fafc",position:"relative",overflow:"hidden"},children:[l.jsx($e,{variant:"h4",fontWeight:700,align:"center",sx:{color:"#D5007D"},children:"About PharmaStackX: The Fulfillment Engine"}),l.jsx($e,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Mission: Closing Africa's Access Gap."}),l.jsx($e,{paragraph:!0,children:"PharmaStackX is building the essential digital infrastructure required for modern healthcare in Africa. Our mission is to end the devastating public health problem caused by inventory invisibility. When a patient needs life-saving medication, they should never be turned away. We achieve this by transforming every local community pharmacy into a node of a real-time fulfillment network."}),l.jsx($e,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"The Problem We Solve"}),l.jsx($e,{paragraph:!0,children:"The challenge is not a lack of medicine; it is a lack of information. Patients, doctors, and hospitals suffer devastating delays when they cannot confirm stock levels before making a purchase. This stock-out gap is a logistical crisis that leads to wasted time, lost revenue for pharmacists, and poor patient outcomes."}),l.jsx($e,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Solution: The Intelligent Fulfillment Stack"}),l.jsx($e,{paragraph:!0,children:"PharmaStackX is not just a directory; we are a technology stack that guarantees reliability through data and automation."}),l.jsxs($e,{paragraph:!0,children:[l.jsx("b",{children:"For the Patient:"})," We provide guaranteed, real-time access to essential and scarce medicines with urgent fulfillment powered by unique model."]}),l.jsxs($e,{paragraph:!0,children:[l.jsx("b",{children:"For the Pharmacist:"})," We automate growth and eliminate the burden of manual work. We provide a free, branded online store and leverage technology to guarantee immediate stock accuracy. This unlocks a consistent pipeline of high-value, exclusive customer orders, giving the pharmacy the competitive edge and reliability needed for long-term growth."]}),l.jsxs($e,{paragraph:!0,children:[l.jsx("b",{children:"For the Sector:"})," We generate the first reliable, Demand and Scarcity Data for the Nigerian pharmaceutical market, providing the insight necessary for manufacturers and policymakers to stabilize the supply chain."]}),l.jsx($e,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Vision"}),l.jsx($e,{paragraph:!0,children:"We are committed to building the most reliable and data-rich platform for medicine fulfillment, turning every pharmacy in Africa into a digitally empowered, reliable access point. We are building the future of African health, one fulfilled prescription at a time."})]})})}var BR={},UR={},Wm={},VR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(VR);var GH="Expected a function",H2=NaN,QH="[object Symbol]",XH=/^\s+|\s+$/g,YH=/^[-+]0x[0-9a-f]+$/i,JH=/^0b[01]+$/i,ZH=/^0o[0-7]+$/i,eK=parseInt,tK=typeof mc=="object"&&mc&&mc.Object===Object&&mc,nK=typeof self=="object"&&self&&self.Object===Object&&self,rK=tK||nK||Function("return this")(),iK=Object.prototype,oK=iK.toString,aK=Math.max,sK=Math.min,Zg=function(){return rK.Date.now()};function lK(t,e,n){var r,i,o,a,s,c,u=0,h=!1,f=!1,v=!0;if(typeof t!="function")throw new TypeError(GH);e=K2(e)||0,J0(n)&&(h=!!n.leading,f="maxWait"in n,o=f?aK(K2(n.maxWait)||0,e):o,v="trailing"in n?!!n.trailing:v);function b(P){var E=r,p=i;return r=i=void 0,u=P,a=t.apply(p,E),a}function _(P){return u=P,s=setTimeout(C,e),h?b(P):a}function S(P){var E=P-c,p=P-u,m=e-E;return f?sK(m,o-p):m}function T(P){var E=P-c,p=P-u;return c===void 0||E>=e||E<0||f&&p>=o}function C(){var P=Zg();if(T(P))return g(P);s=setTimeout(C,S(P))}function g(P){return s=void 0,v&&r?b(P):(r=i=void 0,a)}function y(){s!==void 0&&clearTimeout(s),u=0,r=c=i=s=void 0}function O(){return s===void 0?a:g(Zg())}function M(){var P=Zg(),E=T(P);if(r=arguments,i=this,c=P,E){if(s===void 0)return _(c);if(f)return s=setTimeout(C,e),b(c)}return s===void 0&&(s=setTimeout(C,e)),a}return M.cancel=y,M.flush=O,M}function J0(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function cK(t){return!!t&&typeof t=="object"}function uK(t){return typeof t=="symbol"||cK(t)&&oK.call(t)==QH}function K2(t){if(typeof t=="number")return t;if(uK(t))return H2;if(J0(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=J0(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(XH,"");var n=JH.test(t);return n||ZH.test(t)?eK(t.slice(2),n?2:8):YH.test(t)?H2:+t}var dK=lK,qR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qR);var Bm=qR.exports,we={},Gx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(x);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(i){return e.default.createElement("ul",{style:{display:"block"}},i)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(i){return e.default.createElement("button",null,i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(Gx);Object.defineProperty(we,"__esModule",{value:!0});we.checkSpecKeys=we.checkNavigable=we.changeSlide=we.canUseDOM=we.canGoNext=void 0;we.clamp=KR;we.extractObject=void 0;we.filterSettings=EK;we.validSettings=we.swipeStart=we.swipeMove=we.swipeEnd=we.slidesOnRight=we.slidesOnLeft=we.slideHandler=we.siblingDirection=we.safePreventDefault=we.lazyStartIndex=we.lazySlidesOnRight=we.lazySlidesOnLeft=we.lazyEndIndex=we.keyHandler=we.initializedState=we.getWidth=we.getTrackLeft=we.getTrackCSS=we.getTrackAnimateCSS=we.getTotalSlides=we.getSwipeDirection=we.getSlideCount=we.getRequiredLazySlides=we.getPreClones=we.getPostClones=we.getOnDemandLazySlides=we.getNavigableIndexes=we.getHeight=void 0;var hK=HR(x),fK=HR(Gx);function HR(t){return t&&t.__esModule?t:{default:t}}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){pK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pK(t,e,n){return(e=mK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mK(t){var e=gK(t,"string");return Au(e)=="symbol"?e:e+""}function gK(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KR(t,e,n){return Math.max(e,Math.min(t,n))}var Js=we.safePreventDefault=function(t){var e=["onTouchStart","onTouchMove","onWheel"];e.includes(t._reactName)||t.preventDefault()},GR=we.getOnDemandLazySlides=function(t){for(var e=[],n=QR(t),r=XR(t),i=n;i<r;i++)t.lazyLoadedList.indexOf(i)<0&&e.push(i);return e};we.getRequiredLazySlides=function(t){for(var e=[],n=QR(t),r=XR(t),i=n;i<r;i++)e.push(i);return e};var QR=we.lazyStartIndex=function(t){return t.currentSlide-yK(t)},XR=we.lazyEndIndex=function(t){return t.currentSlide+vK(t)},yK=we.lazySlidesOnLeft=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},vK=we.lazySlidesOnRight=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},Z0=we.getWidth=function(t){return t&&t.offsetWidth||0},YR=we.getHeight=function(t){return t&&t.offsetHeight||0},JR=we.getSwipeDirection=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,r,i,o;return n=t.startX-t.curX,r=t.startY-t.curY,i=Math.atan2(r,n),o=Math.round(i*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":e===!0?o>=35&&o<=135?"up":"down":"vertical"},ZR=we.canGoNext=function(t){var e=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(e=!1),e};we.extractObject=function(t,e){var n={};return e.forEach(function(r){return n[r]=t[r]}),n};we.initializedState=function(t){var e=hK.default.Children.count(t.children),n=t.listRef,r=Math.ceil(Z0(n)),i=t.trackRef&&t.trackRef.node,o=Math.ceil(Z0(i)),a;if(t.vertical)a=r;else{var s=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(s*=r/100),a=Math.ceil((r-s)/t.slidesToShow)}var c=n&&YR(n.querySelector('[data-index="0"]')),u=c*t.slidesToShow,h=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(h=e-1-t.initialSlide);var f=t.lazyLoadedList||[],v=GR(Wt(Wt({},t),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(v);var b={slideCount:e,slideWidth:a,listWidth:r,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:u,lazyLoadedList:f};return t.autoplaying===null&&t.autoplay&&(b.autoplaying="playing"),b};we.slideHandler=function(t){var e=t.waitForAnimate,n=t.animating,r=t.fade,i=t.infinite,o=t.index,a=t.slideCount,s=t.lazyLoad,c=t.currentSlide,u=t.centerMode,h=t.slidesToScroll,f=t.slidesToShow,v=t.useCSS,b=t.lazyLoadedList;if(e&&n)return{};var _=o,S,T,C,g={},y={},O=i?o:KR(o,0,a-1);if(r){if(!i&&(o<0||o>=a))return{};o<0?_=o+a:o>=a&&(_=o-a),s&&b.indexOf(_)<0&&(b=b.concat(_)),g={animating:!0,currentSlide:_,lazyLoadedList:b,targetSlide:_},y={animating:!1,targetSlide:_}}else S=_,_<0?(S=_+a,i?a%h!==0&&(S=a-a%h):S=0):!ZR(t)&&_>c?_=S=c:u&&_>=a?(_=i?a:a-1,S=i?0:a-1):_>=a&&(S=_-a,i?a%h!==0&&(S=0):S=a-f),!i&&_+f>=a&&(S=a-f),T=Xf(Wt(Wt({},t),{},{slideIndex:_})),C=Xf(Wt(Wt({},t),{},{slideIndex:S})),i||(T===C&&(_=S),T=C),s&&(b=b.concat(GR(Wt(Wt({},t),{},{currentSlide:_})))),v?(g={animating:!0,currentSlide:S,trackStyle:eA(Wt(Wt({},t),{},{left:T})),lazyLoadedList:b,targetSlide:O},y={animating:!1,currentSlide:S,trackStyle:Qf(Wt(Wt({},t),{},{left:C})),swipeLeft:null,targetSlide:O}):g={currentSlide:S,trackStyle:Qf(Wt(Wt({},t),{},{left:C})),lazyLoadedList:b,targetSlide:O};return{state:g,nextState:y}};we.changeSlide=function(t,e){var n,r,i,o,a,s=t.slidesToScroll,c=t.slidesToShow,u=t.slideCount,h=t.currentSlide,f=t.targetSlide,v=t.lazyLoad,b=t.infinite;if(o=u%s!==0,n=o?0:(u-h)%s,e.message==="previous")i=n===0?s:c-n,a=h-i,v&&!b&&(r=h-i,a=r===-1?u-1:r),b||(a=f-s);else if(e.message==="next")i=n===0?s:n,a=h+i,v&&!b&&(a=(h+s)%u+n),b||(a=f+s);else if(e.message==="dots")a=e.index*e.slidesToScroll;else if(e.message==="children"){if(a=e.index,b){var _=SK(Wt(Wt({},t),{},{targetSlide:a}));a>e.currentSlide&&_==="left"?a=a-u:a<e.currentSlide&&_==="right"&&(a=a+u)}}else e.message==="index"&&(a=Number(e.index));return a};we.keyHandler=function(t,e,n){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!e?"":t.keyCode===37?n?"next":"previous":t.keyCode===39?n?"previous":"next":""};we.swipeStart=function(t,e,n){return t.target.tagName==="IMG"&&Js(t),!e||!n&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}};we.swipeMove=function(t,e){var n=e.scrolling,r=e.animating,i=e.vertical,o=e.swipeToSlide,a=e.verticalSwiping,s=e.rtl,c=e.currentSlide,u=e.edgeFriction,h=e.edgeDragged,f=e.onEdge,v=e.swiped,b=e.swiping,_=e.slideCount,S=e.slidesToScroll,T=e.infinite,C=e.touchObject,g=e.swipeEvent,y=e.listHeight,O=e.listWidth;if(!n){if(r)return Js(t);i&&o&&a&&Js(t);var M,P={},E=Xf(e);C.curX=t.touches?t.touches[0].pageX:t.clientX,C.curY=t.touches?t.touches[0].pageY:t.clientY,C.swipeLength=Math.round(Math.sqrt(Math.pow(C.curX-C.startX,2)));var p=Math.round(Math.sqrt(Math.pow(C.curY-C.startY,2)));if(!a&&!b&&p>10)return{scrolling:!0};a&&(C.swipeLength=p);var m=(s?-1:1)*(C.curX>C.startX?1:-1);a&&(m=C.curY>C.startY?1:-1);var w=Math.ceil(_/S),R=JR(e.touchObject,a),j=C.swipeLength;return T||(c===0&&(R==="right"||R==="down")||c+1>=w&&(R==="left"||R==="up")||!ZR(e)&&(R==="left"||R==="up"))&&(j=C.swipeLength*u,h===!1&&f&&(f(R),P.edgeDragged=!0)),!v&&g&&(g(R),P.swiped=!0),i?M=E+j*(y/O)*m:s?M=E-j*m:M=E+j*m,a&&(M=E+j*m),P=Wt(Wt({},P),{},{touchObject:C,swipeLeft:M,trackStyle:Qf(Wt(Wt({},e),{},{left:M}))}),Math.abs(C.curX-C.startX)<Math.abs(C.curY-C.startY)*.8||C.swipeLength>10&&(P.swiping=!0,Js(t)),P}};we.swipeEnd=function(t,e){var n=e.dragging,r=e.swipe,i=e.touchObject,o=e.listWidth,a=e.touchThreshold,s=e.verticalSwiping,c=e.listHeight,u=e.swipeToSlide,h=e.scrolling,f=e.onSwipe,v=e.targetSlide,b=e.currentSlide,_=e.infinite;if(!n)return r&&Js(t),{};var S=s?c/a:o/a,T=JR(i,s),C={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!i.swipeLength)return C;if(i.swipeLength>S){Js(t),f&&f(T);var g,y,O=_?b:v;switch(T){case"left":case"up":y=O+X2(e),g=u?Q2(e,y):y,C.currentDirection=0;break;case"right":case"down":y=O-X2(e),g=u?Q2(e,y):y,C.currentDirection=1;break;default:g=O}C.triggerSlideHandler=g}else{var M=Xf(e);C.trackStyle=eA(Wt(Wt({},e),{},{left:M}))}return C};var bK=we.getNavigableIndexes=function(t){for(var e=t.infinite?t.slideCount*2:t.slideCount,n=t.infinite?t.slidesToShow*-1:0,r=t.infinite?t.slidesToShow*-1:0,i=[];n<e;)i.push(n),n=r+t.slidesToScroll,r+=Math.min(t.slidesToScroll,t.slidesToShow);return i},Q2=we.checkNavigable=function(t,e){var n=bK(t),r=0;if(e>n[n.length-1])e=n[n.length-1];else for(var i in n){if(e<n[i]){e=r;break}r=n[i]}return e},X2=we.getSlideCount=function(t){var e=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var n,r=t.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every(function(s){if(t.vertical){if(s.offsetTop+YR(s)/2>t.swipeLeft*-1)return n=s,!1}else if(s.offsetLeft-e+Z0(s)/2>t.swipeLeft*-1)return n=s,!1;return!0}),!n)return 0;var o=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,a=Math.abs(n.dataset.index-o)||1;return a}else return t.slidesToScroll},Qx=we.checkSpecKeys=function(t,e){return e.reduce(function(n,r){return n&&t.hasOwnProperty(r)},!0)?null:console.error("Keys Missing:",t)},Qf=we.getTrackCSS=function(t){Qx(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var e,n;if(!t.vertical)e=wK(t)*t.slideWidth;else{var r=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;n=r*t.slideHeight}var i={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var o=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",a=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",s=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";i=Wt(Wt({},i),{},{WebkitTransform:o,transform:a,msTransform:s})}else t.vertical?i.top=t.left:i.left=t.left;return t.fade&&(i={opacity:1}),e&&(i.width=e),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?i.marginTop=t.left+"px":i.marginLeft=t.left+"px"),i},eA=we.getTrackAnimateCSS=function(t){Qx(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var e=Qf(t);return t.useTransform?(e.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,e.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?e.transition="top "+t.speed+"ms "+t.cssEase:e.transition="left "+t.speed+"ms "+t.cssEase,e},Xf=we.getTrackLeft=function(t){if(t.unslick)return 0;Qx(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var e=t.slideIndex,n=t.trackRef,r=t.infinite,i=t.centerMode,o=t.slideCount,a=t.slidesToShow,s=t.slidesToScroll,c=t.slideWidth,u=t.listWidth,h=t.variableWidth,f=t.slideHeight,v=t.fade,b=t.vertical,_=0,S,T,C=0;if(v||t.slideCount===1)return 0;var g=0;if(r?(g=-Bh(t),o%s!==0&&e+s>o&&(g=-(e>o?a-(e-o):o%s)),i&&(g+=parseInt(a/2))):(o%s!==0&&e+s>o&&(g=a-o%s),i&&(g=parseInt(a/2))),_=g*c,C=g*f,b?S=e*f*-1+C:S=e*c*-1+_,h===!0){var y,O=n&&n.node;if(y=e+Bh(t),T=O&&O.childNodes[y],S=T?T.offsetLeft*-1:0,i===!0){y=r?e+Bh(t):e,T=O&&O.children[y],S=0;for(var M=0;M<y;M++)S-=O&&O.children[M]&&O.children[M].offsetWidth;S-=parseInt(t.centerPadding),S+=T&&(u-T.offsetWidth)/2}}return S},Bh=we.getPreClones=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},xK=we.getPostClones=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},wK=we.getTotalSlides=function(t){return t.slideCount===1?1:Bh(t)+t.slideCount+xK(t)},SK=we.siblingDirection=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+kK(t)?"left":"right":t.targetSlide<t.currentSlide-CK(t)?"right":"left"},kK=we.slidesOnRight=function(t){var e=t.slidesToShow,n=t.centerMode,r=t.rtl,i=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(i)>0&&(o+=1),r&&e%2===0&&(o+=1),o}return r?0:e-1},CK=we.slidesOnLeft=function(t){var e=t.slidesToShow,n=t.centerMode,r=t.rtl,i=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(i)>0&&(o+=1),!r&&e%2===0&&(o+=1),o}return r?e-1:0};we.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var _K=we.validSettings=Object.keys(fK.default);function EK(t){return _K.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Um={};Object.defineProperty(Um,"__esModule",{value:!0});Um.Track=void 0;var Mo=tA(x),ey=tA(Bm),dh=we;function tA(t){return t&&t.__esModule?t:{default:t}}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(null,arguments)}function TK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rA(r.key),r)}}function jK(t,e,n){return e&&IK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tv(t,e)}function tv(t,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tv(t,e)}function AK(t){var e=nA();return function(){var n,r=Yf(t);if(e){var i=Yf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OK(this,n)}}function OK(t,e){if(e&&(Sl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nv(t)}function nv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nA=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yf(t)}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rv(t,e,n){return(e=rA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rA(t){var e=NK(t,"string");return Sl(e)=="symbol"?e:e+""}function NK(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ty=function(t){var e,n,r,i,o;t.rtl?o=t.slideCount-1-t.index:o=t.index,r=o<0||o>=t.slideCount,t.centerMode?(i=Math.floor(t.slidesToShow/2),n=(o-t.currentSlide)%t.slideCount===0,o>t.currentSlide-i-1&&o<=t.currentSlide+i&&(e=!0)):e=t.currentSlide<=o&&o<t.currentSlide+t.slidesToShow;var a;t.targetSlide<0?a=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?a=t.targetSlide-t.slideCount:a=t.targetSlide;var s=o===a;return{"slick-slide":!0,"slick-active":e,"slick-center":n,"slick-cloned":r,"slick-current":s}},PK=function(t){var e={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(e.width=t.slideWidth),t.fade&&(e.position="relative",t.vertical?e.top=-t.index*parseInt(t.slideHeight):e.left=-t.index*parseInt(t.slideWidth),e.opacity=t.currentSlide===t.index?1:0,e.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(e.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),e},ny=function(t,e){return t.key||e},MK=function(t){var e,n=[],r=[],i=[],o=Mo.default.Children.count(t.children),a=(0,dh.lazyStartIndex)(t),s=(0,dh.lazyEndIndex)(t);return Mo.default.Children.forEach(t.children,function(c,u){var h,f={message:"children",index:u,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(u)>=0?h=c:h=Mo.default.createElement("div",null);var v=PK(ar(ar({},t),{},{index:u})),b=h.props.className||"",_=ty(ar(ar({},t),{},{index:u}));if(n.push(Mo.default.cloneElement(h,{key:"original"+ny(h,u),"data-index":u,className:(0,ey.default)(_,b),tabIndex:"-1","aria-hidden":!_["slick-active"],style:ar(ar({outline:"none"},h.props.style||{}),v),onClick:function(T){h.props&&h.props.onClick&&h.props.onClick(T),t.focusOnSelect&&t.focusOnSelect(f)}})),t.infinite&&o>1&&t.fade===!1&&!t.unslick){var S=o-u;S<=(0,dh.getPreClones)(t)&&(e=-S,e>=a&&(h=c),_=ty(ar(ar({},t),{},{index:e})),r.push(Mo.default.cloneElement(h,{key:"precloned"+ny(h,e),"data-index":e,tabIndex:"-1",className:(0,ey.default)(_,b),"aria-hidden":!_["slick-active"],style:ar(ar({},h.props.style||{}),v),onClick:function(T){h.props&&h.props.onClick&&h.props.onClick(T),t.focusOnSelect&&t.focusOnSelect(f)}}))),u<(0,dh.getPostClones)(t)&&(e=o+u,e<s&&(h=c),_=ty(ar(ar({},t),{},{index:e})),i.push(Mo.default.cloneElement(h,{key:"postcloned"+ny(h,e),"data-index":e,tabIndex:"-1",className:(0,ey.default)(_,b),"aria-hidden":!_["slick-active"],style:ar(ar({},h.props.style||{}),v),onClick:function(T){h.props&&h.props.onClick&&h.props.onClick(T),t.focusOnSelect&&t.focusOnSelect(f)}})))}}),t.rtl?r.concat(n,i).reverse():r.concat(n,i)};Um.Track=function(t){RK(n,t);var e=AK(n);function n(){var r;TK(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),rv(nv(r),"node",null),rv(nv(r),"handleRef",function(s){r.node=s}),r}return jK(n,[{key:"render",value:function(){var r=MK(this.props),i=this.props,o=i.onMouseEnter,a=i.onMouseOver,s=i.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:s};return Mo.default.createElement("div",ev({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),r)}}]),n}(Mo.default.PureComponent);var Vm={};function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}Object.defineProperty(Vm,"__esModule",{value:!0});Vm.Dots=void 0;var hh=iA(x),LK=iA(Bm),J2=we;function iA(t){return t&&t.__esModule?t:{default:t}}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){zK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zK(t,e,n){return(e=oA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oA(r.key),r)}}function WK(t,e,n){return e&&$K(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oA(t){var e=BK(t,"string");return kl(e)=="symbol"?e:e+""}function BK(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},iv(t,e)}function VK(t){var e=aA();return function(){var n,r=Jf(t);if(e){var i=Jf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qK(this,n)}}function qK(t,e){if(e&&(kl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HK(t)}function HK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aA=function(){return!!t})()}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jf(t)}var KK=function(t){var e;return t.infinite?e=Math.ceil(t.slideCount/t.slidesToScroll):e=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,e};Vm.Dots=function(t){UK(n,t);var e=VK(n);function n(){return FK(this,n),e.apply(this,arguments)}return WK(n,[{key:"clickHandler",value:function(r,i){i.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,i=r.onMouseEnter,o=r.onMouseOver,a=r.onMouseLeave,s=r.infinite,c=r.slidesToScroll,u=r.slidesToShow,h=r.slideCount,f=r.currentSlide,v=KK({slideCount:h,slidesToScroll:c,slidesToShow:u,infinite:s}),b={onMouseEnter:i,onMouseOver:o,onMouseLeave:a},_=[],S=0;S<v;S++){var T=(S+1)*c-1,C=s?T:(0,J2.clamp)(T,0,h-1),g=C-(c-1),y=s?g:(0,J2.clamp)(g,0,h-1),O=(0,LK.default)({"slick-active":s?f>=y&&f<=C:f===y}),M={message:"dots",index:S,slidesToScroll:c,currentSlide:f},P=this.clickHandler.bind(this,M);_=_.concat(hh.default.createElement("li",{key:S,className:O},hh.default.cloneElement(this.props.customPaging(S),{onClick:P})))}return hh.default.cloneElement(this.props.appendDots(_),DK({className:this.props.dotsClass},b))}}]),n}(hh.default.PureComponent);var Cl={};function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}Object.defineProperty(Cl,"__esModule",{value:!0});Cl.PrevArrow=Cl.NextArrow=void 0;var Zs=lA(x),sA=lA(Bm),GK=we;function lA(t){return t&&t.__esModule?t:{default:t}}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(null,arguments)}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){QK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QK(t,e,n){return(e=dA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dA(r.key),r)}}function uA(t,e,n){return e&&XK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dA(t){var e=YK(t,"string");return _l(e)=="symbol"?e:e+""}function YK(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ov(t,e)}function fA(t){var e=pA();return function(){var n,r=tp(t);if(e){var i=tp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return JK(this,n)}}function JK(t,e){if(e&&(_l(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZK(t)}function ZK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pA=function(){return!!t})()}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tp(t)}Cl.PrevArrow=function(t){hA(n,t);var e=fA(n);function n(){return cA(this,n),e.apply(this,arguments)}return uA(n,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},i=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,i=null);var o={key:"0","data-role":"none",className:(0,sA.default)(r),style:{display:"block"},onClick:i},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},s;return this.props.prevArrow?s=Zs.default.cloneElement(this.props.prevArrow,ep(ep({},o),a)):s=Zs.default.createElement("button",Zf({key:"0",type:"button"},o)," ","Previous"),s}}]),n}(Zs.default.PureComponent);Cl.NextArrow=function(t){hA(n,t);var e=fA(n);function n(){return cA(this,n),e.apply(this,arguments)}return uA(n,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},i=this.clickHandler.bind(this,{message:"next"});(0,GK.canGoNext)(this.props)||(r["slick-disabled"]=!0,i=null);var o={key:"1","data-role":"none",className:(0,sA.default)(r),style:{display:"block"},onClick:i},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},s;return this.props.nextArrow?s=Zs.default.cloneElement(this.props.nextArrow,ep(ep({},o),a)):s=Zs.default.createElement("button",Zf({key:"1",type:"button"},o)," ","Next"),s}}]),n}(Zs.default.PureComponent);var mA=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),av=typeof window<"u"&&typeof document<"u"&&window.document===document,np=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),eG=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(np):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),tG=2;function nG(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){eG(o)}function s(){var c=Date.now();if(n){if(c-i<tG)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=c}return s}var rG=20,iG=["top","right","bottom","left","width","height","size","weight"],oG=typeof MutationObserver<"u",aG=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=nG(this.refresh.bind(this),rG)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!av||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),oG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!av||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=iG.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),gA=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},El=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||np},yA=qm(0,0,0,0);function rp(t){return parseFloat(t)||0}function tC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+rp(o)},0)}function sG(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=rp(a)}return n}function lG(t){var e=t.getBBox();return qm(0,0,e.width,e.height)}function cG(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return yA;var r=El(t).getComputedStyle(t),i=sG(r),o=i.left+i.right,a=i.top+i.bottom,s=rp(r.width),c=rp(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=tC(r,"left","right")+o),Math.round(c+a)!==n&&(c-=tC(r,"top","bottom")+a)),!dG(t)){var u=Math.round(s+o)-e,h=Math.round(c+a)-n;Math.abs(u)!==1&&(s-=u),Math.abs(h)!==1&&(c-=h)}return qm(i.left,i.top,s,c)}var uG=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof El(t).SVGGraphicsElement}:function(t){return t instanceof El(t).SVGElement&&typeof t.getBBox=="function"}}();function dG(t){return t===El(t).document.documentElement}function hG(t){return av?uG(t)?lG(t):cG(t):yA}function fG(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return gA(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function qm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var pG=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=hG(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),mG=function(){function t(e,n){var r=fG(n);gA(this,{target:e,contentRect:r})}return t}(),gG=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new mA,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof El(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new pG(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof El(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new mG(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),vA=typeof WeakMap<"u"?new WeakMap:new mA,bA=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=aG.getInstance(),r=new gG(e,n,this);vA.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){bA.prototype[t]=function(){var e;return(e=vA.get(this))[t].apply(e,arguments)}});var yG=function(){return typeof np.ResizeObserver<"u"?np.ResizeObserver:bA}();const vG=Object.freeze(Object.defineProperty({__proto__:null,default:yG},Symbol.toStringTag,{value:"Module"})),bG=Fi(vG);Object.defineProperty(Wm,"__esModule",{value:!0});Wm.InnerSlider=void 0;var Jn=vd(x),xG=vd(VR),wG=vd(dK),SG=vd(Bm),Vt=we,kG=Um,CG=Vm,nC=Cl,_G=vd(bG);function vd(t){return t&&t.__esModule?t:{default:t}}function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(null,arguments)}function EG(t,e){if(t==null)return{};var n,r,i=TG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){dt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wA(r.key),r)}}function RG(t,e,n){return e&&jG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sv(t,e)}function OG(t){var e=xA();return function(){var n,r=op(t);if(e){var i=op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NG(this,n)}}function NG(t,e){if(e&&(Ja(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xA=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},op(t)}function dt(t,e,n){return(e=wA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wA(t){var e=PG(t,"string");return Ja(e)=="symbol"?e:e+""}function PG(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Wm.InnerSlider=function(t){AG(n,t);var e=OG(n);function n(r){var i;IG(this,n),i=e.call(this,r),dt(ut(i),"listRefHandler",function(a){return i.list=a}),dt(ut(i),"trackRefHandler",function(a){return i.track=a}),dt(ut(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var a=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Vt.getHeight)(a)+"px"}}),dt(ut(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var a=(0,Vt.getOnDemandLazySlides)(Ke(Ke({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}var s=Ke({listRef:i.list,trackRef:i.track},i.props);i.updateState(s,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new _G.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,c.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),dt(ut(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(a){return clearTimeout(a)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),dt(ut(i),"componentDidUpdate",function(a){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var s=(0,Vt.getOnDemandLazySlides)(Ke(Ke({},i.props),i.state));s.length>0&&(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}i.adaptHeight();var c=Ke(Ke({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(a);u&&i.updateState(c,u,function(){i.state.currentSlide>=Jn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Jn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),dt(ut(i),"onWindowResized",function(a){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,wG.default)(function(){return i.resizeWindow(a)},50),i.debouncedResize()}),dt(ut(i),"resizeWindow",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,s=!!(i.track&&i.track.node);if(s){var c=Ke(Ke({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(c,a,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),dt(ut(i),"updateState",function(a,s,c){var u=(0,Vt.initializedState)(a);a=Ke(Ke(Ke({},a),u),{},{slideIndex:u.currentSlide});var h=(0,Vt.getTrackLeft)(a);a=Ke(Ke({},a),{},{left:h});var f=(0,Vt.getTrackCSS)(a);(s||Jn.default.Children.count(i.props.children)!==Jn.default.Children.count(a.children))&&(u.trackStyle=f),i.setState(u,c)}),dt(ut(i),"ssrInit",function(){if(i.props.variableWidth){var a=0,s=0,c=[],u=(0,Vt.getPreClones)(Ke(Ke(Ke({},i.props),i.state),{},{slideCount:i.props.children.length})),h=(0,Vt.getPostClones)(Ke(Ke(Ke({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(E){c.push(E.props.style.width),a+=E.props.style.width});for(var f=0;f<u;f++)s+=c[c.length-1-f],a+=c[c.length-1-f];for(var v=0;v<h;v++)a+=c[v];for(var b=0;b<i.state.currentSlide;b++)s+=c[b];var _={width:a+"px",left:-s+"px"};if(i.props.centerMode){var S="".concat(c[i.state.currentSlide],"px");_.left="calc(".concat(_.left," + (100% - ").concat(S,") / 2 ) ")}return{trackStyle:_}}var T=Jn.default.Children.count(i.props.children),C=Ke(Ke(Ke({},i.props),i.state),{},{slideCount:T}),g=(0,Vt.getPreClones)(C)+(0,Vt.getPostClones)(C)+T,y=100/i.props.slidesToShow*g,O=100/g,M=-O*((0,Vt.getPreClones)(C)+i.state.currentSlide)*y/100;i.props.centerMode&&(M+=(100-O*y/100)/2);var P={width:y+"%",left:M+"%"};return{slideWidth:O+"%",trackStyle:P}}),dt(ut(i),"checkImagesLoad",function(){var a=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],s=a.length,c=0;Array.prototype.forEach.call(a,function(u){var h=function(){return++c&&c>=s&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(v){f(v),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=h,u.onerror=function(){h(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),dt(ut(i),"progressiveLazyLoad",function(){for(var a=[],s=Ke(Ke({},i.props),i.state),c=i.state.currentSlide;c<i.state.slideCount+(0,Vt.getPostClones)(s);c++)if(i.state.lazyLoadedList.indexOf(c)<0){a.push(c);break}for(var u=i.state.currentSlide-1;u>=-(0,Vt.getPreClones)(s);u--)if(i.state.lazyLoadedList.indexOf(u)<0){a.push(u);break}a.length>0?(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),dt(ut(i),"slideHandler",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i.props,u=c.asNavFor,h=c.beforeChange,f=c.onLazyLoad,v=c.speed,b=c.afterChange,_=i.state.currentSlide,S=(0,Vt.slideHandler)(Ke(Ke(Ke({index:a},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!s})),T=S.state,C=S.nextState;if(T){h&&h(_,T.currentSlide);var g=T.lazyLoadedList.filter(function(y){return i.state.lazyLoadedList.indexOf(y)<0});f&&g.length>0&&f(g),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),b&&b(_),delete i.animationEndCallback),i.setState(T,function(){u&&i.asNavForIndex!==a&&(i.asNavForIndex=a,u.innerSlider.slideHandler(a)),C&&(i.animationEndCallback=setTimeout(function(){var y=C.animating,O=EG(C,["animating"]);i.setState(O,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:y})},10)),b&&b(T.currentSlide),delete i.animationEndCallback})},v))})}}),dt(ut(i),"changeSlide",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=Ke(Ke({},i.props),i.state),u=(0,Vt.changeSlide)(c,a);if(!(u!==0&&!u)&&(s===!0?i.slideHandler(u,s):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var h=i.list.querySelectorAll(".slick-current");h[0]&&h[0].focus()}}),dt(ut(i),"clickHandler",function(a){i.clickable===!1&&(a.stopPropagation(),a.preventDefault()),i.clickable=!0}),dt(ut(i),"keyHandler",function(a){var s=(0,Vt.keyHandler)(a,i.props.accessibility,i.props.rtl);s!==""&&i.changeSlide({message:s})}),dt(ut(i),"selectHandler",function(a){i.changeSlide(a)}),dt(ut(i),"disableBodyScroll",function(){var a=function(s){s=s||window.event,s.preventDefault&&s.preventDefault(),s.returnValue=!1};window.ontouchmove=a}),dt(ut(i),"enableBodyScroll",function(){window.ontouchmove=null}),dt(ut(i),"swipeStart",function(a){i.props.verticalSwiping&&i.disableBodyScroll();var s=(0,Vt.swipeStart)(a,i.props.swipe,i.props.draggable);s!==""&&i.setState(s)}),dt(ut(i),"swipeMove",function(a){var s=(0,Vt.swipeMove)(a,Ke(Ke(Ke({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));s&&(s.swiping&&(i.clickable=!1),i.setState(s))}),dt(ut(i),"swipeEnd",function(a){var s=(0,Vt.swipeEnd)(a,Ke(Ke(Ke({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(s){var c=s.triggerSlideHandler;delete s.triggerSlideHandler,i.setState(s),c!==void 0&&(i.slideHandler(c),i.props.verticalSwiping&&i.enableBodyScroll())}}),dt(ut(i),"touchEnd",function(a){i.swipeEnd(a),i.clickable=!0}),dt(ut(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),dt(ut(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),dt(ut(i),"slickGoTo",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a=Number(a),isNaN(a))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:a,currentSlide:i.state.currentSlide},s)},0))}),dt(ut(i),"play",function(){var a;if(i.props.rtl)a=i.state.currentSlide-i.props.slidesToScroll;else if((0,Vt.canGoNext)(Ke(Ke({},i.props),i.state)))a=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(a)}),dt(ut(i),"autoPlay",function(a){i.autoplayTimer&&clearInterval(i.autoplayTimer);var s=i.state.autoplaying;if(a==="update"){if(s==="hovered"||s==="focused"||s==="paused")return}else if(a==="leave"){if(s==="paused"||s==="focused")return}else if(a==="blur"&&(s==="paused"||s==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),dt(ut(i),"pause",function(a){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var s=i.state.autoplaying;a==="paused"?i.setState({autoplaying:"paused"}):a==="focused"?(s==="hovered"||s==="playing")&&i.setState({autoplaying:"focused"}):s==="playing"&&i.setState({autoplaying:"hovered"})}),dt(ut(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),dt(ut(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),dt(ut(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),dt(ut(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),dt(ut(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),dt(ut(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),dt(ut(i),"render",function(){var a=(0,SG.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),s=Ke(Ke({},i.props),i.state),c=(0,Vt.extractObject)(s,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;c=Ke(Ke({},c),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var h;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,Vt.extractObject)(s,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=i.props.pauseOnDotsHover;f=Ke(Ke({},f),{},{clickHandler:i.changeSlide,onMouseEnter:v?i.onDotsLeave:null,onMouseOver:v?i.onDotsOver:null,onMouseLeave:v?i.onDotsLeave:null}),h=Jn.default.createElement(CG.Dots,f)}var b,_,S=(0,Vt.extractObject)(s,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);S.clickHandler=i.changeSlide,i.props.arrows&&(b=Jn.default.createElement(nC.PrevArrow,S),_=Jn.default.createElement(nC.NextArrow,S));var T=null;i.props.vertical&&(T={height:i.state.listHeight});var C=null;i.props.vertical===!1?i.props.centerMode===!0&&(C={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(C={padding:i.props.centerPadding+" 0px"});var g=Ke(Ke({},T),C),y=i.props.touchMove,O={className:"slick-list",style:g,onClick:i.clickHandler,onMouseDown:y?i.swipeStart:null,onMouseMove:i.state.dragging&&y?i.swipeMove:null,onMouseUp:y?i.swipeEnd:null,onMouseLeave:i.state.dragging&&y?i.swipeEnd:null,onTouchStart:y?i.swipeStart:null,onTouchMove:i.state.dragging&&y?i.swipeMove:null,onTouchEnd:y?i.touchEnd:null,onTouchCancel:i.state.dragging&&y?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:a,dir:"ltr",style:i.props.style};return i.props.unslick&&(O={className:"slick-list"},M={className:a,style:i.props.style}),Jn.default.createElement("div",M,i.props.unslick?"":b,Jn.default.createElement("div",ip({ref:i.listRefHandler},O),Jn.default.createElement(kG.Track,ip({ref:i.trackRefHandler},c),i.props.children)),i.props.unslick?"":_,i.props.unslick?"":h)}),i.list=null,i.track=null,i.state=Ke(Ke({},xG.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:Jn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=Ke(Ke({},i.state),o),i}return RG(n,[{key:"didPropsChange",value:function(r){for(var i=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var s=a[o];if(!r.hasOwnProperty(s)){i=!0;break}if(!(Ja(r[s])==="object"||typeof r[s]=="function"||isNaN(r[s]))&&r[s]!==this.props[s]){i=!0;break}}return i||Jn.default.Children.count(this.props.children)!==Jn.default.Children.count(r.children)}}]),n}(Jn.default.Component);var MG=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},LG=MG,DG=LG,zG=function(t){var e=/[height|width]$/;return e.test(t)},iC=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var o=t[r];r=DG(r),zG(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",i<n.length-1&&(e+=" and ")}),e},FG=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=iC(n),r<t.length-1&&(e+=", ")}),e):iC(t)},$G=FG;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(x),n=Wm,r=a($G),i=a(Gx),o=we;function a(p){return p&&p.__esModule?p:{default:p}}function s(p){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(p)}function c(){return c=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var w=arguments[m];for(var R in w)({}).hasOwnProperty.call(w,R)&&(p[R]=w[R])}return p},c.apply(null,arguments)}function u(p,m){var w=Object.keys(p);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(p);m&&(R=R.filter(function(j){return Object.getOwnPropertyDescriptor(p,j).enumerable})),w.push.apply(w,R)}return w}function h(p){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?u(Object(w),!0).forEach(function(R){M(p,R,w[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(w)):u(Object(w)).forEach(function(R){Object.defineProperty(p,R,Object.getOwnPropertyDescriptor(w,R))})}return p}function f(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){for(var w=0;w<m.length;w++){var R=m[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,P(R.key),R)}}function b(p,m,w){return m&&v(p.prototype,m),Object.defineProperty(p,"prototype",{writable:!1}),p}function _(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),m&&S(p,m)}function S(p,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,R){return w.__proto__=R,w},S(p,m)}function T(p){var m=y();return function(){var w,R=O(p);if(m){var j=O(this).constructor;w=Reflect.construct(R,arguments,j)}else w=R.apply(this,arguments);return C(this,w)}}function C(p,m){if(m&&(s(m)=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(p)}function g(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function y(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y=function(){return!!p})()}function O(p){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},O(p)}function M(p,m,w){return(m=P(m))in p?Object.defineProperty(p,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[m]=w,p}function P(p){var m=E(p,"string");return s(m)=="symbol"?m:m+""}function E(p,m){if(s(p)!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var R=w.call(p,m);if(s(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}t.default=function(p){_(w,p);var m=T(w);function w(R){var j;return f(this,w),j=m.call(this,R),M(g(j),"innerSliderRefHandler",function(I){return j.innerSlider=I}),M(g(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(g(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(g(j),"slickGoTo",function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(I,L)}),M(g(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(g(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return b(w,[{key:"media",value:function(R,j){var I=window.matchMedia(R),L=function(B){var G=B.matches;G&&j()};I.addListener(L),this._responsiveMediaHandlers.push({mql:I,query:R,listener:L})}},{key:"componentDidMount",value:function(){var R=this;if(this.props.responsive){var j=this.props.responsive.map(function(L){return L.breakpoint});j.sort(function(L,B){return L-B}),j.forEach(function(L,B){var G;B===0?G=(0,r.default)({minWidth:0,maxWidth:L}):G=(0,r.default)({minWidth:j[B-1]+1,maxWidth:L}),(0,o.canUseDOM)()&&R.media(G,function(){R.setState({breakpoint:L})})});var I=(0,r.default)({minWidth:j.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(I,function(){R.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(R){R.mql.removeListener(R.listener)})}},{key:"render",value:function(){var R=this,j,I;this.state.breakpoint?(I=this.props.responsive.filter(function(Q){return Q.breakpoint===R.state.breakpoint}),j=I[0].settings==="unslick"?"unslick":h(h(h({},i.default),this.props),I[0].settings)):j=h(h({},i.default),this.props),j.centerMode&&(j.slidesToScroll>1,j.slidesToScroll=1),j.fade&&(j.slidesToShow>1,j.slidesToScroll>1,j.slidesToShow=1,j.slidesToScroll=1);var L=e.default.Children.toArray(this.props.children);L=L.filter(function(Q){return typeof Q=="string"?!!Q.trim():!!Q}),j.variableWidth&&(j.rows>1||j.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),j.variableWidth=!1);for(var B=[],G=null,$=0;$<L.length;$+=j.rows*j.slidesPerRow){for(var F=[],U=$;U<$+j.rows*j.slidesPerRow;U+=j.slidesPerRow){for(var q=[],H=U;H<U+j.slidesPerRow&&(j.variableWidth&&L[H].props.style&&(G=L[H].props.style.width),!(H>=L.length));H+=1)q.push(e.default.cloneElement(L[H],{key:100*$+10*U+H,tabIndex:-1,style:{width:"".concat(100/j.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*$+U},q))}j.variableWidth?B.push(e.default.createElement("div",{key:$,style:{width:G}},F)):B.push(e.default.createElement("div",{key:$},F))}if(j==="unslick"){var K="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:K},L)}else B.length<=j.slidesToShow&&(j.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(j)),B)}}]),w}(e.default.Component)})(UR);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(UR);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(BR);const WG=ap(BR);function BG({onClick:t}){const[e,n]=x.useState(!1),r=i=>{n(!0),setTimeout(()=>n(!1),220),t&&t(i)};return l.jsx(Vn,{variant:"contained",color:"primary",onClick:r,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:e?"0 2px 8px 0 rgba(18,140,126,0.18)":4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #25D366 0%, #128C7E 100%)",transition:"transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",transform:e?"scale(0.96) rotate(2deg)":void 0,boxShadow:e?"0 2px 8px 0 rgba(18,140,126,0.18)":void 0,"&:hover":{transform:"scale(1.13) rotate(-6deg)",boxShadow:"0 8px 32px 0 rgba(37,211,102,0.25)"},"&:active":{transform:"scale(0.96) rotate(2deg)",boxShadow:"0 2px 8px 0 rgba(18,140,126,0.18)"}},"aria-label":"WhatsApp Chat",children:l.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"16",cy:"16",r:"16",fill:"#25D366"}),l.jsx("path",{d:"M25.472 21.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]})})}function UG({drugClasses:t,previewProducts:e,navigate:n}){const[r,i]=x.useState(0),o=4,a=t.length,s=t.slice(r,r+o).concat(r+o>a?t.slice(0,(r+o)%a):[]),c=()=>{i(h=>(h-o+a)%a)},u=()=>{i(h=>(h+o)%a)};return l.jsxs(Qe,{sx:{position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",minWidth:0,maxWidth:"100vw"},children:[l.jsx(Vn,{onClick:c,sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Qe,{sx:{display:"flex",gap:2,flex:"1 1 auto",justifyContent:"center",flexWrap:"nowrap",overflowX:"auto",minWidth:0,maxWidth:"100vw",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:s.map(h=>{const f=e.find(v=>v.class&&v.class.trim()===h);return l.jsxs(Hf,{sx:{width:120,height:120,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)",background:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)",background:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>n(`/shop?category=${encodeURIComponent(h)}`),children:[f&&l.jsx(Qe,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:f.image||"/default-medicine.png",alt:f.name||h,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(Kf,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx($e,{variant:"h6",fontWeight:900,sx:{color:"#004d40",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"0.85rem",lineHeight:1.1},children:h})})]},h)})}),l.jsx(Vn,{onClick:u,sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Vn,{onClick:u,sx:{minWidth:0,px:1,fontSize:22,color:"#009688",flex:"0 0 auto",zIndex:3},children:">"})]})}function VG(){var t,e,n,r,i,o,a,s,c,u,h,f,v,b,_,S,T,C,g,y;const[O,M]=x.useState(!1),[P,E]=x.useState(""),[p,m]=x.useState([]),w=[{name:"Emzor Paracetamol",image:"https://i.ibb.co/yFNm7BHd/08-Paracetamol-96-World-Cup-Pack-View-01-removebg-preview.png"},{name:"Amatem Forte Softgel",image:"https://i.ibb.co/JjhnTsQt/amatem-f1-removebg-preview.png"},{name:"Mycoten-Plus Vaginal Cream",image:"https://i.ibb.co/j9VpM02J/MYCOTEN-PLUS-768x485-removebg-preview.png"},{name:"Pregnacare Range",image:"https://i.ibb.co/S47hgbN9/pregnacare-4b303546-25f3-4174-92a5-c459017d193c-400x-removebg-preview.png"}];x.useEffect(()=>{async function Y(){let ae=(await Ht(ze(re,"verifyMedics"))).docs.map(Oe=>({id:Oe.id,...Oe.data()}));(await Ht(ze(re,"users"))).docs.forEach(Oe=>{const xe=Oe.data();xe.role==="medicine-manager"&&xe.pharmacist&&ae.push({...xe.pharmacist,id:Oe.id,online:!0})}),m(ae)}Y()},[]);const R=600;x.useEffect(()=>{if(typeof document<"u"){document.body.style.background="linear-gradient(135deg, #009688 0%, #00695c 100%)";const Y=document.getElementById("mission-shine-style");Y&&Y.remove();const ae=document.createElement("style");ae.id="mission-shine-style",ae.innerHTML=`
        .top-shine-effect-global {
          position: absolute;
          top: 0; left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 48%, rgba(255,255,255,0.005) 49%, rgba(255,255,255,0.01) 50%, rgba(255,255,255,0.005) 51%, transparent 52%);
          filter: blur(6px) brightness(1.01);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.012;
          z-index: 1000;
        }
        .top-shine-effect {
          position: absolute;
          top: 0; left: 0;
          width: 220%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,0.09) 49%, rgba(255,255,255,0.13) 50%, rgba(255,255,255,0.09) 51%, transparent 60%);
          filter: blur(3.5px) brightness(1.05);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.13;
          z-index: 1000;
        }
        @keyframes shine-move-top {
          0% { transform: translateX(-60%); opacity: 0; }
          10% { opacity: 0.7; }
          50% { opacity: 0.95; }
          100% { transform: translateX(60%); opacity: 0; }
        }
        .mission-shine-text {
          position: relative;
          text-align: right;
          color: #fff;
          font-size: 2.1rem;
          font-weight: 700;
          font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
          overflow: visible;
          line-height: 1.2;
        }
        @media (max-width: 900px) {
          .mission-shine-text {
            font-size: 2.1rem !important;
            max-width: 540px !important;
            line-height: 1.2 !important;
            text-align: right !important;
            margin: 0 !important;
            display: inline !important;
            padding: 0 2vw !important;
            white-space: normal !important;
            overflow: visible !important;
            text-overflow: unset !important;
          }
          @media (max-width: 900px) {
            .mission-shine-text {
              font-size: 1.1rem !important;
              max-width: 100vw !important;
              line-height: 1.25 !important;
              padding: 0 0.5vw 0 0 !important;
              margin: 0 !important;
              text-align: right !important;
              display: block !important;
            }
            .top-shine-effect-container {
              min-height: 180px;
            }
            .top-shine-effect-container > .MuiBox-root {
              margin-left: 2vw !important;
            }
            .top-shine-effect-container > .MuiBox-root:last-child {
              margin-left: 2vw !important;
            }
          }
          .top-shine-effect-container {
            min-height: 180px;
          }
        }
      `,document.head.appendChild(ae)}},[]);const[j,I]=x.useState([]),[L,B]=x.useState(0),[G,$]=x.useState(!0);x.useEffect(()=>{if(!w.length)return;const Y=setInterval(()=>{$(!1),setTimeout(()=>{B(ae=>(ae+1)%w.length),$(!0)},100)},2500);return()=>clearInterval(Y)},[w.length]);const[F,U]=x.useState([]),[q,H]=x.useState([]),[K,Q]=x.useState(null),[ue,le]=x.useState(""),[Re,W]=x.useState(""),[ee,V]=x.useState(""),J=gr(),te=q.filter(Y=>!ee||Y.name&&Y.name.toLowerCase().includes(ee.toLowerCase())).sort((Y,ae)=>K&&Y.minutesAway!=null&&ae.minutesAway!=null?Y.minutesAway-ae.minutesAway:0);function oe(Y,ae){return Y>6&&Y<7&&ae>3&&ae<4?"Lagos":Y>8&&Y<10&&ae>7&&ae<8?"Abuja":Y>4&&Y<5.5&&ae>6&&ae<8?"Rivers":Y>11&&Y<13&&ae>8&&ae<9?"Kano":"Unknown"}function me(Y,ae){if(Y==null)return"Distance unknown";if(Y==="loading")return"Calculating...";let Oe="",xe="";if(K&&ae&&ae.location&&typeof ae.location.latitude=="number"&&typeof ae.location.longitude=="number"){const ve=oe(K.lat,K.lng),Fe=oe(ae.location.latitude,ae.location.longitude);ve!=="Unknown"&&Fe!=="Unknown"&&ve!==Fe&&(Oe=Fe)}if(Y>60)xe=Y>120?`${Y} min away`:"Over 1 hr away";else if(K&&ae&&ae.location&&typeof ae.location.latitude=="number"&&typeof ae.location.longitude=="number"){const ve=oe(K.lat,K.lng),Fe=oe(ae.location.latitude,ae.location.longitude);ve!=="Unknown"&&Fe!=="Unknown"&&ve===Fe&&Y>30?xe="30 min away":xe=`${Y} min away`}else xe=`${Y} min away`;return Oe&&xe?`${Oe}  ${xe}`:xe}x.useEffect(()=>{const Y=It(ze(re,"products"),ae=>{const Oe=ae.docs.map(xe=>({id:xe.id,...xe.data()}));I(Oe)});return()=>Y()},[]);function Se(Y,ae,Oe,xe){const ve=de=>de*Math.PI/180,Fe=ve(Oe-Y),Ye=ve(xe-ae),Ee=Math.sin(Fe/2)**2+Math.cos(ve(Y))*Math.cos(ve(Oe))*Math.sin(Ye/2)**2;return 6371*2*Math.atan2(Math.sqrt(Ee),Math.sqrt(1-Ee))}async function Le(Y,ae){const Oe=window.GOOGLE_MAPS_API_KEY;if(!Oe)return null;try{const xe=`https://maps.googleapis.com/maps/api/directions/json?origin=${Y.lat},${Y.lng}&destination=${ae.lat},${ae.lng}&mode=driving&key=${Oe}`,ve=await(await fetch(xe)).json();if(ve.routes&&ve.routes[0]&&ve.routes[0].legs&&ve.routes[0].legs[0])return Math.round(ve.routes[0].legs[0].duration.value/60)}catch{}return null}function _e(Y){return!Y||isNaN(Y)||Y===1/0?null:Math.round(Y/40*60)}x.useEffect(()=>{let Y=!1;const ae=It(ze(re,"users"),async Oe=>{const xe=[],ve=new Set,Fe=[];Oe.docs.forEach(Ee=>{const de=Ee.data();if(de.businessSlug&&!ve.has(de.businessSlug)){let ye=null;K&&de.location&&typeof de.location.latitude=="number"&&typeof de.location.longitude=="number"&&(ye=Se(K.lat,K.lng,de.location.latitude,de.location.longitude),Fe.push((async()=>{let nt=await Le(K,{lat:de.location.latitude,lng:de.location.longitude});return nt||(nt=_e(ye)),{slug:de.businessSlug,minutesAway:nt}})())),xe.push({name:de.businessName||de.businessSlug,img:de.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",minutesAway:null,slug:de.businessSlug}),ve.add(de.businessSlug)}});const Ye=await Promise.all(Fe);for(const Ee of Ye){const de=xe.findIndex(ye=>ye.slug===Ee.slug);de!==-1&&(xe[de].minutesAway=Ee.minutesAway)}xe.sort((Ee,de)=>Ee.minutesAway==null?1:de.minutesAway==null?-1:Ee.minutesAway-de.minutesAway),Y||(console.log("Fetched pharmacy stores:",xe),H(xe))});return()=>{Y=!0,ae()}},[K]);const Ue={infinite:!0,speed:1e3,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]};x.useEffect(()=>{const Y=It(ze(re,"products"),ae=>{const Oe=new Set;ae.docs.forEach(xe=>{const ve=xe.data().class;ve&&typeof ve=="string"&&ve.trim()&&Oe.add(ve.trim())}),U(Array.from(Oe).sort())});return()=>Y()},[]),x.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(Y=>{const ae={lat:Y.coords.latitude,lng:Y.coords.longitude};Q(ae),localStorage.setItem("customerLocation",JSON.stringify(ae))},Y=>{le("Location access denied. Please enable location services.")})},[]);const ke=Y=>{Y.preventDefault(),Re.trim()?J(`/shop?search=${encodeURIComponent(Re.trim())}`):J("/shop")};return l.jsx(PR,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0,background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(pi,{elevation:3,sx:{p:0,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"#fff",boxShadow:3,position:"relative",overflow:"hidden",minHeight:0,height:"auto",display:"block"},children:[l.jsx("div",{className:"top-shine-effect-global"}),l.jsx(Qe,{sx:{minHeight:120,display:"flex",alignItems:"center",justifyContent:"center",mb:2,borderTopLeftRadius:16,borderTopRightRadius:16,p:{xs:2,md:5},pb:0,boxShadow:"none",background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(Qe,{className:"top-shine-effect-container",sx:{width:"100%",minHeight:{xs:180,sm:220,md:330},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",pl:0,ml:{xs:0,sm:"-20px",md:"-40px"},overflow:"visible",flexWrap:"nowrap",gap:{xs:1,sm:2,md:4}},children:[l.jsx("div",{className:"top-shine-effect"}),w.length>0&&l.jsx(OR,{in:G,timeout:R,children:l.jsx("img",{src:((t=w[L])==null?void 0:t.image)||"/default-medicine.png",alt:((e=w[L])==null?void 0:e.name)||"Medicine",style:{width:((n=w[L])==null?void 0:n.name)==="Visita Plus Cream"||((r=w[L])==null?void 0:r.name)==="Amatem Forte Softgel"||((i=w[L])==null?void 0:i.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",height:((o=w[L])==null?void 0:o.name)==="Visita Plus Cream"||((a=w[L])==null?void 0:a.name)==="Amatem Forte Softgel"||((s=w[L])==null?void 0:s.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",minWidth:((c=w[L])==null?void 0:c.name)==="Visita Plus Cream"||((u=w[L])==null?void 0:u.name)==="Amatem Forte Softgel"||((h=w[L])==null?void 0:h.name)==="Mycoten-Plus Vaginal Cream"?140:90,minHeight:((f=w[L])==null?void 0:f.name)==="Visita Plus Cream"||((v=w[L])==null?void 0:v.name)==="Amatem Forte Softgel"||((b=w[L])==null?void 0:b.name)==="Mycoten-Plus Vaginal Cream"?140:90,maxWidth:((_=w[L])==null?void 0:_.name)==="Visita Plus Cream"||((S=w[L])==null?void 0:S.name)==="Amatem Forte Softgel"||((T=w[L])==null?void 0:T.name)==="Mycoten-Plus Vaginal Cream"?300:220,maxHeight:((C=w[L])==null?void 0:C.name)==="Visita Plus Cream"||((g=w[L])==null?void 0:g.name)==="Amatem Forte Softgel"||((y=w[L])==null?void 0:y.name)==="Mycoten-Plus Vaginal Cream"?300:220,objectFit:"contain",border:"none",background:"none",boxShadow:"none",display:"block",marginLeft:0,zIndex:101,flexShrink:0}})},L),l.jsx(Qe,{sx:{flex:1,ml:{xs:1,sm:2,md:4},display:"flex",alignItems:"center",height:"100%",zIndex:101,minWidth:0,maxWidth:{xs:"calc(100vw - 110px)",sm:540}},children:l.jsx("span",{className:"mission-shine-text",style:{fontFamily:"Montserrat, Inter, Segoe UI, Arial, sans-serif",fontWeight:700,color:"#fff",textAlign:"right",letterSpacing:.5,lineHeight:1.2,display:"inline-block",maxWidth:540,width:"100%",position:"relative",overflow:"visible",background:"none",margin:0,padding:0,boxShadow:"none",borderRadius:0,fontSize:"clamp(1.05rem, 2.1vw + 0.7rem, 2.1rem)",wordBreak:"break-word",whiteSpace:"normal"},children:"ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."})})]})}),l.jsxs(Qe,{component:"form",onSubmit:ke,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1.2,mt:2,mb:1},children:[l.jsx(wn,{variant:"outlined",placeholder:"Search drugs...",value:Re,onChange:Y=>W(Y.target.value),sx:{width:{xs:140,sm:180,md:260},background:"#f8fafc",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:{xs:28,sm:32,md:38},fontSize:{xs:13,sm:14,md:15},paddingRight:0,background:"#f8fafc",boxShadow:"none"},"& input":{padding:{xs:"4px 10px",sm:"6px 12px",md:"8px 14px"},fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},size:"small",InputProps:{style:{borderRadius:99,height:28,fontSize:13,background:"#f8fafc",boxShadow:"none"}}}),l.jsx(Vn,{type:"submit",variant:"contained",color:"primary",size:"small",sx:{px:2.5,py:.5,borderRadius:99,fontWeight:500,fontSize:15,boxShadow:"none",minWidth:0,textTransform:"none",background:"linear-gradient(90deg, #FF4081 60%, #FF6F61 100%)","&:hover":{background:"linear-gradient(90deg, #FF6F61 60%, #FF4081 100%)",boxShadow:"none"}},children:"Search"})]}),l.jsx(Qe,{sx:{my:1,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3,position:"relative"},children:K?l.jsxs($e,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,userSelect:"all",fontFamily:"inherit"},children:[K.lat.toFixed(4),", ",K.lng.toFixed(4)]}):l.jsx($e,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,fontFamily:"inherit"},children:ue||"Detecting location..."})}),l.jsxs(Qe,{sx:{mt:3,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx($e,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Featured Brands"}),l.jsx($e,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Access several brands and medicine alternatives"})]}),l.jsx(Qe,{sx:{mt:1,mb:2,background:"none",backgroundSize:"unset",borderRadius:0,minHeight:180,px:0,py:0,pt:1,position:"relative"},children:j.length===0?null:l.jsx(WG,{...Ue,children:j.map((Y,ae)=>l.jsx(Qe,{sx:{px:1},children:l.jsxs(Hf,{sx:{height:{xs:170,sm:190,md:210},width:{xs:135,sm:160,md:200},minWidth:0,maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",p:0,background:"#fff",boxShadow:"0 2px 12px 0 #00968822",borderRadius:4,position:"relative",mx:"auto",overflow:"hidden"},children:[l.jsx(T2,{component:"img",image:Y.image||"/default-medicine.png",alt:Y.name,sx:{width:{xs:60,sm:90,md:128},height:{xs:60,sm:90,md:128},objectFit:"contain",mt:{xs:1,sm:1,md:1},mb:1,mx:"auto"}}),l.jsxs(Kf,{sx:{p:0,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[l.jsx($e,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center",color:"#222",fontSize:14,mb:.3,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:Y.name||"Unnamed",children:Y.name||"Unnamed"}),l.jsx(Vn,{variant:"contained",size:"small",sx:{borderRadius:2,fontSize:"0.82em",fontWeight:600,px:1.2,py:.3,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:60,minHeight:28,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:()=>J(`/shop?search=${encodeURIComponent(Y.name)}`),children:l.jsx("span",{className:"button-content",children:"REQUEST"})})]})]})},Y.id||ae))})}),l.jsxs(Qe,{sx:{mt:6,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx($e,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Drug Classes"}),l.jsx($e,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Find Medicines by sorting drug classes"})]}),l.jsx(Qe,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2,position:"relative"},children:l.jsx(UG,{drugClasses:F,previewProducts:j,navigate:J})}),l.jsxs(Qe,{sx:{mt:6,mb:2,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx($e,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Pharmacy outlets near you"}),l.jsx($e,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Search for drugs from pharmacy outlets closest to you, and discover the best options for your needs."}),l.jsx(Qe,{sx:{mb:2,width:"100%",display:"flex",justifyContent:"flex-start"},children:l.jsx(wn,{variant:"outlined",placeholder:"Search for a pharmacy store...",value:ee||"",onChange:Y=>V(Y.target.value),size:"small",sx:{width:{xs:180,sm:260,md:320},background:"#fff",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"},"& input":{padding:"8px 14px",fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},InputProps:{style:{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"}}})}),l.jsx(Qe,{sx:{mb:2,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:te.length===0?l.jsx(Qe,{sx:{color:"#bbb",fontStyle:"italic",fontSize:18,textAlign:"center",py:4},children:"No providers found."}):l.jsxs(Qe,{sx:{position:"relative",width:"100%"},children:[l.jsx(Qe,{sx:{display:"flex",flexDirection:"row",overflowX:"auto",gap:2,width:"100%",pb:1,scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},id:"pharmacy-scroll-box",children:te.map(Y=>l.jsx(Qe,{sx:{px:1,minWidth:250,maxWidth:270,width:250,flex:"0 0 250px",scrollSnapAlign:"start"},children:l.jsxs(Hf,{sx:{minWidth:250,maxWidth:270,width:250,mx:"auto",borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>J(`/store/${Y.slug}`),children:[l.jsx(T2,{component:"img",height:"80",image:Y.img,alt:Y.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(Kf,{sx:{textAlign:"center",pb:2},children:[l.jsx($e,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:Y.name}),l.jsx($e,{variant:"body2",color:"text.secondary",children:me(Y.minutesAway,Y)}),l.jsx(Vn,{size:"small",variant:"contained",sx:{mt:1,borderRadius:2,fontSize:"0.92em",fontWeight:600,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:0,minHeight:0,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:ae=>{ae.stopPropagation(),J(`/store/${Y.slug}`)},children:l.jsx("span",{className:"button-content",children:"Visit"})})]})]})},Y.slug))}),l.jsx(Vn,{sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const Y=document.getElementById("pharmacy-scroll-box");Y&&Y.scrollBy({left:-260,behavior:"smooth"})},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Vn,{sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const Y=document.getElementById("pharmacy-scroll-box");Y&&Y.scrollBy({left:260,behavior:"smooth"})},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),l.jsx(Qe,{sx:{width:"100%",display:"flex",justifyContent:"center",mt:1,mb:2},children:l.jsx(Vn,{component:Wu,to:"/store",size:"small",variant:"contained",sx:{px:2.5,py:.7,fontWeight:600,fontSize:"0.98em",borderRadius:2,boxShadow:2,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",minWidth:0,minHeight:0,"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},children:" Find a pharmacy store near you"})}),l.jsxs(Qe,{sx:{width:"100%",maxWidth:1100,mx:"auto",mt:6,mb:4,px:{xs:1.5,sm:2,md:3}},children:[l.jsx($e,{variant:"h5",fontWeight:700,sx:{mb:1,color:"#222",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#009688"},onClick:()=>J("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Med Interface"})}),l.jsx($e,{variant:"subtitle1",sx:{mb:3,color:"#555",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#555"},onClick:()=>J("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Converse with verified health professionals, review prescriptions, and get consultations for your health needs."})}),l.jsx(Qe,{sx:{maxWidth:340,mb:2},children:l.jsx(wn,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search by name, pharmacy, or profession",value:P,onChange:Y=>E(Y.target.value),sx:{background:"#fff",borderRadius:2},InputProps:{style:{fontSize:15}}})}),l.jsx(Qe,{sx:{width:"100%"},children:l.jsxs(Qe,{sx:{position:"relative",width:"100%"},children:[l.jsx(Vn,{onClick:()=>{const Y=document.getElementById("medics-scroll-box");Y&&Y.scrollBy({left:-220,behavior:"smooth"})},sx:{position:"absolute",left:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:p.length>4?"flex":"none"},"aria-label":"Scroll left",children:""}),l.jsx(Qe,{id:"medics-scroll-box",sx:{display:"flex",gap:2,overflowX:"auto",scrollBehavior:"smooth",py:1,px:.5},children:p.filter(Y=>{var ae,Oe,xe;const ve=P.toLowerCase();return((ae=Y.name)==null?void 0:ae.toLowerCase().includes(ve))||""||((Oe=Y.profession)==null?void 0:Oe.toLowerCase().includes(ve))||""||((xe=Y.pharmacyName)==null?void 0:xe.toLowerCase().includes(ve))||""}).map(Y=>l.jsxs(Qe,{sx:{width:180,flex:"0 0 auto",p:2,border:"1px solid #eee",borderRadius:2,background:"#fafbfc",boxShadow:1,display:"flex",flexDirection:"column",alignItems:"center",mb:2,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s","&:hover":{boxShadow:3,border:"1.5px solid #009688"}},onClick:()=>J("/medinterface"),children:[l.jsx(wU,{src:Y.photo,alt:Y.name,sx:{width:56,height:56,mb:1}}),l.jsx($e,{variant:"subtitle1",fontWeight:600,sx:{textAlign:"center",fontSize:16},children:Y.name}),l.jsx($e,{variant:"body2",sx:{color:"#555",textAlign:"center",fontSize:14,mb:.5},children:Y.profession}),Y.pharmacyName&&l.jsx($e,{variant:"caption",sx:{color:"#D5007D",textAlign:"center",fontWeight:500},children:Y.pharmacyName})]},Y.id))}),l.jsx(Vn,{onClick:()=>{const Y=document.getElementById("medics-scroll-box");Y&&Y.scrollBy({left:220,behavior:"smooth"})},sx:{position:"absolute",right:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:p.length>4?"flex":"none"},"aria-label":"Scroll right",children:""})]})})]}),l.jsxs(Qe,{sx:{width:"100%",maxWidth:600,mx:"auto",my:6,p:{xs:2,sm:4},background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderRadius:3,boxShadow:2,textAlign:"center"},children:[l.jsx($e,{variant:"h6",fontWeight:700,sx:{mb:1,color:"#009688"},children:"Stay Updated!"}),l.jsx($e,{variant:"body1",sx:{mb:2,color:"#444"},children:"Subscribe to our newsletter for health tips, new features, and exclusive offers."}),l.jsxs(Qe,{component:"form",onSubmit:Y=>{Y.preventDefault(),alert("Thank you for subscribing!")},sx:{display:"flex",gap:1,justifyContent:"center",flexWrap:"wrap"},children:[l.jsx(wn,{type:"email",required:!0,size:"small",placeholder:"Enter your email",sx:{background:"#fff",borderRadius:2,minWidth:220}}),l.jsx(Vn,{type:"submit",variant:"contained",sx:{background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",fontWeight:600,px:3,borderRadius:2,boxShadow:1},children:"Subscribe"})]})]}),l.jsx(Qe,{component:"footer",sx:{width:"100%",mt:6,py:4,background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderTop:"1.5px solid #e0e0e0"},children:l.jsx(Qe,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:3},children:l.jsxs(Qe,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},width:"100%"},children:[l.jsxs(Qe,{sx:{textAlign:"center",mb:2},children:[l.jsx($e,{variant:"h6",fontWeight:700,sx:{color:"#1976d2",mb:.5},children:l.jsx("span",{style:{color:"#009688"},children:"Pharmastackx"})}),l.jsx($e,{variant:"body2",sx:{color:"#666",maxWidth:420,mx:"auto"},children:"Building Africa's essential digital infrastructure for real-time, reliable access to medicines and healthcare."})]}),l.jsxs(Qe,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",width:"100%",mb:2,gap:2,flexWrap:"wrap"},children:[l.jsxs(Qe,{sx:{minWidth:100,flex:1},children:[l.jsx($e,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"left",letterSpacing:.2,cursor:"pointer",transition:"color 0.2s",fontSize:{xs:"1.05rem",sm:"1.25rem"},"&:hover":{color:"#00796b",textDecoration:"underline"}},onClick:()=>J("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:"About Us"}),l.jsxs($e,{variant:"body2",sx:{color:"#666",maxWidth:260,mt:.5,cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center","&:hover":{color:"#009688",textDecoration:"underline"}},onClick:()=>J("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:["Read our about section, find our mission, vision and how we are impacting lives positively...",l.jsx("span",{style:{marginLeft:2,fontWeight:700,fontSize:"1.3em",color:"#009688",lineHeight:1},children:""})]})]}),l.jsxs(Qe,{id:"footer-contact-section",sx:{minWidth:220,flex:1,position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1,overflow:"hidden","&::after":O?{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle at 50% 50%, rgba(37,211,102,0.13) 0%, rgba(25,118,210,0.09) 60%, transparent 100%)",animation:"footer-contact-wave 0.7s cubic-bezier(.4,1.6,.6,1) 1",zIndex:2}:{},"@keyframes footer-contact-wave":{"0%":{opacity:0,transform:"scale(0.7)"},"40%":{opacity:1,transform:"scale(1.05)"},"100%":{opacity:0,transform:"scale(1.25)"}}},children:[l.jsx($e,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"right",letterSpacing:.2,cursor:"default",fontSize:{xs:"1.05rem",sm:"1.25rem"}},children:"Contact"}),l.jsxs(Qe,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},children:[l.jsxs("a",{href:"mailto:pharmastackx@gmail.com",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M6 8l6 5 6-5",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"2",stroke:"#fff",strokeWidth:"1.5"})]}),"pharmastackx@gmail.com"]}),l.jsxs("a",{href:"tel:2349050006638",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M17.472 15.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]}),"234 90 5000 6638"]}),l.jsxs("a",{href:"https://instagram.com/pharmastackx",target:"_blank",rel:"noopener noreferrer",style:{color:"#d6249f",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#d6249f"}),l.jsx("path",{d:"M16.98 7.02A2.98 2.98 0 0 0 14 4H10A2.98 2.98 0 0 0 7.02 7.02V17A2.98 2.98 0 0 0 10 20h4a2.98 2.98 0 0 0 2.98-2.98V7.02zM12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm4.25-.75a.75.75 0 1 1-.75-.75.75.75 0 0 1 .75.75zM12 10a2 2 0 1 0 2 2 2 2 0 0 0-2-2z",fill:"#fff"})]}),"@pharmastackx"]})]})]})]}),l.jsx(Qe,{sx:{width:"100%",mt:3},children:l.jsxs($e,{variant:"caption",sx:{color:"#888",display:"block",textAlign:"center"},children:[" ",new Date().getFullYear()," Pharmastackx. All rights reserved."]})})]})})})]})})}const SA=x.createContext(null);function qG({children:t}){const[e,n]=x.useState(null);return x.useEffect(()=>{const r=Or(),i=Wi(r,async o=>{if(o)try{const a=await xn(Me(re,"users",o.uid));a.exists()?n({...o,...a.data()}):n(o)}catch{n(o)}else n(null)});return()=>i()},[]),l.jsx(SA.Provider,{value:{user:e,setUser:n},children:t})}function Hm(){return x.useContext(SA)}var Xx={},oC={};const HG=Fi(kW);var aC;function Yx(){return aC||(aC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=HG}(oC)),oC}var KG=pd;Object.defineProperty(Xx,"__esModule",{value:!0});var kA=Xx.default=void 0,GG=KG(Yx()),QG=l,XG=(0,GG.default)((0,QG.jsx)("path",{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6V5zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"}),"LocalPharmacy");kA=Xx.default=XG;function YG(){return l.jsxs(Qe,{sx:{width:"100%",minHeight:{xs:120,sm:160},background:"linear-gradient(90deg, #009688 60%, #43e97b 100%)",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"flex-start",px:{xs:2,sm:6},py:{xs:2,sm:4},boxShadow:3,mb:3,mt:1,gap:2},children:[l.jsx(kA,{sx:{fontSize:{xs:40,sm:56},color:"#fff",mr:2}}),l.jsxs(Qe,{children:[l.jsx($e,{variant:"h4",sx:{color:"#fff",fontWeight:800,letterSpacing:1,mb:.5,fontSize:{xs:22,sm:32}},children:"Find & Order Medicines"}),l.jsx($e,{variant:"subtitle1",sx:{color:"#e0f2f1",fontWeight:400,fontSize:{xs:15,sm:18}},children:"Search, compare, and get your medicines delivered fast from trusted retailers."})]})]})}function JG({categories:t,selected:e,onSelect:n}){return l.jsxs(Qe,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2,mt:1},children:[l.jsx(C2,{label:"All",clickable:!0,onClick:()=>n(null),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:e?void 0:"linear-gradient(90deg,#b1005a,#a1004a)",color:e?void 0:"#fff",boxShadow:e?void 0:"0 2px 8px #b1005a33","&:hover":{background:e?void 0:"linear-gradient(90deg,#a1004a,#b1005a)"}}}),t.map(r=>l.jsx(C2,{label:r,clickable:!0,onClick:()=>n(r),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:e===r?"linear-gradient(90deg,#b1005a,#a1004a)":void 0,color:e===r?"#fff":void 0,boxShadow:e===r?"0 2px 8px #b1005a33":void 0,"&:hover":{background:e===r?"linear-gradient(90deg,#a1004a,#b1005a)":void 0}}},r))]})}const ZG=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function Bn(){return typeof window<"u"&&window.innerWidth<=600}function eQ(){ha();const[t,e]=x.useState(!1),{slug:n}=$u(),{user:r}=Hm(),[i,o]=x.useState([]),[a,s]=x.useState([]),[c,u]=x.useState(""),[h,f]=x.useState(null),[v,b]=x.useState(null),[_,S]=x.useState(""),[T,C]=x.useState(!0),[g,y]=x.useState(typeof window<"u"?window.innerWidth:1200),[O,M]=x.useState(null);Or();const P=(m,w,R,j)=>{const I=$=>$*Math.PI/180,L=I(R-m),B=I(j-w),G=Math.sin(L/2)**2+Math.cos(I(m))*Math.cos(I(R))*Math.sin(B/2)**2;return 6371*(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)))},E=m=>{const w=m*1.64,R=Math.max(1,Math.round(w/25*60));return{drivingKm:w,minutes:R}};x.useEffect(()=>{C(!0);const m=It(ze(re,"products"),async w=>{const R=(await Promise.all(w.docs.map(async j=>{var I,L;const B={id:j.id,...j.data()};if(B.ownerId){const G=Me(re,"users",B.ownerId),$=await xn(G);if($.exists()){const F=$.data();B.businessName=F.businessName||"Unknown Pharmacy",B.ownerSlug=F.slug||null,B.ownerRole=F.role||null,(I=F.location)!=null&&I.latitude&&(L=F.location)!=null&&L.longitude&&(B.businessLat=F.location.latitude,B.businessLng=F.location.longitude),B.businessState=F.businessState||F.state||""}}return B}))).filter(j=>j.ownerRole!=="distributor");o(R),C(!1)});return()=>m()},[]),x.useEffect(()=>{const m=()=>y(window.innerWidth);return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),x.useEffect(()=>{if(i.length===0)return;const m=O;let w=n?i.filter(q=>q.ownerSlug===n):i;if(_){const q=_.toLowerCase();w=w.filter(H=>{const K=(H.businessState||H.state||"").toLowerCase();return!!((H.ownerRole==="medicine-manager"||H.role==="medicine-manager")&&K.includes(q))})}let R=w;m&&(R=R.filter(q=>(q.class||q.category||"").toLowerCase()===m.toLowerCase()));const j={};for(const q of R){const H=(q.normalizedName||q.name||"").toLowerCase().trim();j[H]||(j[H]=[]),j[H].push(q)}const I=Object.values(j).map(q=>(v&&v!=="denied"&&(q=q.map(H=>{if(H.businessLat&&H.businessLng){const K=P(v.lat,v.lng,H.businessLat,H.businessLng),{minutes:Q}=E(K);return{...H,minutesAway:Q}}return{...H,minutesAway:1/0}}),q.sort((H,K)=>H.minutesAway-K.minutesAway)),q)).flat(),L=(q="")=>q.toLowerCase().trim().replace(/\s+/g," "),B={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},G=L(c),$=(B[G]||G).split(" "),F=(q,H)=>q.includes(H)||H.length>3&&q.startsWith(H.slice(0,3))||H.length>3&&q.endsWith(H.slice(-3)),U=I.filter(q=>{const H=L(q.name),K=L(q.ingredient),Q=L(q.class);return $.some(ue=>H.includes(ue)||K.includes(ue)||Q.includes(ue)||F(H,ue)||F(K,ue)||F(Q,ue))});s(U)},[i,v,c,n,O,_]);const p=async m=>{if(!r)return alert("Please log in first");let w={...m};if((!w.businessPhone||!w.businessWhatsapp)&&w.ownerId)try{const B=Me(re,"users",w.ownerId),G=await xn(B);if(G.exists()){const $=G.data();w.businessPhone=$.businessPhone||"",w.businessWhatsapp=$.businessWhatsapp||""}}catch{}const R=Me(re,"carts",r.uid),j=await xn(R);let I=j.exists()?j.data().items||[]:[];const L=I.findIndex(B=>B.name===w.name);L>=0?I[L].quantity+=1:I.push({...w,quantity:1}),await Qr(R,{items:I}),f(m.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>f(null),1e3)};return l.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:Bn()?"10px 2vw":"32px 0",position:"relative",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:l.jsxs(pi,{elevation:4,sx:{width:"100%",maxWidth:1200,minHeight:"80vh",borderRadius:4,background:"#fff",boxShadow:3,p:{xs:1.5,sm:3,md:5},mt:4,mb:4,mx:"auto",overflow:"hidden"},children:[l.jsx(YG,{}),t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx(Wu,{to:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(JG,{categories:Array.from(new Set(i.map(m=>(m.class||m.category||"").trim())).values()).filter(Boolean),selected:O,onSelect:M}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:Bn()?8:16,margin:Bn()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(255,255,255,0.97)",padding:Bn()?"6px 2vw":"14px 32px",borderRadius:16,boxShadow:"0 2px 12px #00968822",maxWidth:900,marginLeft:"auto",marginRight:"auto"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:m=>u(m.target.value),style:{padding:Bn()?"10px":"14px",width:"100%",maxWidth:Bn()?"98vw":"400px",borderRadius:"99px",border:"1.5px solid #00968855",fontSize:Bn()?15:17,background:"#f8fafc",boxShadow:"0 1px 8px #00968811",outline:"none",color:"#222",fontWeight:500,transition:"border 0.2s"}}),l.jsxs("select",{value:_,onChange:m=>S(m.target.value),style:{padding:Bn()?"10px":"14px",borderRadius:99,border:"1.5px solid #00968855",fontSize:Bn()?15:17,minWidth:Bn()?120:180,background:"#f8fafc",color:"#222",outline:"none",boxShadow:"0 1px 8px #00968811",fontWeight:500,transition:"border 0.2s"},children:[l.jsx("option",{value:"",children:"Sort by state"}),ZG.map(m=>l.jsx("option",{value:m,children:m},m))]})]}),T?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:g<=420?"repeat(2, 1fr)":g<=800?"repeat(3, 1fr)":"repeat(auto-fill, minmax(240px, 1fr))",gap:g<=420?12:g<=800?18:24,marginTop:18,alignItems:"start",padding:Bn()?"0 2vw":"0 16px",maxWidth:1100,marginLeft:"auto",marginRight:"auto"},children:a.map(m=>l.jsxs("div",{style:{border:"1.5px solid #b2dfdb",padding:"22px 18px",borderRadius:"14px",background:"#fff",boxShadow:"0 2px 10px #00968818",position:"relative",width:180,height:240,transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch",margin:"0 auto"},onMouseEnter:w=>{Bn()||(w.currentTarget.style.boxShadow="0 8px 24px #00968822",w.currentTarget.style.transform="translateY(-2px) scale(1.03)")},onMouseLeave:w=>{Bn()||(w.currentTarget.style.boxShadow="0 2px 10px #00968818",w.currentTarget.style.transform="none")},children:[m.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),m.isPOM&&l.jsx("span",{style:{position:"absolute",top:m.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),m.image?l.jsx("img",{src:m.image,alt:m.name,style:{width:"100%",height:g<=420?40:g<=800?53:68,objectFit:"contain",borderRadius:"8px",marginBottom:g<=420?6:10,background:"#e0f2f1"},onError:w=>{w.target.onerror=null,w.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:Bn()?40:68,borderRadius:8,marginBottom:Bn()?6:10,background:"#e0f2f1",display:"flex",alignItems:"center",justifyContent:"center",color:"#b2dfdb",fontSize:Bn()?13:16,fontWeight:700},children:"No Image"}),l.jsx(q2,{title:m.name||"Unnamed Drug",arrow:!0,placement:"top",children:l.jsx("strong",{style:{fontSize:m.name&&m.name.length>18?g<=420?8:g<=800?10:11:g<=420?11:g<=800?13:15,color:"#00695c",marginBottom:2,fontWeight:700,letterSpacing:.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",cursor:m.name&&m.name.length>18?"pointer":"inherit"},children:m.name||"Unnamed Drug"})}),l.jsx(q2,{title:m.ingredient||"No ingredient listed",arrow:!0,placement:"top",children:l.jsx("p",{style:{fontSize:g<=420?9:12,color:"#009688",margin:0,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",cursor:m.ingredient&&m.ingredient.length>18?"pointer":"inherit"},children:l.jsx("em",{children:m.ingredient||"No ingredient listed"})})}),l.jsx("p",{style:{fontSize:g<=420?8:11,color:"#444",margin:"2px 0 0 0"},children:m.class||""}),l.jsxs("p",{style:{fontSize:g<=420?10:13,color:"#009688",fontWeight:700,margin:"4px 0 0 0"},children:["",m.price!==void 0?m.price:"N/A"]}),l.jsxs("p",{style:{fontSize:g<=420?8:10,color:"#888",margin:"4px 0 0 0",fontWeight:400},children:[" ",m.ownerSlug?l.jsx("a",{href:`/store/${m.ownerSlug}`,style:{color:"#009688",textDecoration:"underline",cursor:"pointer",fontWeight:400,fontSize:g<=420?8:10},children:m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"}):m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>p(m),style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",border:"none",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:15,cursor:"pointer",boxShadow:"0 2px 8px #b1005a33",transition:"background 0.2s, box-shadow 0.2s, transform 0.15s",position:"absolute",bottom:10,right:10,zIndex:2,outline:"none",borderColor:"transparent",overflow:"hidden"},onMouseEnter:w=>{w.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",w.currentTarget.style.boxShadow="0 4px 16px #b1005a55",w.currentTarget.style.transform="scale(1.08)"},onMouseLeave:w=>{w.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",w.currentTarget.style.boxShadow="0 2px 8px #b1005a33",w.currentTarget.style.transform="none"},"aria-label":"Add to cart",disabled:typeof p!="function",children:l.jsx("span",{style:{position:"relative",zIndex:1,fontSize:16,lineHeight:1},children:"+"})}),m.minutesAway&&m.minutesAway!==1/0&&l.jsx("p",{style:{color:"#111",fontWeight:500,margin:"6px 0 0 0",fontSize:9,letterSpacing:.1},children:m.minutesAway<=1?" Right here":` ~${m.minutesAway} mins away`}),h===m.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},m.id))})]})})}function CA(){const[t,e]=x.useState("normal"),[n,r]=x.useState(!1),[i,o]=x.useState([]),a=Array.from(new Set(i.map(C=>C.ownerId).filter(Boolean))),s=a.length>1,c=async C=>{if(!h||!h.uid)return;const g=Me(re,"carts",h.uid);let y=[...i];const O=y.findIndex(M=>M.name===C.name);O>-1?y[O]={...y[O],quantity:(y[O].quantity||1)+1}:y.push({...C,quantity:1}),o(y),await Qr(g,{items:y},{merge:!0})},u=async C=>{if(!h||!h.uid)return;const g=Me(re,"carts",h.uid);let y=[...i];const O=y.findIndex(M=>M.name===C);O>-1&&((y[O].quantity||1)>1?y[O]={...y[O],quantity:y[O].quantity-1}:y.splice(O,1)),o(y),await Qr(g,{items:y},{merge:!0})},{user:h}=Hm(),[f,v]=x.useState(0),[b,_]=x.useState(!1);x.useEffect(()=>{if(!h||!h.uid){o([]);return}(async()=>{try{const C=Me(re,"carts",h.uid),g=await xn(C);if(g.exists()){const y=g.data();o(Array.isArray(y.items)?y.items:[])}else o([])}catch{o([]),De.error("Failed to load cart")}})()},[h]);const S=gr();function T(){let C="single",g=a.length;s&&(t==="premium"?C="multiple-premium":C="multiple-normal"),S("/payment",{state:{orderType:C,businessCount:g}})}return x.useEffect(()=>{const C=i.reduce((g,y)=>g+y.price*(y.quantity||1),0);v(C)},[i]),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"32px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("div",{style:{width:"100%",maxWidth:700,marginBottom:18,position:"relative",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{borderRadius:16,padding:"24px 0 18px 0",background:"#fff",width:"100%",maxWidth:700,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"0 4px 24px 0 rgba(0,150,136,0.10)"},children:[l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:32,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.2,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:10,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:34,marginRight:4},children:""})," Your Cart"]}),h?l.jsxs("div",{style:{color:"#111",fontSize:16,marginTop:10,fontWeight:500},children:["Logged in as: ",l.jsx("span",{style:{color:"#b1005a",fontWeight:700},children:h.email})]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginTop:10,fontWeight:700},children:"Please log in to view your cart."})]})}),l.jsxs("div",{style:{width:"100%",maxWidth:700,margin:"0 auto",display:"flex",gap:24,alignItems:"flex-start",justifyContent:"center",marginTop:10,flexDirection:window.innerWidth<=600?"column":"row",padding:window.innerWidth<=600?"0 8px":void 0},children:[l.jsx("div",{style:{flex:2,minWidth:320,maxWidth:420,width:"100%"},children:i.length===0?l.jsx("div",{style:{color:"#888",fontSize:20,marginTop:40,textAlign:"center",fontWeight:600,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #00968822"},children:"Your cart is empty. Start shopping to add medicines!"}):b?l.jsxs("form",{onSubmit:handleRegistrationSubmit,style:{background:"#fff0f6",padding:24,borderRadius:12,margin:"20px 0",boxShadow:"0 2px 12px #b1005a22"},children:[l.jsx("h3",{style:{color:"#b1005a",fontWeight:800},children:"Distributor Registration Required"}),l.jsx("p",{style:{color:"#111",fontWeight:500},children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),distributorIds.map((C,g)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:10,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#b1005a",fontWeight:700},children:["Distributor ",g+1]}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(businessInfo==null?void 0:businessInfo.email)||(h==null?void 0:h.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsxs("p",{style:{fontSize:14,color:"#444",fontWeight:500},children:["Products from this distributor: ",i.filter(y=>y.ownerId===C).map(y=>y.name).join(", ")]})]},C)),l.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #b1005a33",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:C=>C.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",onMouseLeave:C=>C.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[i.map((C,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #00968822",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s",width:420,maxWidth:"100%"},onMouseEnter:y=>{y.currentTarget.style.boxShadow="0 8px 32px #b1005a33",y.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:y=>{y.currentTarget.style.boxShadow="0 2px 12px #00968822",y.currentTarget.style.transform="none"},children:[C.image?l.jsx("img",{src:C.image,alt:C.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:y=>{y.target.onerror=null,y.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b1005a",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18,color:"#111"},children:C.name}),l.jsxs("div",{style:{color:"#009688",fontWeight:700,fontSize:16},children:["",C.price," ",l.jsxs("span",{style:{color:"#222",fontWeight:500,fontSize:15},children:["x ",C.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>c(C),style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #b1005a33",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",onMouseLeave:y=>y.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",children:"+"}),l.jsx("button",{onClick:()=>u(C.name),style:{background:"#111",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #1112",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="#222",onMouseLeave:y=>y.currentTarget.style.background="#111",children:"-"})]})]},g)),i.some(C=>C.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:700},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,minWidth:260,maxWidth:320,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",width:"100%",marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:i.reduce((C,g)=>C+(g.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",f]}),!b&&l.jsx(l.Fragment,{children:s?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>r(!0),style:{width:"100%",background:"#e10098",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #e1009822",transition:"background 0.2s",marginBottom:n?0:12},onMouseEnter:C=>C.currentTarget.style.background="#b1005a",onMouseLeave:C=>C.currentTarget.style.background="#e10098",disabled:n,children:"Checkout"}),n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{width:"100%",margin:"18px 0 0 0",display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[l.jsxs("div",{style:{display:"flex",gap:12,width:"100%",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>e("normal"),style:{background:t==="normal"?"#e10098":"#fff",color:t==="normal"?"#fff":"#b1005a",border:t==="normal"?"none":"2px solid #e10098",borderRadius:8,padding:"10px 18px",fontWeight:700,cursor:"pointer",boxShadow:t==="normal"?"0 2px 8px #e1009822":"none",transition:"background 0.2s, color 0.2s",outline:"none",minWidth:120,whiteSpace:"normal",lineHeight:1.2,fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:"Normal (Recommended)"}),l.jsx("button",{onClick:()=>e("premium"),style:{background:t==="premium"?"#e10098":"#fff",color:t==="premium"?"#fff":"#b1005a",border:t==="premium"?"none":"2px solid #e10098",borderRadius:8,padding:"10px 18px",fontWeight:700,cursor:"pointer",boxShadow:t==="premium"?"0 2px 8px #e1009822":"none",transition:"background 0.2s, color 0.2s",outline:"none",minWidth:120,whiteSpace:"normal",lineHeight:1.2,fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:"Premium"})]}),l.jsx("div",{style:{marginTop:4,width:"100%",textAlign:"center",color:"#444",fontSize:15,fontWeight:500},children:t==="normal"?l.jsxs("span",{children:["Your orders will be sourced from the ",l.jsx("b",{children:"best singular retailer"})," that has all your medication request ",l.jsx("span",{style:{color:"#009688"},children:"(cheaper)"}),"."]}):l.jsxs("span",{children:["Your order will come from the ",l.jsx("b",{children:"different pharmacies you selected"})," to you ",l.jsx("span",{style:{color:"#e53e3e"},children:"(multiple delivery fees inclusive; has no effect on speed)"}),"."]})})]}),l.jsx("button",{onClick:T,style:{width:"100%",background:"#009688",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:17,cursor:"pointer",boxShadow:"0 2px 8px #00968822",marginTop:18},children:"Continue to Payment"})]})]}):l.jsx("button",{onClick:T,style:{width:"100%",background:"#e10098",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #e1009822",transition:"background 0.2s"},onMouseEnter:C=>C.currentTarget.style.background="#b1005a",onMouseLeave:C=>C.currentTarget.style.background="#e10098",children:"Checkout"})})]})})]})]})}const tQ=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const o=Math.floor(i/60);if(o<60)return`${o} minutes ago`;const a=Math.floor(o/60);if(a<24)return`${a} hours ago`;const s=Math.floor(a/24);return s<7?`${s} day${s>1?"s":""} ago`:n.toLocaleString()};function nQ(){const[t,e]=x.useState(null),[n,r]=x.useState([]),[i,o]=x.useState("Pending"),[a,s]=x.useState({}),c=Or();if(x.useEffect(()=>{const b=Wi(c,_=>{if(e(_),_){const S=Tr(ze(re,"orders"),Ir("userId","==",_.uid)),T=It(S,C=>{const g=C.docs.map(y=>({id:y.id,...y.data()}));g.sort((y,O)=>new Date(O.date)-new Date(y.date)),r(g)});return()=>T()}});return()=>b()},[c]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const u=async b=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const _=Me(re,"orders",b);await on(_,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},h=b=>{s(_=>({..._,[b]:!_[b]}))},f=["Pending","Processing","Completed","Cancelled"].reduce((b,_)=>(b[_]=n.filter(S=>(S.status||"Pending")===_),b),{}),v=b=>Array.isArray(b)?b.reduce((_,S)=>_+Number(S.price)*(Number(S.quantity)||1),0):0;return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"18px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",width:"100vw",maxWidth:"100vw",overflowX:"hidden"},children:[l.jsx("div",{style:{width:"100%",maxWidth:340,marginBottom:12,position:"relative",display:"flex",justifyContent:"center",padding:"0 6px"},children:l.jsx(pi,{elevation:6,sx:{borderRadius:2.5,px:{xs:1,sm:2},py:{xs:1,sm:1.5},boxShadow:"0 2px 12px 0 rgba(0,150,136,0.10)",background:"#fff",position:"relative",width:"100%",maxWidth:340,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:22,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.1,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:8,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:22,marginRight:3},children:""})," Your Orders"]})})}),l.jsx("div",{style:{display:"flex",gap:0,marginBottom:12,background:"#fff",borderRadius:12,boxShadow:"0 1px 6px #00968822",padding:2,maxWidth:400,width:"100%",justifyContent:"center",overflowX:"visible",border:"1px solid #e0e0e0"},children:["Processing","Completed","Cancelled","Pending"].map((b,_)=>{var S;return l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[l.jsx("button",{onClick:()=>o(b),style:{background:i===b?"#e0f7fa":"transparent",color:i===b?"#009688":"#444",border:"none",borderRadius:0,padding:"4px 0 0 0",fontWeight:700,fontSize:13,width:"100%",transition:"background 0.18s",outline:"none",cursor:"pointer",margin:0,minHeight:28},children:b}),l.jsx("span",{style:{fontWeight:800,fontSize:12,color:i===b?"#009688":"#888",marginTop:0,textAlign:"center",width:"100%",display:"block"},children:((S=f[b])==null?void 0:S.length)||0}),_<3&&l.jsx("div",{style:{position:"absolute",right:0,top:6,bottom:6,width:1,background:"#e0e0e0",height:"70%",margin:"auto 0"}})]},b)})}),f[i].length===0?l.jsx(pi,{elevation:2,sx:{mb:2,width:"100%",maxWidth:340,borderRadius:3,background:"#fff",boxShadow:1,p:{xs:1,sm:2},mx:"auto",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:80},children:l.jsxs("p",{style:{color:"#888",fontSize:18,margin:0,textAlign:"center",width:"100%"},children:["No ",i.toLowerCase()," orders."]})}):f[i].map(b=>{var _;return l.jsxs(pi,{elevation:2,sx:{mb:2,width:"100%",maxWidth:340,borderRadius:3,background:"#fff",boxShadow:1,p:{xs:1,sm:2},mx:"auto",overflow:"hidden",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #f5f5f5 0%, #e0f7fa 100%)",padding:"18px 20px 10px 20px",borderBottom:"1px solid #e0e0e0",borderTopLeftRadius:12,borderTopRightRadius:12,minHeight:54},children:[l.jsxs("div",{style:{fontWeight:700,color:"#111",fontSize:16,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",tQ(b.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:180},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#111"},children:"Medicines provided by:"}),b.items&&b.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(b.items.reduce((S,T)=>{const C=T.businessName||"Unknown",g=T.businessPhone||T.phoneNumber||"N/A",y=T.businessWhatsapp||T.whatsappNumber||"N/A";return S.set(C+"__"+g+"__"+y,{name:C,phone:g,whatsapp:y}),S},new Map).values()).map(({name:S,phone:T,whatsapp:C})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[S," (",T&&T!=="N/A"?l.jsxs("a",{href:`tel:${T}`,style:{color:"#009688",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#009688",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",C&&C!=="N/A"?l.jsxs("a",{href:`https://wa.me/${C.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"})]},S+T+C))}):l.jsx("span",{children:"No business info"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#111"},children:"Delivery agent:"})," ",b.assignedAgentName||b.riderName||b.riderId||b.assignedAgentId||"Not assigned",(b.assignedAgentName||b.riderName||b.riderId||b.assignedAgentId)&&(b.agentPhoneNumber||b.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" ",b.agentPhoneNumber?l.jsxs("a",{href:`tel:${b.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:b.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",b.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${b.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:b.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>h(b.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:a[b.id]?"#e0f7fa":"#009688",color:a[b.id]?"#009688":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:a[b.id]?"0 2px 8px #e0f7fa":"none"},children:a[b.id]?"Hide Items":"View Items"}),a[b.id]&&((_=b.items)==null?void 0:_.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:b.items.map((S,T)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[S.image&&l.jsx("img",{src:S.image,onError:C=>{C.target.onerror=null,C.target.src="/pharmastack-logo.png"},alt:S.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[S.name,"  ",S.price," x ",S.quantity||1]})]},T))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:700,color:"#111",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",v(b.items||[])]}),(b.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>u(b.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#111",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},b.id)})]})}const el=function(t,e,n){let r=Promise.resolve();function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},rQ=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function iQ(){const t=gr(),{user:e,setUser:n}=Hm(),[r,i]=x.useState(""),[o,a]=x.useState(""),[s,c]=x.useState(""),[u,h]=x.useState(""),[f,v]=x.useState(""),[b,_]=x.useState(""),[S,T]=x.useState(""),[C,g]=x.useState(!1),[y,O]=x.useState(!1),[M,P]=x.useState(!1),[E,p]=x.useState({}),[m,w]=x.useState(!1),R={},[j,I]=x.useState(""),[L,B]=x.useState(""),[G,$]=x.useState(""),[F,U]=x.useState(""),[q,H]=x.useState(""),[K,Q]=x.useState(""),[ue,le]=x.useState(""),[Re,W]=x.useState(""),[ee,V]=x.useState(""),[J,te]=x.useState(""),[oe,me]=x.useState(""),[Se,Le]=x.useState(""),[_e,Ue]=x.useState(null),[ke,Y]=x.useState(!1),[ae,Oe]=x.useState(null),[xe,ve]=x.useState(!1),[Fe,Ye]=x.useState(""),[Ee,de]=x.useState("");Ce.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const ye=async()=>{try{if(!Re||!ee){alert("Please provide distributor name and license number.");return}const Z=await captureDistributorLocation();if(!Z){alert(" Location required to complete distributor signup.");return}const N=(await _c(_a,r,o)).user,ie=await At(Re),pe={email:N.email,role:"distributor",businessName:Re,licenseNumber:ee,location:Z,slug:ie,businessSlug:ie,createdAt:new Date().toISOString()};await at(N.uid,pe),n({...N,...pe}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${ie}`),O(!1),W(""),V(""),Ue(null)}catch(Z){console.error("Distributor signup error:",Z),alert(Z.message||"Distributor signup failed")}},nt=Z=>Z.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),At=async Z=>{let N=nt(Z);const ie=ze(re,"users");let pe=N,He=1;for(;;){const rt=Tr(ie,Ir("slug","==",pe));if((await Ht(rt)).empty)break;pe=`${N}${He++}`}return pe},at=async(Z,N)=>{console.log("Writing user doc for:",Z,N),await Qr(Me(re,"users",Z),N)},be=async()=>{try{if(!G||!F||!q){alert("Please provide address, state, and city.");return}const Z=(await _c(_a,r,o)).user,N={email:Z.email,role:"customer",address:G,state:F,city:q,landmark:K,createdAt:new Date().toISOString()};await at(Z.uid,N),n({...Z,...N}),alert(" Customer signup successful!")}catch(Z){console.error("Customer signup error:",Z),alert(Z.message)}},it=async()=>navigator.geolocation?(ve(!0),new Promise((Z,N)=>{navigator.geolocation.getCurrentPosition(ie=>{const pe={latitude:ie.coords.latitude,longitude:ie.coords.longitude};Oe(pe),ve(!1),Z(pe)},ie=>{ve(!1),alert(" Location access denied or unavailable."),N(ie)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),qe=async()=>{try{if(!s||!ue||!u){alert("Please provide business name, address, and license number.");return}const Z=await it();if(!Z){alert(" Location required to complete business signup.");return}const N=(await _c(_a,r,o)).user;console.log("Business user created:",N.uid);const ie=await At(s);console.log("Generated unique slug:",ie);const pe={email:N.email,role:"medicine-manager",businessName:s,address:u,city:b,state:f,landmark:S,licenseNumber:ue,location:Z,lat:Z.latitude,lng:Z.longitude,slug:ie,businessSlug:ie,businessPhone:Fe,businessWhatsapp:Ee,createdAt:new Date().toISOString()};await at(N.uid,pe),console.log("Firestore user record created for business:",pe),n({...N,...pe}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${ie}`),g(!1),c(""),h(""),le(""),Oe(null)}catch(Z){console.error("Business signup error:",Z),alert(Z.message||"Business signup failed")}},gn=async()=>{try{const Z=(await JI(_a,r,o)).user,N=await xn(Me(re,"users",Z.uid));N.exists()?(n({...Z,...N.data()}),N.data().role==="delivery-agent"&&N.data().slug&&t(`/agent/${N.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...Z}))}catch(Z){console.error("Login error:",Z),alert(Z.message||"Login failed")}},Pr=async()=>{await tj(_a),n(null)},Eo=async()=>{try{w(!0);const Z=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const Je of Z)if(!E[Je]){alert(`Please fill the ${Je} field.`),w(!1);return}const N=(await _c(_a,E.email,o)).user,ie=await At(E.companyName),pe={...E,role:"delivery-agent",slug:ie,createdAt:new Date().toISOString()};await at(N.uid,pe);const He={companyName:E.companyName,phoneNumber:E.phoneNumber,whatsappNumber:E.whatsappNumber,rcNumber:E.rcNumber,businessAddress:E.businessAddress,email:E.email,coverageArea:E.coverageArea,operatingHours:E.operatingHours,logoUrl:E.logoUrl,state:E.state,city:E.city,landmark:E.landmark,userId:N.uid,createdAt:new Date().toISOString(),slug:ie},{addDoc:rt,collection:Xt}=await el(async()=>{const{addDoc:Je,collection:Be}=await Promise.resolve().then(()=>Gb);return{addDoc:Je,collection:Be}},void 0);await rt(Xt(re,"deliveryAgents"),He),n({...N,...pe}),alert(" Delivery agent signup successful!"),P(!1),p(R)}catch(Z){console.error("Delivery agent signup error:",Z),alert(Z.message||"Delivery agent signup failed")}finally{w(!1)}},[ii,Mr]=x.useState(!1),[Yn,yr]=x.useState("customer"),oi=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:[l.jsx("h2",{style:{fontWeight:900,color:"#fff",marginBottom:24,letterSpacing:1,fontSize:window.innerWidth<=600?20:32,textAlign:"center",lineHeight:1.2,maxWidth:360,margin:"0 auto 24px auto"},children:" Welcome to Pharmastackx"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e10098",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Pr,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:370,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #00968833",padding:window.innerWidth<=600?18:36,marginTop:8,margin:"0 auto"},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#009688",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#e10098"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#e10098",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:ii?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:Yn,onChange:Z=>yr(Z.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:oi.map(Z=>l.jsx("option",{value:Z.key,children:Z.label},Z.key))})}),Yn==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:j,onChange:Z=>I(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:L,onChange:Z=>B(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:G,onChange:Z=>$(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:F,onChange:Z=>U(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:q,onChange:Z=>H(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:K,onChange:Z=>Q(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:be,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:xe,children:xe?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>Mr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ae.latitude.toFixed(5),", ",ae.longitude.toFixed(5)]})]}),Yn==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:s,onChange:Z=>c(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:u,onChange:Z=>h(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ue,onChange:Z=>le(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:f,onChange:Z=>v(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),rQ.map(Z=>l.jsx("option",{value:Z,children:Z},Z))]}),l.jsx("input",{type:"text",placeholder:"City",value:b,onChange:Z=>_(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:S,onChange:Z=>T(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:Fe,onChange:Z=>Ye(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:Ee,onChange:Z=>de(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:qe,style:{padding:"10px 0",background:"#009688",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:xe,children:xe?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>Mr(!1),style:{marginTop:8,width:"100%",background:"#b1005a",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ae.latitude.toFixed(5),", ",ae.longitude.toFixed(5)]})]}),Yn==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:Re,onChange:Z=>W(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ee,onChange:Z=>V(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:J,onChange:Z=>te(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:oe,onChange:Z=>me(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:Se,onChange:Z=>Le(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:ye,style:{padding:"10px 0",background:"#e10098",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:ke,children:ke?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>Mr(!1),style:{marginTop:8,width:"100%",background:"#b1005a",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),_e&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",_e.latitude.toFixed(5),", ",_e.longitude.toFixed(5)]})]}),Yn==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:E.companyName,onChange:Z=>p(N=>({...N,companyName:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:E.phoneNumber,onChange:Z=>p(N=>({...N,phoneNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:E.whatsappNumber,onChange:Z=>p(N=>({...N,whatsappNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:E.rcNumber,onChange:Z=>p(N=>({...N,rcNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:E.businessAddress,onChange:Z=>p(N=>({...N,businessAddress:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:E.state,onChange:Z=>p(N=>({...N,state:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:E.city,onChange:Z=>p(N=>({...N,city:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:E.landmark,onChange:Z=>p(N=>({...N,landmark:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:E.coverageArea,onChange:Z=>p(N=>({...N,coverageArea:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:E.operatingHours,onChange:Z=>p(N=>({...N,operatingHours:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:E.logoUrl,onChange:Z=>p(N=>({...N,logoUrl:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:E.email,onChange:Z=>p(N=>({...N,email:Z.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Eo,style:{padding:"10px 0",background:"#009688",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:m,children:m?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>Mr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#e10098",fontWeight:800,marginBottom:18,fontSize:22,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:gn,style:{flex:1,background:"#e10098",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>Mr(!0),style:{flex:1,background:"#009688",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var _A={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(mc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,s={},c=0,u={};function h(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(m){var w=M(m);w.chunkSize=parseInt(w.chunkSize),m.step||m.chunk||(w.chunkSize=null),this._handle=new S(w),(this._handle.streamer=this)._config=w}).call(this,p),this.parseChunk=function(m,w){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let I=this._config.newline;I||(j=this._config.quoteChar||'"',I=this._handle.guessLineEndings(m,j)),m=[...m.split(I).slice(R)].join(I)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(m))!==void 0&&(m=j),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+m,j=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(m=j.meta.cursor,R=(this._finished||(this._partialLine=R.substring(m-this._baseIndex),this._baseIndex=m),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:j,workerId:u.WORKER_ID,finished:R});else if(E(this._config.chunk)&&!w){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!R||!E(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(m){E(this._config.error)?this._config.error(m):a&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:m,finished:!1})}}function f(p){var m;(p=p||{}).chunkSize||(p.chunkSize=u.RemoteChunkSize),h.call(this,p),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(m=new XMLHttpRequest,this._config.withCredentials&&(m.withCredentials=this._config.withCredentials),o||(m.onload=P(this._chunkLoaded,this),m.onerror=P(this._chunkError,this)),m.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var w,R=this._config.downloadRequestHeaders;for(w in R)m.setRequestHeader(w,R[w])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,m.setRequestHeader("Range","bytes="+this._start+"-"+j));try{m.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}o&&m.status===0&&this._chunkError()}},this._chunkLoaded=function(){m.readyState===4&&(m.status<200||400<=m.status?this._chunkError():(this._start+=this._config.chunkSize||m.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(m),this.parseChunk(m.responseText)))},this._chunkError=function(w){w=m.statusText||w,this._sendError(new Error(w))}}function v(p){(p=p||{}).chunkSize||(p.chunkSize=u.LocalChunkSize),h.call(this,p);var m,w,R=typeof FileReader<"u";this.stream=function(j){this._input=j,w=j.slice||j.webkitSlice||j.mozSlice,R?((m=new FileReader).onload=P(this._chunkLoaded,this),m.onerror=P(this._chunkError,this)):m=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,I=(this._config.chunkSize&&(I=Math.min(this._start+this._config.chunkSize,this._input.size),j=w.call(j,this._start,I)),m.readAsText(j,this._config.encoding));R||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(m.error)}}function b(p){var m;h.call(this,p=p||{}),this.stream=function(w){return m=w,this._nextChunk()},this._nextChunk=function(){var w,R;if(!this._finished)return w=this._config.chunkSize,m=w?(R=m.substring(0,w),m.substring(w)):(R=m,""),this._finished=!m,this.parseChunk(R)}}function _(p){h.call(this,p=p||{});var m=[],w=!0,R=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&m.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),m.length?this.parseChunk(m.shift()):w=!0},this._streamData=P(function(j){try{m.push(typeof j=="string"?j:j.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(m.shift()))}catch(I){this._streamError(I)}},this),this._streamError=P(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=P(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(p){var m,w,R,j,I=Math.pow(2,53),L=-I,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,$=this,F=0,U=0,q=!1,H=!1,K=[],Q={data:[],errors:[],meta:{}};function ue(ee){return p.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function le(){if(Q&&R&&(W("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),R=!1),p.skipEmptyLines&&(Q.data=Q.data.filter(function(te){return!ue(te)})),Re()){let te=function(oe,me){E(p.transformHeader)&&(oe=p.transformHeader(oe,me)),K.push(oe)};if(Q)if(Array.isArray(Q.data[0])){for(var ee=0;Re()&&ee<Q.data.length;ee++)Q.data[ee].forEach(te);Q.data.splice(0,1)}else Q.data.forEach(te)}function V(te,oe){for(var me=p.header?{}:[],Se=0;Se<te.length;Se++){var Le=Se,_e=te[Se],_e=((Ue,ke)=>(Y=>(p.dynamicTypingFunction&&p.dynamicTyping[Y]===void 0&&(p.dynamicTyping[Y]=p.dynamicTypingFunction(Y)),(p.dynamicTyping[Y]||p.dynamicTyping)===!0))(Ue)?ke==="true"||ke==="TRUE"||ke!=="false"&&ke!=="FALSE"&&((Y=>{if(B.test(Y)&&(Y=parseFloat(Y),L<Y&&Y<I))return 1})(ke)?parseFloat(ke):G.test(ke)?new Date(ke):ke===""?null:ke):ke)(Le=p.header?Se>=K.length?"__parsed_extra":K[Se]:Le,_e=p.transform?p.transform(_e,Le):_e);Le==="__parsed_extra"?(me[Le]=me[Le]||[],me[Le].push(_e)):me[Le]=_e}return p.header&&(Se>K.length?W("FieldMismatch","TooManyFields","Too many fields: expected "+K.length+" fields but parsed "+Se,U+oe):Se<K.length&&W("FieldMismatch","TooFewFields","Too few fields: expected "+K.length+" fields but parsed "+Se,U+oe)),me}var J;Q&&(p.header||p.dynamicTyping||p.transform)&&(J=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(V),J=Q.data.length):Q.data=V(Q.data,0),p.header&&Q.meta&&(Q.meta.fields=K),U+=J)}function Re(){return p.header&&K.length===0}function W(ee,V,J,te){ee={type:ee,code:V,message:J},te!==void 0&&(ee.row=te),Q.errors.push(ee)}E(p.step)&&(j=p.step,p.step=function(ee){Q=ee,Re()?le():(le(),Q.data.length!==0&&(F+=ee.data.length,p.preview&&F>p.preview?w.abort():(Q.data=Q.data[0],j(Q,$))))}),this.parse=function(ee,V,J){var te=p.quoteChar||'"',te=(p.newline||(p.newline=this.guessLineEndings(ee,te)),R=!1,p.delimiter?E(p.delimiter)&&(p.delimiter=p.delimiter(ee),Q.meta.delimiter=p.delimiter):((te=((oe,me,Se,Le,_e)=>{var Ue,ke,Y,ae;_e=_e||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Oe=0;Oe<_e.length;Oe++){for(var xe,ve=_e[Oe],Fe=0,Ye=0,Ee=0,de=(Y=void 0,new C({comments:Le,delimiter:ve,newline:me,preview:10}).parse(oe)),ye=0;ye<de.data.length;ye++)Se&&ue(de.data[ye])?Ee++:(xe=de.data[ye].length,Ye+=xe,Y===void 0?Y=xe:0<xe&&(Fe+=Math.abs(xe-Y),Y=xe));0<de.data.length&&(Ye/=de.data.length-Ee),(ke===void 0||Fe<=ke)&&(ae===void 0||ae<Ye)&&1.99<Ye&&(ke=Fe,Ue=ve,ae=Ye)}return{successful:!!(p.delimiter=Ue),bestDelimiter:Ue}})(ee,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=te.bestDelimiter:(R=!0,p.delimiter=u.DefaultDelimiter),Q.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&te.preview++,m=ee,w=new C(te),Q=w.parse(m,V,J),le(),q?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,w.abort(),m=E(p.chunk)?"":m.substring(w.getCharIndex())},this.resume=function(){$.streamer._halted?(q=!1,$.streamer.parseChunk(m,!0)):setTimeout($.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,w.abort(),Q.meta.aborted=!0,E(p.complete)&&p.complete(Q),m=""},this.guessLineEndings=function(oe,te){oe=oe.substring(0,1048576);var te=new RegExp(T(te)+"([^]*?)"+T(te),"gm"),J=(oe=oe.replace(te,"")).split("\r"),te=oe.split(`
`),oe=1<te.length&&te[0].length<J[0].length;if(J.length===1||oe)return`
`;for(var me=0,Se=0;Se<J.length;Se++)J[Se][0]===`
`&&me++;return me>=J.length/2?`\r
`:"\r"}}function T(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(p){var m=(p=p||{}).delimiter,w=p.newline,R=p.comments,j=p.step,I=p.preview,L=p.fastMode,B=null,G=!1,$=p.quoteChar==null?'"':p.quoteChar,F=$;if(p.escapeChar!==void 0&&(F=p.escapeChar),(typeof m!="string"||-1<u.BAD_DELIMITERS.indexOf(m))&&(m=","),R===m)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<u.BAD_DELIMITERS.indexOf(R))&&(R=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var U=0,q=!1;this.parse=function(H,K,Q){if(typeof H!="string")throw new Error("Input must be a string");var ue=H.length,le=m.length,Re=w.length,W=R.length,ee=E(j),V=[],J=[],te=[],oe=U=0;if(!H)return Fe();if(L||L!==!1&&H.indexOf($)===-1){for(var me=H.split(w),Se=0;Se<me.length;Se++){if(te=me[Se],U+=te.length,Se!==me.length-1)U+=w.length;else if(Q)return Fe();if(!R||te.substring(0,W)!==R){if(ee){if(V=[],ae(te.split(m)),Ye(),q)return Fe()}else ae(te.split(m));if(I&&I<=Se)return V=V.slice(0,I),Fe(!0)}}return Fe()}for(var Le=H.indexOf(m,U),_e=H.indexOf(w,U),Ue=new RegExp(T(F)+T($),"g"),ke=H.indexOf($,U);;)if(H[U]===$)for(ke=U,U++;;){if((ke=H.indexOf($,ke+1))===-1)return Q||J.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:V.length,index:U}),xe();if(ke===ue-1)return xe(H.substring(U,ke).replace(Ue,$));if($===F&&H[ke+1]===F)ke++;else if($===F||ke===0||H[ke-1]!==F){Le!==-1&&Le<ke+1&&(Le=H.indexOf(m,ke+1));var Y=Oe((_e=_e!==-1&&_e<ke+1?H.indexOf(w,ke+1):_e)===-1?Le:Math.min(Le,_e));if(H.substr(ke+1+Y,le)===m){te.push(H.substring(U,ke).replace(Ue,$)),H[U=ke+1+Y+le]!==$&&(ke=H.indexOf($,U)),Le=H.indexOf(m,U),_e=H.indexOf(w,U);break}if(Y=Oe(_e),H.substring(ke+1+Y,ke+1+Y+Re)===w){if(te.push(H.substring(U,ke).replace(Ue,$)),ve(ke+1+Y+Re),Le=H.indexOf(m,U),ke=H.indexOf($,U),ee&&(Ye(),q))return Fe();if(I&&V.length>=I)return Fe(!0);break}J.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:V.length,index:U}),ke++}}else if(R&&te.length===0&&H.substring(U,U+W)===R){if(_e===-1)return Fe();U=_e+Re,_e=H.indexOf(w,U),Le=H.indexOf(m,U)}else if(Le!==-1&&(Le<_e||_e===-1))te.push(H.substring(U,Le)),U=Le+le,Le=H.indexOf(m,U);else{if(_e===-1)break;if(te.push(H.substring(U,_e)),ve(_e+Re),ee&&(Ye(),q))return Fe();if(I&&V.length>=I)return Fe(!0)}return xe();function ae(Ee){V.push(Ee),oe=U}function Oe(Ee){var de=0;return de=Ee!==-1&&(Ee=H.substring(ke+1,Ee))&&Ee.trim()===""?Ee.length:de}function xe(Ee){return Q||(Ee===void 0&&(Ee=H.substring(U)),te.push(Ee),U=ue,ae(te),ee&&Ye()),Fe()}function ve(Ee){U=Ee,ae(te),te=[],_e=H.indexOf(w,U)}function Fe(Ee){if(p.header&&!K&&V.length&&!G){var de=V[0],ye=Object.create(null),nt=new Set(de);let At=!1;for(let at=0;at<de.length;at++){let be=de[at];if(ye[be=E(p.transformHeader)?p.transformHeader(be,at):be]){let it,qe=ye[be];for(;it=be+"_"+qe,qe++,nt.has(it););nt.add(it),de[at]=it,ye[be]++,At=!0,(B=B===null?{}:B)[it]=be}else ye[be]=1,de[at]=be;nt.add(be)}At&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:V,errors:J,meta:{delimiter:m,linebreak:w,aborted:q,truncated:!!Ee,cursor:oe+(K||0),renamedHeaders:B}}}function Ye(){j(Fe()),V=[],J=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return U}}function g(p){var m=p.data,w=s[m.workerId],R=!1;if(m.error)w.userError(m.error,m.file);else if(m.results&&m.results.data){var j={abort:function(){R=!0,y(m.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(E(w.userStep)){for(var I=0;I<m.results.data.length&&(w.userStep({data:m.results.data[I],errors:m.results.errors,meta:m.results.meta},j),!R);I++);delete m.results}else E(w.userChunk)&&(w.userChunk(m.results,j,m.file),delete m.results)}m.finished&&!R&&y(m.workerId,m.results)}function y(p,m){var w=s[p];E(w.userComplete)&&w.userComplete(m),w.terminate(),delete s[p]}function O(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var m,w=Array.isArray(p)?[]:{};for(m in p)w[m]=M(p[m]);return w}function P(p,m){return function(){p.apply(m,arguments)}}function E(p){return typeof p=="function"}return u.parse=function(p,m){var w=(m=m||{}).dynamicTyping||!1;if(E(w)&&(m.dynamicTypingFunction=w,w={}),m.dynamicTyping=w,m.transform=!!E(m.transform)&&m.transform,!m.worker||!u.WORKERS_SUPPORTED)return w=null,u.NODE_STREAM_INPUT,typeof p=="string"?(p=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(p),w=new(m.download?f:b)(m)):p.readable===!0&&E(p.read)&&E(p.on)?w=new _(m):(r.File&&p instanceof File||p instanceof Object)&&(w=new v(m)),w.stream(p);(w=(()=>{var R;return!!u.WORKERS_SUPPORTED&&(R=(()=>{var j=r.URL||r.webkitURL||null,I=n.toString();return u.BLOB_URL||(u.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))})(),(R=new r.Worker(R)).onmessage=g,R.id=c++,s[R.id]=R)})()).userStep=m.step,w.userChunk=m.chunk,w.userComplete=m.complete,w.userError=m.error,m.step=E(m.step),m.chunk=E(m.chunk),m.complete=E(m.complete),m.error=E(m.error),delete m.worker,w.postMessage({input:p,config:m,workerId:w.id})},u.unparse=function(p,m){var w=!1,R=!0,j=",",I=`\r
`,L='"',B=L+L,G=!1,$=null,F=!1,U=((()=>{if(typeof m=="object"){if(typeof m.delimiter!="string"||u.BAD_DELIMITERS.filter(function(K){return m.delimiter.indexOf(K)!==-1}).length||(j=m.delimiter),typeof m.quotes!="boolean"&&typeof m.quotes!="function"&&!Array.isArray(m.quotes)||(w=m.quotes),typeof m.skipEmptyLines!="boolean"&&typeof m.skipEmptyLines!="string"||(G=m.skipEmptyLines),typeof m.newline=="string"&&(I=m.newline),typeof m.quoteChar=="string"&&(L=m.quoteChar),typeof m.header=="boolean"&&(R=m.header),Array.isArray(m.columns)){if(m.columns.length===0)throw new Error("Option columns is empty");$=m.columns}m.escapeChar!==void 0&&(B=m.escapeChar+L),m.escapeFormulae instanceof RegExp?F=m.escapeFormulae:typeof m.escapeFormulae=="boolean"&&m.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(L),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return q(null,p,G);if(typeof p[0]=="object")return q($||Object.keys(p[0]),p,G)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||$),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),q(p.fields||[],p.data||[],G);throw new Error("Unable to serialize unrecognized input");function q(K,Q,ue){var le="",Re=(typeof K=="string"&&(K=JSON.parse(K)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(K)&&0<K.length),W=!Array.isArray(Q[0]);if(Re&&R){for(var ee=0;ee<K.length;ee++)0<ee&&(le+=j),le+=H(K[ee],ee);0<Q.length&&(le+=I)}for(var V=0;V<Q.length;V++){var J=(Re?K:Q[V]).length,te=!1,oe=Re?Object.keys(Q[V]).length===0:Q[V].length===0;if(ue&&!Re&&(te=ue==="greedy"?Q[V].join("").trim()==="":Q[V].length===1&&Q[V][0].length===0),ue==="greedy"&&Re){for(var me=[],Se=0;Se<J;Se++){var Le=W?K[Se]:Se;me.push(Q[V][Le])}te=me.join("").trim()===""}if(!te){for(var _e=0;_e<J;_e++){0<_e&&!oe&&(le+=j);var Ue=Re&&W?K[_e]:_e;le+=H(Q[V][Ue],_e)}V<Q.length-1&&(!ue||0<J&&!oe)&&(le+=I)}}return le}function H(K,Q){var ue,le;return K==null?"":K.constructor===Date?JSON.stringify(K).slice(1,25):(le=!1,F&&typeof K=="string"&&F.test(K)&&(K="'"+K,le=!0),ue=K.toString().replace(U,B),(le=le||w===!0||typeof w=="function"&&w(K,Q)||Array.isArray(w)&&w[Q]||((Re,W)=>{for(var ee=0;ee<W.length;ee++)if(-1<Re.indexOf(W[ee]))return!0;return!1})(ue,u.BAD_DELIMITERS)||-1<ue.indexOf(j)||ue.charAt(0)===" "||ue.charAt(ue.length-1)===" ")?L+ue+L:ue)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=C,u.ParserHandle=S,u.NetworkStreamer=f,u.FileStreamer=v,u.StringStreamer=b,u.ReadableStreamStreamer=_,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var m=p.config||{},w=[];return this.each(function(I){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)w.push({file:this.files[L],inputElem:this,instanceConfig:i.extend({},m)})}),R(),this;function R(){if(w.length===0)E(p.complete)&&p.complete();else{var I,L,B,G,$=w[0];if(E(p.before)){var F=p.before($.file,$.inputElem);if(typeof F=="object"){if(F.action==="abort")return I="AbortError",L=$.file,B=$.inputElem,G=F.reason,void(E(p.error)&&p.error({name:I},L,B,G));if(F.action==="skip")return void j();typeof F.config=="object"&&($.instanceConfig=i.extend($.instanceConfig,F.config))}else if(F==="skip")return void j()}var U=$.instanceConfig.complete;$.instanceConfig.complete=function(q){E(U)&&U(q,$.file,$.inputElem),j()},u.parse($.file,$.instanceConfig)}}function j(){w.splice(0,1),R()}}),a&&(r.onmessage=function(p){p=p.data,u.WORKER_ID===void 0&&p&&(u.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=u.parse(p.input,p.config))&&r.postMessage({workerId:u.WORKER_ID,results:p,finished:!0})}),(f.prototype=Object.create(h.prototype)).constructor=f,(v.prototype=Object.create(h.prototype)).constructor=v,(b.prototype=Object.create(b.prototype)).constructor=b,(_.prototype=Object.create(h.prototype)).constructor=_,u})})(_A);var oQ=_A.exports;const EA=ap(oQ);function aQ({businessId:t}){const[e,n]=x.useState([]),[r,i]=x.useState(!0),[o,a]=x.useState({}),s=gr();return x.useEffect(()=>{if(!t)return;const c=Tr(ze(re,"chats"),Ir("participants","array-contains",t)),u=It(c,async h=>{const f=[],v=new Set;h.forEach(_=>{const S=_.data(),T=S.participants.find(C=>C!==t);T&&(f.push({id:_.id,...S,customerId:T}),v.add(T))}),n(f);const b={};await Promise.all(Array.from(v).map(async _=>{const S=await xn(Me(re,"users",_));S.exists()&&(b[_]=S.data())})),a(b),i(!1)});return()=>u()},[t]),r?l.jsx("div",{children:"Loading chat inbox..."}):e.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(c=>{const u=o[c.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:u.photo||"https://ui-avatars.com/api/?name="+(u.name||u.email||"Customer"),alt:u.name||u.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:u.name||u.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:u.email})]}),l.jsx("button",{onClick:()=>s(`/chat/${t}`,{state:{customerId:c.customerId,chatId:c.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},c.id)})})]})}const ry=["name","ingredient","class","price","image"];function sQ(){const[t,e]=x.useState(""),[n,r]=x.useState("add"),i=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=x.useState(null);if(x.useEffect(()=>{el(async()=>{const{getAuth:L,onAuthStateChanged:B}=await Promise.resolve().then(()=>pj);return{getAuth:L,onAuthStateChanged:B}}).then(({getAuth:L,onAuthStateChanged:B})=>{const G=L();B(G,async $=>{if($){const{getDoc:F,doc:U}=await el(async()=>{const{getDoc:H,doc:K}=await Promise.resolve().then(()=>Gb);return{getDoc:H,doc:K}}),q=await F(U(re,"users",$.uid));a(q.exists()?q.data().role:null)}else a(null)})})},[]),i||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[s,c]=x.useState(null),[u,h]=x.useState(null),[f,v]=x.useState([]),[b,_]=x.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[S,T]=x.useState(null),[C,g]=x.useState([]),[y,O]=x.useState([]),M=f.filter(L=>{var B,G,$;const F=t.toLowerCase();return((B=L.name)==null?void 0:B.toLowerCase().includes(F))||((G=L.ingredient)==null?void 0:G.toLowerCase().includes(F))||(($=L.class)==null?void 0:$.toLowerCase().includes(F))}),P=Or();x.useEffect(()=>{const L=Wi(P,async B=>{if(B){c(B);try{const G=await xn(Me(re,"users",B.uid));G.exists()?h(G.data()):h({role:"customer"})}catch(G){console.error("Error fetching user doc:",G),h({role:"customer"})}}else c(null),h(null)});return()=>L()},[P]),x.useEffect(()=>{if(!s)return;const L=It(ze(re,"products"),B=>{const G=B.docs.map($=>({id:$.id,...$.data()})).filter($=>$.ownerId===s.uid);v(G)});return()=>L()},[s]),x.useEffect(()=>{if(!s)return;const L=It(ze(re,"batches"),B=>{const G=B.docs.map($=>({id:$.id,...$.data()})).filter($=>$.uploadedBy===s.uid);O(G)});return()=>L()},[s]);const E=()=>({ownerSlug:(u==null?void 0:u.slug)||null,businessName:(u==null?void 0:u.businessName)||null}),p=async L=>{if(L.preventDefault(),!s)return De.error("Please log in first");if(!u)return De.info("Loading user data...");const{name:B,ingredient:G,class:$,price:F,image:U}=b;if(!B||!G||!$||!F)return De.warn("Please fill all required fields");const q=parseInt(F,10);if(isNaN(q)||q<0)return De.warn("Price must be a positive number");const{ownerSlug:H,businessName:K}=E(),Q=(u==null?void 0:u.pharmacist)||null;try{S?(await on(Me(re,"products",S),{name:B,ingredient:G,class:$,price:q,image:U||"",ownerSlug:H||"",businessName:K||"",isPOM:!!b.isPOM,registeredOnly:!!b.registeredOnly,pharmacist:Q||null}),T(null)):await vo(ze(re,"products"),{name:B,ingredient:G,class:$,price:q,image:U||"",ownerId:s.uid,ownerSlug:H||"",businessName:K||"",isPOM:!!b.isPOM,registeredOnly:!!b.registeredOnly,pharmacist:Q||null}),_({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(ue){console.error(ue),De.error("Error saving medicine")}},m=L=>{const B=L.target.files[0];B&&EA.parse(B,{header:!0,skipEmptyLines:!0,complete:G=>{const $=G.data.map(F=>{const U={};return ry.forEach(q=>U[q]=F[q]||(q==="price"?0:"N/A")),U});g($)}})},w=async()=>{if(!C.length)return De.info("No CSV data to upload");if(!s)return De.error("Please log in first");if(!u)return De.info("Loading user data...");const L=Me(ze(re,"batches")),B=[],{ownerSlug:G,businessName:$}=E(),F=(u==null?void 0:u.pharmacist)||null;for(let U of C)try{const q=await vo(ze(re,"products"),{name:U.name,ingredient:U.ingredient,class:U.class,price:parseInt(U.price,10)||0,image:U.image==="N/A"?"":U.image,batchId:L.id,ownerId:s.uid,ownerSlug:G||"",businessName:$||"",isPOM:!!U.isPOM,pharmacist:F||null});B.push(q.id)}catch(q){console.error("CSV upload error for row:",U,q)}try{await Qr(L,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:s.uid,date:new Date().toISOString(),medicineIds:B})}catch(U){console.error("Failed to create batch doc:",U)}alert(` ${B.length} medicines uploaded`),De.success(` ${B.length} medicines uploaded`),g([])},R=L=>{_({name:L.name,ingredient:L.ingredient,class:L.class,price:L.price,image:L.image||"",isPOM:!!L.isPOM}),T(L.id),r("add")},j=async L=>{if(window.confirm("Delete this medicine?"))try{await qr(Me(re,"products",L.id)),De.success("Medicine deleted.")}catch(B){console.error(B),De.error("Error deleting medicine")}},I=async L=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let B of L.medicineIds)await qr(Me(re,"products",B));await qr(Me(re,"batches",L.id)),De.success("Batch deleted.")}catch(B){console.error(B),De.error("Error deleting batch")}};return s?u?u.role!=="medicine-manager"&&u.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",s.email]}),l.jsx(cQ,{user:s,userData:u,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:p,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:S?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:b.name,onChange:L=>_({...b,name:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:b.ingredient,onChange:L=>_({...b,ingredient:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:b.class,onChange:L=>_({...b,class:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:b.price,onChange:L=>_({...b,price:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:b.image,onChange:L=>_({...b,image:L.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:b.isPOM,onChange:L=>_({...b,isPOM:L.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:S?"Update Medicine":"Add Medicine"}),S&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{T(null),_({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:m,style:{marginBottom:"10px"}}),C.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:ry.map(L=>l.jsx("th",{children:L},L))})}),l.jsx("tbody",{children:C.map((L,B)=>l.jsx("tr",{children:ry.map(G=>l.jsx("td",{children:L[G]},G))},B))})]}),l.jsx("button",{onClick:w,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),y.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:y.map(L=>{var B;return l.jsxs("tr",{children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:new Date(L.date).toLocaleString()}),l.jsx("td",{children:((B=L.medicineIds)==null?void 0:B.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>I(L),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},L.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:L=>e(L.target.value)}),M.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:M.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:L.ingredient}),l.jsx("td",{children:L.class}),l.jsx("td",{children:L.price}),l.jsx("td",{children:L.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:L.image&&l.jsx("img",{src:L.image,alt:L.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>R(L),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>j(L),children:"Delete"})]})]},L.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(u==null?void 0:u.role)==="medicine-manager"&&l.jsx(lQ,{userId:s.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx(aQ,{businessId:s.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function lQ({userId:t}){const[e,n]=Ce.useState(null),[r,i]=Ce.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[o,a]=Ce.useState(!1),[s,c]=Ce.useState(!1);Ce.useEffect(()=>{const f=Me(re,"users",t);xn(f).then(v=>{const b=v.data();b&&b.pharmacist&&(n(b.pharmacist),i({...b.pharmacist}),a(!0))})},[t]);const u=f=>{i({...r,[f.target.name]:f.target.value})},h=async f=>{f.preventDefault(),c(!0),await on(Me(re,"users",t),{pharmacist:{...r}}),n({...r}),a(!0),c(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:h,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:u,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:u,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:u,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:u,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:u,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:u,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:s,style:{marginTop:10},children:o?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function cQ({user:t,userData:e,setUserData:n}){var r,i;const[o,a]=Ce.useState(!1),[s,c]=Ce.useState(!1),[u,h]=Ce.useState(""),f=((r=e==null?void 0:e.location)==null?void 0:r.latitude)||(e==null?void 0:e.lat),v=((i=e==null?void 0:e.location)==null?void 0:i.longitude)||(e==null?void 0:e.lng),b=()=>{if(a(!0),h(""),c(!1),!navigator.geolocation){h("Geolocation not supported by your browser."),a(!1);return}navigator.geolocation.getCurrentPosition(async _=>{const S={latitude:_.coords.latitude,longitude:_.coords.longitude};try{await on(Me(re,"users",t.uid),{location:S,lat:S.latitude,lng:S.longitude}),n(T=>({...T,location:S,lat:S.latitude,lng:S.longitude})),c(!0)}catch{h("Failed to update location.")}a(!1)},_=>{h("Location access denied or unavailable."),a(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",f&&v?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",f.toFixed(5),", Lng: ",v.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:b,disabled:o,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:o?"not-allowed":"pointer",marginRight:10},children:o?"Updating location...":"Change Location"}),s&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),u&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:u})]})}var Ou=function(){return Ou=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ou.apply(this,arguments)};function Jx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var fh=[];function uQ(){var t="https://js.paystack.co/v1/inline.js",e=x.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return x.useEffect(function(){if(fh.includes(t))r({loaded:!0,error:!1});else{fh.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var o=function(){r({loaded:!0,error:!1})},a=function(){var s=fh.indexOf(t);s>=0&&fh.splice(s,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",o),i.addEventListener("complete",o),i.addEventListener("error",a),document.body.appendChild(i),function(){i.removeEventListener("load",o),i.removeEventListener("error",a)}}},[t]),[n.loaded,n.error]}var dQ=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function TA(t){var e=uQ(),n=e[0],r=e[1];function i(o){var a=o.config,s=o.onSuccess,c=o.onClose;if(r)throw new Error("Unable to load paystack inline script");var u=Ou(Ou({},t),a),h=u.publicKey,f=u.firstname,v=u.lastname,b=u.phone,_=u.email,S=u.amount,T=u.reference,C=u.metadata,g=C===void 0?{}:C,y=u.currency,O=y===void 0?"NGN":y,M=u.channels,P=u.label,E=P===void 0?"":P,p=u.plan,m=p===void 0?"":p,w=u.quantity,R=w===void 0?"":w,j=u.subaccount,I=j===void 0?"":j,L=u.transaction_charge,B=L===void 0?0:L,G=u.bearer,$=G===void 0?"account":G,F=u.split,U=u.split_code;if(n){var q={callback:s||function(){return null},onClose:c||function(){return null},key:h,ref:T,email:_,firstname:f,lastname:v,phone:b,amount:S,currency:O,plan:m,quantity:R,channels:M,subaccount:I,transaction_charge:B,bearer:$,label:E,metadata:g,split:F,split_code:U,"data-custom-button":u["data-custom-button"]||""};dQ(q)}}return x.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var hQ=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,o=t.onClose,a=Jx(t,["text","className","children","onSuccess","onClose"]),s=TA(a);return Ce.createElement("button",{className:n,onClick:function(){return s({config:a,onSuccess:i,onClose:o})}},e||r)},IA=x.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),fQ=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=Jx(t,["children","onSuccess","onClose"]),o=TA(i);return Ce.createElement(IA.Provider,{value:{config:i,initializePayment:o,onSuccess:n,onClose:r}},e)},pQ=function(t){var e=t.children,n=t.ref,r=x.useContext(IA),i=r.config,o=r.initializePayment,a=r.onSuccess,s=r.onClose,c=function(){return o({config:i,onSuccess:a,onClose:s})};return e({initializePayment:c,ref:n})};x.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,o=Jx(t,["children","onSuccess","onClose"]),a=r||function(){return null},s=i||function(){return null};return Ce.createElement(fQ,Ou({},o,{onSuccess:a,onClose:s}),Ce.createElement(pQ,{ref:e},n))});async function mQ(t){if(!t)return null;const e=Tr(ze(re,"coupons"),Ir("code","==",t)),n=await Ht(e);return n.empty?null:n.docs[0].data()}function gQ(){var t,e,n,r,i;const[o,a]=x.useState(""),[s,c]=x.useState(null),[u,h]=x.useState(""),f=Or(),v=gr(),b=ha(),_=((t=b.state)==null?void 0:t.orderType)||"single",S=((e=b.state)==null?void 0:e.businessCount)||1,[T,C]=x.useState(null),[g,y]=x.useState(((n=b.state)==null?void 0:n.cart)||[]),[O,M]=x.useState(((r=b.state)==null?void 0:r.total)||0),P=g.length===1&&((i=g[0])==null?void 0:i.isConsultation),[E,p]=x.useState("standard"),m=500,w=3e3;x.useEffect(()=>{j(P?0:_==="multiple-premium"?(E==="express"?w:m)*S:E==="express"?w:m)},[E,P,_,S]);const[R,j]=x.useState(P?0:500),[I,L]=x.useState(1e3),[B,G]=x.useState(O+(P?0:R)),[$,F]=x.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),U="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";x.useEffect(()=>Wi(f,async W=>{if(!W)return v("/auth");if(C(W),g.length===0){const ee=Me(re,"carts",W.uid),V=await xn(ee);if(V.exists()){const J=V.data().items||[];y(J);const te=J.reduce((oe,me)=>oe+me.price*(me.quantity||1),0);M(te),G(te+R)}}}),[f,g.length,R,v]),x.useEffect(()=>{let W=g.some(te=>te.isPOM)?500:0,ee=R,V=O,J=0;s&&(s.removePOM&&(W=0),s.removeDelivery&&(ee=0),s.percent>0&&(J=Math.round((V+W+ee)*(s.percent/100)))),L(W),G(V+W+ee-J)},[O,R,g,s]),x.useEffect(()=>{j(P?0:E==="standard"?500:3e3)},[E,P]);const q=async()=>{h("");const W=await mQ(o.trim().toUpperCase());W?(c(W),h("")):(c(null),h("Invalid coupon code"))},H=()=>P?["name","phone","address","age","complaint"].every(W=>{var ee;return(ee=$[W])==null?void 0:ee.trim()}):["name","phone","address","city","state"].every(W=>{var ee;return(ee=$[W])==null?void 0:ee.trim()}),K={reference:new Date().getTime().toString(),email:T==null?void 0:T.email,amount:B*100,publicKey:U},Q=async W=>{if(!T||g.length===0)return;const ee=Me(ze(re,"orders"));await Qr(ee,{userId:T.uid,items:g,subtotal:O,deliveryFee:R,pomFee:I,total:B,status:"Processing",date:new Date().toISOString(),paymentReference:(W==null?void 0:W.reference)||"COUPON_FREE",deliveryInfo:$,coupon:s||null,deliveryType:E}),await Qr(Me(re,"carts",T.uid),{items:[]}),y([]),M(0),G(0),De.success(" Payment successful! Order created.");const V=g.find(te=>te.isConsultation&&te.whatsapp);if(V){window.location.href=`https://wa.me/${V.whatsapp}`;return}const J=g.find(te=>te.isPOM&&te.pharmacist&&te.ownerId);if(J&&J.pharmacist&&J.ownerId){v(`/chat/${J.ownerId}`,{state:{pharmacist:J.pharmacist,businessName:J.businessName}});return}g.some(te=>te.isPOM)?v("/medinterface"):v("/orders")},ue=()=>{De.info("Payment cancelled.")},le=W=>{F({...$,[W.target.name]:W.target.value})},Re=()=>{alert(" Please complete all delivery information before proceeding.")};return T?l.jsx(Qe,{sx:{p:3,maxWidth:600,mx:"auto",minHeight:"100vh",background:"#f5f7fa",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Hf,{sx:{borderRadius:4,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.08)",width:"100%",maxWidth:600,background:"#fff"},children:l.jsxs(Kf,{children:[l.jsx($e,{variant:"h5",fontWeight:900,gutterBottom:!0,sx:{color:"#e10098",letterSpacing:1,textAlign:"center",mb:2},children:" Checkout"}),g.length===0?l.jsx($e,{sx:{color:"#888",textAlign:"center",fontWeight:600},children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx($e,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#222",textAlign:"center"},children:" Order Summary"}),l.jsxs($e,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#222",textAlign:"center",fontSize:16},children:["Order Type: ",l.jsx("span",{style:{color:"#e10098",fontWeight:700,textTransform:"capitalize"},children:_.replace("-"," ")}),_==="multiple-premium"&&l.jsxs("span",{style:{color:"#009688",fontWeight:700},children:[" (",S," stores)"]})]}),l.jsx(Qe,{sx:{mb:2},children:g.map((W,ee)=>l.jsxs(Qe,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs($e,{sx:{fontWeight:700,color:"#222"},children:[W.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",W.quantity||1]})]}),l.jsxs($e,{fontWeight:700,sx:{color:"#111"},children:["",W.price*(W.quantity||1)]})]},ee))}),l.jsxs(Tt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(Tt,{item:!0,xs:7,children:l.jsx($e,{children:"Subtotal:"})}),l.jsx(Tt,{item:!0,xs:5,children:l.jsxs($e,{fontWeight:500,sx:{color:"#111"},children:["",O]})}),!P&&l.jsxs(l.Fragment,{children:[l.jsx(Tt,{item:!0,xs:7,children:l.jsx($e,{children:"Delivery Type:"})}),l.jsx(Tt,{item:!0,xs:5,children:l.jsx(LR,{fullWidth:!0,size:"small",children:l.jsxs(Kx,{value:E,onChange:W=>p(W.target.value),sx:{bgcolor:"#fff",borderRadius:2,fontWeight:700,color:"#e10098"},children:[l.jsxs($2,{value:"standard",children:["Standard (1-2 days) - ",_==="multiple-premium"?m*S:m]}),l.jsxs($2,{value:"express",children:["Express (30mins-3hrs) - ",_==="multiple-premium"?w*S:w]})]})})}),l.jsx(Tt,{item:!0,xs:7,children:l.jsx($e,{children:"Delivery Fee:"})}),l.jsx(Tt,{item:!0,xs:5,children:l.jsxs($e,{fontWeight:500,sx:{color:"#111"},children:["",s!=null&&s.removeDelivery?0:R]})})]}),l.jsx(Tt,{item:!0,xs:7,children:l.jsx($e,{color:I>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(Tt,{item:!0,xs:5,children:l.jsxs($e,{fontWeight:500,sx:{color:"#111"},children:["",s!=null&&s.removePOM?0:I]})}),(s==null?void 0:s.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(Tt,{item:!0,xs:7,children:l.jsx($e,{color:"primary",children:"Discount:"})}),l.jsx(Tt,{item:!0,xs:5,children:l.jsxs($e,{sx:{color:"#111"},children:["-",Math.round((O+I+(s!=null&&s.removeDelivery?0:R))*(s.percent/100))]})})]}),l.jsx(Tt,{item:!0,xs:7,children:l.jsx($e,{fontWeight:700,children:"Grand Total:"})}),l.jsx(Tt,{item:!0,xs:5,children:l.jsxs($e,{fontWeight:700,sx:{color:"#111"},children:["",B]})})]}),l.jsxs(Qe,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(wn,{size:"small",label:"Coupon code",value:o,onChange:W=>a(W.target.value),sx:{mr:1,flex:1}}),l.jsx(Vn,{variant:"outlined",onClick:q,sx:{borderColor:"#e10098",color:"#e10098",fontWeight:700,"&:hover":{borderColor:"#b1005a",color:"#b1005a"}},children:"Apply"})]}),u&&l.jsx(h2,{severity:"error",sx:{mb:1},children:u}),s&&l.jsxs(h2,{severity:"success",sx:{mb:1},children:["Applied: ",s.code," (",s.percent,"% off",s.removePOM?", no POM fee":"",s.removeDelivery?", no delivery fee":"",")"]}),l.jsx(MR,{sx:{my:3}}),P?l.jsxs(l.Fragment,{children:[l.jsx($e,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#e10098"},children:" Consultation Information"}),l.jsxs(Tt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:$.name,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:$.phone,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Address",name:"address",value:$.address,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:$.age,onChange:le,type:"number"})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:$.complaint,onChange:le,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx($e,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#e10098"},children:" Delivery and Patient Information"}),l.jsxs(Tt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:$.name,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:$.phone,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:$.age,onChange:le,type:"number"})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"What are you taking this medicine(s) for?",name:"complaint",value:$.complaint,onChange:le,multiline:!0,minRows:2})}),l.jsx(Tt,{item:!0,xs:12,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:$.address,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"City",name:"city",value:$.city,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"State",name:"state",value:$.state,onChange:le})}),l.jsx(Tt,{item:!0,xs:12,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:$.instructions,onChange:le,multiline:!0,minRows:2})})]})]}),l.jsx(Qe,{sx:{mt:2,textAlign:"center"},children:H()?B>0?l.jsx(hQ,{text:"Pay Now ",className:"paystack-button",...K,callback:Q,close:ue,style:{marginTop:"10px",minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",boxShadow:"0 2px 8px #e1009822",border:"none",transition:"background 0.2s"}}):l.jsx(Vn,{variant:"contained",sx:{mt:1,minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",boxShadow:"0 2px 8px #e1009822","&:hover":{background:"#b1005a"}},onClick:()=>Q({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(Vn,{variant:"contained",sx:{mt:1,minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",opacity:.6,boxShadow:"0 2px 8px #e1009822"},onClick:Re,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function yQ(){const[t,e]=x.useState([]),[n,r]=x.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,o]=x.useState(null);x.useEffect(()=>{const u=It(ze(re,"coupons"),h=>{e(h.docs.map(f=>({id:f.id,...f.data()})))});return()=>u()},[]);const a=async u=>{if(u.preventDefault(),!n.code)return alert("Coupon code required");i?(await on(Me(re,"coupons",i),n),o(null)):await vo(ze(re,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},s=u=>{r({code:u.code,percent:u.percent,removePOM:!!u.removePOM,removeDelivery:!!u.removeDelivery}),o(u.id)},c=async u=>{window.confirm("Delete coupon?")&&await qr(Me(re,"coupons",u))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:a,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:u=>r({...n,code:u.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:u=>r({...n,percent:parseInt(u.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:u=>r({...n,removePOM:u.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:u=>r({...n,removeDelivery:u.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{o(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.code}),l.jsxs("td",{children:[u.percent,"%"]}),l.jsx("td",{children:u.removePOM?"Removed":"-"}),l.jsx("td",{children:u.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>s(u),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>c(u.id),children:"Delete"})]})]},u.id))})]})]})}function vQ(){const[t,e]=x.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=x.useState([]),[i,o]=x.useState(null),[a,s]=x.useState({}),[c,u]=x.useState(!1),[h,f]=x.useState("");x.useEffect(()=>{const g=It(ze(re,"deliveryAgents"),y=>{r(y.docs.map(O=>({id:O.id,...O.data()})))});return()=>g()},[]),x.useEffect(()=>{async function g(){const y=Tr(ze(re,"deliveryAgents"));(await Ht(y)).forEach(async O=>{typeof O.data().approved>"u"&&await Me(re,"deliveryAgents",O.id).update({approved:!1})})}g()},[]);const v=g=>{s({...a,[g.target.name]:g.target.value})},b=g=>{o(g.id),s(g)},_=async g=>{await on(Me(re,"deliveryAgents",g),a),o(null),s({})},S=async g=>{window.confirm("Delete this delivery agent?")&&await qr(Me(re,"deliveryAgents",g))},T=async g=>{u(!0),f(""),await on(Me(re,"deliveryAgents",g),{approved:!0}),u(!1),f("Agent approved and now visible to public.")},C=async g=>{u(!0),f(""),await on(Me(re,"deliveryAgents",g),{approved:!1}),u(!1),f("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[c&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),h&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:h}),n.map(g=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===g.id?l.jsxs("form",{onSubmit:y=>{y.preventDefault(),_(g.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:a.companyName||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:a.phoneNumber||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:a.whatsappNumber||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:a.rcNumber||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:a.businessAddress||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:a.email||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:a.coverageArea||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:a.operatingHours||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:a.logoUrl||"",onChange:v,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>o(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(Ce.Fragment,{children:[l.jsx("img",{src:g.logoUrl,alt:g.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:g.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:g.businessAddress}),l.jsxs("div",{children:["RC Number: ",g.rcNumber]}),l.jsxs("div",{children:["Phone: ",g.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",g.whatsappNumber]}),l.jsxs("div",{children:["Email: ",g.email]}),l.jsxs("div",{children:["Coverage: ",g.coverageArea]}),l.jsxs("div",{children:["Hours: ",g.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>b(g),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>S(g.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!g.approved&&l.jsx("button",{onClick:()=>T(g.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),g.approved&&l.jsx("button",{onClick:()=>C(g.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),g.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},g.id))]})})}function bQ(){const[t,e]=x.useState([]);x.useEffect(()=>{(async()=>{try{const N=await Ht(ze(re,"deliveryAgents"));e(N.docs.map(ie=>({id:ie.id,...ie.data()})))}catch{e([])}})()},[]);const[n,r]=x.useState({}),i=async(N,ie)=>{try{const pe=t.find(rt=>rt.id===ie),He=(pe==null?void 0:pe.userId)||"";await on(Me(re,"orders",N),{riderId:He,assignedAgentId:He,assignedAgentName:pe?pe.companyName||pe.name||pe.email||pe.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(rt=>({...rt,[N]:!1})),De.success("Order reassigned successfully.")}catch{De.error("Failed to reassign order.")}},o=async N=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await on(Me(re,"orders",N.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),De.success("Order cancelled.")}catch{De.error("Failed to cancel order.")}},[a,s]=x.useState({pending:!0,completed:!0,cancelled:!0}),[c,u]=x.useState(""),[h,f]=x.useState(""),[v,b]=x.useState(""),[_,S]=x.useState(""),[T,C]=x.useState({}),[g,y]=x.useState({}),O=window.location.pathname.match(/^\/store\/([^\/]+)/),[M,P]=Ce.useState(null);if(x.useEffect(()=>{el(async()=>{const{getAuth:N,onAuthStateChanged:ie}=await Promise.resolve().then(()=>pj);return{getAuth:N,onAuthStateChanged:ie}}).then(({getAuth:N,onAuthStateChanged:ie})=>{const pe=N();ie(pe,async He=>{if(He){const{getDoc:rt,doc:Xt}=await el(async()=>{const{getDoc:Ge,doc:Ft}=await Promise.resolve().then(()=>Gb);return{getDoc:Ge,doc:Ft}}),{db:Je}=await el(async()=>{const{db:Ge}=await Promise.resolve().then(()=>r9);return{db:Ge}}),Be=await rt(Xt(Je,"users",He.uid));P(Be.exists()?Be.data().role:null)}else P(null)})})},[]),O||M==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[E,p]=x.useState([]);x.useEffect(()=>{const N=It(ze(re,"businessRegistrations"),ie=>{p(ie.docs.map(pe=>({id:pe.id,...pe.data()})))});return()=>N()},[]);const m=async(N,ie)=>{if(await on(Me(re,"businessRegistrations",N.id),{status:ie}),ie==="declined"){const pe=Tr(ze(re,"orders"),Ir("userId","==",N.businessId),Ir("items","array-contains-any",N.cart)),He=await Ht(pe);for(const rt of He.docs)await on(Me(re,"orders",rt.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}De.info(`Registration ${ie}`)},[w,R]=x.useState(""),[j,I]=x.useState(""),[L,B]=x.useState(""),[G,$]=x.useState(""),[F,U]=x.useState(""),q=()=>{let N=oi;w&&(N=N.filter(Be=>new Date(Be.completedAt||Be.date)>=new Date(w))),j&&(N=N.filter(Be=>new Date(Be.completedAt||Be.date)<=new Date(j))),L&&(N=N.filter(Be=>Be.medicVerifiedBy===L)),G&&(N=N.filter(Be=>Be.items&&Be.items.some(Ge=>Ge.name&&Ge.name.toLowerCase().includes(G.toLowerCase())))),F==="true"&&(N=N.filter(Be=>Be.items&&Be.items.some(Ge=>Ge.isPOM))),F==="false"&&(N=N.filter(Be=>Be.items&&!Be.items.some(Ge=>Ge.isPOM)));const ie=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],pe=N.map(Be=>[Be.id,new Date(Be.completedAt||Be.date).toLocaleString(),qe[Be.userId]&&qe[Be.userId].email?qe[Be.userId].email:Be.userId,Be.medicVerifiedBy?(Ye.concat(de).find(Ge=>Ge.id===Be.medicVerifiedBy)||{}).name||Be.medicVerifiedBy:"",Be.total||Yn(Be.items||[]),Be.items?Be.items.map(Ge=>`${Ge.name} (${Ge.quantity||1})`).join("; "):"",Be.items?Be.items.filter(Ge=>Ge.isPOM).map(Ge=>Ge.name).join("; "):""]),He=[ie,...pe].map(Be=>Be.map(Ge=>`"${String(Ge).replace(/"/g,'""')}"`).join(",")).join(`\r
`),rt=new Blob([He],{type:"text/csv"}),Xt=URL.createObjectURL(rt),Je=document.createElement("a");Je.href=Xt,Je.download=`orders_${Date.now()}.csv`,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(Xt)},[H,K]=x.useState(""),[Q,ue]=x.useState(null),[le,Re]=x.useState(null),[W,ee]=x.useState([]),[V,J]=x.useState([]),[te,oe]=x.useState(""),[me,Se]=x.useState([]),[Le,_e]=x.useState([]),[Ue,ke]=x.useState("products"),[Y,ae]=x.useState({}),[Oe,xe]=x.useState(null),[ve,Fe]=x.useState(!0),[Ye,Ee]=x.useState([]),[de,ye]=x.useState([]),[nt,At]=x.useState(""),[at,be]=x.useState("date-desc"),it=Or();x.useEffect(()=>{const N=Wi(it,async ie=>{if(ie){ue(ie);const pe=await xn(Me(re,"users",ie.uid));Re(pe.exists()?pe.data():{role:"customer"})}else ue(null),Re(null)});return()=>N()},[it]),x.useEffect(()=>{const N=It(ze(re,"products"),pe=>ee(pe.docs.map(He=>({id:He.id,...He.data()})))),ie=It(ze(re,"batches"),pe=>{J(pe.docs.map(He=>({id:He.id,...He.data()}))),Fe(!1)});return()=>{N(),ie()}},[]),x.useEffect(()=>{if(!le)return;const N=It(ze(re,"users"),ie=>Se(ie.docs.map(pe=>({id:pe.id,...pe.data()}))));return()=>N()},[le]),x.useEffect(()=>{const N=It(ze(re,"orders"),ie=>{const pe=ie.docs.map(He=>({id:He.id,...He.data()}));pe.sort((He,rt)=>new Date(rt.date)-new Date(He.date)),_e(pe)});return()=>N()},[]);const qe={};me.forEach(N=>qe[N.id]=N);const gn=async N=>{if(window.confirm(`Delete medicine: ${N.name}?`))try{await qr(Me(re,"products",N.id)),De.success("Medicine deleted.")}catch(ie){console.error(ie),De.error("Error deleting medicine")}},Pr=async N=>{if(window.confirm(`Delete batch: ${N.name}?`))try{for(let ie of N.medicineIds)await qr(Me(re,"products",ie));await qr(Me(re,"batches",N.id))}catch(ie){console.error(ie),alert("Error deleting batch")}},Eo=async(N,ie)=>{try{await on(Me(re,"users",N),{role:ie}),alert("Role updated!")}catch(pe){console.error(pe),alert("Error updating role")}},ii=N=>ae(ie=>({...ie,[N]:!ie[N]}));x.useEffect(()=>{Ht(ze(re,"verifyMedics")).then(N=>{Ee(N.docs.map(ie=>({id:ie.id,...ie.data(),type:"Prescription Verification"})))}),Ht(ze(re,"consultMedics")).then(N=>{ye(N.docs.map(ie=>({id:ie.id,...ie.data(),type:"Consultation"})))})},[]);const Mr=async N=>{var ie;const pe=(ie=N.items)==null?void 0:ie.some(rt=>rt.isPOM);let He=null;if(pe){if(!H)return alert("Select a verifying medic before completing POM order.");He=H}window.confirm("Mark order as completed?")&&(await on(Me(re,"orders",N.id),{status:"Completed",completedBy:Q.uid,completedAt:new Date().toISOString(),medicVerifiedBy:He||null}),alert(" Order marked completed"),K(""))},Yn=N=>N.reduce((ie,pe)=>ie+pe.price*(pe.quantity||1),0);if(!Q)return l.jsx("p",{children:"Please log in to access admin."});if(!le)return l.jsx("p",{children:"Loading user data..."});if(le.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(ve)return l.jsx("p",{children:"Loading dashboard..."});const yr=Le.filter(N=>N.status==="Processing"||N.status==="In-Progress").filter(N=>{var ie,pe;if(!nt)return!0;const He=nt.toLowerCase();return(((ie=qe[N.userId])==null?void 0:ie.email)||N.userId).toLowerCase().includes(He)||((pe=N.items)==null?void 0:pe.some(rt=>rt.name.toLowerCase().includes(He)))}).sort((N,ie)=>at==="date-desc"?new Date(ie.date)-new Date(N.date):at==="date-asc"?new Date(N.date)-new Date(ie.date):at==="amount-desc"?(ie.total||0)-(N.total||0):at==="amount-asc"?(N.total||0)-(ie.total||0):0),oi=Le.filter(N=>N.status==="Completed"),Z=oi.filter(N=>{var ie,pe;if(!nt)return!0;const He=nt.toLowerCase();return(((ie=qe[N.userId])==null?void 0:ie.email)||N.userId).toLowerCase().includes(He)||((pe=N.items)==null?void 0:pe.some(rt=>rt.name.toLowerCase().includes(He)))}).sort((N,ie)=>at==="date-desc"?new Date(ie.completedAt||ie.date)-new Date(N.completedAt||N.date):at==="date-asc"?new Date(N.completedAt||N.date)-new Date(ie.completedAt||ie.date):at==="amount-desc"?(ie.total||0)-(N.total||0):at==="amount-asc"?(N.total||0)-(ie.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[E.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),E.map((N,ie)=>{var pe,He,rt,Xt,Je;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((pe=N.businessInfo)==null?void 0:pe.businessName)||N.businessId]}),l.jsxs("p",{children:["Email: ",((He=N.businessInfo)==null?void 0:He.email)||""]}),l.jsxs("p",{children:["Phone: ",((rt=N.businessInfo)==null?void 0:rt.phone)||""]}),l.jsxs("p",{children:["Address: ",((Xt=N.businessInfo)==null?void 0:Xt.address)||""]}),l.jsxs("p",{children:["Products: ",(Je=N.cart)==null?void 0:Je.map(Be=>Be.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:N.status})]}),N.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>m(N,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>m(N,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},N.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>ke("products"),style:vs(Ue==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>ke("users"),style:vs(Ue==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>ke("orders"),style:vs(Ue==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>ke("medics"),style:vs(Ue==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>ke("deliveryagents"),style:vs(Ue==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>ke("coupons"),style:vs(Ue==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",Q.email]}),Ue==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(vQ,{})]})]})]}),Ue==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:te,onChange:N=>oe(N.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),V.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:iy,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:V.filter(N=>{var ie;return te?(((ie=qe[N.uploadedBy])==null?void 0:ie.businessName)||"").toLowerCase().includes(te.toLowerCase()):!0}).map(N=>{var ie,pe;return l.jsxs("tr",{style:oy,children:[l.jsx("td",{children:N.name}),l.jsx("td",{children:new Date(N.date).toLocaleString()}),l.jsx("td",{children:((ie=qe[N.uploadedBy])==null?void 0:ie.businessName)||N.uploadedBy}),l.jsx("td",{children:((pe=N.medicineIds)==null?void 0:pe.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Pr(N),children:"Delete"})})]},N.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:c||"",onChange:N=>u(N.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:h||"",onChange:N=>f(N.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:v||"",onChange:N=>b(N.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(W.map(N=>N.class).filter(Boolean))].sort().map(N=>l.jsx("option",{value:N,children:N},N))]}),l.jsxs("select",{value:_||"",onChange:N=>S(N.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(W.map(N=>N.ownerId).filter(Boolean))].map(N=>{var ie;return l.jsx("option",{value:N,children:((ie=qe[N])==null?void 0:ie.businessName)||N},N)})]})]}),W.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:iy,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:W.filter(N=>{var ie,pe;return!(c&&!((ie=N.name)!=null&&ie.toLowerCase().includes(c.toLowerCase()))||h&&!((pe=N.ingredient)!=null&&pe.toLowerCase().includes(h.toLowerCase()))||v&&N.class!==v||_&&N.ownerId!==_)}).map(N=>{var ie;return l.jsxs("tr",{style:oy,children:[l.jsx("td",{children:N.name}),l.jsx("td",{children:N.ingredient}),l.jsx("td",{children:N.class}),l.jsx("td",{children:N.price}),l.jsx("td",{children:((ie=qe[N.ownerId])==null?void 0:ie.businessName)||N.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>gn(N),children:"Delete"})})]},N.id)})})]})]}),Ue==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),me.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:iy,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:me.map(N=>l.jsxs("tr",{style:oy,children:[l.jsx("td",{children:N.email}),l.jsx("td",{children:N.role}),l.jsx("td",{children:l.jsxs("select",{value:N.role||"customer",onChange:ie=>Eo(N.id,ie.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>xe(N),children:"View Details"})})]},N.id))})]}),Oe&&l.jsx(xQ,{user:Oe,medicines:W.filter(N=>N.ownerId===Oe.id),orders:Le.filter(N=>N.userId===Oe.id),onClose:()=>xe(null)})]}),Ue==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>s(N=>({...N,pending:!N.pending})),children:[l.jsx("span",{style:{marginRight:8},children:a.pending?"":""})," Pending / Processing Orders"]}),a.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:nt,onChange:N=>At(N.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:at,onChange:N=>be(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:w,onChange:N=>R(N.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:j,onChange:N=>I(N.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:L,onChange:N=>B(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ye,...de].map(N=>l.jsxs("option",{value:N.id,children:[N.name," (",N.profession,")"]},N.id))]}),l.jsx("input",{type:"text",value:G,onChange:N=>$(N.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:N=>U(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),yr.length===0?l.jsx("p",{children:"No pending orders."}):yr.map(N=>{var ie,pe,He,rt,Xt;const Je=(ie=N.items)==null?void 0:ie.some(We=>We.isPOM),Be=N.deliveryInfo?`${N.deliveryInfo.address||""}, ${N.deliveryInfo.city||""}, ${N.deliveryInfo.state||""}`:"N/A",Ge=N.deliveryInfo&&N.deliveryInfo.lat?N.deliveryInfo.lat:null,Ft=N.deliveryInfo&&N.deliveryInfo.lng?N.deliveryInfo.lng:null;let Lr="N/A",Dn=null,St=null;if(N.businessId&&qe[N.businessId]){const We=qe[N.businessId];Lr=`${We.address||""}, ${We.city||""}, ${We.state||""}`,Dn=We.lat||null,St=We.lng||null}const Ut=Y[N.id]?T[N.id]?N.items:(pe=N.items)==null?void 0:pe.slice(0,3):[],Vi=N.items&&N.items.length>3;return l.jsxs("div",{style:ay,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",N.deliveryType?N.deliveryType.charAt(0).toUpperCase()+N.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(N.date).toLocaleString()]}),l.jsx("button",{onClick:()=>ii(N.id),children:Y[N.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((He=qe[N.userId])==null?void 0:He.email)||N.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!N.deliveryInfo||!N.deliveryInfo.address&&!N.deliveryInfo.city&&!N.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):Be]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Ge&&Ft?`${Ge}, ${Ft}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",Lr]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",Dn&&St?`${Dn}, ${St}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const We=N.riderId||N.assignedAgentId;let Ot=null;return We&&qe[We]?(Ot=qe[We],`${Ot.companyName||Ot.name||Ot.email||We}${Ot.phoneNumber||Ot.whatsappNumber?` (${[Ot.phoneNumber,Ot.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):We&&t.length?(Ot=t.find(ya=>ya.id===We),Ot?`${Ot.companyName||Ot.name||Ot.id}${Ot.phoneNumber||Ot.whatsappNumber?` (${[Ot.phoneNumber,Ot.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:We):We||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(We=>({...We,[N.id]:!We[N.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[N.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:We=>{We.target.value&&i(N.id,We.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(We=>l.jsxs("option",{value:We.id,children:[We.companyName||We.name||We.email||We.id,We.phoneNumber||We.whatsappNumber?` (${[We.phoneNumber,We.whatsappNumber].filter(Boolean).join(" / ")})`:""]},We.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!N.riderId&&!N.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):N.status==="cancelled"&&N.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):N.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):N.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(N.riderId||N.assignedAgentId)&&N.status!=="Completed"&&N.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):N.status]})]}),Y[N.id]&&((rt=N.items)==null?void 0:rt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:T[N.id]?"none":120,overflowY:Vi&&!T[N.id]?"hidden":"auto",marginBottom:4},children:Ut.map((We,Ot)=>l.jsxs("li",{children:[We.name," - ",We.price," x ",We.quantity||1]},Ot))}),Vi&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>C(We=>({...We,[N.id]:!We[N.id]})),children:T[N.id]?"Show Less":`Show All (${N.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",Yn(N.items||[]),Je&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),Je&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:H,onChange:We=>K(We.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Ye,...de].map(We=>l.jsxs("option",{value:We.id,children:[We.name," (",We.profession,") - ",We.type]},We.id))]})]}),l.jsx("button",{onClick:()=>Mr(N),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>o(N),children:"Cancel Order"}),N.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(N.completedAt).toLocaleString(),l.jsx("br",{}),N.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Xt=Ye.find(We=>We.id===N.medicVerifiedBy))==null?void 0:Xt.name)||N.medicVerifiedBy]})]})]},N.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>s(N=>({...N,completed:!N.completed})),children:[l.jsx("span",{style:{marginRight:8},children:a.completed?"":""})," Completed Orders (You)"]}),a.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:nt,onChange:N=>At(N.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:at,onChange:N=>be(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:w,onChange:N=>R(N.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:j,onChange:N=>I(N.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:L,onChange:N=>B(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ye,...de].map(N=>l.jsxs("option",{value:N.id,children:[N.name," (",N.profession,")"]},N.id))]}),l.jsx("input",{type:"text",value:G,onChange:N=>$(N.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:N=>U(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Z.length===0?l.jsx("p",{children:"No completed orders found."}):Z.map(N=>{var ie,pe,He,rt;const Xt=N.deliveryInfo?`${N.deliveryInfo.address||""}, ${N.deliveryInfo.city||""}, ${N.deliveryInfo.state||""}`:"N/A",Je=N.deliveryInfo&&N.deliveryInfo.lat?N.deliveryInfo.lat:null,Be=N.deliveryInfo&&N.deliveryInfo.lng?N.deliveryInfo.lng:null;let Ge="N/A",Ft=null,Lr=null;if(N.businessId&&qe[N.businessId]){const Ut=qe[N.businessId];Ge=`${Ut.address||""}, ${Ut.city||""}, ${Ut.state||""}`,Ft=Ut.lat||null,Lr=Ut.lng||null}const Dn=Y[N.id]?g[N.id]?N.items:(ie=N.items)==null?void 0:ie.slice(0,3):[],St=N.items&&N.items.length>3;return l.jsxs("div",{style:ay,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",N.deliveryType?N.deliveryType.charAt(0).toUpperCase()+N.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(N.completedAt||N.date).toLocaleString()]}),l.jsx("button",{onClick:()=>ii(N.id),children:Y[N.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((pe=qe[N.userId])==null?void 0:pe.email)||N.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!N.deliveryInfo||!N.deliveryInfo.address&&!N.deliveryInfo.city&&!N.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):Xt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Je&&Be?`${Je}, ${Be}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",Ge]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",Ft&&Lr?`${Ft}, ${Lr}`:"N/A"]}),Y[N.id]&&((He=N.items)==null?void 0:He.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[N.id]?"none":120,overflowY:St&&!g[N.id]?"hidden":"auto",marginBottom:4},children:Dn.map((Ut,Vi)=>l.jsxs("li",{children:[Ut.name," - ",Ut.price," x ",Ut.quantity||1]},Vi))}),St&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>y(Ut=>({...Ut,[N.id]:!Ut[N.id]})),children:g[N.id]?"Show Less":`Show All (${N.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",N.total||Yn(N.items||[])]}),N.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((rt=Ye.concat(de).find(Ut=>Ut.id===N.medicVerifiedBy))==null?void 0:rt.name)||N.medicVerifiedBy]}),N.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(N.completedAt).toLocaleString()]})]},N.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>s(N=>({...N,cancelled:!N.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:a.cancelled?"":""})," Cancelled Orders"]}),a.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:nt,onChange:N=>At(N.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:at,onChange:N=>be(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:w,onChange:N=>R(N.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:j,onChange:N=>I(N.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:L,onChange:N=>B(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ye,...de].map(N=>l.jsxs("option",{value:N.id,children:[N.name," (",N.profession,")"]},N.id))]}),l.jsx("input",{type:"text",value:G,onChange:N=>$(N.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:N=>U(N.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Le.filter(N=>N.status==="cancelled"&&N.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):Le.filter(N=>N.status==="cancelled"&&N.cancelledBy==="admin").map(N=>{var ie,pe,He;const rt=N.deliveryInfo?`${N.deliveryInfo.address||""}, ${N.deliveryInfo.city||""}, ${N.deliveryInfo.state||""}`:"N/A",Xt=N.deliveryInfo&&N.deliveryInfo.lat?N.deliveryInfo.lat:null,Je=N.deliveryInfo&&N.deliveryInfo.lng?N.deliveryInfo.lng:null;let Be="N/A",Ge=null,Ft=null;if(N.businessId&&qe[N.businessId]){const St=qe[N.businessId];Be=`${St.address||""}, ${St.city||""}, ${St.state||""}`,Ge=St.lat||null,Ft=St.lng||null}const Lr=Y[N.id]?g[N.id]?N.items:(ie=N.items)==null?void 0:ie.slice(0,3):[],Dn=N.items&&N.items.length>3;return l.jsxs("div",{style:ay,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",N.deliveryType?N.deliveryType.charAt(0).toUpperCase()+N.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(N.cancelledAt||N.date).toLocaleString()]}),l.jsx("button",{onClick:()=>ii(N.id),children:Y[N.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((pe=qe[N.userId])==null?void 0:pe.email)||N.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!N.deliveryInfo||!N.deliveryInfo.address&&!N.deliveryInfo.city&&!N.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):rt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Xt&&Je?`${Xt}, ${Je}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",Be]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",Ge&&Ft?`${Ge}, ${Ft}`:"N/A"]}),Y[N.id]&&((He=N.items)==null?void 0:He.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[N.id]?"none":120,overflowY:Dn&&!g[N.id]?"hidden":"auto",marginBottom:4},children:Lr.map((St,Ut)=>l.jsxs("li",{children:[St.name," - ",St.price," x ",St.quantity||1]},Ut))}),Dn&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>y(St=>({...St,[N.id]:!St[N.id]})),children:g[N.id]?"Show Less":`Show All (${N.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",N.total||Yn(N.items||[])]}),N.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(N.cancelledAt).toLocaleString()]})]},N.id)})]})]})]}),Ue==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(wQ,{})]}),Ue==="coupons"&&l.jsx(yQ,{})]})}const vs=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),iy={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},oy={borderBottom:"1px solid #eee"},ay={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function xQ({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(o=>o.name).join(", ")," - ",i.items.reduce((o,a)=>o+a.price*(a.quantity||1),0)]},i.id))})]})}function wQ(){const[t,e]=Ce.useState([]),[n,r]=Ce.useState([]),[i,o]=Ce.useState([]),[a,s]=Ce.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[c,u]=Ce.useState(!1),[h,f]=Ce.useState(null);Ce.useEffect(()=>{(async()=>{const S=await Ht(ze(re,"verifyMedics"));e(S.docs.map(y=>({id:y.id,...y.data()})));const T=await Ht(ze(re,"consultMedics"));r(T.docs.map(y=>({id:y.id,...y.data()})));const C=await Ht(ze(re,"users")),g=[];C.docs.forEach(y=>{const O=y.data();O.role==="medicine-manager"&&O.pharmacist&&g.push({...O.pharmacist,id:y.id,online:!0})}),o(g)})()},[]);const v=async(S,T)=>{await on(Me(re,S==="verify"?"verifyMedics":"consultMedics",T.id),{online:!T.online}),S==="verify"?e(C=>C.map(g=>g.id===T.id?{...g,online:!T.online}:g)):r(C=>C.map(g=>g.id===T.id?{...g,online:!T.online}:g))},b=S=>{s({...a,[S.target.name]:S.target.value})},_=async S=>{S.preventDefault(),u(!0);const T={photo:a.photo,name:a.name,profession:a.profession,license:a.license,pharmacyName:a.pharmacyName,languages:a.languages.split(",").map(g=>g.trim()),whatsapp:a.whatsapp},C=a.section==="verify"?"verifyMedics":"consultMedics";h?await on(Me(re,C,h.id),T):await vo(ze(re,C),T),s({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),f(null),u(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:_,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:a.section,onChange:b,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:a.photo,onChange:b,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:a.name,onChange:b,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:a.profession,onChange:b,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:a.license,onChange:b,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:a.pharmacyName||"",onChange:b,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:a.languages,onChange:b,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:a.whatsapp,onChange:b,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:c,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((S,T)=>(T.online===!0)-(S.online===!0)).map(S=>{let T=[];return Array.isArray(S.languages)?T=S.languages:typeof S.languages=="string"&&(T=S.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>v("verify",S),title:S.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:S.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:S.photo,alt:S.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:S.name})}),l.jsx("div",{children:S.profession}),l.jsxs("div",{children:["Pharmacy: ",S.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",S.license]}),l.jsxs("div",{children:["Languages: ",T.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${S.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{f({id:S.id,section:"verify"}),s({section:"verify",photo:S.photo,name:S.name,profession:S.profession,license:S.license,pharmacyName:S.pharmacyName,languages:Array.isArray(S.languages)?S.languages.join(", "):S.languages,whatsapp:S.whatsapp})},children:"Edit"})]},S.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((S,T)=>(T.online===!0)-(S.online===!0)).map(S=>{let T=[];return Array.isArray(S.languages)?T=S.languages:typeof S.languages=="string"&&(T=S.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>v("consult",S),title:S.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:S.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:S.photo,alt:S.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:S.name})}),l.jsx("div",{children:S.profession}),l.jsxs("div",{children:["License: ",S.license]}),l.jsxs("div",{children:["Languages: ",T.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${S.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{f({id:S.id,section:"consult"}),s({section:"consult",photo:S.photo,name:S.name,profession:S.profession,license:S.license,languages:Array.isArray(S.languages)?S.languages.join(", "):S.languages,whatsapp:S.whatsapp})},children:"Edit"})]},S.id)})})]})}function SQ(){const{slug:t}=$u();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(CA,{storeSlug:t})]})}function kQ(){const[t,e]=x.useState([]),[n,r]=x.useState(!1),i=gr(),o=()=>{if(!(v!=null&&v.pharmacist))return null;const{name:w,photo:R}=v.pharmacist;return l.jsxs("button",{onClick:()=>{if(!a)return alert("Please log in to chat");i(`/chat/${v.uid}`,{state:{pharmacist:v.pharmacist,businessName:v.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:j=>j.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:j=>j.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[R&&l.jsx("img",{src:R,alt:w,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",w]})},[a,s]=x.useState(null),[c,u]=x.useState(null),h=Or(),{slug:f}=$u(),[v,b]=x.useState(null),[_,S]=x.useState(!0),[T,C]=x.useState([]),[g,y]=x.useState([]),[O,M]=x.useState(""),[P,E]=x.useState(null),p=(w,R,j,I)=>{const L=F=>F*Math.PI/180,B=L(j-w),G=L(I-R),$=Math.sin(B/2)**2+Math.cos(L(w))*Math.cos(L(j))*Math.sin(G/2)**2;return 6371*(2*Math.atan2(Math.sqrt($),Math.sqrt(1-$)))},m=w=>{const R=w*1.64,j=Math.max(1,Math.round(R/25*60));return{drivingKm:R,minutes:j}};return x.useEffect(()=>{const w=Wi(h,R=>{s(R)});return()=>w()},[h]),x.useEffect(()=>{if(!v||!a||a.uid!==v.uid)return;const w=It(ze(re,"orders"),R=>{const j=R.docs.map(I=>({id:I.id,...I.data()})).filter(I=>Array.isArray(I.items)&&I.items.some(L=>L.ownerId===v.uid)).filter(I=>!t.includes(I.id));j.length>0&&(j.forEach(I=>{De.info(` New order received! Order ID: ${I.id}`)}),e(I=>[...I,...j.map(L=>L.id)]))});return()=>w()},[v,a,t]),x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(w=>E({lat:w.coords.latitude,lng:w.coords.longitude}),()=>E(null))},[]),x.useEffect(()=>{f&&(S(!0),(async()=>{const w=Tr(ze(re,"users"),Ir("slug","==",f)),R=await Ht(w);if(R.empty)b(null);else{const j=R.docs[0];b({uid:j.id,...j.data()})}S(!1)})())},[f]),x.useEffect(()=>{if(!v)return;const w=Tr(ze(re,"products"),Ir("ownerId","==",v.uid)),R=It(w,j=>{const I=j.docs.map(L=>({id:L.id,...L.data()}));C(I)});return()=>R()},[v]),x.useEffect(()=>{if(!T)return;const w=(B="")=>B.toLowerCase().trim().replace(/\s+/g," "),R={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=w(O),I=(R[j]||j).split(" "),L=T.map(B=>{var G,$;if(P&&(G=v.location)!=null&&G.latitude&&($=v.location)!=null&&$.longitude){const F=p(P.lat,P.lng,v.location.latitude,v.location.longitude),{minutes:U}=m(F);return{...B,minutesAway:U}}return{...B,minutesAway:1/0}}).filter(B=>{const G=w(B.name),$=w(B.ingredient),F=w(B.class);return I.some(U=>G.includes(U)||$.includes(U)||F.includes(U))}).sort((B,G)=>B.minutesAway-G.minutesAway);y(L)},[T,O,P,v]),_?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):v===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(o,{}),l.jsxs("h2",{children:[" ",(v==null?void 0:v.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:O,onChange:w=>M(w.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),g.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:g.map(w=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[w.image&&l.jsx("img",{src:w.image,alt:w.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:w.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:w.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",w.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",w.price!==void 0?w.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",v!=null&&v.businessName&&v.businessName.trim()?v.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!a)return alert("Please log in first");const R=Me(re,"carts",a.uid),j=await xn(R);let I=j.exists()?j.data().items||[]:[];const L=I.findIndex(B=>B.name===w.name);L>=0?I[L].quantity+=1:I.push({...w,quantity:1}),await Qr(R,{items:I}),u(w.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),c===w.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),w.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:w.minutesAway<=1?" Right here":` ~${w.minutesAway} mins away`})]},w.id))})]})}function yn(){return typeof window<"u"&&window.innerWidth<=600}function CQ(){const[t,e]=x.useState([]),[n,r]=x.useState(!0),[i,o]=x.useState("");if(x.useEffect(()=>{async function s(){const c=await Ht(ze(re,"users")),u=[];c.forEach(h=>{const f=h.data();f.role==="medicine-manager"&&f.businessName&&f.slug&&u.push({id:h.id,name:f.businessName,slug:f.slug,image:f.businessImage||null,address:f.businessAddress||"",phone:f.businessPhone||""})}),e(u),r(!1)}s()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const a=t.filter(s=>s.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:yn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:yn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:s=>o(s.target.value),style:{fontSize:yn()?15:16,width:yn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:yn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:yn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:yn()?14:32},children:a.map(s=>l.jsxs(Wu,{to:`/store/${s.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:yn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:yn()?120:220},children:[s.image?l.jsx("img",{src:s.image,alt:s.name,style:{width:yn()?50:80,height:yn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:yn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:yn()?50:80,height:yn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:yn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:yn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:yn()?16:20,marginBottom:8},children:s.name}),l.jsx("div",{style:{fontSize:yn()?12:15,color:"#6366f1",marginBottom:6},children:s.address}),l.jsx("div",{style:{fontSize:yn()?10:14,color:"#64748b"},children:s.phone})]},s.id))})]})}const _Q=(t,e,n,r)=>{const i=c=>c*Math.PI/180,o=i(n-t),a=i(r-e),s=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},EQ=t=>{const e=t*1.64,n=Math.max(1,Math.round(e/25*60));return{drivingKm:e,minutes:n}},sC=["admin","medicine-manager","distributor"],lC=["admin","distributor"];function TQ(){const[t,e]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState("shop"),[a,s]=x.useState([]),[c,u]=x.useState([]),[h,f]=x.useState(""),[v,b]=x.useState(null),[_,S]=x.useState(null);x.useEffect(()=>{if(!navigator.geolocation){b("denied");return}navigator.geolocation.getCurrentPosition(y=>b({lat:y.coords.latitude,lng:y.coords.longitude}),()=>b("denied"))},[]),x.useEffect(()=>{const y=It(ze(re,"products"),async O=>{const M=await Promise.all(O.docs.map(async P=>{var E,p;const m={id:P.id,...P.data()};if(m.ownerId){const w=Me(re,"users",m.ownerId),R=await xn(w);if(R.exists()){const j=R.data();m.businessName=j.businessName||"Unknown Distributor",m.ownerSlug=j.slug||null,m.ownerRole=j.role||null,(E=j.location)!=null&&E.latitude&&(p=j.location)!=null&&p.longitude&&(m.businessLat=j.location.latitude,m.businessLng=j.location.longitude)}}return m}));s(M.filter(P=>P.ownerRole==="distributor"))});return()=>y()},[]),x.useEffect(()=>{if(a.length===0)return;let y=a;if(h.trim()){const O=h.toLowerCase();y=a.filter(M=>M.name&&M.name.toLowerCase().includes(O)||M.ingredient&&M.ingredient.toLowerCase().includes(O)||M.class&&M.class.toLowerCase().includes(O))}v&&v!=="denied"&&(y=y.map(O=>{if(O.businessLat&&O.businessLng){const M=_Q(v.lat,v.lng,O.businessLat,O.businessLng),{minutes:P}=EQ(M);return{...O,minutesAway:P}}return{...O,minutesAway:1/0}}),y.sort((O,M)=>O.minutesAway-M.minutesAway)),u(y)},[a,h,v]);const T=async y=>{if(!t)return alert("Please login first");try{const O=Me(re,"carts",t.uid),M=await xn(O);let P=[];M.exists()&&(P=M.data().items||[]);const E=P.findIndex(p=>p.id===y.id);E>=0?P[E].quantity+=1:P.push({...y,quantity:1}),await Qr(O,{items:P}),S(`Added ${y.name} to cart!`),setTimeout(()=>S(null),1500)}catch{alert("Error adding to cart")}};if(x.useEffect(()=>{const y=Or(),O=Wi(y,async M=>{if(!M){e(null),r(null);return}e(M);const P=Me(re,"users",M.uid),E=await xn(P);r(E.exists()?E.data().role:null)});return()=>O()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!sC.includes(n)&&!lC.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const C=sC.includes(n),g=lC.includes(n);return i==="shop"&&!C||i==="add"&&!g?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[C&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>o("shop"),children:"Shop Stock"}),g&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>o("add"),children:"Add Stock"})]}),i==="shop"&&C&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:h,onChange:y=>f(y.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),_&&l.jsx("div",{style:{color:"green",marginBottom:10},children:_}),c.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:c.map(y=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[y.registeredOnly&&y.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),y.image&&l.jsx("img",{src:y.image,alt:y.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:y.name}),l.jsx("p",{children:l.jsx("em",{children:y.ingredient})}),l.jsxs("p",{children:["Class: ",y.class]}),l.jsxs("p",{children:["Price: ",y.price]}),Array.isArray(y.moqs)&&y.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",y.moqs.map((O,M)=>l.jsx("span",{style:{marginRight:8},children:O.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",y.businessName]}),y.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:y.minutesAway<=1?" Right here":` ~${y.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>T(y),children:"Add to Cart"})]},y.id))})]}),i==="add"&&g&&l.jsx(IQ,{user:t,role:n})]})}function IQ({user:t,role:e}){const[n,r]=Ce.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,o]=Ce.useState([]),[a,s]=Ce.useState(!1);Ce.useEffect(()=>{if(e!=="distributor")return;const F=It(ze(re,"businessRegistrations"),U=>{o(U.docs.filter(q=>q.data().distributorId===t.uid&&q.data().status==="approved").map(q=>q.data()))});return()=>F()},[t,e]);const c=(F,U)=>{const q=n.moqs.map((H,K)=>K===F?{type:U.target.value}:H);r({...n,moqs:q})},u=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},h=F=>{r({...n,moqs:n.moqs.filter((U,q)=>q!==F)})},[f,v]=Ce.useState(null),[b,_]=Ce.useState([]),[S,T]=Ce.useState([]),[C,g]=Ce.useState([]),[y,O]=Ce.useState(!1),[M,P]=Ce.useState(null),[E,p]=Ce.useState(null);Ce.useEffect(()=>{if(!t)return;const F=It(ze(re,"products"),U=>{let q=U.docs.map(H=>({id:H.id,...H.data()}));m()||(q=q.filter(H=>H.ownerId===t.uid)),_(q)});return()=>F()},[t]),Ce.useEffect(()=>{if(!t)return;const F=It(ze(re,"batches"),U=>{let q=U.docs.map(H=>({id:H.id,...H.data()}));m()||(q=q.filter(H=>H.uploadedBy===t.uid)),T(q)});return()=>F()},[t]);function m(){var F;return(F=t==null?void 0:t.email)==null?void 0:F.includes("admin")}const w=F=>r({...n,[F.target.name]:F.target.value}),R=async()=>{const F=!n.registeredOnly;if(r({...n,registeredOnly:F}),e==="distributor"&&t!=null&&t.uid){const U=ze(re,"products"),q=await getDocs(U),H=[];q.docs.forEach(K=>{if(K.data().ownerId===t.uid){const Q={registeredOnly:F};F?Q.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:Q.registeredUniqueId=null,H.push(updateDoc(Me(re,"products",K.id),Q))}}),await Promise.all(H),window.location.reload()}},j=async F=>{F.preventDefault(),O(!0),p(null),P(null);try{let U=e,q=null,H=null;if(e==="distributor"){const Q=Me(re,"users",t.uid),ue=await xn(Q);ue.exists()&&(q=ue.data().slug||ue.data().businessSlug||null),n.registeredOnly&&(H=`${t.uid}_${Date.now()}`)}const K={...n,ownerId:t.uid,ownerRole:U,ownerSlug:q};H&&(K.registeredUniqueId=H),f?(await Qr(Me(re,"products",f),K,{merge:!0}),v(null),P("Medicine updated!")):(await vo(ze(re,"products"),K),P("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}O(!1)},I=F=>{r({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",moqs:F.moqs||[{type:"sachet",value:"",price:""}]}),v(F.id)},L=async F=>{if(window.confirm("Delete this medicine?")){O(!0);try{await qr(Me(re,"products",F.id)),P("Medicine deleted")}catch{p("Error deleting medicine")}O(!1)}},B=F=>{const U=F.target.files[0];U&&EA.parse(U,{header:!0,skipEmptyLines:!0,complete:q=>{g(q.data)},error:()=>p("Failed to parse CSV")})},G=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!C.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),O(!1);return}O(!0),p(null),P(null);const F=Me(ze(re,"batches")),U=[];let q=e,H=null;if(e==="distributor"){const K=Me(re,"users",t.uid),Q=await xn(K);Q.exists()&&(H=Q.data().slug||Q.data().businessSlug||null)}for(let K of C)try{let Q=[];if(K.moqs)try{Q=JSON.parse(K.moqs)}catch{}let ue=null;e==="distributor"&&K.registeredOnly===!0&&(ue=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const le=await vo(ze(re,"products"),{name:K.name,ingredient:K.ingredient,class:K.class,price:parseInt(K.price,10)||0,image:K.image||"",batchId:F.id,ownerId:t.uid,ownerRole:q,ownerSlug:H,moqs:Q,registeredOnly:!!K.registeredOnly,...ue?{registeredUniqueId:ue}:{}});U.push(le.id)}catch{}await Qr(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:U}),P(`${U.length} medicines uploaded`),g([]),O(!1)},$=async F=>{if(window.confirm("Delete this batch and its medicines?")){O(!0);try{for(let U of F.medicineIds)await qr(Me(re,"products",U));await qr(Me(re,"batches",F.id)),P("Batch deleted")}catch{p("Error deleting batch")}O(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>s(F=>!F),style:{background:a?"#7c3aed":"#ede9fe",color:a?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:a?"Hide Registered Businesses":"Show Registered Businesses"}),a&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((F,U)=>{var q,H,K;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((q=F.businessInfo)==null?void 0:q.businessName)||F.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((H=F.businessInfo)==null?void 0:H.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((K=F.businessInfo)==null?void 0:K.phone)||""})]},U)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:j,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:w,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:w,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:w,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:w,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:w,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:R,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((F,U)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:F.type,onChange:q=>c(U,q),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>h(U),style:{color:"red"},children:""})]},U)),l.jsx("button",{type:"button",onClick:u,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:y,style:{marginTop:10},children:f?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:B}),C.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:G,disabled:y,children:["Submit CSV (",C.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",m()&&"(All Users)"]}),b.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:b.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:Array.isArray(F.moqs)&&F.moqs.length>0?F.moqs.map((U,q)=>l.jsx("span",{style:{marginRight:8},children:U.type},q)):"-"}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>I(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>L(F),children:"Delete"})]})]},F.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",m()&&"(All Users)"]}),S.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:S.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:F.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>$(F),children:"Delete Batch"})})]},F.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),E&&l.jsx("div",{style:{color:"red",marginTop:10},children:E})]})}function jQ({medics:t}){const e=gr();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:14,marginTop:18,justifyContent:"center",padding:"0 4px"},children:[...t].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(o=>o.trim()).filter(Boolean));const i=()=>{window.confirm(`Do you want to have a one-on-one conversation with ${n.name}?

This will allow you to chat privately, ask questions, and get professional advice. Consultation fee: 3000.

Do you want to proceed?`)&&e("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",width:160,minHeight:180,padding:12,border:"none",borderRadius:14,background:"#fff",boxShadow:"0 2px 10px 0 rgba(0,150,136,0.10)",cursor:"pointer",transition:"box-shadow 0.2s, transform 0.2s",outline:"2px solid transparent",marginBottom:8},onClick:i,onMouseOver:o=>o.currentTarget.style.boxShadow="0 8px 24px 0 rgba(0,150,136,0.18)",onMouseOut:o=>o.currentTarget.style.boxShadow="0 2px 10px 0 rgba(0,150,136,0.10)",children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:12,height:12,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #00968855"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:48,height:48,borderRadius:"50%",objectFit:"cover",marginBottom:8,border:"1.5px solid #e0f7fa",background:"#f5f5f5",display:"block",marginLeft:"auto",marginRight:"auto"}}),l.jsx("div",{style:{fontWeight:800,fontSize:13,color:"#111",marginBottom:2,textAlign:"left",maxWidth:120},children:n.name}),l.jsx("div",{style:{color:"#111",fontWeight:600,fontSize:11,textAlign:"left",letterSpacing:.1},children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#009688",fontWeight:700,fontSize:11,marginTop:2,textAlign:"left",letterSpacing:.1,maxWidth:120},children:n.pharmacyName}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:["Lic: ",l.jsx("span",{style:{color:"#009688",fontWeight:700},children:n.license})]}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:[l.jsx("span",{style:{fontWeight:600,color:"#009688"},children:"Top interest:"})," ",l.jsx("span",{style:{color:"#009688",fontWeight:700}})]}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:["Lang: ",l.jsx("span",{style:{color:"#009688",fontWeight:700},children:r.join(", ")})]})]},n.id)})})}function RQ(){const[t,e]=x.useState([]),[n,r]=x.useState([]),[i,o]=x.useState("");return x.useEffect(()=>{(async()=>{let a=(await Ht(ze(re,"verifyMedics"))).docs.map(c=>({id:c.id,...c.data()}));(await Ht(ze(re,"users"))).docs.forEach(c=>{const u=c.data();u.role==="medicine-manager"&&u.pharmacist&&a.push({...u.pharmacist,id:c.id,online:!0})}),e(a);const s=await Ht(ze(re,"consultMedics"));r(s.docs.map(c=>({id:c.id,...c.data()})))})()},[]),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"18px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",width:"100vw",maxWidth:"100vw",overflowX:"hidden"},children:[l.jsx("div",{style:{width:"100%",maxWidth:400,marginBottom:12,position:"relative",display:"flex",justifyContent:"center",padding:"0 6px"},children:l.jsx(pi,{elevation:6,sx:{borderRadius:2.5,px:{xs:1,sm:2},py:{xs:1,sm:1.5},boxShadow:"0 2px 12px 0 rgba(0,150,136,0.10)",background:"#fff",position:"relative",width:"100%",maxWidth:400,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:22,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.1,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:8,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:22,marginRight:3},children:""})," Medinterface"]})})}),l.jsx("div",{style:{fontSize:13,color:"#fff",fontWeight:400,textAlign:"center",marginBottom:8,marginTop:2,padding:"0 12px",lineHeight:1.4,maxWidth:340,letterSpacing:.01,fontFamily:"Inter, Arial, sans-serif",textShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:"verify prescriptions, get medicine advise and talk to a medical professional"}),l.jsx("input",{type:"text",placeholder:"Search Pharmacists & Consultants...",value:i,onChange:a=>o(a.target.value),style:{width:"90%",maxWidth:340,marginBottom:12,padding:"7px 12px",borderRadius:8,border:"1px solid #b2dfdb",fontSize:14,outline:"none"}}),l.jsx(jQ,{medics:[...t.filter(a=>{var s;return(s=a.name)==null?void 0:s.toLowerCase().includes(i.toLowerCase())}),...n.filter(a=>{var s;return(s=a.name)==null?void 0:s.toLowerCase().includes(i.toLowerCase())})]})]})}var Zx={},AQ=pd;Object.defineProperty(Zx,"__esModule",{value:!0});var jA=Zx.default=void 0,OQ=AQ(Yx()),NQ=l,PQ=(0,OQ.default)((0,NQ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");jA=Zx.default=PQ;var e1={},MQ=pd;Object.defineProperty(e1,"__esModule",{value:!0});var RA=e1.default=void 0,LQ=MQ(Yx()),DQ=l,zQ=(0,LQ.default)((0,DQ.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");RA=e1.default=zQ;const FQ="/psx_logo.svg";function $Q({userEmail:t,menuOpen:e,setMenuOpen:n}){const r=gr(),i=x.useRef(null);return x.useEffect(()=>{if(!e)return;function o(a){i.current&&!i.current.contains(a.target)&&n(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e,n]),t?l.jsxs("div",{style:{position:"relative"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:l.jsx("div",{onClick:()=>n&&n(o=>!o),style:{width:26,height:26,borderRadius:"50%",background:"#e10098",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:15},title:t,children:t[0].toUpperCase()})}),e&&l.jsxs("div",{ref:i,style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:t}),l.jsx("button",{onClick:async()=>{await Or().signOut(),r("/auth")},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsx(Ax,{color:"inherit",onClick:()=>r("/auth"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(jA,{fontSize:"small"})})}const WQ=[{label:"Shop",to:"/shop"},{label:"Orders",to:"/orders"},{label:"Medinterface",to:"/medinterface"}];function BQ(){const t=gr(),{user:e}=Hm(),n=(e==null?void 0:e.email)||"",[r,i]=x.useState(!1),[o,a]=x.useState(0);return x.useEffect(()=>{if(!e||!e.uid){a(0);return}const s=Me(re,"carts",e.uid),c=It(s,u=>{if(u.exists()){const h=u.data();a(Array.isArray(h.items)?h.items.length:0)}else a(0)},()=>a(0));return()=>c()},[e]),l.jsx(C7,{position:"sticky",color:"default",elevation:1,sx:{zIndex:1201},children:l.jsx(WH,{sx:{minWidth:0,p:0},children:l.jsxs(Qe,{sx:{width:"100%",maxWidth:850,mx:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",px:0},children:[l.jsx(Qe,{sx:{display:"flex",alignItems:"center",flexGrow:1,cursor:"pointer"},onClick:()=>t("/"),children:l.jsx("img",{src:FQ,alt:"Logo",style:{height:40}})}),l.jsxs(Qe,{sx:{display:"flex",alignItems:"center",gap:{xs:0,sm:.2,md:.5},flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-end",sm:"flex-end"},maxWidth:{xs:"70vw",sm:"none"},pr:{xs:3,sm:5}},children:[WQ.map(s=>l.jsx($e,{component:Wu,to:s.to,sx:{color:"#333",textDecoration:"none",fontWeight:500,mx:{xs:.2,sm:1},fontSize:{xs:13,sm:15,md:16},px:{xs:.5,sm:1},py:{xs:.5,sm:0},borderRadius:1,"&:hover":{color:"#00796b"},whiteSpace:"nowrap"},children:s.label},s.to)),l.jsx(Ax,{color:"inherit",onClick:()=>t("/cart"),sx:{ml:{xs:0,sm:0},position:"relative"},children:l.jsx(MU,{badgeContent:o,color:"secondary",overlap:"circular",invisible:o===0,sx:{"& .MuiBadge-badge":{background:"#e10098",color:"#fff",fontWeight:700,fontSize:11,minWidth:16,height:16,top:0,right:0,padding:"0 4px"}},children:l.jsx(RA,{fontSize:"small"})})}),l.jsx($Q,{userEmail:n,menuOpen:r,setMenuOpen:i})]})]})})})}function UQ(){const[t,e]=x.useState(null),[n,r]=x.useState([]),[i,o]=x.useState("");function a(W){if(!i.trim())return W;const ee=i.trim().toLowerCase();return W.filter(V=>{var J,te,oe,me,Se,Le,_e,Ue,ke,Y,ae,Oe,xe,ve,Fe,Ye;const Ee=(((J=b[V.userId])==null?void 0:J.email)||"").toLowerCase(),de=(V.items&&V.items[0]&&((te=u[V.items[0].ownerId])==null?void 0:te.name)||"").toLowerCase(),ye=((((oe=V.deliveryInfo)==null?void 0:oe.address)||"")+" "+(((me=V.deliveryInfo)==null?void 0:me.city)||"")+" "+(((Se=V.deliveryInfo)==null?void 0:Se.state)||"")).toLowerCase(),nt=V.items&&V.items[0]&&((((Le=u[V.items[0].ownerId])==null?void 0:Le.address)||"")+" "+(((_e=u[V.items[0].ownerId])==null?void 0:_e.city)||"")+" "+(((Ue=u[V.items[0].ownerId])==null?void 0:Ue.state)||"")).toLowerCase()||"",At=[(ke=V.deliveryInfo)==null?void 0:ke.lat,(Y=V.deliveryInfo)==null?void 0:Y.lng,(xe=u[(Oe=(ae=V.items)==null?void 0:ae[0])==null?void 0:Oe.ownerId])==null?void 0:xe.lat,(Ye=u[(Fe=(ve=V.items)==null?void 0:ve[0])==null?void 0:Fe.ownerId])==null?void 0:Ye.lng].filter(Boolean).join(",").toLowerCase(),at=(V.items||[]).map(be=>be.name).join(", ").toLowerCase();return Ee.includes(ee)||de.includes(ee)||ye.includes(ee)||nt.includes(ee)||At.includes(ee)||at.includes(ee)})}const[s,c]=Ce.useState("processing"),[u,h]=x.useState({});x.useEffect(()=>{const W=It(ze(re,"users"),ee=>{const V={};ee.docs.forEach(J=>{const te=J.data();te.role==="medicine-manager"&&(V[J.id]={name:te.businessName||J.id,address:te.businessAddress||te.address||"-",lat:te.lat||te.latitude||null,lng:te.lng||te.longitude||null})}),h(V)});return()=>W()},[]);const[f,v]=x.useState(!0);x.useEffect(()=>{const W=Or(),ee=Wi(W,V=>{e(V),v(!1)});return()=>ee()},[]),x.useEffect(()=>{if(f||!t)return;const W=It(ze(re,"orders"),ee=>{const V=ee.docs.map(J=>({id:J.id,...J.data()})).filter(J=>J.status==="Processing"&&!J.assignedAgentId&&J.deliveryType&&J.deliveryType.toLowerCase()==="express").filter(J=>!n.includes(J.id));V.length>0&&(V.forEach(J=>{De.info(` New express delivery order! Order ID: ${J.id}`)}),r(J=>[...J,...V.map(te=>te.id)]))});return()=>W()},[f,t,n]);const[b,_]=x.useState({});x.useEffect(()=>{const W=It(ze(re,"users"),ee=>{const V={};ee.docs.forEach(J=>{const te=J.data();V[J.id]=te.email||J.id}),_(V)});return()=>W()},[]);const[S,T]=x.useState([]),[C,g]=x.useState([]),[y,O]=x.useState([]),[M,P]=x.useState(()=>{const W=localStorage.getItem("agentCanceledOrders");return W?JSON.parse(W):[]}),[E,p]=x.useState({}),[m,w]=x.useState({}),[R,j]=x.useState(null),{slug:I}=$u(),[L,B]=x.useState(null),[G,$]=x.useState(!1),[F,U]=x.useState(!0),[q,H]=x.useState("availability");x.useEffect(()=>{if(f||!t)return;const W=It(ze(re,"orders"),ee=>{const V=ee.docs.map(J=>({id:J.id,...J.data()}));T(V.filter(J=>J.status==="Completed"&&J.assignedAgentId===t.uid)),O(V.filter(J=>J.status==="In-Progress"&&J.assignedAgentId===t.uid)),g(V.filter(J=>J.status==="Processing"&&!J.assignedAgentId&&!M.some(te=>te.id===J.id)&&J.deliveryType&&J.deliveryType.toLowerCase()==="express"))});return()=>W()},[f,t,M]);const K=async W=>{j(W);try{await on(Me(re,"orders",W),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:L.slug,assignedAgentName:L.companyName,companyName:L.companyName,agentPhoneNumber:L.phoneNumber||"",agentWhatsappNumber:L.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),De.success("Order accepted!")}catch{De.error("Failed to accept order")}j(null)},Q=async W=>{try{await on(Me(re,"orders",W),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),De.success("Order marked as delivered!")}catch{De.error("Failed to mark as delivered")}},ue=async W=>{try{await on(Me(re,"orders",W),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),De.info("Order moved back to processing.")}catch{De.error("Failed to move order back to processing")}},le=W=>{const ee=C.find(V=>V.id===W)||y.find(V=>V.id===W);ee&&(P(V=>{const J=[...V,ee];return localStorage.setItem("agentCanceledOrders",JSON.stringify(J)),J}),c("canceled"))};x.useEffect(()=>{const W=ee=>{ee.key==="agentCanceledOrders"&&P(ee.newValue?JSON.parse(ee.newValue):[])};return window.addEventListener("storage",W),()=>window.removeEventListener("storage",W)},[]);const Re=async()=>{if(L){$(!0);try{const W=Me(re,"deliveryAgents",L.id);await on(W,{available:!L.available}),B({...L,available:!L.available}),De.success("Availability updated.")}catch{De.error("Failed to update availability")}$(!1)}};return x.useEffect(()=>{async function W(){U(!0);const ee=(await Ht(ze(re,"deliveryAgents"))).docs.map(te=>te.data());console.log("All agent slugs:",ee.map(te=>te.slug));const V=Tr(ze(re,"deliveryAgents"),Ir("slug","==",I),Ir("approved","==",!0)),J=await Ht(V);J.empty?B(null):B({id:J.docs[0].id,...J.docs[0].data()}),U(!1)}W()},[I]),F||f?l.jsx("div",{style:{padding:40},children:"Loading..."}):L?!t||t.uid!==L.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:L.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:L.companyName}),l.jsxs("div",{children:["Phone: ",L.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",L.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",L.rcNumber]}),l.jsxs("div",{children:["Address: ",L.businessAddress]}),l.jsxs("div",{children:["Email: ",L.email]}),l.jsxs("div",{children:["Coverage: ",L.coverageArea]}),l.jsxs("div",{children:["Hours: ",L.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="availability"?"2px solid #1976d2":"1px solid #ccc",background:q==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>H("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="orders"?"2px solid #1976d2":"1px solid #ccc",background:q==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>H("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[q==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",L.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:Re,disabled:G,children:L.available?"Set Not Available":"Set Available"})]})]}),q==="orders"&&(L.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:W=>o(W.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>c("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="processing"?"2px solid #1976d2":"1px solid #ccc",background:s==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>c("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="progression"?"2px solid #1976d2":"1px solid #ccc",background:s==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>c("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="completed"?"2px solid #1976d2":"1px solid #ccc",background:s==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>c("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:s==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),s==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):a(M).map(W=>{var ee;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",W.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),W.items&&W.items.length>0&&u[W.items[0].ownerId]&&(()=>{const V=u[W.items[0].ownerId],J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:V.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):J}),V.lat&&V.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.customerName||b[W.userId]||W.userId}),(()=>{const V=W.deliveryInfo||{},J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):J}),V.lat&&V.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]}):b[W.userId]&&b[W.userId].lat&&b[W.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[W.userId].lat,", ",b[W.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=W.items)==null?void 0:ee.map(V=>`${V.name} x${V.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},W.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[s==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(C).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):a(C).map(W=>{var ee;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",W.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof W.deliveryType," | ",JSON.stringify(W.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),W.items&&W.items.length>0&&u[W.items[0].ownerId]&&(()=>{const V=u[W.items[0].ownerId],J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:V.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):J}),V.lat&&V.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.customerName||b[W.userId]||W.userId}),(()=>{const V=W.deliveryInfo||{},J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;let oe=V.lat,me=V.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):J}),oe&&me?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",oe,", ",me]}):b[W.userId]&&b[W.userId].lat&&b[W.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[W.userId].lat,", ",b[W.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=W.items)==null?void 0:ee.map(V=>`${V.name} x${V.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:W.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>K(W.id),disabled:R===W.id,children:R===W.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>le(W.id),children:"Cancel Order"})]})]},W.id)})}),s==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(y).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):a(y).map(W=>{var ee;const V=!!E[W.id],J=!!m[W.id],te=async()=>{await Q(W.id),p(oe=>({...oe,[W.id]:!0})),w(oe=>({...oe,[W.id]:!0})),setTimeout(()=>w(oe=>({...oe,[W.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",W.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),W.items&&W.items.length>0&&u[W.items[0].ownerId]&&(()=>{const oe=u[W.items[0].ownerId],me=`${oe.address||""}, ${oe.city||""}, ${oe.state||""}`,Se=!oe.address&&!oe.city&&!oe.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:oe.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Se?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):me}),oe.lat&&oe.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",oe.lat,", ",oe.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.customerName||b[W.userId]||W.userId}),(()=>{const oe=W.deliveryInfo||{},me=`${oe.address||""}, ${oe.city||""}, ${oe.state||""}`,Se=!oe.address&&!oe.city&&!oe.state;let Le=oe.lat,_e=oe.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Se?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):me}),Le&&_e?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",Le,", ",_e]}):b[W.userId]&&b[W.userId].lat&&b[W.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[W.userId].lat,", ",b[W.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=W.items)==null?void 0:ee.map(oe=>`${oe.name} x${oe.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:W.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:V?"not-allowed":"pointer",opacity:V?.5:1},onClick:te,disabled:V,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:V?"not-allowed":"pointer",opacity:V?.5:1},onClick:()=>ue(W.id),disabled:V,children:"Failed"})]}),J&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),V&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},W.id)})}),s==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(S).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):a(S).map(W=>{var ee;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",W.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),W.items&&W.items.length>0&&u[W.items[0].ownerId]&&(()=>{const V=u[W.items[0].ownerId],J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:V.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):J}),V.lat&&V.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.customerName||b[W.userId]||W.userId}),(()=>{const V=W.deliveryInfo||{},J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):J}),V.lat&&V.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]}):b[W.userId]&&b[W.userId].lat&&b[W.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[W.userId].lat,", ",b[W.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=W.items)==null?void 0:ee.map(V=>`${V.name} x${V.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:W.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",W.completedAt?new Date(W.completedAt).toLocaleString():"-"]})]},W.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function cC(){const[t,e]=x.useState([]),[n,r]=x.useState(!0);return x.useEffect(()=>{async function i(){r(!0);const o=Tr(ze(re,"deliveryAgents"),Ir("approved","==",!0)),a=await Ht(o);e(a.docs.map(s=>({id:s.id,...s.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(Wu,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const VQ=Tx({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function qQ(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(t)})}function HQ(){var t,e;const{businessId:n}=$u(),r=ha(),i=gr(),[o,a]=x.useState(null),[s,c]=x.useState(null),[u,h]=x.useState([]),[f,v]=x.useState(""),[b,_]=x.useState(((t=r.state)==null?void 0:t.pharmacist)||null),[S,T]=x.useState(((e=r.state)==null?void 0:e.businessName)||"Pharmacy"),[C,g]=x.useState(null),[y,O]=x.useState(null),[M,P]=x.useState(!1),E=x.useRef(null);x.useEffect(()=>{const w=Or(),R=Wi(w,j=>{j?a(j):i("/auth")});return()=>R()},[i]),x.useEffect(()=>{b&&S||n&&xn(Me(re,"users",n)).then(w=>{if(w.exists()){const R=w.data();_(R.pharmacist||null),T(R.businessName||"Pharmacy")}})},[n,b,S]),x.useEffect(()=>{if(!o||!n)return;const w=ze(re,"chats"),R=Tr(w,Ir("participants","array-contains",o.uid));Ht(R).then(j=>{let I=null;j.forEach(L=>{L.data().participants.includes(n)&&(I=L.id)}),I?c(I):vo(w,{participants:[o.uid,n],createdAt:T0()}).then(L=>c(L.id))})},[o,n]),x.useEffect(()=>{if(!s)return;const w=Tr(ze(re,"chats",s,"messages"),yI("timestamp","asc")),R=It(w,j=>{h(j.docs.map(I=>({id:I.id,...I.data()})))});return()=>R()},[s]),x.useEffect(()=>{var w;(w=E.current)==null||w.scrollIntoView({behavior:"smooth"})},[u]);const p=async w=>{if(w.preventDefault(),!f.trim()&&!C||!o||!s)return;let R=null,j=!1;if(C){P(!0);try{const{url:I,isBase64:L}=await qQ(C);R=I,j=L}catch{alert("Image upload failed")}P(!1)}await vo(ze(re,"chats",s,"messages"),{text:f,image:R||null,isBase64:j,sender:o.uid,senderName:o.displayName||o.email,timestamp:T0()}),v(""),g(null),O(null)},m=w=>{const R=w.target.files[0];R&&(g(R),O(URL.createObjectURL(R)))};return o?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(b==null?void 0:b.photo)&&l.jsx("img",{src:b.photo,alt:b.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(b==null?void 0:b.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",S,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[u.map(w=>l.jsxs("div",{style:{marginBottom:10,textAlign:w.sender===(o==null?void 0:o.uid)?"right":"left"},children:[w.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:w.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),w.text&&l.jsx("span",{style:{background:w.sender===(o==null?void 0:o.uid)?"#6366f1":"#e0e7ff",color:w.sender===(o==null?void 0:o.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:w.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:w.senderName})]},w.id)),l.jsx("div",{ref:E})]}),l.jsxs("form",{onSubmit:p,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:f,onChange:w=>v(w.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:m}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:""})]}),y&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:y,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{g(null),O(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:""})]}),l.jsx("button",{type:"submit",style:{background:M?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:M?"not-allowed":"pointer"},disabled:M,children:M?"Sending...":"Send"})]})]}):null}function uC(){return l.jsx(HP,{to:"/auth",replace:!0})}dy.createRoot(document.getElementById("root")).render(l.jsx(Ce.StrictMode,{children:l.jsxs(yW,{theme:VQ,children:[l.jsx(cV,{}),l.jsx(qG,{children:l.jsx(t4,{children:l.jsxs(l.Fragment,{children:[l.jsx(BQ,{}),l.jsx(KQ,{}),l.jsx(BG,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(GP,{children:[l.jsx(Jt,{path:"/signup",element:l.jsx(uC,{})}),l.jsx(Jt,{path:"/login",element:l.jsx(uC,{})}),l.jsx(Jt,{path:"/agent/:slug",element:l.jsx(UQ,{})}),l.jsx(Jt,{path:"/agents",element:l.jsx(cC,{})}),l.jsx(Jt,{path:"/",element:l.jsx(VG,{})}),l.jsx(Jt,{path:"/shop",element:l.jsx(eQ,{})}),l.jsx(Jt,{path:"/cart",element:l.jsx(CA,{})}),l.jsx(Jt,{path:"/auth",element:l.jsx(iQ,{})}),l.jsx(Jt,{path:"/orders",element:l.jsx(nQ,{})}),l.jsx(Jt,{path:"/add-medicine",element:l.jsx(sQ,{})}),l.jsx(Jt,{path:"/payment",element:l.jsx(gQ,{})}),l.jsx(Jt,{path:"/admin",element:l.jsx(bQ,{})}),l.jsx(Jt,{path:"/store",element:l.jsx(CQ,{})}),l.jsx(Jt,{path:"/store/:slug",element:l.jsx(kQ,{})}),l.jsx(Jt,{path:"/store/:slug/cart",element:l.jsx(SQ,{})}),l.jsx(Jt,{path:"/restock",element:l.jsx(TQ,{})}),l.jsx(Jt,{path:"/medinterface",element:l.jsx(RQ,{})}),l.jsx(Jt,{path:"/about",element:l.jsx(KH,{})}),l.jsx(Jt,{path:"/businesses",element:l.jsx(o9,{})}),l.jsx(Jt,{path:"/agents",element:l.jsx(cC,{})}),l.jsx(Jt,{path:"/chat/:businessId",element:l.jsx(HQ,{})})]}),l.jsx(JO,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})]})}));function KQ(){const t=window.location.pathname.match(/^\/store\/([^\/]+)/),e=t?t[1]:null,n=gr();return e?l.jsx("button",{onClick:()=>n("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:r=>r.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:r=>r.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
