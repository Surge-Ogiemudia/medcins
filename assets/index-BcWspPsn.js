function cA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function es(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var VS={exports:{}},gh={},zS={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),dA=Symbol.for("react.portal"),fA=Symbol.for("react.fragment"),hA=Symbol.for("react.strict_mode"),pA=Symbol.for("react.profiler"),mA=Symbol.for("react.provider"),gA=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),xA=Symbol.for("react.memo"),_A=Symbol.for("react.lazy"),k_=Symbol.iterator;function bA(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}var BS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},US=Object.assign,WS={};function ol(t,e,n){this.props=t,this.context=e,this.refs=WS,this.updater=n||BS}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HS(){}HS.prototype=ol.prototype;function hv(t,e,n){this.props=t,this.context=e,this.refs=WS,this.updater=n||BS}var pv=hv.prototype=new HS;pv.constructor=hv;US(pv,ol.prototype);pv.isPureReactComponent=!0;var R_=Array.isArray,qS=Object.prototype.hasOwnProperty,mv={current:null},KS={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qS.call(e,r)&&!KS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tc,type:t,key:s,ref:o,props:i,_owner:mv.current}}function wA(t,e){return{$$typeof:tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===tc}function SA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P_=/\/+/g;function cm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SA(""+t.key):e.toString(36)}function Cd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tc:case dA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+cm(o,0):r,R_(i)?(n="",t!=null&&(n=t.replace(P_,"$&/")+"/"),Cd(i,e,n,"",function(c){return c})):i!=null&&(gv(i)&&(i=wA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(P_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",R_(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+cm(s,a);o+=Cd(s,e,n,u,i)}else if(u=bA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+cm(s,a++),o+=Cd(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gc(t,e,n){if(t==null)return t;var r=[],i=0;return Cd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},Id={transition:null},TA={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Id,ReactCurrentOwner:mv};function QS(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Gc,forEach:function(t,e,n){Gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gc(t,function(){e++}),e},toArray:function(t){return Gc(t,function(e){return e})||[]},only:function(t){if(!gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=ol;et.Fragment=fA;et.Profiler=pA;et.PureComponent=hv;et.StrictMode=hA;et.Suspense=vA;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TA;et.act=QS;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=US({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)qS.call(e,u)&&!KS.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:tc,type:t.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(t){return t={$$typeof:gA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mA,_context:t},t.Consumer=t};et.createElement=GS;et.createFactory=function(t){var e=GS.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:yA,render:t}};et.isValidElement=gv;et.lazy=function(t){return{$$typeof:_A,_payload:{_status:-1,_result:t},_init:EA}};et.memo=function(t,e){return{$$typeof:xA,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};et.unstable_act=QS;et.useCallback=function(t,e){return Xn.current.useCallback(t,e)};et.useContext=function(t){return Xn.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};et.useEffect=function(t,e){return Xn.current.useEffect(t,e)};et.useId=function(){return Xn.current.useId()};et.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return Xn.current.useMemo(t,e)};et.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};et.useRef=function(t){return Xn.current.useRef(t)};et.useState=function(t){return Xn.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return Xn.current.useTransition()};et.version="18.3.1";zS.exports=et;var b=zS.exports;const me=mh(b),nf=cA({__proto__:null,default:me},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA=b,IA=Symbol.for("react.element"),kA=Symbol.for("react.fragment"),RA=Object.prototype.hasOwnProperty,PA=CA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AA={key:!0,ref:!0,__self:!0,__source:!0};function YS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RA.call(e,r)&&!AA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IA,type:t,key:s,ref:o,props:i,_owner:PA.current}}gh.Fragment=kA;gh.jsx=YS;gh.jsxs=YS;VS.exports=gh;var l=VS.exports;function XS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XS(t))&&(r&&(r+=" "),r+=e);return r}function jA(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}jA(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nc=t=>typeof t=="number"&&!isNaN(t),go=t=>typeof t=="string",Wi=t=>typeof t=="function",OA=t=>go(t)||nc(t),vg=t=>go(t)||Wi(t)?t:null,NA=(t,e)=>t===!1||nc(t)&&t>0?t:e,xg=t=>b.isValidElement(t)||go(t)||Wi(t)||nc(t);function MA(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function LA({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:u,nodeRef:c,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,S=n?`${e}--${o}`:e,E=b.useRef(0);return b.useLayoutEffect(()=>{let w=c.current,I=m.split(" "),T=v=>{v.target===c.current&&(h(),w.removeEventListener("animationend",T),w.removeEventListener("animationcancel",T),E.current===0&&v.type!=="animationcancel"&&w.classList.remove(...I))};w.classList.add(...I),w.addEventListener("animationend",T),w.addEventListener("animationcancel",T)},[]),b.useEffect(()=>{let w=c.current,I=()=>{w.removeEventListener("animationend",I),r?MA(w,u,i):u()};f||(a?I():(E.current=1,w.className+=` ${S}`,w.addEventListener("animationend",I)))},[f]),me.createElement(me.Fragment,null,s)}}function A_(t,e){return{content:JS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function JS(t,e,n=!1){return b.isValidElement(t)&&!go(t.type)?b.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Wi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function DA({closeToast:t,theme:e,ariaLabel:n="close"}){return me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $A({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:u,isIn:c,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let S=Fe("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),E=Wi(s)?s({rtl:u,type:r,defaultClassName:S}):Fe(S,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),me.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:E,style:m,...w}))}var FA=1,ZS=()=>`${FA++}`;function VA(t,e,n){let r=1,i=0,s=[],o=[],a=e,u=new Map,c=new Set,f=v=>(c.add(v),()=>c.delete(v)),h=()=>{o=Array.from(u.values()),c.forEach(v=>v())},m=({containerId:v,toastId:_,updateId:R})=>{let M=v?v!==t:t!==1,N=u.has(_)&&R==null;return M||N},S=(v,_)=>{u.forEach(R=>{var M;(_==null||_===R.props.toastId)&&((M=R.toggle)==null||M.call(R,v))})},E=v=>{var _,R;(R=(_=v.props)==null?void 0:_.onClose)==null||R.call(_,v.removalReason),v.isActive=!1},w=v=>{if(v==null)u.forEach(E);else{let _=u.get(v);_&&E(_)}h()},I=()=>{i-=s.length,s=[]},T=v=>{var _,R;let{toastId:M,updateId:N}=v.props,g=N==null;v.staleId&&u.delete(v.staleId),v.isActive=!0,u.set(M,v),h(),n(A_(v,g?"added":"updated")),g&&((R=(_=v.props).onOpen)==null||R.call(_))};return{id:t,props:a,observe:f,toggle:S,removeToast:w,toasts:u,clearQueue:I,buildToast:(v,_)=>{if(m(_))return;let{toastId:R,updateId:M,data:N,staleId:g,delay:p}=_,y=M==null;y&&i++;let C={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([j,P])=>P!=null)),toastId:R,updateId:M,data:N,isIn:!1,className:vg(_.className||a.toastClassName),progressClassName:vg(_.progressClassName||a.progressClassName),autoClose:_.isLoading?!1:NA(_.autoClose,a.autoClose),closeToast(j){u.get(R).removalReason=j,w(R)},deleteToast(){let j=u.get(R);if(j!=null){if(n(A_(j,"removed")),u.delete(R),i--,i<0&&(i=0),s.length>0){T(s.shift());return}h()}}};C.closeButton=a.closeButton,_.closeButton===!1||xg(_.closeButton)?C.closeButton=_.closeButton:_.closeButton===!0&&(C.closeButton=xg(a.closeButton)?a.closeButton:!0);let O={content:v,props:C,staleId:g};a.limit&&a.limit>0&&i>a.limit&&y?s.push(O):nc(p)?setTimeout(()=>{T(O)},p):T(O)},setProps(v){a=v},setToggle:(v,_)=>{let R=u.get(v);R&&(R.toggle=_)},isToastActive:v=>{var _;return(_=u.get(v))==null?void 0:_.isActive},getSnapshot:()=>o}}var Gn=new Map,_u=[],_g=new Set,zA=t=>_g.forEach(e=>e(t)),eE=()=>Gn.size>0;function BA(){_u.forEach(t=>nE(t.content,t.options)),_u=[]}var UA=(t,{containerId:e})=>{var n;return(n=Gn.get(e||1))==null?void 0:n.toasts.get(t)};function tE(t,e){var n;if(e)return!!((n=Gn.get(e))!=null&&n.isToastActive(t));let r=!1;return Gn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function WA(t){if(!eE()){_u=_u.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||OA(t))Gn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Gn.get(t.containerId);e?e.removeToast(t.id):Gn.forEach(n=>{n.removeToast(t.id)})}}var HA=(t={})=>{Gn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function nE(t,e){xg(t)&&(eE()||_u.push({content:t,options:e}),Gn.forEach(n=>{n.buildToast(t,e)}))}function qA(t){var e;(e=Gn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function rE(t,e){Gn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function KA(t){let e=t.containerId||1;return{subscribe(n){let r=VA(e,t,zA);Gn.set(e,r);let i=r.observe(n);return BA(),()=>{i(),Gn.delete(e)}},setProps(n){var r;(r=Gn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Gn.get(e))==null?void 0:n.getSnapshot()}}}function GA(t){return _g.add(t),()=>{_g.delete(t)}}function QA(t){return t&&(go(t.toastId)||nc(t.toastId))?t.toastId:ZS()}function rc(t,e){return nE(t,e),e.toastId}function yh(t,e){return{...e,type:e&&e.type||t,toastId:QA(e)}}function vh(t){return(e,n)=>rc(e,yh(t,n))}function Se(t,e){return rc(t,yh("default",e))}Se.loading=(t,e)=>rc(t,yh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function YA(t,{pending:e,error:n,success:r},i){let s;e&&(s=go(e)?Se.loading(e,i):Se.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,f,h)=>{if(f==null){Se.dismiss(s);return}let m={type:c,...o,...i,data:h},S=go(f)?{render:f}:f;return s?Se.update(s,{...m,...S}):Se(S.render,{...m,...S}),h},u=Wi(t)?t():t;return u.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),u}Se.promise=YA;Se.success=vh("success");Se.info=vh("info");Se.error=vh("error");Se.warning=vh("warning");Se.warn=Se.warning;Se.dark=(t,e)=>rc(t,yh("default",{theme:"dark",...e}));function XA(t){WA(t)}Se.dismiss=XA;Se.clearWaitingQueue=HA;Se.isActive=tE;Se.update=(t,e={})=>{let n=UA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:ZS()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,rc(o,s)}};Se.done=t=>{Se.update(t,{progress:1})};Se.onChange=GA;Se.play=t=>rE(!0,t);Se.pause=t=>rE(!1,t);function JA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=b.useRef(KA(t)).current;i(t);let s=(e=b.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let u=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:f}=c.props;u.has(f)||u.set(f,[]),u.get(f).push(c)}),Array.from(u,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:tE,count:s==null?void 0:s.length}}function ZA(t){let[e,n]=b.useState(!1),[r,i]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:h}=t;qA({id:t.toastId,containerId:t.containerId,fn:n}),b.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{S()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||T(),window.addEventListener("focus",I),window.addEventListener("blur",T)}function S(){window.removeEventListener("focus",I),window.removeEventListener("blur",T)}function E(g){if(t.draggable===!0||t.draggable===g.pointerType){v();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=g.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=g.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function w(g){let{top:p,bottom:y,left:C,right:O}=s.current.getBoundingClientRect();g.nativeEvent.type!=="touchend"&&t.pauseOnHover&&g.clientX>=C&&g.clientX<=O&&g.clientY>=p&&g.clientY<=y?T():I()}function I(){n(!0)}function T(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",R),document.addEventListener("pointerup",M)}function _(){document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",M)}function R(g){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&T(),t.draggableDirection==="x"?o.delta=g.clientX-o.start:o.delta=g.clientY-o.start,o.start!==g.clientX&&(o.canCloseOnClick=!1);let y=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${y},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function M(){_();let g=s.current;if(o.canDrag&&o.didMove&&g){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}g.style.transition="transform 0.2s, opacity 0.2s",g.style.removeProperty("transform"),g.style.removeProperty("opacity")}}let N={onPointerDown:E,onPointerUp:w};return a&&u&&(N.onMouseEnter=T,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=g=>{f&&f(g),o.canCloseOnClick&&c(!0)}),{playToast:I,pauseToast:T,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var e2=typeof window<"u"?b.useLayoutEffect:b.useEffect,xh=({theme:t,type:e,isLoading:n,...r})=>me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function t2(t){return me.createElement(xh,{...t},me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function n2(t){return me.createElement(xh,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function r2(t){return me.createElement(xh,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function i2(t){return me.createElement(xh,{...t},me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function s2(){return me.createElement("div",{className:"Toastify__spinner"})}var bg={info:n2,warning:t2,success:r2,error:i2,spinner:s2},o2=t=>t in bg;function a2({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Wi(r)?i=r({...s,isLoading:n}):b.isValidElement(r)?i=b.cloneElement(r,s):n?i=bg.spinner():o2(e)&&(i=bg[e](s))),i}var l2=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=ZA(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:f,hideProgressBar:h,closeToast:m,transition:S,position:E,className:w,style:I,progressClassName:T,updateId:v,role:_,progress:R,rtl:M,toastId:N,deleteToast:g,isIn:p,isLoading:y,closeOnClick:C,theme:O,ariaLabel:j}=t,P=Fe("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":C}),B=Wi(w)?w({rtl:M,position:E,type:f,defaultClassName:P}):Fe(P,w),F=a2(t),U=!!R||!u,z={closeToast:m,type:f,theme:O},D=null;return o===!1||(Wi(o)?D=o(z):b.isValidElement(o)?D=b.cloneElement(o,z):D=DA(z)),me.createElement(S,{isIn:p,done:g,position:E,preventExitTransition:n,nodeRef:r,playToast:s},me.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":p,className:B,...i,style:I,ref:r,...p&&{role:_,"aria-label":j}},F!=null&&me.createElement("div",{className:Fe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!y})},F),JS(a,t,!e),D,!t.customProgressBar&&me.createElement($A,{...v&&!U?{key:`p-${v}`}:{},rtl:M,theme:O,delay:u,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:T,controlledProgress:U,progress:R||0})))},u2=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),c2=LA(u2("bounce",!0)),d2={position:"top-right",transition:c2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function f2(t){let e={...d2,...t},n=t.stacked,[r,i]=b.useState(!0),s=b.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=JA(e),{className:c,style:f,rtl:h,containerId:m,hotKeys:S}=e;function E(I){let T=Fe("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return Wi(c)?c({position:I,rtl:h,defaultClassName:T}):Fe(T,vg(c))}function w(){n&&(i(!0),Se.play())}return e2(()=>{var I;if(n){let T=s.current.querySelectorAll('[data-in="true"]'),v=12,_=(I=e.position)==null?void 0:I.includes("top"),R=0,M=0;Array.from(T).reverse().forEach((N,g)=>{let p=N;p.classList.add("Toastify__toast--stacked"),g>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=_?"top":"bot");let y=R*(r?.2:1)+(r?0:v*g);p.style.setProperty("--y",`${_?y:y*-1}px`),p.style.setProperty("--g",`${v}`),p.style.setProperty("--s",`${1-(r?M:0)}`),R+=p.offsetHeight,M+=.025})}},[r,u,n]),b.useEffect(()=>{function I(T){var v;let _=s.current;S(T)&&((v=_.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),Se.pause()),T.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),Se.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[S]),me.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Se.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,T)=>{let v=T.length?{...f}:{...f,pointerEvents:"none"};return me.createElement("div",{tabIndex:-1,className:E(I),"data-stacked":n,style:v,key:`c-${I}`},T.map(({content:_,props:R})=>me.createElement(l2,{...R,stacked:n,collapseAll:w,isIn:a(R.toastId,R.containerId),key:`t-${R.key}`},_)))}))}var wg={},iE={exports:{}},vr={},sE={exports:{}},oE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var W=D.length;D.push(V);e:for(;0<W;){var G=W-1>>>1,Q=D[G];if(0<i(Q,V))D[G]=V,D[W]=Q,W=G;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],W=D.pop();if(W!==V){D[0]=W;e:for(var G=0,Q=D.length,J=Q>>>1;G<J;){var se=2*(G+1)-1,he=D[se],ge=se+1,q=D[ge];if(0>i(he,W))ge<Q&&0>i(q,he)?(D[G]=q,D[ge]=W,G=ge):(D[G]=he,D[se]=W,G=se);else if(ge<Q&&0>i(q,W))D[G]=q,D[ge]=W,G=ge;else break e}}return V}function i(D,V){var W=D.sortIndex-V.sortIndex;return W!==0?W:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,m=3,S=!1,E=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=D)r(c),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(c)}}function R(D){if(w=!1,_(D),!E)if(n(u)!==null)E=!0,U(M);else{var V=n(c);V!==null&&z(R,V.startTime-D)}}function M(D,V){E=!1,w&&(w=!1,T(p),p=-1),S=!0;var W=m;try{for(_(V),h=n(u);h!==null&&(!(h.expirationTime>V)||D&&!O());){var G=h.callback;if(typeof G=="function"){h.callback=null,m=h.priorityLevel;var Q=G(h.expirationTime<=V);V=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(u)&&r(u),_(V)}else r(u);h=n(u)}if(h!==null)var J=!0;else{var se=n(c);se!==null&&z(R,se.startTime-V),J=!1}return J}finally{h=null,m=W,S=!1}}var N=!1,g=null,p=-1,y=5,C=-1;function O(){return!(t.unstable_now()-C<y)}function j(){if(g!==null){var D=t.unstable_now();C=D;var V=!0;try{V=g(!0,D)}finally{V?P():(N=!1,g=null)}}else N=!1}var P;if(typeof v=="function")P=function(){v(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=j,P=function(){F.postMessage(null)}}else P=function(){I(j,0)};function U(D){g=D,N||(N=!0,P())}function z(D,V){p=I(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,U(M))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var W=m;m=V;try{return D()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=m;m=D;try{return V()}finally{m=W}},t.unstable_scheduleCallback=function(D,V,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,D={id:f++,callback:V,priorityLevel:D,startTime:W,expirationTime:Q,sortIndex:-1},W>G?(D.sortIndex=W,e(c,D),n(u)===null&&D===n(c)&&(w?(T(p),p=-1):w=!0,z(R,W-G))):(D.sortIndex=Q,e(u,D),E||S||(E=!0,U(M))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var V=m;return function(){var W=m;m=V;try{return D.apply(this,arguments)}finally{m=W}}}})(oE);sE.exports=oE;var h2=sE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2=b,yr=h2;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aE=new Set,bu={};function Oo(t,e){Ma(t,e),Ma(t+"Capture",e)}function Ma(t,e){for(bu[t]=e,t=0;t<e.length;t++)aE.add(e[t])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sg=Object.prototype.hasOwnProperty,m2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j_={},O_={};function g2(t){return Sg.call(O_,t)?!0:Sg.call(j_,t)?!1:m2.test(t)?O_[t]=!0:(j_[t]=!0,!1)}function y2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v2(t,e,n,r){if(e===null||typeof e>"u"||y2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yv=/[\-:]([a-z])/g;function vv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yv,vv);An[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yv,vv);An[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yv,vv);An[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function xv(t,e,n,r){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(v2(e,n,i,r)&&(n=null),r||i===null?g2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=p2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),sa=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Cg=Symbol.for("react.suspense_list"),wv=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),cE=Symbol.for("react.offscreen"),N_=Symbol.iterator;function Il(t){return t===null||typeof t!="object"?null:(t=N_&&t[N_]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,dm;function Hl(t){if(dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var fm=!1;function hm(t,e){if(!t||fm)return"";fm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{fm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hl(t):""}function x2(t){switch(t.tag){case 5:return Hl(t.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return t=hm(t.type,!1),t;case 11:return t=hm(t.type.render,!1),t;case 1:return t=hm(t.type,!0),t;default:return""}}function Ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oa:return"Fragment";case sa:return"Portal";case Eg:return"Profiler";case _v:return"StrictMode";case Tg:return"Suspense";case Cg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uE:return(t.displayName||"Context")+".Consumer";case lE:return(t._context.displayName||"Context")+".Provider";case bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wv:return e=t.displayName||null,e!==null?e:Ig(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return Ig(t(e))}catch{}}return null}function _2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ig(e);case 8:return e===_v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b2(t){var e=dE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yc(t){t._valueTracker||(t._valueTracker=b2(t))}function fE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kg(t,e){var n=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hE(t,e){e=e.checked,e!=null&&xv(t,"checked",e,!1)}function Rg(t,e){hE(t,e);var n=js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pg(t,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pg(t,e,n){(e!=="number"||rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ql=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+js(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ag(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(ql(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:js(n)}}function pE(t,e){var n=js(e.value),r=js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,gE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w2=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){w2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function yE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function vE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var S2=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Og(t,e){if(e){if(S2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Ng(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mg=null;function Sv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lg=null,_a=null,ba=null;function F_(t){if(t=oc(t)){if(typeof Lg!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Eh(e),Lg(t.stateNode,t.type,e))}}function xE(t){_a?ba?ba.push(t):ba=[t]:_a=t}function _E(){if(_a){var t=_a,e=ba;if(ba=_a=null,F_(t),e)for(t=0;t<e.length;t++)F_(e[t])}}function bE(t,e){return t(e)}function wE(){}var pm=!1;function SE(t,e,n){if(pm)return t(e,n);pm=!0;try{return bE(t,e,n)}finally{pm=!1,(_a!==null||ba!==null)&&(wE(),_E())}}function Su(t,e){var n=t.stateNode;if(n===null)return null;var r=Eh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Dg=!1;if(Hi)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Dg=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Dg=!1}function E2(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ru=!1,sf=null,of=!1,$g=null,T2={onError:function(t){ru=!0,sf=t}};function C2(t,e,n,r,i,s,o,a,u){ru=!1,sf=null,E2.apply(T2,arguments)}function I2(t,e,n,r,i,s,o,a,u){if(C2.apply(this,arguments),ru){if(ru){var c=sf;ru=!1,sf=null}else throw Error(ae(198));of||(of=!0,$g=c)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V_(t){if(No(t)!==t)throw Error(ae(188))}function k2(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return V_(i),t;if(s===r)return V_(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function TE(t){return t=k2(t),t!==null?CE(t):null}function CE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CE(t);if(e!==null)return e;t=t.sibling}return null}var IE=yr.unstable_scheduleCallback,z_=yr.unstable_cancelCallback,R2=yr.unstable_shouldYield,P2=yr.unstable_requestPaint,Xt=yr.unstable_now,A2=yr.unstable_getCurrentPriorityLevel,Ev=yr.unstable_ImmediatePriority,kE=yr.unstable_UserBlockingPriority,af=yr.unstable_NormalPriority,j2=yr.unstable_LowPriority,RE=yr.unstable_IdlePriority,_h=null,ci=null;function O2(t){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(_h,t,void 0,(t.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:L2,N2=Math.log,M2=Math.LN2;function L2(t){return t>>>=0,t===0?32:31-(N2(t)/M2|0)|0}var Jc=64,Zc=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kl(a):(s&=o,s!==0&&(r=Kl(s)))}else o=n&~i,o!==0?r=Kl(o):s!==0&&(r=Kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yr(e),i=1<<n,r|=t[n],e&=~i;return r}function D2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=D2(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PE(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yr(e),t[e]=n}function F2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Tv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wt=0;function AE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jE,Cv,OE,NE,ME,Vg=!1,ed=[],_s=null,bs=null,ws=null,Eu=new Map,Tu=new Map,ps=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B_(t,e){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function Rl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oc(e),e!==null&&Cv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function z2(t,e,n,r,i){switch(e){case"focusin":return _s=Rl(_s,t,e,n,r,i),!0;case"dragenter":return bs=Rl(bs,t,e,n,r,i),!0;case"mouseover":return ws=Rl(ws,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eu.set(s,Rl(Eu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tu.set(s,Rl(Tu.get(s)||null,t,e,n,r,i)),!0}return!1}function LE(t){var e=so(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=EE(n),e!==null){t.blockedOn=e,ME(t.priority,function(){OE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mg=r,n.target.dispatchEvent(r),Mg=null}else return e=oc(n),e!==null&&Cv(e),t.blockedOn=n,!1;e.shift()}return!0}function U_(t,e,n){kd(t)&&n.delete(e)}function B2(){Vg=!1,_s!==null&&kd(_s)&&(_s=null),bs!==null&&kd(bs)&&(bs=null),ws!==null&&kd(ws)&&(ws=null),Eu.forEach(U_),Tu.forEach(U_)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,Vg||(Vg=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,B2)))}function Cu(t){function e(i){return Pl(i,t)}if(0<ed.length){Pl(ed[0],t);for(var n=1;n<ed.length;n++){var r=ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_s!==null&&Pl(_s,t),bs!==null&&Pl(bs,t),ws!==null&&Pl(ws,t),Eu.forEach(e),Tu.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)LE(n),n.blockedOn===null&&ps.shift()}var wa=ts.ReactCurrentBatchConfig,uf=!0;function U2(t,e,n,r){var i=wt,s=wa.transition;wa.transition=null;try{wt=1,Iv(t,e,n,r)}finally{wt=i,wa.transition=s}}function W2(t,e,n,r){var i=wt,s=wa.transition;wa.transition=null;try{wt=4,Iv(t,e,n,r)}finally{wt=i,wa.transition=s}}function Iv(t,e,n,r){if(uf){var i=zg(t,e,n,r);if(i===null)Tm(t,e,r,cf,n),B_(t,r);else if(z2(i,t,e,n,r))r.stopPropagation();else if(B_(t,r),e&4&&-1<V2.indexOf(t)){for(;i!==null;){var s=oc(i);if(s!==null&&jE(s),s=zg(t,e,n,r),s===null&&Tm(t,e,r,cf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tm(t,e,r,null,n)}}var cf=null;function zg(t,e,n,r){if(cf=null,t=Sv(r),t=so(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cf=t,null}function DE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A2()){case Ev:return 1;case kE:return 4;case af:case j2:return 16;case RE:return 536870912;default:return 16}default:return 16}}var gs=null,kv=null,Rd=null;function $E(){if(Rd)return Rd;var t,e=kv,n=e.length,r,i="value"in gs?gs.value:gs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rd=i.slice(t,1<r?1-r:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function W_(){return!1}function xr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?td:W_,this.isPropagationStopped=W_,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=xr(al),sc=Bt({},al,{view:0,detail:0}),H2=xr(sc),gm,ym,Al,bh=Bt({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(gm=t.screenX-Al.screenX,ym=t.screenY-Al.screenY):ym=gm=0,Al=t),gm)},movementY:function(t){return"movementY"in t?t.movementY:ym}}),H_=xr(bh),q2=Bt({},bh,{dataTransfer:0}),K2=xr(q2),G2=Bt({},sc,{relatedTarget:0}),vm=xr(G2),Q2=Bt({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),Y2=xr(Q2),X2=Bt({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J2=xr(X2),Z2=Bt({},al,{data:0}),q_=xr(Z2),ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nj[t])?!!e[t]:!1}function Pv(){return rj}var ij=Bt({},sc,{key:function(t){if(t.key){var e=ej[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pv,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sj=xr(ij),oj=Bt({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K_=xr(oj),aj=Bt({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pv}),lj=xr(aj),uj=Bt({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),cj=xr(uj),dj=Bt({},bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fj=xr(dj),hj=[9,13,27,32],Av=Hi&&"CompositionEvent"in window,iu=null;Hi&&"documentMode"in document&&(iu=document.documentMode);var pj=Hi&&"TextEvent"in window&&!iu,FE=Hi&&(!Av||iu&&8<iu&&11>=iu),G_=" ",Q_=!1;function VE(t,e){switch(t){case"keyup":return hj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var aa=!1;function mj(t,e){switch(t){case"compositionend":return zE(e);case"keypress":return e.which!==32?null:(Q_=!0,G_);case"textInput":return t=e.data,t===G_&&Q_?null:t;default:return null}}function gj(t,e){if(aa)return t==="compositionend"||!Av&&VE(t,e)?(t=$E(),Rd=kv=gs=null,aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var yj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yj[t.type]:e==="textarea"}function BE(t,e,n,r){xE(r),e=df(e,"onChange"),0<e.length&&(n=new Rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var su=null,Iu=null;function vj(t){ZE(t,0)}function wh(t){var e=ca(t);if(fE(e))return t}function xj(t,e){if(t==="change")return e}var UE=!1;if(Hi){var xm;if(Hi){var _m="oninput"in document;if(!_m){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),_m=typeof X_.oninput=="function"}xm=_m}else xm=!1;UE=xm&&(!document.documentMode||9<document.documentMode)}function J_(){su&&(su.detachEvent("onpropertychange",WE),Iu=su=null)}function WE(t){if(t.propertyName==="value"&&wh(Iu)){var e=[];BE(e,Iu,t,Sv(t)),SE(vj,e)}}function _j(t,e,n){t==="focusin"?(J_(),su=e,Iu=n,su.attachEvent("onpropertychange",WE)):t==="focusout"&&J_()}function bj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wh(Iu)}function wj(t,e){if(t==="click")return wh(e)}function Sj(t,e){if(t==="input"||t==="change")return wh(e)}function Ej(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jr=typeof Object.is=="function"?Object.is:Ej;function ku(t,e){if(Jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sg.call(e,i)||!Jr(t[i],e[i]))return!1}return!0}function Z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eb(t,e){var n=Z_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z_(n)}}function HE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qE(){for(var t=window,e=rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rf(t.document)}return e}function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tj(t){var e=qE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HE(n.ownerDocument.documentElement,n)){if(r!==null&&jv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=eb(n,s);var o=eb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cj=Hi&&"documentMode"in document&&11>=document.documentMode,la=null,Bg=null,ou=null,Ug=!1;function tb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||la==null||la!==rf(r)||(r=la,"selectionStart"in r&&jv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&ku(ou,r)||(ou=r,r=df(Bg,"onSelect"),0<r.length&&(e=new Rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=la)))}function nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ua={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},bm={},KE={};Hi&&(KE=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Sh(t){if(bm[t])return bm[t];if(!ua[t])return t;var e=ua[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KE)return bm[t]=e[n];return t}var GE=Sh("animationend"),QE=Sh("animationiteration"),YE=Sh("animationstart"),XE=Sh("transitionend"),JE=new Map,nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(t,e){JE.set(t,e),Oo(e,[t])}for(var wm=0;wm<nb.length;wm++){var Sm=nb[wm],Ij=Sm.toLowerCase(),kj=Sm[0].toUpperCase()+Sm.slice(1);Fs(Ij,"on"+kj)}Fs(GE,"onAnimationEnd");Fs(QE,"onAnimationIteration");Fs(YE,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(XE,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function rb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I2(r,e,void 0,t),t.currentTarget=null}function ZE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;rb(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;rb(i,a,c),s=u}}}if(of)throw t=$g,of=!1,$g=null,t}function jt(t,e){var n=e[Gg];n===void 0&&(n=e[Gg]=new Set);var r=t+"__bubble";n.has(r)||(eT(e,t,2,!1),n.add(r))}function Em(t,e,n){var r=0;e&&(r|=4),eT(n,t,r,e)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[rd]){t[rd]=!0,aE.forEach(function(n){n!=="selectionchange"&&(Rj.has(n)||Em(n,!1,t),Em(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rd]||(e[rd]=!0,Em("selectionchange",!1,e))}}function eT(t,e,n,r){switch(DE(e)){case 1:var i=U2;break;case 4:i=W2;break;default:i=Iv}n=i.bind(null,e,n,t),i=void 0,!Dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=so(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}SE(function(){var c=s,f=Sv(n),h=[];e:{var m=JE.get(t);if(m!==void 0){var S=Rv,E=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":S=sj;break;case"focusin":E="focus",S=vm;break;case"focusout":E="blur",S=vm;break;case"beforeblur":case"afterblur":S=vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=H_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=K2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=lj;break;case GE:case QE:case YE:S=Y2;break;case XE:S=cj;break;case"scroll":S=H2;break;case"wheel":S=fj;break;case"copy":case"cut":case"paste":S=J2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=K_}var w=(e&4)!==0,I=!w&&t==="scroll",T=w?m!==null?m+"Capture":null:m;w=[];for(var v=c,_;v!==null;){_=v;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,T!==null&&(R=Su(v,T),R!=null&&w.push(Pu(v,R,_)))),I)break;v=v.return}0<w.length&&(m=new S(m,E,null,n,f),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",m&&n!==Mg&&(E=n.relatedTarget||n.fromElement)&&(so(E)||E[qi]))break e;if((S||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,S?(E=n.relatedTarget||n.toElement,S=c,E=E?so(E):null,E!==null&&(I=No(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(S=null,E=c),S!==E)){if(w=H_,R="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=K_,R="onPointerLeave",T="onPointerEnter",v="pointer"),I=S==null?m:ca(S),_=E==null?m:ca(E),m=new w(R,v+"leave",S,n,f),m.target=I,m.relatedTarget=_,R=null,so(f)===c&&(w=new w(T,v+"enter",E,n,f),w.target=_,w.relatedTarget=I,R=w),I=R,S&&E)t:{for(w=S,T=E,v=0,_=w;_;_=Ko(_))v++;for(_=0,R=T;R;R=Ko(R))_++;for(;0<v-_;)w=Ko(w),v--;for(;0<_-v;)T=Ko(T),_--;for(;v--;){if(w===T||T!==null&&w===T.alternate)break t;w=Ko(w),T=Ko(T)}w=null}else w=null;S!==null&&ib(h,m,S,w,!1),E!==null&&I!==null&&ib(h,I,E,w,!0)}}e:{if(m=c?ca(c):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var M=xj;else if(Y_(m))if(UE)M=Sj;else{M=bj;var N=_j}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=wj);if(M&&(M=M(t,c))){BE(h,M,n,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Pg(m,"number",m.value)}switch(N=c?ca(c):window,t){case"focusin":(Y_(N)||N.contentEditable==="true")&&(la=N,Bg=c,ou=null);break;case"focusout":ou=Bg=la=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,tb(h,n,f);break;case"selectionchange":if(Cj)break;case"keydown":case"keyup":tb(h,n,f)}var g;if(Av)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else aa?VE(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(FE&&n.locale!=="ko"&&(aa||p!=="onCompositionStart"?p==="onCompositionEnd"&&aa&&(g=$E()):(gs=f,kv="value"in gs?gs.value:gs.textContent,aa=!0)),N=df(c,p),0<N.length&&(p=new q_(p,t,null,n,f),h.push({event:p,listeners:N}),g?p.data=g:(g=zE(n),g!==null&&(p.data=g)))),(g=pj?mj(t,n):gj(t,n))&&(c=df(c,"onBeforeInput"),0<c.length&&(f=new q_("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=g))}ZE(h,e)})}function Pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Su(t,n),s!=null&&r.unshift(Pu(t,s,i)),s=Su(t,e),s!=null&&r.push(Pu(t,s,i))),t=t.return}return r}function Ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ib(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Su(n,s),u!=null&&o.unshift(Pu(n,u,a))):i||(u=Su(n,s),u!=null&&o.push(Pu(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Pj=/\r\n?/g,Aj=/\u0000|\uFFFD/g;function sb(t){return(typeof t=="string"?t:""+t).replace(Pj,`
`).replace(Aj,"")}function id(t,e,n){if(e=sb(e),sb(t)!==e&&n)throw Error(ae(425))}function ff(){}var Wg=null,Hg=null;function qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,jj=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,Oj=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(t){return ob.resolve(null).then(t).catch(Nj)}:Kg;function Nj(t){setTimeout(function(){throw t})}function Cm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cu(e)}function Ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ll=Math.random().toString(36).slice(2),li="__reactFiber$"+ll,Au="__reactProps$"+ll,qi="__reactContainer$"+ll,Gg="__reactEvents$"+ll,Mj="__reactListeners$"+ll,Lj="__reactHandles$"+ll;function so(t){var e=t[li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qi]||n[li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ab(t);t!==null;){if(n=t[li])return n;t=ab(t)}return e}t=n,n=t.parentNode}return null}function oc(t){return t=t[li]||t[qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Eh(t){return t[Au]||null}var Qg=[],da=-1;function Vs(t){return{current:t}}function Nt(t){0>da||(t.current=Qg[da],Qg[da]=null,da--)}function Rt(t,e){da++,Qg[da]=t.current,t.current=e}var Os={},Bn=Vs(Os),rr=Vs(!1),yo=Os;function La(t,e){var n=t.type.contextTypes;if(!n)return Os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ir(t){return t=t.childContextTypes,t!=null}function hf(){Nt(rr),Nt(Bn)}function lb(t,e,n){if(Bn.current!==Os)throw Error(ae(168));Rt(Bn,e),Rt(rr,n)}function tT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,_2(t)||"Unknown",i));return Bt({},n,r)}function pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,yo=Bn.current,Rt(Bn,t),Rt(rr,rr.current),!0}function ub(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=tT(t,e,yo),r.__reactInternalMemoizedMergedChildContext=t,Nt(rr),Nt(Bn),Rt(Bn,t)):Nt(rr),Rt(rr,n)}var Ri=null,Th=!1,Im=!1;function nT(t){Ri===null?Ri=[t]:Ri.push(t)}function Dj(t){Th=!0,nT(t)}function zs(){if(!Im&&Ri!==null){Im=!0;var t=0,e=wt;try{var n=Ri;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ri=null,Th=!1}catch(i){throw Ri!==null&&(Ri=Ri.slice(t+1)),IE(Ev,zs),i}finally{wt=e,Im=!1}}return null}var fa=[],ha=0,mf=null,gf=0,Ir=[],kr=0,vo=null,Mi=1,Li="";function Zs(t,e){fa[ha++]=gf,fa[ha++]=mf,mf=t,gf=e}function rT(t,e,n){Ir[kr++]=Mi,Ir[kr++]=Li,Ir[kr++]=vo,vo=t;var r=Mi;t=Li;var i=32-Yr(r)-1;r&=~(1<<i),n+=1;var s=32-Yr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mi=1<<32-Yr(e)+i|n<<i|r,Li=s+t}else Mi=1<<s|n<<i|r,Li=t}function Ov(t){t.return!==null&&(Zs(t,1),rT(t,1,0))}function Nv(t){for(;t===mf;)mf=fa[--ha],fa[ha]=null,gf=fa[--ha],fa[ha]=null;for(;t===vo;)vo=Ir[--kr],Ir[kr]=null,Li=Ir[--kr],Ir[kr]=null,Mi=Ir[--kr],Ir[kr]=null}var hr=null,dr=null,Dt=!1,Gr=null;function iT(t,e){var n=Pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,dr=Ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vo!==null?{id:Mi,overflow:Li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hr=t,dr=null,!0):!1;default:return!1}}function Yg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xg(t){if(Dt){var e=dr;if(e){var n=e;if(!cb(t,e)){if(Yg(t))throw Error(ae(418));e=Ss(n.nextSibling);var r=hr;e&&cb(t,e)?iT(r,n):(t.flags=t.flags&-4097|2,Dt=!1,hr=t)}}else{if(Yg(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Dt=!1,hr=t}}}function db(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function sd(t){if(t!==hr)return!1;if(!Dt)return db(t),Dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qg(t.type,t.memoizedProps)),e&&(e=dr)){if(Yg(t))throw sT(),Error(ae(418));for(;e;)iT(t,e),e=Ss(e.nextSibling)}if(db(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dr=Ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dr=null}}else dr=hr?Ss(t.stateNode.nextSibling):null;return!0}function sT(){for(var t=dr;t;)t=Ss(t.nextSibling)}function Da(){dr=hr=null,Dt=!1}function Mv(t){Gr===null?Gr=[t]:Gr.push(t)}var $j=ts.ReactCurrentBatchConfig;function jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function od(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fb(t){var e=t._init;return e(t._payload)}function oT(t){function e(T,v){if(t){var _=T.deletions;_===null?(T.deletions=[v],T.flags|=16):_.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=Is(T,v),T.index=0,T.sibling=null,T}function s(T,v,_){return T.index=_,t?(_=T.alternate,_!==null?(_=_.index,_<v?(T.flags|=2,v):_):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,v,_,R){return v===null||v.tag!==6?(v=Nm(_,T.mode,R),v.return=T,v):(v=i(v,_),v.return=T,v)}function u(T,v,_,R){var M=_.type;return M===oa?f(T,v,_.props.children,R,_.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ds&&fb(M)===v.type)?(R=i(v,_.props),R.ref=jl(T,v,_),R.return=T,R):(R=Dd(_.type,_.key,_.props,null,T.mode,R),R.ref=jl(T,v,_),R.return=T,R)}function c(T,v,_,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Mm(_,T.mode,R),v.return=T,v):(v=i(v,_.children||[]),v.return=T,v)}function f(T,v,_,R,M){return v===null||v.tag!==7?(v=ho(_,T.mode,R,M),v.return=T,v):(v=i(v,_),v.return=T,v)}function h(T,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Nm(""+v,T.mode,_),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qc:return _=Dd(v.type,v.key,v.props,null,T.mode,_),_.ref=jl(T,null,v),_.return=T,_;case sa:return v=Mm(v,T.mode,_),v.return=T,v;case ds:var R=v._init;return h(T,R(v._payload),_)}if(ql(v)||Il(v))return v=ho(v,T.mode,_,null),v.return=T,v;od(T,v)}return null}function m(T,v,_,R){var M=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return M!==null?null:a(T,v,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qc:return _.key===M?u(T,v,_,R):null;case sa:return _.key===M?c(T,v,_,R):null;case ds:return M=_._init,m(T,v,M(_._payload),R)}if(ql(_)||Il(_))return M!==null?null:f(T,v,_,R,null);od(T,_)}return null}function S(T,v,_,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(_)||null,a(v,T,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Qc:return T=T.get(R.key===null?_:R.key)||null,u(v,T,R,M);case sa:return T=T.get(R.key===null?_:R.key)||null,c(v,T,R,M);case ds:var N=R._init;return S(T,v,_,N(R._payload),M)}if(ql(R)||Il(R))return T=T.get(_)||null,f(v,T,R,M,null);od(v,R)}return null}function E(T,v,_,R){for(var M=null,N=null,g=v,p=v=0,y=null;g!==null&&p<_.length;p++){g.index>p?(y=g,g=null):y=g.sibling;var C=m(T,g,_[p],R);if(C===null){g===null&&(g=y);break}t&&g&&C.alternate===null&&e(T,g),v=s(C,v,p),N===null?M=C:N.sibling=C,N=C,g=y}if(p===_.length)return n(T,g),Dt&&Zs(T,p),M;if(g===null){for(;p<_.length;p++)g=h(T,_[p],R),g!==null&&(v=s(g,v,p),N===null?M=g:N.sibling=g,N=g);return Dt&&Zs(T,p),M}for(g=r(T,g);p<_.length;p++)y=S(g,T,p,_[p],R),y!==null&&(t&&y.alternate!==null&&g.delete(y.key===null?p:y.key),v=s(y,v,p),N===null?M=y:N.sibling=y,N=y);return t&&g.forEach(function(O){return e(T,O)}),Dt&&Zs(T,p),M}function w(T,v,_,R){var M=Il(_);if(typeof M!="function")throw Error(ae(150));if(_=M.call(_),_==null)throw Error(ae(151));for(var N=M=null,g=v,p=v=0,y=null,C=_.next();g!==null&&!C.done;p++,C=_.next()){g.index>p?(y=g,g=null):y=g.sibling;var O=m(T,g,C.value,R);if(O===null){g===null&&(g=y);break}t&&g&&O.alternate===null&&e(T,g),v=s(O,v,p),N===null?M=O:N.sibling=O,N=O,g=y}if(C.done)return n(T,g),Dt&&Zs(T,p),M;if(g===null){for(;!C.done;p++,C=_.next())C=h(T,C.value,R),C!==null&&(v=s(C,v,p),N===null?M=C:N.sibling=C,N=C);return Dt&&Zs(T,p),M}for(g=r(T,g);!C.done;p++,C=_.next())C=S(g,T,p,C.value,R),C!==null&&(t&&C.alternate!==null&&g.delete(C.key===null?p:C.key),v=s(C,v,p),N===null?M=C:N.sibling=C,N=C);return t&&g.forEach(function(j){return e(T,j)}),Dt&&Zs(T,p),M}function I(T,v,_,R){if(typeof _=="object"&&_!==null&&_.type===oa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Qc:e:{for(var M=_.key,N=v;N!==null;){if(N.key===M){if(M=_.type,M===oa){if(N.tag===7){n(T,N.sibling),v=i(N,_.props.children),v.return=T,T=v;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ds&&fb(M)===N.type){n(T,N.sibling),v=i(N,_.props),v.ref=jl(T,N,_),v.return=T,T=v;break e}n(T,N);break}else e(T,N);N=N.sibling}_.type===oa?(v=ho(_.props.children,T.mode,R,_.key),v.return=T,T=v):(R=Dd(_.type,_.key,_.props,null,T.mode,R),R.ref=jl(T,v,_),R.return=T,T=R)}return o(T);case sa:e:{for(N=_.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(T,v.sibling),v=i(v,_.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Mm(_,T.mode,R),v.return=T,T=v}return o(T);case ds:return N=_._init,I(T,v,N(_._payload),R)}if(ql(_))return E(T,v,_,R);if(Il(_))return w(T,v,_,R);od(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,_),v.return=T,T=v):(n(T,v),v=Nm(_,T.mode,R),v.return=T,T=v),o(T)):n(T,v)}return I}var $a=oT(!0),aT=oT(!1),yf=Vs(null),vf=null,pa=null,Lv=null;function Dv(){Lv=pa=vf=null}function $v(t){var e=yf.current;Nt(yf),t._currentValue=e}function Jg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sa(t,e){vf=t,Lv=pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function Mr(t){var e=t._currentValue;if(Lv!==t)if(t={context:t,memoizedValue:e,next:null},pa===null){if(vf===null)throw Error(ae(308));pa=t,vf.dependencies={lanes:0,firstContext:t}}else pa=pa.next=t;return e}var oo=null;function Fv(t){oo===null?oo=[t]:oo.push(t)}function lT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ki(t,r)}function Ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fs=!1;function Vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ki(t,n)}return i=r.interleaved,i===null?(e.next=e,Fv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ki(t,n)}function Ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tv(t,n)}}function hb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xf(t,e,n,r){var i=t.updateQueue;fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var m=a.lane,S=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,w=a;switch(m=e,S=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){h=E.call(S,h,m);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,m=typeof E=="function"?E.call(S,h,m):E,m==null)break e;h=Bt({},h,m);break e;case 2:fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else S={eventTime:S,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=S,u=h):f=f.next=S,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_o|=o,t.lanes=o,t.memoizedState=h}}function pb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var ac={},di=Vs(ac),ju=Vs(ac),Ou=Vs(ac);function ao(t){if(t===ac)throw Error(ae(174));return t}function zv(t,e){switch(Rt(Ou,e),Rt(ju,t),Rt(di,ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jg(e,t)}Nt(di),Rt(di,e)}function Fa(){Nt(di),Nt(ju),Nt(Ou)}function cT(t){ao(Ou.current);var e=ao(di.current),n=jg(e,t.type);e!==n&&(Rt(ju,t),Rt(di,n))}function Bv(t){ju.current===t&&(Nt(di),Nt(ju))}var Vt=Vs(0);function _f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function Uv(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var jd=ts.ReactCurrentDispatcher,Rm=ts.ReactCurrentBatchConfig,xo=0,zt=null,pn=null,vn=null,bf=!1,au=!1,Nu=0,Fj=0;function Nn(){throw Error(ae(321))}function Wv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jr(t[n],e[n]))return!1;return!0}function Hv(t,e,n,r,i,s){if(xo=s,zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jd.current=t===null||t.memoizedState===null?Uj:Wj,t=n(r,i),au){s=0;do{if(au=!1,Nu=0,25<=s)throw Error(ae(301));s+=1,vn=pn=null,e.updateQueue=null,jd.current=Hj,t=n(r,i)}while(au)}if(jd.current=wf,e=pn!==null&&pn.next!==null,xo=0,vn=pn=zt=null,bf=!1,e)throw Error(ae(300));return t}function qv(){var t=Nu!==0;return Nu=0,t}function si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?zt.memoizedState=vn=t:vn=vn.next=t,vn}function Lr(){if(pn===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=pn.next;var e=vn===null?zt.memoizedState:vn.next;if(e!==null)vn=e,pn=t;else{if(t===null)throw Error(ae(310));pn=t,t={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},vn===null?zt.memoizedState=vn=t:vn=vn.next=t}return vn}function Mu(t,e){return typeof e=="function"?e(t):e}function Pm(t){var e=Lr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=pn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((xo&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,zt.lanes|=f,_o|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Jr(r,e.memoizedState)||(nr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,zt.lanes|=s,_o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Am(t){var e=Lr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jr(s,e.memoizedState)||(nr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dT(){}function fT(t,e){var n=zt,r=Lr(),i=e(),s=!Jr(r.memoizedState,i);if(s&&(r.memoizedState=i,nr=!0),r=r.queue,Kv(mT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vn!==null&&vn.memoizedState.tag&1){if(n.flags|=2048,Lu(9,pT.bind(null,n,r,i,e),void 0,null),_n===null)throw Error(ae(349));xo&30||hT(n,e,i)}return i}function hT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pT(t,e,n,r){e.value=n,e.getSnapshot=r,gT(e)&&yT(t)}function mT(t,e,n){return n(function(){gT(e)&&yT(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jr(t,n)}catch{return!0}}function yT(t){var e=Ki(t,1);e!==null&&Xr(e,t,1,-1)}function mb(t){var e=si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=Bj.bind(null,zt,t),[e.memoizedState,t]}function Lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vT(){return Lr().memoizedState}function Od(t,e,n,r){var i=si();zt.flags|=t,i.memoizedState=Lu(1|e,n,void 0,r===void 0?null:r)}function Ch(t,e,n,r){var i=Lr();r=r===void 0?null:r;var s=void 0;if(pn!==null){var o=pn.memoizedState;if(s=o.destroy,r!==null&&Wv(r,o.deps)){i.memoizedState=Lu(e,n,s,r);return}}zt.flags|=t,i.memoizedState=Lu(1|e,n,s,r)}function gb(t,e){return Od(8390656,8,t,e)}function Kv(t,e){return Ch(2048,8,t,e)}function xT(t,e){return Ch(4,2,t,e)}function _T(t,e){return Ch(4,4,t,e)}function bT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wT(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4,4,bT.bind(null,e,t),n)}function Gv(){}function ST(t,e){var n=Lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ET(t,e){var n=Lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TT(t,e,n){return xo&21?(Jr(n,e)||(n=PE(),zt.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=n)}function Vj(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=Rm.transition;Rm.transition={};try{t(!1),e()}finally{wt=n,Rm.transition=r}}function CT(){return Lr().memoizedState}function zj(t,e,n){var r=Cs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IT(t))kT(e,n);else if(n=lT(t,e,n,r),n!==null){var i=Qn();Xr(n,t,r,i),RT(n,e,r)}}function Bj(t,e,n){var r=Cs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IT(t))kT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jr(a,o)){var u=e.interleaved;u===null?(i.next=i,Fv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=lT(t,e,i,r),n!==null&&(i=Qn(),Xr(n,t,r,i),RT(n,e,r))}}function IT(t){var e=t.alternate;return t===zt||e!==null&&e===zt}function kT(t,e){au=bf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tv(t,n)}}var wf={readContext:Mr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},Uj={readContext:Mr,useCallback:function(t,e){return si().memoizedState=[t,e===void 0?null:e],t},useContext:Mr,useEffect:gb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,bT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=si();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=si();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zj.bind(null,zt,t),[r.memoizedState,t]},useRef:function(t){var e=si();return t={current:t},e.memoizedState=t},useState:mb,useDebugValue:Gv,useDeferredValue:function(t){return si().memoizedState=t},useTransition:function(){var t=mb(!1),e=t[0];return t=Vj.bind(null,t[1]),si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zt,i=si();if(Dt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),_n===null)throw Error(ae(349));xo&30||hT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gb(mT.bind(null,r,s,t),[t]),r.flags|=2048,Lu(9,pT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=si(),e=_n.identifierPrefix;if(Dt){var n=Li,r=Mi;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wj={readContext:Mr,useCallback:ST,useContext:Mr,useEffect:Kv,useImperativeHandle:wT,useInsertionEffect:xT,useLayoutEffect:_T,useMemo:ET,useReducer:Pm,useRef:vT,useState:function(){return Pm(Mu)},useDebugValue:Gv,useDeferredValue:function(t){var e=Lr();return TT(e,pn.memoizedState,t)},useTransition:function(){var t=Pm(Mu)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:CT,unstable_isNewReconciler:!1},Hj={readContext:Mr,useCallback:ST,useContext:Mr,useEffect:Kv,useImperativeHandle:wT,useInsertionEffect:xT,useLayoutEffect:_T,useMemo:ET,useReducer:Am,useRef:vT,useState:function(){return Am(Mu)},useDebugValue:Gv,useDeferredValue:function(t){var e=Lr();return pn===null?e.memoizedState=t:TT(e,pn.memoizedState,t)},useTransition:function(){var t=Am(Mu)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:CT,unstable_isNewReconciler:!1};function qr(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Cs(t),s=Vi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Es(t,s,i),e!==null&&(Xr(e,t,i,r),Ad(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Cs(t),s=Vi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Es(t,s,i),e!==null&&(Xr(e,t,i,r),Ad(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Cs(t),i=Vi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Es(t,i,r),e!==null&&(Xr(e,t,r,n),Ad(e,t,r))}};function yb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ku(n,r)||!ku(i,s):!0}function PT(t,e,n){var r=!1,i=Os,s=e.contextType;return typeof s=="object"&&s!==null?s=Mr(s):(i=ir(e)?yo:Bn.current,r=e.contextTypes,s=(r=r!=null)?La(t,i):Os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function ey(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mr(s):(s=ir(e)?yo:Bn.current,i.context=La(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ih.enqueueReplaceState(i,i.state,null),xf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Va(t,e){try{var n="",r=e;do n+=x2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ty(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qj=typeof WeakMap=="function"?WeakMap:Map;function AT(t,e,n){n=Vi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ef||(Ef=!0,dy=r),ty(t,e)},n}function jT(t,e,n){n=Vi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ty(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ty(t,e),typeof r!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oO.bind(null,t,e,n),e.then(t,t))}function _b(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vi(-1,1),e.tag=2,Es(n,e,1))),n.lanes|=1),t)}var Kj=ts.ReactCurrentOwner,nr=!1;function Kn(t,e,n,r){e.child=t===null?aT(e,null,n,r):$a(e,t.child,n,r)}function wb(t,e,n,r,i){n=n.render;var s=e.ref;return Sa(e,i),r=Hv(t,e,n,r,s,i),n=qv(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gi(t,e,i)):(Dt&&n&&Ov(e),e.flags|=1,Kn(t,e,r,i),e.child)}function Sb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!n0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OT(t,e,s,r,i)):(t=Dd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(o,r)&&t.ref===e.ref)return Gi(t,e,i)}return e.flags|=1,t=Is(s,r),t.ref=e.ref,t.return=e,e.child=t}function OT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ku(s,r)&&t.ref===e.ref)if(nr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,Gi(t,e,i)}return ny(t,e,n,r,i)}function NT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(ga,ur),ur|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(ga,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rt(ga,ur),ur|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rt(ga,ur),ur|=r;return Kn(t,e,i,n),e.child}function MT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ny(t,e,n,r,i){var s=ir(n)?yo:Bn.current;return s=La(e,s),Sa(e,i),n=Hv(t,e,n,r,s,i),r=qv(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gi(t,e,i)):(Dt&&r&&Ov(e),e.flags|=1,Kn(t,e,n,i),e.child)}function Eb(t,e,n,r,i){if(ir(n)){var s=!0;pf(e)}else s=!1;if(Sa(e,i),e.stateNode===null)Nd(t,e),PT(e,n,r),ey(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mr(c):(c=ir(n)?yo:Bn.current,c=La(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&vb(e,o,r,c),fs=!1;var m=e.memoizedState;o.state=m,xf(e,r,o,i),u=e.memoizedState,a!==r||m!==u||rr.current||fs?(typeof f=="function"&&(Zg(e,n,f,r),u=e.memoizedState),(a=fs||yb(e,n,a,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Mr(u):(u=ir(n)?yo:Bn.current,u=La(e,u));var S=n.getDerivedStateFromProps;(f=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&vb(e,o,r,u),fs=!1,m=e.memoizedState,o.state=m,xf(e,r,o,i);var E=e.memoizedState;a!==h||m!==E||rr.current||fs?(typeof S=="function"&&(Zg(e,n,S,r),E=e.memoizedState),(c=fs||yb(e,n,c,r,m,E,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ry(t,e,n,r,s,i)}function ry(t,e,n,r,i,s){MT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ub(e,n,!1),Gi(t,e,s);r=e.stateNode,Kj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,s),e.child=$a(e,null,a,s)):Kn(t,e,a,s),e.memoizedState=r.state,i&&ub(e,n,!0),e.child}function LT(t){var e=t.stateNode;e.pendingContext?lb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lb(t,e.context,!1),zv(t,e.containerInfo)}function Tb(t,e,n,r,i){return Da(),Mv(i),e.flags|=256,Kn(t,e,n,r),e.child}var iy={dehydrated:null,treeContext:null,retryLane:0};function sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function DT(t,e,n){var r=e.pendingProps,i=Vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(Vt,i&1),t===null)return Xg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ph(o,r,0,null),t=ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sy(n),e.memoizedState=iy,t):Qv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gj(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Is(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Is(a,s):(s=ho(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=iy,r}return s=t.child,t=s.sibling,r=Is(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qv(t,e){return e=Ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,n,r){return r!==null&&Mv(r),$a(e,t.child,null,n),t=Qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gj(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jm(Error(ae(422))),ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ph({mode:"visible",children:r.children},i,0,null),s=ho(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=sy(o),e.memoizedState=iy,s);if(!(e.mode&1))return ad(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=jm(s,r,void 0),ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,nr||a){if(r=_n,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ki(t,i),Xr(r,t,i,-1))}return t0(),r=jm(Error(ae(421))),ad(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dr=Ss(i.nextSibling),hr=e,Dt=!0,Gr=null,t!==null&&(Ir[kr++]=Mi,Ir[kr++]=Li,Ir[kr++]=vo,Mi=t.id,Li=t.overflow,vo=e),e=Qv(e,r.children),e.flags|=4096,e)}function Cb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jg(t.return,e,n)}function Om(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $T(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kn(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cb(t,n,e);else if(t.tag===19)Cb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_f(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Om(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_f(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Om(e,!0,n,null,s);break;case"together":Om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qj(t,e,n){switch(e.tag){case 3:LT(e),Da();break;case 5:cT(e);break;case 1:ir(e.type)&&pf(e);break;case 4:zv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?DT(t,e,n):(Rt(Vt,Vt.current&1),t=Gi(t,e,n),t!==null?t.sibling:null);Rt(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $T(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,NT(t,e,n)}return Gi(t,e,n)}var FT,oy,VT,zT;FT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oy=function(){};VT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ao(di.current);var s=null;switch(n){case"input":i=kg(t,i),r=kg(t,r),s=[];break;case"select":i=Bt({},i,{value:void 0}),r=Bt({},r,{value:void 0}),s=[];break;case"textarea":i=Ag(t,i),r=Ag(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ff)}Og(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&jt("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ol(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Yj(t,e,n){var r=e.pendingProps;switch(Nv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return ir(e.type)&&hf(),Mn(e),null;case 3:return r=e.stateNode,Fa(),Nt(rr),Nt(Bn),Uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(py(Gr),Gr=null))),oy(t,e),Mn(e),null;case 5:Bv(e);var i=ao(Ou.current);if(n=e.type,t!==null&&e.stateNode!=null)VT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Mn(e),null}if(t=ao(di.current),sd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[li]=e,r[Au]=s,t=(e.mode&1)!==0,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(i=0;i<Gl.length;i++)jt(Gl[i],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":M_(r,s),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jt("invalid",r);break;case"textarea":D_(r,s),jt("invalid",r)}Og(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",""+a]):bu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",r)}switch(n){case"input":Yc(r),L_(r,s,!0);break;case"textarea":Yc(r),$_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ff)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[li]=e,t[Au]=r,FT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ng(n,r),n){case"dialog":jt("cancel",t),jt("close",t),i=r;break;case"iframe":case"object":case"embed":jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gl.length;i++)jt(Gl[i],t);i=r;break;case"source":jt("error",t),i=r;break;case"img":case"image":case"link":jt("error",t),jt("load",t),i=r;break;case"details":jt("toggle",t),i=r;break;case"input":M_(t,r),i=kg(t,r),jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Bt({},r,{value:void 0}),jt("invalid",t);break;case"textarea":D_(t,r),i=Ag(t,r),jt("invalid",t);break;default:i=r}Og(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?vE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wu(t,u):typeof u=="number"&&wu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&jt("scroll",t):u!=null&&xv(t,s,u,o))}switch(n){case"input":Yc(t),L_(t,r,!1);break;case"textarea":Yc(t),$_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+js(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xa(t,!!r.multiple,s,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(t&&e.stateNode!=null)zT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=ao(Ou.current),ao(di.current),sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[li]=e,(s=r.nodeValue!==n)&&(t=hr,t!==null))switch(t.tag){case 3:id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&id(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[li]=e,e.stateNode=r}return Mn(e),null;case 13:if(Nt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&dr!==null&&e.mode&1&&!(e.flags&128))sT(),Da(),e.flags|=98560,s=!1;else if(s=sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[li]=e}else Da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),s=!1}else Gr!==null&&(py(Gr),Gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?mn===0&&(mn=3):t0())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return Fa(),oy(t,e),t===null&&Ru(e.stateNode.containerInfo),Mn(e),null;case 10:return $v(e.type._context),Mn(e),null;case 17:return ir(e.type)&&hf(),Mn(e),null;case 19:if(Nt(Vt),s=e.memoizedState,s===null)return Mn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ol(s,!1);else{if(mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_f(t),o!==null){for(e.flags|=128,Ol(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>za&&(e.flags|=128,r=!0,Ol(s,!1),e.lanes=4194304)}else{if(!r)if(t=_f(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Dt)return Mn(e),null}else 2*Xt()-s.renderingStartTime>za&&n!==1073741824&&(e.flags|=128,r=!0,Ol(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=Vt.current,Rt(Vt,r?n&1|2:n&1),e):(Mn(e),null);case 22:case 23:return e0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ur&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function Xj(t,e){switch(Nv(e),e.tag){case 1:return ir(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fa(),Nt(rr),Nt(Bn),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bv(e),null;case 13:if(Nt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(Vt),null;case 4:return Fa(),null;case 10:return $v(e.type._context),null;case 22:case 23:return e0(),null;case 24:return null;default:return null}}var ld=!1,Fn=!1,Jj=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function ay(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var Ib=!1;function Zj(t,e){if(Wg=uf,t=qE(),jv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var S;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(S=h.firstChild)!==null;)m=h,h=S;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(u=o),(S=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hg={focusedElem:t,selectionRange:n},uf=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,I=E.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?w:qr(e.type,w),I);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(R){Gt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return E=Ib,Ib=!1,E}function lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ay(e,n,s)}i=i.next}while(i!==r)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ly(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BT(t){var e=t.alternate;e!==null&&(t.alternate=null,BT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[li],delete e[Au],delete e[Gg],delete e[Mj],delete e[Lj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UT(t){return t.tag===5||t.tag===3||t.tag===4}function kb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(r!==4&&(t=t.child,t!==null))for(uy(t,e,n),t=t.sibling;t!==null;)uy(t,e,n),t=t.sibling}function cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cy(t,e,n),t=t.sibling;t!==null;)cy(t,e,n),t=t.sibling}var En=null,Kr=!1;function as(t,e,n){for(n=n.child;n!==null;)WT(t,e,n),n=n.sibling}function WT(t,e,n){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(_h,n)}catch{}switch(n.tag){case 5:Fn||ma(n,e);case 6:var r=En,i=Kr;En=null,as(t,e,n),En=r,Kr=i,En!==null&&(Kr?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Kr?(t=En,n=n.stateNode,t.nodeType===8?Cm(t.parentNode,n):t.nodeType===1&&Cm(t,n),Cu(t)):Cm(En,n.stateNode));break;case 4:r=En,i=Kr,En=n.stateNode.containerInfo,Kr=!0,as(t,e,n),En=r,Kr=i;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ay(n,e,o),i=i.next}while(i!==r)}as(t,e,n);break;case 1:if(!Fn&&(ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gt(n,e,a)}as(t,e,n);break;case 21:as(t,e,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,as(t,e,n),Fn=r):as(t,e,n);break;default:as(t,e,n)}}function Rb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jj),e.forEach(function(r){var i=lO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,Kr=!1;break e;case 3:En=a.stateNode.containerInfo,Kr=!0;break e;case 4:En=a.stateNode.containerInfo,Kr=!0;break e}a=a.return}if(En===null)throw Error(ae(160));WT(s,o,i),En=null,Kr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HT(e,t),e=e.sibling}function HT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wr(e,t),ii(t),r&4){try{lu(3,t,t.return),kh(3,t)}catch(w){Gt(t,t.return,w)}try{lu(5,t,t.return)}catch(w){Gt(t,t.return,w)}}break;case 1:Wr(e,t),ii(t),r&512&&n!==null&&ma(n,n.return);break;case 5:if(Wr(e,t),ii(t),r&512&&n!==null&&ma(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(w){Gt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hE(i,s),Ng(a,o);var c=Ng(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?vE(i,h):f==="dangerouslySetInnerHTML"?gE(i,h):f==="children"?wu(i,h):xv(i,f,h,c)}switch(a){case"input":Rg(i,s);break;case"textarea":pE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?xa(i,!!s.multiple,S,!1):m!==!!s.multiple&&(s.defaultValue!=null?xa(i,!!s.multiple,s.defaultValue,!0):xa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Au]=s}catch(w){Gt(t,t.return,w)}}break;case 6:if(Wr(e,t),ii(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Gt(t,t.return,w)}}break;case 3:if(Wr(e,t),ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(w){Gt(t,t.return,w)}break;case 4:Wr(e,t),ii(t);break;case 13:Wr(e,t),ii(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jv=Xt())),r&4&&Rb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Fn=(c=Fn)||f,Wr(e,t),Fn=c):Wr(e,t),ii(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(xe=t,f=t.child;f!==null;){for(h=xe=f;xe!==null;){switch(m=xe,S=m.child,m.tag){case 0:case 11:case 14:case 15:lu(4,m,m.return);break;case 1:ma(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(w){Gt(r,n,w)}}break;case 5:ma(m,m.return);break;case 22:if(m.memoizedState!==null){Ab(h);continue}}S!==null?(S.return=m,xe=S):Ab(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=yE("display",o))}catch(w){Gt(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Gt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wr(e,t),ii(t),r&4&&Rb(t);break;case 21:break;default:Wr(e,t),ii(t)}}function ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UT(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var s=kb(t);cy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kb(t);uy(t,a,o);break;default:throw Error(ae(161))}}catch(u){Gt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eO(t,e,n){xe=t,qT(t)}function qT(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ld;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Fn;a=ld;var c=Fn;if(ld=o,(Fn=u)&&!c)for(xe=i;xe!==null;)o=xe,u=o.child,o.tag===22&&o.memoizedState!==null?jb(i):u!==null?(u.return=o,xe=u):jb(i);for(;s!==null;)xe=s,qT(s),s=s.sibling;xe=i,ld=a,Fn=c}Pb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):Pb(t)}}function Pb(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Cu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Fn||e.flags&512&&ly(e)}catch(m){Gt(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Ab(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function jb(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(u){Gt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Gt(e,i,u)}}var s=e.return;try{ly(e)}catch(u){Gt(e,s,u)}break;case 5:var o=e.return;try{ly(e)}catch(u){Gt(e,o,u)}}}catch(u){Gt(e,e.return,u)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var tO=Math.ceil,Sf=ts.ReactCurrentDispatcher,Yv=ts.ReactCurrentOwner,jr=ts.ReactCurrentBatchConfig,ct=0,_n=null,on=null,kn=0,ur=0,ga=Vs(0),mn=0,Du=null,_o=0,Rh=0,Xv=0,uu=null,er=null,Jv=0,za=1/0,ki=null,Ef=!1,dy=null,Ts=null,ud=!1,ys=null,Tf=0,cu=0,fy=null,Md=-1,Ld=0;function Qn(){return ct&6?Xt():Md!==-1?Md:Md=Xt()}function Cs(t){return t.mode&1?ct&2&&kn!==0?kn&-kn:$j.transition!==null?(Ld===0&&(Ld=PE()),Ld):(t=wt,t!==0||(t=window.event,t=t===void 0?16:DE(t.type)),t):1}function Xr(t,e,n,r){if(50<cu)throw cu=0,fy=null,Error(ae(185));ic(t,n,r),(!(ct&2)||t!==_n)&&(t===_n&&(!(ct&2)&&(Rh|=n),mn===4&&ms(t,kn)),sr(t,r),n===1&&ct===0&&!(e.mode&1)&&(za=Xt()+500,Th&&zs()))}function sr(t,e){var n=t.callbackNode;$2(t,e);var r=lf(t,t===_n?kn:0);if(r===0)n!==null&&z_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&z_(n),e===1)t.tag===0?Dj(Ob.bind(null,t)):nT(Ob.bind(null,t)),Oj(function(){!(ct&6)&&zs()}),n=null;else{switch(AE(r)){case 1:n=Ev;break;case 4:n=kE;break;case 16:n=af;break;case 536870912:n=RE;break;default:n=af}n=eC(n,KT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KT(t,e){if(Md=-1,Ld=0,ct&6)throw Error(ae(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=lf(t,t===_n?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cf(t,r);else{e=r;var i=ct;ct|=2;var s=QT();(_n!==t||kn!==e)&&(ki=null,za=Xt()+500,fo(t,e));do try{iO();break}catch(a){GT(t,a)}while(!0);Dv(),Sf.current=s,ct=i,on!==null?e=0:(_n=null,kn=0,e=mn)}if(e!==0){if(e===2&&(i=Fg(t),i!==0&&(r=i,e=hy(t,i))),e===1)throw n=Du,fo(t,0),ms(t,r),sr(t,Xt()),n;if(e===6)ms(t,r);else{if(i=t.current.alternate,!(r&30)&&!nO(i)&&(e=Cf(t,r),e===2&&(s=Fg(t),s!==0&&(r=s,e=hy(t,s))),e===1))throw n=Du,fo(t,0),ms(t,r),sr(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:eo(t,er,ki);break;case 3:if(ms(t,r),(r&130023424)===r&&(e=Jv+500-Xt(),10<e)){if(lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kg(eo.bind(null,t,er,ki),e);break}eo(t,er,ki);break;case 4:if(ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tO(r/1960))-r,10<r){t.timeoutHandle=Kg(eo.bind(null,t,er,ki),r);break}eo(t,er,ki);break;case 5:eo(t,er,ki);break;default:throw Error(ae(329))}}}return sr(t,Xt()),t.callbackNode===n?KT.bind(null,t):null}function hy(t,e){var n=uu;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=Cf(t,e),t!==2&&(e=er,er=n,e!==null&&py(e)),t}function py(t){er===null?er=t:er.push.apply(er,t)}function nO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~Xv,e&=~Rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yr(e),r=1<<n;t[n]=-1,e&=~r}}function Ob(t){if(ct&6)throw Error(ae(327));Ea();var e=lf(t,0);if(!(e&1))return sr(t,Xt()),null;var n=Cf(t,e);if(t.tag!==0&&n===2){var r=Fg(t);r!==0&&(e=r,n=hy(t,r))}if(n===1)throw n=Du,fo(t,0),ms(t,e),sr(t,Xt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eo(t,er,ki),sr(t,Xt()),null}function Zv(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(za=Xt()+500,Th&&zs())}}function bo(t){ys!==null&&ys.tag===0&&!(ct&6)&&Ea();var e=ct;ct|=1;var n=jr.transition,r=wt;try{if(jr.transition=null,wt=1,t)return t()}finally{wt=r,jr.transition=n,ct=e,!(ct&6)&&zs()}}function e0(){ur=ga.current,Nt(ga)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jj(n)),on!==null)for(n=on.return;n!==null;){var r=n;switch(Nv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:Fa(),Nt(rr),Nt(Bn),Uv();break;case 5:Bv(r);break;case 4:Fa();break;case 13:Nt(Vt);break;case 19:Nt(Vt);break;case 10:$v(r.type._context);break;case 22:case 23:e0()}n=n.return}if(_n=t,on=t=Is(t.current,null),kn=ur=e,mn=0,Du=null,Xv=Rh=_o=0,er=uu=null,oo!==null){for(e=0;e<oo.length;e++)if(n=oo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}oo=null}return t}function GT(t,e){do{var n=on;try{if(Dv(),jd.current=wf,bf){for(var r=zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bf=!1}if(xo=0,vn=pn=zt=null,au=!1,Nu=0,Yv.current=null,n===null||n.return===null){mn=1,Du=e,on=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=kn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=_b(o);if(S!==null){S.flags&=-257,bb(S,o,a,s,e),S.mode&1&&xb(s,c,e),e=S,u=c;var E=e.updateQueue;if(E===null){var w=new Set;w.add(u),e.updateQueue=w}else E.add(u);break e}else{if(!(e&1)){xb(s,c,e),t0();break e}u=Error(ae(426))}}else if(Dt&&a.mode&1){var I=_b(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),bb(I,o,a,s,e),Mv(Va(u,a));break e}}s=u=Va(u,a),mn!==4&&(mn=2),uu===null?uu=[s]:uu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=AT(s,u,e);hb(s,T);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ts===null||!Ts.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=jT(s,a,e);hb(s,R);break e}}s=s.return}while(s!==null)}XT(n)}catch(M){e=M,on===n&&n!==null&&(on=n=n.return);continue}break}while(!0)}function QT(){var t=Sf.current;return Sf.current=wf,t===null?wf:t}function t0(){(mn===0||mn===3||mn===2)&&(mn=4),_n===null||!(_o&268435455)&&!(Rh&268435455)||ms(_n,kn)}function Cf(t,e){var n=ct;ct|=2;var r=QT();(_n!==t||kn!==e)&&(ki=null,fo(t,e));do try{rO();break}catch(i){GT(t,i)}while(!0);if(Dv(),ct=n,Sf.current=r,on!==null)throw Error(ae(261));return _n=null,kn=0,mn}function rO(){for(;on!==null;)YT(on)}function iO(){for(;on!==null&&!R2();)YT(on)}function YT(t){var e=ZT(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?XT(t):on=e,Yv.current=null}function XT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xj(n,e),n!==null){n.flags&=32767,on=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mn=6,on=null;return}}else if(n=Yj(n,e,ur),n!==null){on=n;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);mn===0&&(mn=5)}function eo(t,e,n){var r=wt,i=jr.transition;try{jr.transition=null,wt=1,sO(t,e,n,r)}finally{jr.transition=i,wt=r}return null}function sO(t,e,n,r){do Ea();while(ys!==null);if(ct&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(F2(t,s),t===_n&&(on=_n=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,eC(af,function(){return Ea(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var o=wt;wt=1;var a=ct;ct|=4,Yv.current=null,Zj(t,n),HT(n,t),Tj(Hg),uf=!!Wg,Hg=Wg=null,t.current=n,eO(n),P2(),ct=a,wt=o,jr.transition=s}else t.current=n;if(ud&&(ud=!1,ys=t,Tf=i),s=t.pendingLanes,s===0&&(Ts=null),O2(n.stateNode),sr(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,t=dy,dy=null,t;return Tf&1&&t.tag!==0&&Ea(),s=t.pendingLanes,s&1?t===fy?cu++:(cu=0,fy=t):cu=0,zs(),null}function Ea(){if(ys!==null){var t=AE(Tf),e=jr.transition,n=wt;try{if(jr.transition=null,wt=16>t?16:t,ys===null)var r=!1;else{if(t=ys,ys=null,Tf=0,ct&6)throw Error(ae(331));var i=ct;for(ct|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(xe=c;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:lu(8,f,s)}var h=f.child;if(h!==null)h.return=f,xe=h;else for(;xe!==null;){f=xe;var m=f.sibling,S=f.return;if(BT(f),f===c){xe=null;break}if(m!==null){m.return=S,xe=m;break}xe=S}}}var E=s.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lu(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,xe=T;break e}xe=s.return}}var v=t.current;for(xe=v;xe!==null;){o=xe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,xe=_;else e:for(o=v;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kh(9,a)}}catch(M){Gt(a,a.return,M)}if(a===o){xe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,xe=R;break e}xe=a.return}}if(ct=i,zs(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(_h,t)}catch{}r=!0}return r}finally{wt=n,jr.transition=e}}return!1}function Nb(t,e,n){e=Va(n,e),e=AT(t,e,1),t=Es(t,e,1),e=Qn(),t!==null&&(ic(t,1,e),sr(t,e))}function Gt(t,e,n){if(t.tag===3)Nb(t,t,n);else for(;e!==null;){if(e.tag===3){Nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){t=Va(n,t),t=jT(e,t,1),e=Es(e,t,1),t=Qn(),e!==null&&(ic(e,1,t),sr(e,t));break}}e=e.return}}function oO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,_n===t&&(kn&n)===n&&(mn===4||mn===3&&(kn&130023424)===kn&&500>Xt()-Jv?fo(t,0):Xv|=n),sr(t,e)}function JT(t,e){e===0&&(t.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var n=Qn();t=Ki(t,e),t!==null&&(ic(t,e,n),sr(t,n))}function aO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JT(t,n)}function lO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),JT(t,n)}var ZT;ZT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rr.current)nr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nr=!1,Qj(t,e,n);nr=!!(t.flags&131072)}else nr=!1,Dt&&e.flags&1048576&&rT(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nd(t,e),t=e.pendingProps;var i=La(e,Bn.current);Sa(e,n),i=Hv(null,e,r,t,i,n);var s=qv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ir(r)?(s=!0,pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vv(e),i.updater=Ih,e.stateNode=i,i._reactInternals=e,ey(e,r,t,n),e=ry(null,e,r,!0,s,n)):(e.tag=0,Dt&&s&&Ov(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cO(r),t=qr(r,t),i){case 0:e=ny(null,e,r,t,n);break e;case 1:e=Eb(null,e,r,t,n);break e;case 11:e=wb(null,e,r,t,n);break e;case 14:e=Sb(null,e,r,qr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qr(r,i),ny(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qr(r,i),Eb(t,e,r,i,n);case 3:e:{if(LT(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uT(t,e),xf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Va(Error(ae(423)),e),e=Tb(t,e,r,n,i);break e}else if(r!==i){i=Va(Error(ae(424)),e),e=Tb(t,e,r,n,i);break e}else for(dr=Ss(e.stateNode.containerInfo.firstChild),hr=e,Dt=!0,Gr=null,n=aT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Da(),r===i){e=Gi(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return cT(e),t===null&&Xg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qg(r,i)?o=null:s!==null&&qg(r,s)&&(e.flags|=32),MT(t,e),Kn(t,e,o,n),e.child;case 6:return t===null&&Xg(e),null;case 13:return DT(t,e,n);case 4:return zv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qr(r,i),wb(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rt(yf,r._currentValue),r._currentValue=o,s!==null)if(Jr(s.value,o)){if(s.children===i.children&&!rr.current){e=Gi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Vi(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Jg(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sa(e,n),i=Mr(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=qr(r,e.pendingProps),i=qr(r.type,i),Sb(t,e,r,i,n);case 15:return OT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qr(r,i),Nd(t,e),e.tag=1,ir(r)?(t=!0,pf(e)):t=!1,Sa(e,n),PT(e,r,i),ey(e,r,i,n),ry(null,e,r,!0,t,n);case 19:return $T(t,e,n);case 22:return NT(t,e,n)}throw Error(ae(156,e.tag))};function eC(t,e){return IE(t,e)}function uO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new uO(t,e,n,r)}function n0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cO(t){if(typeof t=="function")return n0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bv)return 11;if(t===wv)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")n0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oa:return ho(n.children,i,s,e);case _v:o=8,i|=8;break;case Eg:return t=Pr(12,n,e,i|2),t.elementType=Eg,t.lanes=s,t;case Tg:return t=Pr(13,n,e,i),t.elementType=Tg,t.lanes=s,t;case Cg:return t=Pr(19,n,e,i),t.elementType=Cg,t.lanes=s,t;case cE:return Ph(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lE:o=10;break e;case uE:o=9;break e;case bv:o=11;break e;case wv:o=14;break e;case ds:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Pr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ho(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function Ph(t,e,n,r){return t=Pr(22,t,r,e),t.elementType=cE,t.lanes=n,t.stateNode={isHidden:!1},t}function Nm(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function Mm(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mm(0),this.expirationTimes=mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r0(t,e,n,r,i,s,o,a,u){return t=new dO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(s),t}function fO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tC(t){if(!t)return Os;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(ir(n))return tT(t,n,e)}return e}function nC(t,e,n,r,i,s,o,a,u){return t=r0(n,r,!0,t,i,s,o,a,u),t.context=tC(null),n=t.current,r=Qn(),i=Cs(n),s=Vi(r,i),s.callback=e??null,Es(n,s,i),t.current.lanes=i,ic(t,i,r),sr(t,r),t}function Ah(t,e,n,r){var i=e.current,s=Qn(),o=Cs(i);return n=tC(n),e.context===null?e.context=n:e.pendingContext=n,e=Vi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Es(i,e,o),t!==null&&(Xr(t,i,o,s),Ad(t,i,o)),o}function If(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i0(t,e){Mb(t,e),(t=t.alternate)&&Mb(t,e)}function hO(){return null}var rC=typeof reportError=="function"?reportError:function(t){console.error(t)};function s0(t){this._internalRoot=t}jh.prototype.render=s0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Ah(t,e,null,null)};jh.prototype.unmount=s0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){Ah(null,t,null,null)}),e[qi]=null}};function jh(t){this._internalRoot=t}jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=NE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&LE(t)}};function o0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lb(){}function pO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=If(o);s.call(c)}}var o=nC(e,r,t,0,null,!1,!1,"",Lb);return t._reactRootContainer=o,t[qi]=o.current,Ru(t.nodeType===8?t.parentNode:t),bo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=If(u);a.call(c)}}var u=r0(t,0,!1,null,null,!1,!1,"",Lb);return t._reactRootContainer=u,t[qi]=u.current,Ru(t.nodeType===8?t.parentNode:t),bo(function(){Ah(e,u,n,r)}),u}function Nh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=If(o);a.call(u)}}Ah(e,o,t,i)}else o=pO(n,e,t,i,r);return If(o)}jE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(Tv(e,n|1),sr(e,Xt()),!(ct&6)&&(za=Xt()+500,zs()))}break;case 13:bo(function(){var r=Ki(t,1);if(r!==null){var i=Qn();Xr(r,t,1,i)}}),i0(t,1)}};Cv=function(t){if(t.tag===13){var e=Ki(t,134217728);if(e!==null){var n=Qn();Xr(e,t,134217728,n)}i0(t,134217728)}};OE=function(t){if(t.tag===13){var e=Cs(t),n=Ki(t,e);if(n!==null){var r=Qn();Xr(n,t,e,r)}i0(t,e)}};NE=function(){return wt};ME=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};Lg=function(t,e,n){switch(e){case"input":if(Rg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Eh(r);if(!i)throw Error(ae(90));fE(r),Rg(r,i)}}}break;case"textarea":pE(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};bE=Zv;wE=bo;var mO={usingClientEntryPoint:!1,Events:[oc,ca,Eh,xE,_E,Zv]},Nl={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gO={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TE(t),t===null?null:t.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||hO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{_h=cd.inject(gO),ci=cd}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mO;vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o0(e))throw Error(ae(200));return fO(t,e,null,n)};vr.createRoot=function(t,e){if(!o0(t))throw Error(ae(299));var n=!1,r="",i=rC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=r0(t,1,!1,null,null,n,!1,r,i),t[qi]=e.current,Ru(t.nodeType===8?t.parentNode:t),new s0(e)};vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=TE(e),t=t===null?null:t.stateNode,t};vr.flushSync=function(t){return bo(t)};vr.hydrate=function(t,e,n){if(!Oh(e))throw Error(ae(200));return Nh(null,t,e,!0,n)};vr.hydrateRoot=function(t,e,n){if(!o0(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nC(e,null,t,1,n??null,i,!1,s,o),t[qi]=e.current,Ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jh(e)};vr.render=function(t,e,n){if(!Oh(e))throw Error(ae(200));return Nh(null,t,e,!1,n)};vr.unmountComponentAtNode=function(t){if(!Oh(t))throw Error(ae(40));return t._reactRootContainer?(bo(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[qi]=null})}),!0):!1};vr.unstable_batchedUpdates=Zv;vr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oh(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Nh(t,e,n,!1,r)};vr.version="18.3.1-next-f1338f8080-20240426";function iC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iC)}catch(t){console.error(t)}}iC(),iE.exports=vr;var a0=iE.exports;const dd=mh(a0);var Db=a0;wg.createRoot=Db.createRoot,wg.hydrateRoot=Db.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(this,arguments)}var vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vs||(vs={}));const $b="popstate";function yO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Mo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),my("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:kf(s))}function r(i,s){l0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xO(e,n,r,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function l0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vO(){return Math.random().toString(36).substr(2,8)}function Fb(t,e){return{usr:t.state,key:t.key,idx:e}}function my(t,e,n,r){return n===void 0&&(n=null),$u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:n,key:e&&e.key||r||vO()})}function kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vs.Pop,u=null,c=f();c==null&&(c=0,o.replaceState($u({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=vs.Pop;let I=f(),T=I==null?null:I-c;c=I,u&&u({action:a,location:w.location,delta:T})}function m(I,T){a=vs.Push;let v=my(w.location,I,T);n&&n(v,I),c=f()+1;let _=Fb(v,c),R=w.createHref(v);try{o.pushState(_,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}s&&u&&u({action:a,location:w.location,delta:1})}function S(I,T){a=vs.Replace;let v=my(w.location,I,T);n&&n(v,I),c=f();let _=Fb(v,c),R=w.createHref(v);o.replaceState(_,"",R),s&&u&&u({action:a,location:w.location,delta:0})}function E(I){let T=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:kf(I);return v=v.replace(/ $/,"%20"),cn(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let w={get action(){return a},get location(){return t(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener($b,h),u=I,()=>{i.removeEventListener($b,h),u=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let T=E(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:S,go(I){return o.go(I)}};return w}var Vb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vb||(Vb={}));function _O(t,e,n){return n===void 0&&(n="/"),bO(t,e,n)}function bO(t,e,n,r){let i=typeof e=="string"?Mo(e):e,s=u0(i.pathname||"/",n);if(s==null)return null;let o=sC(t);wO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=NO(s);a=AO(o[u],c)}return a}function sC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(cn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ks([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(cn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:RO(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of oC(s.path))i(s,o,u)}),e}function oC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=oC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function wO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SO=/^:[\w-]+$/,EO=3,TO=2,CO=1,IO=10,kO=-2,zb=t=>t==="*";function RO(t,e){let n=t.split("/"),r=n.length;return n.some(zb)&&(r+=kO),e&&(r+=TO),n.filter(i=>!zb(i)).reduce((i,s)=>i+(SO.test(s)?EO:s===""?CO:IO),r)}function PO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=jO({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ks([s,h.pathname]),pathnameBase:$O(ks([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=ks([s,h.pathnameBase]))}return o}function jO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:S}=f;if(m==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const E=a[h];return S&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function OO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),l0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return l0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mo(t):t;return{pathname:n?n.startsWith("/")?n:LO(n,e):e,search:FO(r),hash:VO(i)}}function LO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aC(t,e){let n=DO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mo(t):(i=$u({},t),cn(!i.pathname||!i.pathname.includes("?"),Lm("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),Lm("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),Lm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let u=MO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),$O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uC=["post","put","patch","delete"];new Set(uC);const BO=["get",...uC];new Set(BO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}const c0=b.createContext(null),UO=b.createContext(null),Lo=b.createContext(null),Mh=b.createContext(null),Bs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),cC=b.createContext(null);function WO(t,e){let{relative:n}=e===void 0?{}:e;lc()||cn(!1);let{basename:r,navigator:i}=b.useContext(Lo),{hash:s,pathname:o,search:a}=fC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ks([r,o])),i.createHref({pathname:u,search:a,hash:s})}function lc(){return b.useContext(Mh)!=null}function Do(){return lc()||cn(!1),b.useContext(Mh).location}function dC(t){b.useContext(Lo).static||b.useLayoutEffect(t)}function Us(){let{isDataRoute:t}=b.useContext(Bs);return t?rN():HO()}function HO(){lc()||cn(!1);let t=b.useContext(c0),{basename:e,future:n,navigator:r}=b.useContext(Lo),{matches:i}=b.useContext(Bs),{pathname:s}=Do(),o=JSON.stringify(aC(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return dC(()=>{a.current=!0}),b.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=lC(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ks([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function Lh(){let{matches:t}=b.useContext(Bs),e=t[t.length-1];return e?e.params:{}}function fC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Lo),{matches:i}=b.useContext(Bs),{pathname:s}=Do(),o=JSON.stringify(aC(i,r.v7_relativeSplatPath));return b.useMemo(()=>lC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function qO(t,e){return KO(t,e)}function KO(t,e,n,r){lc()||cn(!1);let{navigator:i}=b.useContext(Lo),{matches:s}=b.useContext(Bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Do(),f;if(e){var h;let I=typeof e=="string"?Mo(e):e;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||cn(!1),f=I}else f=c;let m=f.pathname||"/",S=m;if(u!=="/"){let I=u.replace(/^\//,"").split("/");S="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=_O(t,{pathname:S}),w=JO(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ks([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:ks([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&w?b.createElement(Mh.Provider,{value:{location:Fu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vs.Pop}},w):w}function GO(){let t=nN(),e=zO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const QO=b.createElement(GO,null);class YO extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Bs.Provider,{value:this.props.routeContext},b.createElement(cC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XO(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(c0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Bs.Provider,{value:e},r)}function JO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||cn(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:S}=n,E=h.route.loader&&m[h.route.id]===void 0&&(!S||S[h.route.id]===void 0);if(h.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let S,E=!1,w=null,I=null;n&&(S=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||QO,u&&(c<0&&m===0?(iN("route-fallback"),E=!0,I=null):c===m&&(E=!0,I=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),v=()=>{let _;return S?_=w:E?_=I:h.route.Component?_=b.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,b.createElement(XO,{match:h,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(YO,{location:n.location,revalidation:n.revalidation,component:w,error:S,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var hC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hC||{}),pC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pC||{});function ZO(t){let e=b.useContext(c0);return e||cn(!1),e}function eN(t){let e=b.useContext(UO);return e||cn(!1),e}function tN(t){let e=b.useContext(Bs);return e||cn(!1),e}function mC(t){let e=tN(),n=e.matches[e.matches.length-1];return n.route.id||cn(!1),n.route.id}function nN(){var t;let e=b.useContext(cC),n=eN(),r=mC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rN(){let{router:t}=ZO(hC.UseNavigateStable),e=mC(pC.UseNavigateStable),n=b.useRef(!1);return dC(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fu({fromRouteId:e},s)))},[t,e])}const Bb={};function iN(t,e,n){Bb[t]||(Bb[t]=!0)}function sN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gn(t){cn(!1)}function oN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vs.Pop,navigator:s,static:o=!1,future:a}=t;lc()&&cn(!1);let u=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:s,static:o,future:Fu({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Mo(r));let{pathname:f="/",search:h="",hash:m="",state:S=null,key:E="default"}=r,w=b.useMemo(()=>{let I=u0(f,u);return I==null?null:{location:{pathname:I,search:h,hash:m,state:S,key:E},navigationType:i}},[u,f,h,m,S,E,i]);return w==null?null:b.createElement(Lo.Provider,{value:c},b.createElement(Mh.Provider,{children:n,value:w}))}function aN(t){let{children:e,location:n}=t;return qO(gy(e),n)}new Promise(()=>{});function gy(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,gy(r.props.children,s));return}r.type!==gn&&cn(!1),!r.props.index||!r.props.children||cn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function lN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cN(t,e){return t.button===0&&(!e||e==="_self")&&!uN(t)}const dN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fN="6";try{window.__reactRouterVersion=fN}catch{}const hN="startTransition",Ub=nf[hN];function pN(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=yO({window:i,v5Compat:!0}));let o=s.current,[a,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=b.useCallback(h=>{c&&Ub?Ub(()=>u(h)):u(h)},[u,c]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>sN(r),[r]),b.createElement(oN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ba=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:h}=e,m=lN(e,dN),{basename:S}=b.useContext(Lo),E,w=!1;if(typeof c=="string"&&gN.test(c)&&(E=c,mN))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),M=u0(R.pathname,S);R.origin===_.origin&&M!=null?c=M+R.search+R.hash:w=!0}catch{}let I=WO(c,{relative:i}),T=yN(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:h});function v(_){r&&r(_),_.defaultPrevented||T(_)}return b.createElement("a",yy({},m,{href:E||I,onClick:w||s?r:v,ref:n,target:u}))});var Wb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wb||(Wb={}));var Hb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hb||(Hb={}));function yN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Us(),c=Do(),f=fC(t,{relative:o});return b.useCallback(h=>{if(cN(h,n)){h.preventDefault();let m=r!==void 0?r:kf(c)===kf(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}var qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(m=64)),r.push(n[f],n[h],n[m],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new xN;const m=s<<2|a>>4;if(r.push(m),c!==64){const S=a<<4&240|c>>2;if(r.push(S),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _N=function(t){const e=gC(t);return yC.encodeByteArray(e,!0)},Rf=function(t){return _N(t).replace(/\./g,"")},vC=function(t){try{return yC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=()=>bN().__FIREBASE_DEFAULTS__,SN=()=>{if(typeof process>"u"||typeof qb>"u")return;const t=qb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vC(t[1]);return e&&JSON.parse(e)},Dh=()=>{try{return wN()||SN()||EN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xC=t=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_C=t=>{const e=xC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bC=()=>{var t;return(t=Dh())===null||t===void 0?void 0:t.config},wC=t=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function IN(){var t;const e=(t=Dh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AN(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jN(){return!IN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ON(){try{return typeof indexedDB=="object"}catch{return!1}}function NN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MN,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wi(i,a,r)}}function LN(t,e){return t.replace(DN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DN=/\{\$([^}]+)}/g;function $N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Kb(s)&&Kb(o)){if(!Pf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FN(t,e){const n=new VN(t,e);return n.subscribe.bind(n)}class VN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dm),i.error===void 0&&(i.error=Dm),i.complete===void 0&&(i.complete=Dm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WN(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(t){return t===to?void 0:t}function WN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const qN={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},KN=at.INFO,GN={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},QN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d0{constructor(e){this.name=e,this._logLevel=KN,this._logHandler=QN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const YN=(t,e)=>e.some(n=>t instanceof n);let Gb,Qb;function XN(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return Qb||(Qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,vy=new WeakMap,TC=new WeakMap,$m=new WeakMap,f0=new WeakMap;function ZN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EC.set(n,t)}).catch(()=>{}),f0.set(e,t),e}function eM(t){if(vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vy.set(t,e)}let xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tM(t){xy=t(xy)}function nM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return TC.set(r,e.sort?e.sort():[e]),Rs(r)}:JN().includes(t)?function(...e){return t.apply(Fm(this),e),Rs(EC.get(this))}:function(...e){return Rs(t.apply(Fm(this),e))}}function rM(t){return typeof t=="function"?nM(t):(t instanceof IDBTransaction&&eM(t),YN(t,XN())?new Proxy(t,xy):t)}function Rs(t){if(t instanceof IDBRequest)return ZN(t);if($m.has(t))return $m.get(t);const e=rM(t);return e!==t&&($m.set(t,e),f0.set(e,t)),e}const Fm=t=>f0.get(t);function iM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Rs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Rs(o.result),u.oldVersion,u.newVersion,Rs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],Vm=new Map;function Yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sM.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Vm.set(e,s),s}tM(t=>({...t,get:(e,n,r)=>Yb(e,n)||t.get(e,n,r),has:(e,n)=>!!Yb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _y="@firebase/app",Xb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new d0("@firebase/app"),uM="@firebase/app-compat",cM="@firebase/analytics-compat",dM="@firebase/analytics",fM="@firebase/app-check-compat",hM="@firebase/app-check",pM="@firebase/auth",mM="@firebase/auth-compat",gM="@firebase/database",yM="@firebase/data-connect",vM="@firebase/database-compat",xM="@firebase/functions",_M="@firebase/functions-compat",bM="@firebase/installations",wM="@firebase/installations-compat",SM="@firebase/messaging",EM="@firebase/messaging-compat",TM="@firebase/performance",CM="@firebase/performance-compat",IM="@firebase/remote-config",kM="@firebase/remote-config-compat",RM="@firebase/storage",PM="@firebase/storage-compat",AM="@firebase/firestore",jM="@firebase/vertexai-preview",OM="@firebase/firestore-compat",NM="firebase",MM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",LM={[_y]:"fire-core",[uM]:"fire-core-compat",[dM]:"fire-analytics",[cM]:"fire-analytics-compat",[hM]:"fire-app-check",[fM]:"fire-app-check-compat",[pM]:"fire-auth",[mM]:"fire-auth-compat",[gM]:"fire-rtdb",[yM]:"fire-data-connect",[vM]:"fire-rtdb-compat",[xM]:"fire-fn",[_M]:"fire-fn-compat",[bM]:"fire-iid",[wM]:"fire-iid-compat",[SM]:"fire-fcm",[EM]:"fire-fcm-compat",[TM]:"fire-perf",[CM]:"fire-perf-compat",[IM]:"fire-rc",[kM]:"fire-rc-compat",[RM]:"fire-gcs",[PM]:"fire-gcs-compat",[AM]:"fire-fst",[OM]:"fire-fst-compat",[jM]:"fire-vertex","fire-js":"fire-js",[NM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,DM=new Map,wy=new Map;function Jb(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wo(t){const e=t.name;if(wy.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,t);for(const n of Af.values())Jb(n,t);for(const n of DM.values())Jb(n,t);return!0}function $h(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new uc("app","Firebase",$M);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=MM;function CC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ps.create("bad-app-name",{appName:String(i)});if(n||(n=bC()),!n)throw Ps.create("no-options");const s=Af.get(i);if(s){if(Pf(n,s.options)&&Pf(r,s.config))return s;throw Ps.create("duplicate-app",{appName:i})}const o=new HN(i);for(const u of wy.values())o.addComponent(u);const a=new FM(n,r,o);return Af.set(i,a),a}function h0(t=by){const e=Af.get(t);if(!e&&t===by&&bC())return CC();if(!e)throw Ps.create("no-app",{appName:t});return e}function fi(t,e,n){var r;let i=(r=LM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(a.join(" "));return}wo(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="firebase-heartbeat-database",zM=1,Vu="firebase-heartbeat-store";let zm=null;function IC(){return zm||(zm=iM(VM,zM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),zm}async function BM(t){try{const n=(await IC()).transaction(Vu),r=await n.objectStore(Vu).get(kC(t));return await n.done,r}catch(e){if(e instanceof wi)Qi.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(n.message)}}}async function Zb(t,e){try{const r=(await IC()).transaction(Vu,"readwrite");await r.objectStore(Vu).put(e,kC(t)),await r.done}catch(n){if(n instanceof wi)Qi.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qi.warn(r.message)}}}function kC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=1024,WM=30*24*60*60*1e3;class HM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ew();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=WM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ew(),{heartbeatsToSend:r,unsentEntries:i}=qM(this._heartbeatsCache.heartbeats),s=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qi.warn(n),""}}}function ew(){return new Date().toISOString().substring(0,10)}function qM(t,e=UM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ON()?NN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tw(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){wo(new Ns("platform-logger",e=>new aM(e),"PRIVATE")),wo(new Ns("heartbeat",e=>new HM(e),"PRIVATE")),fi(_y,Xb,t),fi(_y,Xb,"esm2017"),fi("fire-js","")}GM("");var QM="firebase",YM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(QM,YM,"app");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,RC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(g,p){function y(){}y.prototype=p.prototype,g.D=p.prototype,g.prototype=new y,g.prototype.constructor=g,g.C=function(C,O,j){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return p.prototype[O].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(g,p,y){y||(y=0);var C=Array(16);if(typeof p=="string")for(var O=0;16>O;++O)C[O]=p.charCodeAt(y++)|p.charCodeAt(y++)<<8|p.charCodeAt(y++)<<16|p.charCodeAt(y++)<<24;else for(O=0;16>O;++O)C[O]=p[y++]|p[y++]<<8|p[y++]<<16|p[y++]<<24;p=g.g[0],y=g.g[1],O=g.g[2];var j=g.g[3],P=p+(j^y&(O^j))+C[0]+3614090360&4294967295;p=y+(P<<7&4294967295|P>>>25),P=j+(O^p&(y^O))+C[1]+3905402710&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(y^j&(p^y))+C[2]+606105819&4294967295,O=j+(P<<17&4294967295|P>>>15),P=y+(p^O&(j^p))+C[3]+3250441966&4294967295,y=O+(P<<22&4294967295|P>>>10),P=p+(j^y&(O^j))+C[4]+4118548399&4294967295,p=y+(P<<7&4294967295|P>>>25),P=j+(O^p&(y^O))+C[5]+1200080426&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(y^j&(p^y))+C[6]+2821735955&4294967295,O=j+(P<<17&4294967295|P>>>15),P=y+(p^O&(j^p))+C[7]+4249261313&4294967295,y=O+(P<<22&4294967295|P>>>10),P=p+(j^y&(O^j))+C[8]+1770035416&4294967295,p=y+(P<<7&4294967295|P>>>25),P=j+(O^p&(y^O))+C[9]+2336552879&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(y^j&(p^y))+C[10]+4294925233&4294967295,O=j+(P<<17&4294967295|P>>>15),P=y+(p^O&(j^p))+C[11]+2304563134&4294967295,y=O+(P<<22&4294967295|P>>>10),P=p+(j^y&(O^j))+C[12]+1804603682&4294967295,p=y+(P<<7&4294967295|P>>>25),P=j+(O^p&(y^O))+C[13]+4254626195&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(y^j&(p^y))+C[14]+2792965006&4294967295,O=j+(P<<17&4294967295|P>>>15),P=y+(p^O&(j^p))+C[15]+1236535329&4294967295,y=O+(P<<22&4294967295|P>>>10),P=p+(O^j&(y^O))+C[1]+4129170786&4294967295,p=y+(P<<5&4294967295|P>>>27),P=j+(y^O&(p^y))+C[6]+3225465664&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^y&(j^p))+C[11]+643717713&4294967295,O=j+(P<<14&4294967295|P>>>18),P=y+(j^p&(O^j))+C[0]+3921069994&4294967295,y=O+(P<<20&4294967295|P>>>12),P=p+(O^j&(y^O))+C[5]+3593408605&4294967295,p=y+(P<<5&4294967295|P>>>27),P=j+(y^O&(p^y))+C[10]+38016083&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^y&(j^p))+C[15]+3634488961&4294967295,O=j+(P<<14&4294967295|P>>>18),P=y+(j^p&(O^j))+C[4]+3889429448&4294967295,y=O+(P<<20&4294967295|P>>>12),P=p+(O^j&(y^O))+C[9]+568446438&4294967295,p=y+(P<<5&4294967295|P>>>27),P=j+(y^O&(p^y))+C[14]+3275163606&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^y&(j^p))+C[3]+4107603335&4294967295,O=j+(P<<14&4294967295|P>>>18),P=y+(j^p&(O^j))+C[8]+1163531501&4294967295,y=O+(P<<20&4294967295|P>>>12),P=p+(O^j&(y^O))+C[13]+2850285829&4294967295,p=y+(P<<5&4294967295|P>>>27),P=j+(y^O&(p^y))+C[2]+4243563512&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^y&(j^p))+C[7]+1735328473&4294967295,O=j+(P<<14&4294967295|P>>>18),P=y+(j^p&(O^j))+C[12]+2368359562&4294967295,y=O+(P<<20&4294967295|P>>>12),P=p+(y^O^j)+C[5]+4294588738&4294967295,p=y+(P<<4&4294967295|P>>>28),P=j+(p^y^O)+C[8]+2272392833&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^y)+C[11]+1839030562&4294967295,O=j+(P<<16&4294967295|P>>>16),P=y+(O^j^p)+C[14]+4259657740&4294967295,y=O+(P<<23&4294967295|P>>>9),P=p+(y^O^j)+C[1]+2763975236&4294967295,p=y+(P<<4&4294967295|P>>>28),P=j+(p^y^O)+C[4]+1272893353&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^y)+C[7]+4139469664&4294967295,O=j+(P<<16&4294967295|P>>>16),P=y+(O^j^p)+C[10]+3200236656&4294967295,y=O+(P<<23&4294967295|P>>>9),P=p+(y^O^j)+C[13]+681279174&4294967295,p=y+(P<<4&4294967295|P>>>28),P=j+(p^y^O)+C[0]+3936430074&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^y)+C[3]+3572445317&4294967295,O=j+(P<<16&4294967295|P>>>16),P=y+(O^j^p)+C[6]+76029189&4294967295,y=O+(P<<23&4294967295|P>>>9),P=p+(y^O^j)+C[9]+3654602809&4294967295,p=y+(P<<4&4294967295|P>>>28),P=j+(p^y^O)+C[12]+3873151461&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^y)+C[15]+530742520&4294967295,O=j+(P<<16&4294967295|P>>>16),P=y+(O^j^p)+C[2]+3299628645&4294967295,y=O+(P<<23&4294967295|P>>>9),P=p+(O^(y|~j))+C[0]+4096336452&4294967295,p=y+(P<<6&4294967295|P>>>26),P=j+(y^(p|~O))+C[7]+1126891415&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~y))+C[14]+2878612391&4294967295,O=j+(P<<15&4294967295|P>>>17),P=y+(j^(O|~p))+C[5]+4237533241&4294967295,y=O+(P<<21&4294967295|P>>>11),P=p+(O^(y|~j))+C[12]+1700485571&4294967295,p=y+(P<<6&4294967295|P>>>26),P=j+(y^(p|~O))+C[3]+2399980690&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~y))+C[10]+4293915773&4294967295,O=j+(P<<15&4294967295|P>>>17),P=y+(j^(O|~p))+C[1]+2240044497&4294967295,y=O+(P<<21&4294967295|P>>>11),P=p+(O^(y|~j))+C[8]+1873313359&4294967295,p=y+(P<<6&4294967295|P>>>26),P=j+(y^(p|~O))+C[15]+4264355552&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~y))+C[6]+2734768916&4294967295,O=j+(P<<15&4294967295|P>>>17),P=y+(j^(O|~p))+C[13]+1309151649&4294967295,y=O+(P<<21&4294967295|P>>>11),P=p+(O^(y|~j))+C[4]+4149444226&4294967295,p=y+(P<<6&4294967295|P>>>26),P=j+(y^(p|~O))+C[11]+3174756917&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~y))+C[2]+718787259&4294967295,O=j+(P<<15&4294967295|P>>>17),P=y+(j^(O|~p))+C[9]+3951481745&4294967295,g.g[0]=g.g[0]+p&4294967295,g.g[1]=g.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,g.g[2]=g.g[2]+O&4294967295,g.g[3]=g.g[3]+j&4294967295}r.prototype.u=function(g,p){p===void 0&&(p=g.length);for(var y=p-this.blockSize,C=this.B,O=this.h,j=0;j<p;){if(O==0)for(;j<=y;)i(this,g,j),j+=this.blockSize;if(typeof g=="string"){for(;j<p;)if(C[O++]=g.charCodeAt(j++),O==this.blockSize){i(this,C),O=0;break}}else for(;j<p;)if(C[O++]=g[j++],O==this.blockSize){i(this,C),O=0;break}}this.h=O,this.o+=p},r.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var p=1;p<g.length-8;++p)g[p]=0;var y=8*this.o;for(p=g.length-8;p<g.length;++p)g[p]=y&255,y/=256;for(this.u(g),g=Array(16),p=y=0;4>p;++p)for(var C=0;32>C;C+=8)g[y++]=this.g[p]>>>C&255;return g};function s(g,p){var y=a;return Object.prototype.hasOwnProperty.call(y,g)?y[g]:y[g]=p(g)}function o(g,p){this.h=p;for(var y=[],C=!0,O=g.length-1;0<=O;O--){var j=g[O]|0;C&&j==p||(y[O]=j,C=!1)}this.g=y}var a={};function u(g){return-128<=g&&128>g?s(g,function(p){return new o([p|0],0>p?-1:0)}):new o([g|0],0>g?-1:0)}function c(g){if(isNaN(g)||!isFinite(g))return h;if(0>g)return I(c(-g));for(var p=[],y=1,C=0;g>=y;C++)p[C]=g/y|0,y*=4294967296;return new o(p,0)}function f(g,p){if(g.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(g.charAt(0)=="-")return I(f(g.substring(1),p));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=c(Math.pow(p,8)),C=h,O=0;O<g.length;O+=8){var j=Math.min(8,g.length-O),P=parseInt(g.substring(O,O+j),p);8>j?(j=c(Math.pow(p,j)),C=C.j(j).add(c(P))):(C=C.j(y),C=C.add(c(P)))}return C}var h=u(0),m=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-I(this).m();for(var g=0,p=1,y=0;y<this.g.length;y++){var C=this.i(y);g+=(0<=C?C:4294967296+C)*p,p*=4294967296}return g},t.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E(this))return"0";if(w(this))return"-"+I(this).toString(g);for(var p=c(Math.pow(g,6)),y=this,C="";;){var O=R(y,p).g;y=T(y,O.j(p));var j=((0<y.g.length?y.g[0]:y.h)>>>0).toString(g);if(y=O,E(y))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function E(g){if(g.h!=0)return!1;for(var p=0;p<g.g.length;p++)if(g.g[p]!=0)return!1;return!0}function w(g){return g.h==-1}t.l=function(g){return g=T(this,g),w(g)?-1:E(g)?0:1};function I(g){for(var p=g.g.length,y=[],C=0;C<p;C++)y[C]=~g.g[C];return new o(y,~g.h).add(m)}t.abs=function(){return w(this)?I(this):this},t.add=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0,O=0;O<=p;O++){var j=C+(this.i(O)&65535)+(g.i(O)&65535),P=(j>>>16)+(this.i(O)>>>16)+(g.i(O)>>>16);C=P>>>16,j&=65535,P&=65535,y[O]=P<<16|j}return new o(y,y[y.length-1]&-2147483648?-1:0)};function T(g,p){return g.add(I(p))}t.j=function(g){if(E(this)||E(g))return h;if(w(this))return w(g)?I(this).j(I(g)):I(I(this).j(g));if(w(g))return I(this.j(I(g)));if(0>this.l(S)&&0>g.l(S))return c(this.m()*g.m());for(var p=this.g.length+g.g.length,y=[],C=0;C<2*p;C++)y[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<g.g.length;O++){var j=this.i(C)>>>16,P=this.i(C)&65535,B=g.i(O)>>>16,F=g.i(O)&65535;y[2*C+2*O]+=P*F,v(y,2*C+2*O),y[2*C+2*O+1]+=j*F,v(y,2*C+2*O+1),y[2*C+2*O+1]+=P*B,v(y,2*C+2*O+1),y[2*C+2*O+2]+=j*B,v(y,2*C+2*O+2)}for(C=0;C<p;C++)y[C]=y[2*C+1]<<16|y[2*C];for(C=p;C<2*p;C++)y[C]=0;return new o(y,0)};function v(g,p){for(;(g[p]&65535)!=g[p];)g[p+1]+=g[p]>>>16,g[p]&=65535,p++}function _(g,p){this.g=g,this.h=p}function R(g,p){if(E(p))throw Error("division by zero");if(E(g))return new _(h,h);if(w(g))return p=R(I(g),p),new _(I(p.g),I(p.h));if(w(p))return p=R(g,I(p)),new _(I(p.g),p.h);if(30<g.g.length){if(w(g)||w(p))throw Error("slowDivide_ only works with positive integers.");for(var y=m,C=p;0>=C.l(g);)y=M(y),C=M(C);var O=N(y,1),j=N(C,1);for(C=N(C,2),y=N(y,2);!E(C);){var P=j.add(C);0>=P.l(g)&&(O=O.add(y),j=P),C=N(C,1),y=N(y,1)}return p=T(g,O.j(p)),new _(O,p)}for(O=h;0<=g.l(p);){for(y=Math.max(1,Math.floor(g.m()/p.m())),C=Math.ceil(Math.log(y)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=c(y),P=j.j(p);w(P)||0<P.l(g);)y-=C,j=c(y),P=j.j(p);E(j)&&(j=m),O=O.add(j),g=T(g,P)}return new _(O,g)}t.A=function(g){return R(this,g).h},t.and=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)&g.i(C);return new o(y,this.h&g.h)},t.or=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)|g.i(C);return new o(y,this.h|g.h)},t.xor=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)^g.i(C);return new o(y,this.h^g.h)};function M(g){for(var p=g.g.length+1,y=[],C=0;C<p;C++)y[C]=g.i(C)<<1|g.i(C-1)>>>31;return new o(y,g.h)}function N(g,p){var y=p>>5;p%=32;for(var C=g.g.length-y,O=[],j=0;j<C;j++)O[j]=0<p?g.i(j+y)>>>p|g.i(j+y+1)<<32-p:g.i(j+y);return new o(O,g.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,po=o}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PC,Xl,AC,$d,Sy,jC,OC,NC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,k){return d==Array.prototype||d==Object.prototype||(d[x]=k.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var x=0;x<d.length;++x){var k=d[x];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(d,x){if(x)e:{var k=r;d=d.split(".");for(var L=0;L<d.length-1;L++){var K=d[L];if(!(K in k))break e;k=k[K]}d=d[d.length-1],L=k[d],x=x(L),x!=L&&x!=null&&e(k,d,{configurable:!0,writable:!0,value:x})}}function s(d,x){d instanceof String&&(d+="");var k=0,L=!1,K={next:function(){if(!L&&k<d.length){var Y=k++;return{value:x(Y,d[Y]),done:!1}}return L=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return s(this,function(x,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function c(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function f(d,x,k){return d.call.apply(d.bind,arguments)}function h(d,x,k){if(!d)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,L),d.apply(x,K)}}return function(){return d.apply(x,arguments)}}function m(d,x,k){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function S(d,x){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function E(d,x){function k(){}k.prototype=x.prototype,d.aa=x.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(L,K,Y){for(var ce=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ce[Ct-2]=arguments[Ct];return x.prototype[K].apply(L,ce)}}function w(d){const x=d.length;if(0<x){const k=Array(x);for(let L=0;L<x;L++)k[L]=d[L];return k}return[]}function I(d,x){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(u(L)){const K=d.length||0,Y=L.length||0;d.length=K+Y;for(let ce=0;ce<Y;ce++)d[K+ce]=L[ce]}else d.push(L)}}class T{constructor(x,k){this.i=x,this.j=k,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function v(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var M=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(d,x,k){for(const L in d)x.call(k,d[L],L,d)}function g(d,x){for(const k in d)x.call(void 0,d[k],k,d)}function p(d){const x={};for(const k in d)x[k]=d[k];return x}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,x){let k,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(k in L)d[k]=L[k];for(let Y=0;Y<y.length;Y++)k=y[Y],Object.prototype.hasOwnProperty.call(L,k)&&(d[k]=L[k])}}function O(d){var x=1;d=d.split(":");const k=[];for(;0<x&&d.length;)k.push(d.shift()),x--;return d.length&&k.push(d.join(":")),k}function j(d){a.setTimeout(()=>{throw d},0)}function P(){var d=V;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class B{constructor(){this.h=this.g=null}add(x,k){const L=F.get();L.set(x,k),this.h?this.h.next=L:this.g=L,this.h=L}}var F=new T(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(x,k){this.h=x,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let z,D=!1,V=new B,W=()=>{const d=a.Promise.resolve(void 0);z=()=>{d.then(G)}};var G=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(k){j(k)}var x=F;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}D=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};a.addEventListener("test",k,x),a.removeEventListener("test",k,x)}catch{}return d}();function he(d,x){if(J.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(M){e:{try{R(x.nodeName);var K=!0;break e}catch{}K=!1}K||(x=null)}}else k=="mouseover"?x=d.fromElement:k=="mouseout"&&(x=d.toElement);this.relatedTarget=x,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ge[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&he.aa.h.call(this)}}E(he,J);var ge={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function H(d,x,k,L,K){this.listener=d,this.proxy=null,this.src=x,this.type=k,this.capture=!!L,this.ha=K,this.key=++ie,this.da=this.fa=!1}function le(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,x,k,L,K){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ce=fe(d,x,L,K);return-1<ce?(x=d[ce],k||(x.fa=!1)):(x=new H(x,this.src,Y,!!L,K),x.fa=k,d.push(x)),x};function ne(d,x){var k=x.type;if(k in d.g){var L=d.g[k],K=Array.prototype.indexOf.call(L,x,void 0),Y;(Y=0<=K)&&Array.prototype.splice.call(L,K,1),Y&&(le(x),d.g[k].length==0&&(delete d.g[k],d.h--))}}function fe(d,x,k,L){for(var K=0;K<d.length;++K){var Y=d[K];if(!Y.da&&Y.listener==x&&Y.capture==!!k&&Y.ha==L)return K}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),ve={};function _e(d,x,k,L,K){if(Array.isArray(x)){for(var Y=0;Y<x.length;Y++)_e(d,x[Y],k,L,K);return null}return k=pt(k),d&&d[q]?d.K(x,k,c(L)?!!L.capture:!1,K):Qe(d,x,k,!1,L,K)}function Qe(d,x,k,L,K,Y){if(!x)throw Error("Invalid event type");var ce=c(K)?!!K.capture:!!K,Ct=lt(d);if(Ct||(d[pe]=Ct=new Z(d)),k=Ct.add(x,k,L,ce,Y),k.proxy)return k;if(L=be(),k.proxy=L,L.src=d,L.listener=k,d.addEventListener)se||(K=ce),K===void 0&&(K=!1),d.addEventListener(x.toString(),L,K);else if(d.attachEvent)d.attachEvent(Ge(x.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function be(){function d(k){return x.call(d.src,d.listener,k)}const x=it;return d}function Ve(d,x,k,L,K){if(Array.isArray(x))for(var Y=0;Y<x.length;Y++)Ve(d,x[Y],k,L,K);else L=c(L)?!!L.capture:!!L,k=pt(k),d&&d[q]?(d=d.i,x=String(x).toString(),x in d.g&&(Y=d.g[x],k=fe(Y,k,L,K),-1<k&&(le(Y[k]),Array.prototype.splice.call(Y,k,1),Y.length==0&&(delete d.g[x],d.h--)))):d&&(d=lt(d))&&(x=d.g[x.toString()],d=-1,x&&(d=fe(x,k,L,K)),(k=-1<d?x[d]:null)&&ke(k))}function ke(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[q])ne(x.i,d);else{var k=d.type,L=d.proxy;x.removeEventListener?x.removeEventListener(k,L,d.capture):x.detachEvent?x.detachEvent(Ge(k),L):x.addListener&&x.removeListener&&x.removeListener(L),(k=lt(x))?(ne(k,d),k.h==0&&(k.src=null,x[pe]=null)):le(d)}}}function Ge(d){return d in ve?ve[d]:ve[d]="on"+d}function it(d,x){if(d.da)d=!0;else{x=new he(x,this);var k=d.listener,L=d.ha||d.src;d.fa&&ke(d),d=k.call(L,x)}return d}function lt(d){return d=d[pe],d instanceof Z?d:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(d){return typeof d=="function"?d:(d[Ne]||(d[Ne]=function(x){return d.handleEvent(x)}),d[Ne])}function Ie(){Q.call(this),this.i=new Z(this),this.M=this,this.F=null}E(Ie,Q),Ie.prototype[q]=!0,Ie.prototype.removeEventListener=function(d,x,k,L){Ve(this,d,x,k,L)};function Ue(d,x){var k,L=d.F;if(L)for(k=[];L;L=L.F)k.push(L);if(d=d.M,L=x.type||x,typeof x=="string")x=new J(x,d);else if(x instanceof J)x.target=x.target||d;else{var K=x;x=new J(L,d),C(x,K)}if(K=!0,k)for(var Y=k.length-1;0<=Y;Y--){var ce=x.g=k[Y];K=Me(ce,L,!0,x)&&K}if(ce=x.g=d,K=Me(ce,L,!0,x)&&K,K=Me(ce,L,!1,x)&&K,k)for(Y=0;Y<k.length;Y++)ce=x.g=k[Y],K=Me(ce,L,!1,x)&&K}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var k=d.g[x],L=0;L<k.length;L++)le(k[L]);delete d.g[x],d.h--}}this.F=null},Ie.prototype.K=function(d,x,k,L){return this.i.add(String(d),x,!1,k,L)},Ie.prototype.L=function(d,x,k,L){return this.i.add(String(d),x,!0,k,L)};function Me(d,x,k,L){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var K=!0,Y=0;Y<x.length;++Y){var ce=x[Y];if(ce&&!ce.da&&ce.capture==k){var Ct=ce.listener,Sn=ce.ha||ce.src;ce.fa&&ne(d.i,ce),K=Ct.call(Sn,L)!==!1&&K}}return K&&!L.defaultPrevented}function Te(d,x,k){if(typeof d=="function")k&&(d=m(d,k));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(d,x||0)}function yt(d){d.g=Te(()=>{d.g=null,d.i&&(d.i=!1,yt(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class kt extends Q{constructor(x,k){super(),this.m=x,this.l=k,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(d){Q.call(this),this.h=d,this.g={}}E(Ye,Q);var we=[];function tt(d){N(d.g,function(x,k){this.g.hasOwnProperty(k)&&ke(x)},d),d.g={}}Ye.prototype.N=function(){Ye.aa.N.call(this),tt(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=a.JSON.stringify,br=a.JSON.parse,ns=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Gs(){}Gs.prototype.h=null;function wr(d){return d.h||(d.h=d.i())}function ni(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){J.call(this,"d")}E(rs,J);function X(){J.call(this,"c")}E(X,J);var Le={},A=null;function te(){return A=A||new Ie}Le.La="serverreachability";function ue(d){J.call(this,Le.La,d)}E(ue,J);function $e(d){const x=te();Ue(x,new ue(x))}Le.STAT_EVENT="statevent";function st(d,x){J.call(this,Le.STAT_EVENT,d),this.stat=x}E(st,J);function nt(d){const x=te();Ue(x,new st(x,d))}Le.Ma="timingevent";function vt(d,x){J.call(this,Le.Ma,d),this.size=x}E(vt,J);function Re(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},x)}function ot(){this.g=!0}ot.prototype.xa=function(){this.g=!1};function Er(d,x,k,L,K,Y){d.info(function(){if(d.g)if(Y)for(var ce="",Ct=Y.split("&"),Sn=0;Sn<Ct.length;Sn++){var dt=Ct[Sn].split("=");if(1<dt.length){var jn=dt[0];dt=dt[1];var On=jn.split("_");ce=2<=On.length&&On[1]=="type"?ce+(jn+"="+dt+"&"):ce+(jn+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+x+`
`+k+`
`+ce})}function ri(d,x,k,L,K,Y,ce){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+x+`
`+k+`
`+Y+" "+ce})}function Hn(d,x,k,L){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Qt(d,k)+(L?" "+L:"")})}function en(d,x){d.info(function(){return"TIMEOUT: "+x})}ot.prototype.info=function(){};function Qt(d,x){if(!d.g)return x;if(!x)return null;try{var k=JSON.parse(x);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var L=k[d];if(!(2>L.length)){var K=L[1];if(Array.isArray(K)&&!(1>K.length)){var Y=K[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<K.length;ce++)K[ce]=""}}}}return He(k)}catch{return x}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$t;function Uo(){}E(Uo,Gs),Uo.prototype.g=function(){return new XMLHttpRequest},Uo.prototype.i=function(){return{}},$t=new Uo;function is(d,x,k,L){this.j=d,this.i=x,this.l=k,this.R=L||1,this.U=new Ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wx}function Wx(){this.i=null,this.g="",this.h=!1}var Hx={},Zp={};function em(d,x,k){d.L=1,d.v=Fc(Ci(x)),d.m=k,d.P=!0,qx(d,null)}function qx(d,x){d.F=Date.now(),Lc(d),d.A=Ci(d.v);var k=d.A,L=d.R;Array.isArray(L)||(L=[String(L)]),o_(k.i,"t",L),d.C=0,k=d.j.J,d.h=new Wx,d.g=E_(d.j,k?x:null,!d.m),0<d.O&&(d.M=new kt(m(d.Y,d,d.g),d.O)),x=d.U,k=d.g,L=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(we[0]=K.toString()),K=we);for(var Y=0;Y<K.length;Y++){var ce=_e(k,K[Y],L||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),$e(),Er(d.i,d.u,d.A,d.l,d.R,d.m)}is.prototype.ca=function(d){d=d.target;const x=this.M;x&&Ii(d)==3?x.j():this.Y(d)},is.prototype.Y=function(d){try{if(d==this.g)e:{const On=Ii(this.g);var x=this.g.Ba();const qo=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||h_(this.g)))){this.J||On!=4||x==7||(x==8||0>=qo?$e(3):$e(2)),tm(this);var k=this.g.Z();this.X=k;t:if(Kx(this)){var L=h_(this.g);d="";var K=L.length,Y=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),xl(this);var ce="";break t}this.h.i=new a.TextDecoder}for(x=0;x<K;x++)this.h.h=!0,d+=this.h.i.decode(L[x],{stream:!(Y&&x==K-1)});L.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=k==200,ri(this.i,this.u,this.A,this.l,this.R,On,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,Sn=this.g;if((Ct=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ct)){var dt=Ct;break t}}dt=null}if(k=dt)Hn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nm(this,k);else{this.o=!1,this.s=3,nt(12),Qs(this),xl(this);break e}}if(this.P){k=!0;let Ur;for(;!this.J&&this.C<ce.length;)if(Ur=HP(this,ce),Ur==Zp){On==4&&(this.s=4,nt(14),k=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==Hx){this.s=4,nt(15),Hn(this.i,this.l,ce,"[Invalid Chunk]"),k=!1;break}else Hn(this.i,this.l,Ur,null),nm(this,Ur);if(Kx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||ce.length!=0||this.h.h||(this.s=1,nt(16),k=!1),this.o=this.o&&k,!k)Hn(this.i,this.l,ce,"[Invalid Chunked Response]"),Qs(this),xl(this);else if(0<ce.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),lm(jn),jn.M=!0,nt(11))}}else Hn(this.i,this.l,ce,null),nm(this,ce);On==4&&Qs(this),this.o&&!this.J&&(On==4?__(this.j,this):(this.o=!1,Lc(this)))}else lA(this.g),k==400&&0<ce.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Qs(this),xl(this)}}}catch{}finally{}};function Kx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function HP(d,x){var k=d.C,L=x.indexOf(`
`,k);return L==-1?Zp:(k=Number(x.substring(k,L)),isNaN(k)?Hx:(L+=1,L+k>x.length?Zp:(x=x.slice(L,L+k),d.C=L+k,x)))}is.prototype.cancel=function(){this.J=!0,Qs(this)};function Lc(d){d.S=Date.now()+d.I,Gx(d,d.I)}function Gx(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Re(m(d.ba,d),x)}function tm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}is.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(en(this.i,this.A),this.L!=2&&($e(),nt(17)),Qs(this),this.s=2,xl(this)):Gx(this,this.S-d)};function xl(d){d.j.G==0||d.J||__(d.j,d)}function Qs(d){tm(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,tt(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function nm(d,x){try{var k=d.j;if(k.G!=0&&(k.g==d||rm(k.h,d))){if(!d.K&&rm(k.h,d)&&k.G==3){try{var L=k.Da.g.parse(x)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)Hc(k),Uc(k);else break e;am(k),nt(18)}}else k.za=K[1],0<k.za-k.T&&37500>K[2]&&k.F&&k.v==0&&!k.C&&(k.C=Re(m(k.Za,k),6e3));if(1>=Xx(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Xs(k,11)}else if((d.K||k.g==d)&&Hc(k),!v(x))for(K=k.Da.g.parse(x),x=0;x<K.length;x++){let dt=K[x];if(k.T=dt[0],dt=dt[1],k.G==2)if(dt[0]=="c"){k.K=dt[1],k.ia=dt[2];const jn=dt[3];jn!=null&&(k.la=jn,k.j.info("VER="+k.la));const On=dt[4];On!=null&&(k.Aa=On,k.j.info("SVER="+k.Aa));const qo=dt[5];qo!=null&&typeof qo=="number"&&0<qo&&(L=1.5*qo,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const Ur=d.g;if(Ur){const Kc=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var Y=L.h;Y.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(im(Y,Y.h),Y.h=null))}if(L.D){const um=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;um&&(L.ya=um,At(L.I,L.D,um))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var ce=d;if(L.qa=S_(L,L.J?L.ia:null,L.W),ce.K){Jx(L.h,ce);var Ct=ce,Sn=L.L;Sn&&(Ct.I=Sn),Ct.B&&(tm(Ct),Lc(Ct)),L.g=ce}else v_(L);0<k.i.length&&Wc(k)}else dt[0]!="stop"&&dt[0]!="close"||Xs(k,7);else k.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Xs(k,7):om(k):dt[0]!="noop"&&k.l&&k.l.ta(dt),k.v=0)}}$e(4)}catch{}}var qP=class{constructor(d,x){this.g=d,this.map=x}};function Qx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xx(d){return d.h?1:d.g?d.g.size:0}function rm(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function im(d,x){d.g?d.g.add(x):d.h=x}function Jx(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Qx.prototype.cancel=function(){if(this.i=Zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Zx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const k of d.g.values())x=x.concat(k.D);return x}return w(d.i)}function KP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var x=[],k=d.length,L=0;L<k;L++)x.push(d[L]);return x}x=[],k=0;for(L in d)x[k++]=d[L];return x}function GP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var x=[];d=d.length;for(var k=0;k<d;k++)x.push(k);return x}x=[],k=0;for(const L in d)x[k++]=L;return x}}}function e_(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var k=GP(d),L=KP(d),K=L.length,Y=0;Y<K;Y++)x.call(void 0,L[Y],k&&k[Y],d)}var t_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QP(d,x){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var L=d[k].indexOf("="),K=null;if(0<=L){var Y=d[k].substring(0,L);K=d[k].substring(L+1)}else Y=d[k];x(Y,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ys(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ys){this.h=d.h,Dc(this,d.j),this.o=d.o,this.g=d.g,$c(this,d.s),this.l=d.l;var x=d.i,k=new wl;k.i=x.i,x.g&&(k.g=new Map(x.g),k.h=x.h),n_(this,k),this.m=d.m}else d&&(x=String(d).match(t_))?(this.h=!1,Dc(this,x[1]||"",!0),this.o=_l(x[2]||""),this.g=_l(x[3]||"",!0),$c(this,x[4]),this.l=_l(x[5]||"",!0),n_(this,x[6]||"",!0),this.m=_l(x[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}Ys.prototype.toString=function(){var d=[],x=this.j;x&&d.push(bl(x,r_,!0),":");var k=this.g;return(k||x=="file")&&(d.push("//"),(x=this.o)&&d.push(bl(x,r_,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(bl(k,k.charAt(0)=="/"?JP:XP,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",bl(k,eA)),d.join("")};function Ci(d){return new Ys(d)}function Dc(d,x,k){d.j=k?_l(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function $c(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function n_(d,x,k){x instanceof wl?(d.i=x,tA(d.i,d.h)):(k||(x=bl(x,ZP)),d.i=new wl(x,d.h))}function At(d,x,k){d.i.set(x,k)}function Fc(d){return At(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function _l(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bl(d,x,k){return typeof d=="string"?(d=encodeURI(d).replace(x,YP),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function YP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var r_=/[#\/\?@]/g,XP=/[#\?:]/g,JP=/[#\?]/g,ZP=/[#\?@]/g,eA=/#/g;function wl(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function ss(d){d.g||(d.g=new Map,d.h=0,d.i&&QP(d.i,function(x,k){d.add(decodeURIComponent(x.replace(/\+/g," ")),k)}))}t=wl.prototype,t.add=function(d,x){ss(this),this.i=null,d=Wo(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(x),this.h+=1,this};function i_(d,x){ss(d),x=Wo(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function s_(d,x){return ss(d),x=Wo(d,x),d.g.has(x)}t.forEach=function(d,x){ss(this),this.g.forEach(function(k,L){k.forEach(function(K){d.call(x,K,L,this)},this)},this)},t.na=function(){ss(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),k=[];for(let L=0;L<x.length;L++){const K=d[L];for(let Y=0;Y<K.length;Y++)k.push(x[L])}return k},t.V=function(d){ss(this);let x=[];if(typeof d=="string")s_(this,d)&&(x=x.concat(this.g.get(Wo(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)x=x.concat(d[k])}return x},t.set=function(d,x){return ss(this),this.i=null,d=Wo(this,d),s_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function o_(d,x,k){i_(d,x),0<k.length&&(d.i=null,d.g.set(Wo(d,x),w(k)),d.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var k=0;k<x.length;k++){var L=x[k];const Y=encodeURIComponent(String(L)),ce=this.V(L);for(L=0;L<ce.length;L++){var K=Y;ce[L]!==""&&(K+="="+encodeURIComponent(String(ce[L]))),d.push(K)}}return this.i=d.join("&")};function Wo(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function tA(d,x){x&&!d.j&&(ss(d),d.i=null,d.g.forEach(function(k,L){var K=L.toLowerCase();L!=K&&(i_(this,L),o_(this,K,k))},d)),d.j=x}function nA(d,x){const k=new ot;if(a.Image){const L=new Image;L.onload=S(os,k,"TestLoadImage: loaded",!0,x,L),L.onerror=S(os,k,"TestLoadImage: error",!1,x,L),L.onabort=S(os,k,"TestLoadImage: abort",!1,x,L),L.ontimeout=S(os,k,"TestLoadImage: timeout",!1,x,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else x(!1)}function rA(d,x){const k=new ot,L=new AbortController,K=setTimeout(()=>{L.abort(),os(k,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:L.signal}).then(Y=>{clearTimeout(K),Y.ok?os(k,"TestPingServer: ok",!0,x):os(k,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),os(k,"TestPingServer: error",!1,x)})}function os(d,x,k,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(k)}catch{}}function iA(){this.g=new ns}function sA(d,x,k){const L=k||"";try{e_(d,function(K,Y){let ce=K;c(K)&&(ce=He(K)),x.push(L+Y+"="+encodeURIComponent(ce))})}catch(K){throw x.push(L+"type="+encodeURIComponent("_badmap")),K}}function Vc(d){this.l=d.Ub||null,this.j=d.eb||!1}E(Vc,Gs),Vc.prototype.g=function(){return new zc(this.l,this.j)},Vc.prototype.i=function(d){return function(){return d}}({});function zc(d,x){Ie.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(zc,Ie),t=zc.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,El(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function a_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Sl(this):El(this),this.readyState==3&&a_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Sl(this))},t.Qa=function(d){this.g&&(this.response=d,Sl(this))},t.ga=function(){this.g&&Sl(this)};function Sl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,El(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var k=x.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=x.next();return d.join(`\r
`)};function El(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function l_(d){let x="";return N(d,function(k,L){x+=L,x+=":",x+=k,x+=`\r
`}),x}function sm(d,x,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=l_(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):At(d,x,k))}function Wt(d){Ie.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Wt,Ie);var oA=/^https?$/i,aA=["POST","PUT"];t=Wt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$t.g(),this.v=this.o?wr(this.o):wr($t),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(Y){u_(this,Y);return}if(d=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)k.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Y of L.keys())k.set(Y,L.get(Y));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(Y=>Y.toLowerCase()=="content-type"),K=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aA,x,void 0))||L||K||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of k)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f_(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){u_(this,Y)}};function u_(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,c_(d),Bc(d)}function c_(d){d.A||(d.A=!0,Ue(d,"complete"),Ue(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ue(this,"complete"),Ue(this,"abort"),Bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bc(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d_(this):this.bb())},t.bb=function(){d_(this)};function d_(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ii(d)!=4||d.Z()!=2)){if(d.u&&Ii(d)==4)Te(d.Ea,0,d);else if(Ue(d,"readystatechange"),Ii(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var k;if(!(k=x)){var L;if(L=ce===0){var K=String(d.D).match(t_)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),L=!oA.test(K?K.toLowerCase():"")}k=L}if(k)Ue(d,"complete"),Ue(d,"success");else{d.m=6;try{var Y=2<Ii(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",c_(d)}}finally{Bc(d)}}}}function Bc(d,x){if(d.g){f_(d);const k=d.g,L=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||Ue(d,"ready");try{k.onreadystatechange=L}catch{}}}function f_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ii(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),br(x)}};function h_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function lA(d){const x={};d=(d.g&&2<=Ii(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(v(d[L]))continue;var k=O(d[L]);const K=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Y=x[K]||[];x[K]=Y,Y.push(k)}g(x,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tl(d,x,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||x}function p_(d){this.Aa=0,this.i=[],this.j=new ot,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tl("baseRetryDelayMs",5e3,d),this.cb=Tl("retryDelaySeedMs",1e4,d),this.Wa=Tl("forwardChannelMaxRetries",2,d),this.wa=Tl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Qx(d&&d.concurrentRequestLimit),this.Da=new iA,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p_.prototype,t.la=8,t.G=1,t.connect=function(d,x,k,L){nt(0),this.W=d,this.H=x||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=S_(this,null,this.W),Wc(this)};function om(d){if(m_(d),d.G==3){var x=d.U++,k=Ci(d.I);if(At(k,"SID",d.K),At(k,"RID",x),At(k,"TYPE","terminate"),Cl(d,k),x=new is(d,d.j,x),x.L=2,x.v=Fc(Ci(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=x.v,k=!0),k||(x.g=E_(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Lc(x)}w_(d)}function Uc(d){d.g&&(lm(d),d.g.cancel(),d.g=null)}function m_(d){Uc(d),d.u&&(a.clearTimeout(d.u),d.u=null),Hc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Wc(d){if(!Yx(d.h)&&!d.s){d.s=!0;var x=d.Ga;z||W(),D||(z(),D=!0),V.add(x,d),d.B=0}}function uA(d,x){return Xx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Re(m(d.Ga,d,x),b_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new is(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=p(Y),C(Y,this.S)):Y=this.S),this.m!==null||this.O||(K.H=Y,Y=null),this.P)e:{for(var x=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(x+=L,4096<x){x=k;break e}if(x===4096||k===this.i.length-1){x=k+1;break e}}x=1e3}else x=1e3;x=y_(this,K,x),k=Ci(this.I),At(k,"RID",d),At(k,"CVER",22),this.D&&At(k,"X-HTTP-Session-Id",this.D),Cl(this,k),Y&&(this.O?x="headers="+encodeURIComponent(String(l_(Y)))+"&"+x:this.m&&sm(k,this.m,Y)),im(this.h,K),this.Ua&&At(k,"TYPE","init"),this.P?(At(k,"$req",x),At(k,"SID","null"),K.T=!0,em(K,k,null)):em(K,k,x),this.G=2}}else this.G==3&&(d?g_(this,d):this.i.length==0||Yx(this.h)||g_(this))};function g_(d,x){var k;x?k=x.l:k=d.U++;const L=Ci(d.I);At(L,"SID",d.K),At(L,"RID",k),At(L,"AID",d.T),Cl(d,L),d.m&&d.o&&sm(L,d.m,d.o),k=new is(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),x&&(d.i=x.D.concat(d.i)),x=y_(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),im(d.h,k),em(k,L,x)}function Cl(d,x){d.H&&N(d.H,function(k,L){At(x,L,k)}),d.l&&e_({},function(k,L){At(x,L,k)})}function y_(d,x,k){k=Math.min(d.i.length,k);var L=d.l?m(d.l.Na,d.l,d):null;e:{var K=d.i;let Y=-1;for(;;){const ce=["count="+k];Y==-1?0<k?(Y=K[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let Ct=!0;for(let Sn=0;Sn<k;Sn++){let dt=K[Sn].g;const jn=K[Sn].map;if(dt-=Y,0>dt)Y=Math.max(0,K[Sn].g-100),Ct=!1;else try{sA(jn,ce,"req"+dt+"_")}catch{L&&L(jn)}}if(Ct){L=ce.join("&");break e}}}return d=d.i.splice(0,k),x.D=d,L}function v_(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;z||W(),D||(z(),D=!0),V.add(x,d),d.v=0}}function am(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Re(m(d.Fa,d),b_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,x_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Re(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Uc(this),x_(this))};function lm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function x_(d){d.g=new is(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Ci(d.qa);At(x,"RID","rpc"),At(x,"SID",d.K),At(x,"AID",d.T),At(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&At(x,"TO",d.ja),At(x,"TYPE","xmlhttp"),Cl(d,x),d.m&&d.o&&sm(x,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=Fc(Ci(x)),k.m=null,k.P=!0,qx(k,d)}t.Za=function(){this.C!=null&&(this.C=null,Uc(this),am(this),nt(19))};function Hc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function __(d,x){var k=null;if(d.g==x){Hc(d),lm(d),d.g=null;var L=2}else if(rm(d.h,x))k=x.D,Jx(d.h,x),L=1;else return;if(d.G!=0){if(x.o)if(L==1){k=x.m?x.m.length:0,x=Date.now()-x.F;var K=d.B;L=te(),Ue(L,new vt(L,k)),Wc(d)}else v_(d);else if(K=x.s,K==3||K==0&&0<x.X||!(L==1&&uA(d,x)||L==2&&am(d)))switch(k&&0<k.length&&(x=d.h,x.i=x.i.concat(k)),K){case 1:Xs(d,5);break;case 4:Xs(d,10);break;case 3:Xs(d,6);break;default:Xs(d,2)}}}function b_(d,x){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*x}function Xs(d,x){if(d.j.info("Error code "+x),x==2){var k=m(d.fb,d),L=d.Xa;const K=!L;L=new Ys(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dc(L,"https"),Fc(L),K?nA(L.toString(),k):rA(L.toString(),k)}else nt(2);d.G=0,d.l&&d.l.sa(x),w_(d),m_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function w_(d){if(d.G=0,d.ka=[],d.l){const x=Zx(d.h);(x.length!=0||d.i.length!=0)&&(I(d.ka,x),I(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function S_(d,x,k){var L=k instanceof Ys?Ci(k):new Ys(k);if(L.g!="")x&&(L.g=x+"."+L.g),$c(L,L.s);else{var K=a.location;L=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;var Y=new Ys(null);L&&Dc(Y,L),x&&(Y.g=x),K&&$c(Y,K),k&&(Y.l=k),L=Y}return k=d.D,x=d.ya,k&&x&&At(L,k,x),At(L,"VER",d.la),Cl(d,L),L}function E_(d,x,k){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new Wt(new Vc({eb:k})):new Wt(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T_(){}t=T_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qc(){}qc.prototype.g=function(d,x){return new lr(d,x)};function lr(d,x){Ie.call(this),this.g=new p_(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!v(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!v(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Ho(this)}E(lr,Ie),lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){om(this.g)},lr.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=He(d),d=k);x.i.push(new qP(x.Ya++,d)),x.G==3&&Wc(x)},lr.prototype.N=function(){this.g.l=null,delete this.j,om(this.g),delete this.g,lr.aa.N.call(this)};function C_(d){rs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const k in x){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}E(C_,rs);function I_(){X.call(this),this.status=1}E(I_,X);function Ho(d){this.g=d}E(Ho,T_),Ho.prototype.ua=function(){Ue(this.g,"a")},Ho.prototype.ta=function(d){Ue(this.g,new C_(d))},Ho.prototype.sa=function(d){Ue(this.g,new I_)},Ho.prototype.ra=function(){Ue(this.g,"b")},qc.prototype.createWebChannel=qc.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,NC=function(){return new qc},OC=function(){return te()},jC=Le,Sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,$d=Ti,je.COMPLETE="complete",AC=je,ni.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Xl=ni,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,PC=Wt}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const rw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new d0("@firebase/firestore");function Ml(){return So.logLevel}function Ce(t,...e){if(So.logLevel<=at.DEBUG){const n=e.map(p0);So.debug(`Firestore (${ul}): ${t}`,...n)}}function Yi(t,...e){if(So.logLevel<=at.ERROR){const n=e.map(p0);So.error(`Firestore (${ul}): ${t}`,...n)}}function Eo(t,...e){if(So.logLevel<=at.WARN){const n=e.map(p0);So.warn(`Firestore (${ul}): ${t}`,...n)}}function p0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+t;throw Yi(e),new Error(e)}function St(t,e){t||We()}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($n.UNAUTHENTICATED))}shutdown(){}}class XM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JM{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new MC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new $n(e)}}class ZM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){St(this.o===void 0);const r=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new tL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function Ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qe(e)}static min(){return new qe(new dn(0,0))}static max(){return new qe(new dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(),r===void 0?r=e.length-n:r>e.length-n&&We(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends zu{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const iL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends zu{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return iL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Ot.fromString(e))}static fromName(e){return new Ae(Ot.fromString(e).popFirst(5))}static empty(){return new Ae(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Ot(e.slice()))}}function sL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new Ms(i,Ae.empty(),e)}function oL(t){return new Ms(t.readTime,t.key,-1)}class Ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ms(qe.min(),Ae.empty(),-1)}static max(){return new Ms(qe.max(),Ae.empty(),-1)}}function aL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==lL)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function cL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}g0.oe=-1;function Fh(t){return t==null}function jf(t){return t===0&&1/t==-1/0}function dL(t){return typeof t=="number"&&Number.isInteger(t)&&!jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Cn.RED,this.left=i??Cn.EMPTY,this.right=s??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Cn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rn(this.comparator);return n.data=e,n}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new fr([])}unionWith(e){let n=new Rn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $C("Invalid base64 string: "+s):s}}(e);return new bn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const fL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(St(!!t),typeof t=="string"){let e=0;const n=fL.exec(t);if(St(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v0(t){const e=t.mapValue.fields.__previous_value__;return y0(e)?v0(e):e}function Bu(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Wa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd={mapValue:{}};function Co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y0(t)?4:mL(t)?9007199254740991:pL(t)?10:11:We()}function vi(t,e){if(t===e)return!0;const n=Co(t);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ls(i.timestampValue),a=Ls(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return To(i.bytesValue).isEqual(To(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?jf(o)===jf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(iw(o)!==iw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!vi(o[u],a[u])))return!1;return!0}(t,e);default:return We()}}function Uu(t,e){return(t.values||[]).find(n=>vi(n,e))!==void 0}function Ha(t,e){if(t===e)return 0;const n=Co(t),r=Co(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),u=Yt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return ow(t.timestampValue,e.timestampValue);case 4:return ow(Bu(t),Bu(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(s,o){const a=To(s),u=To(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=ft(a[c],u[c]);if(f!==0)return f}return ft(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ft(Yt(s.latitude),Yt(o.latitude));return a!==0?a:ft(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,f;const h=s.fields||{},m=o.fields||{},S=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(u=m.value)===null||u===void 0?void 0:u.arrayValue,w=ft(((c=S==null?void 0:S.values)===null||c===void 0?void 0:c.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:aw(S,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===pd.mapValue&&o===pd.mapValue)return 0;if(s===pd.mapValue)return 1;if(o===pd.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const m=ft(u[h],f[h]);if(m!==0)return m;const S=Ha(a[u[h]],c[f[h]]);if(S!==0)return S}return ft(u.length,f.length)}(t.mapValue,e.mapValue);default:throw We()}}function ow(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=Ls(t),r=Ls(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function aw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ha(n[i],r[i]);if(s)return s}return ft(n.length,r.length)}function qa(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return To(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ey(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ey(n.fields[o])}`;return i+"}"}(t.mapValue):We()}function lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ty(t){return!!t&&"integerValue"in t}function x0(t){return!!t&&"arrayValue"in t}function uw(t){return!!t&&"nullValue"in t}function cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function pL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=du(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(du(this.value))}}function FC(t){const e=[];return Fo(t.fields,(n,r)=>{const i=new xn([n]);if(Fd(r)){const s=FC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vn(e,0,qe.min(),qe.min(),qe.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Vn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new Vn(e,2,n,qe.min(),qe.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,qe.min(),qe.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.position=e,this.inclusive=n}}function dw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(o.referenceValue),n.key):r=Ha(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function gL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{}class an extends VC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vL(e,n,r):n==="array-contains"?new bL(e,r):n==="in"?new wL(e,r):n==="not-in"?new SL(e,r):n==="array-contains-any"?new EL(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xL(e,r):new _L(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ha(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends VC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zr(e,n)}matches(e){return zC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zC(t){return t.op==="and"}function BC(t){return yL(t)&&zC(t)}function yL(t){for(const e of t.filters)if(e instanceof Zr)return!1;return!0}function Cy(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+qa(t.value);if(BC(t))return t.filters.map(e=>Cy(e)).join(",");{const e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function UC(t,e){return t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.field.isEqual(i.field)&&vi(r.value,i.value)}(t,e):t instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&UC(o,i.filters[a]),!0):!1}(t,e):void We()}function WC(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(t):t instanceof Zr?function(n){return n.op.toString()+" {"+n.getFilters().map(WC).join(" ,")+"}"}(t):"Filter"}class vL extends an{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class xL extends an{constructor(e,n){super(e,"in",n),this.keys=HC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _L extends an{constructor(e,n){super(e,"not-in",n),this.keys=HC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class bL extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x0(n)&&Uu(n.arrayValue,this.value)}}class wL extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class SL extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uu(this.value.arrayValue,n)}}class EL extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function hw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new TL(t,e,n,r,i,s,o)}function _0(t){const e=Ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qa(r)).join(",")),e.ue=n}return e.ue}function b0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fw(t.startAt,e.startAt)&&fw(t.endAt,e.endAt)}function Iy(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CL(t,e,n,r,i,s,o,a){return new hc(t,e,n,r,i,s,o,a)}function Vh(t){return new hc(t)}function pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qC(t){return t.collectionGroup!==null}function fu(t){const e=Ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rn(xn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Nf(s,r))}),n.has(xn.keyField().canonicalString())||e.ce.push(new Nf(xn.keyField(),r))}return e.ce}function hi(t){const e=Ke(t);return e.le||(e.le=IL(e,fu(t))),e.le}function IL(t,e){if(t.limitType==="F")return hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nf(i.field,s)});const n=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;return hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ky(t,e){const n=t.filters.concat([e]);return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ry(t,e,n){return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zh(t,e){return b0(hi(t),hi(e))&&t.limitType===e.limitType}function KC(t){return`${_0(hi(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WC(i)).join(", ")}]`),Fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qa(i)).join(",")),`Target(${r})`}(hi(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=dw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,fu(r),i)||r.endAt&&!function(o,a,u){const c=dw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,fu(r),i))}(t,e)}function kL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GC(t){return(e,n)=>{let r=!1;for(const i of fu(t)){const s=RL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RL(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Ha(u,c):We()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new Ut(Ae.comparator);function Xi(){return PL}const QC=new Ut(Ae.comparator);function Jl(...t){let e=QC;for(const n of t)e=e.insert(n.key,n);return e}function YC(t){let e=QC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return hu()}function XC(){return hu()}function hu(){return new cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const AL=new Ut(Ae.comparator),jL=new Rn(Ae.comparator);function rt(...t){let e=jL;for(const n of t)e=e.add(n);return e}const OL=new Rn(ft);function NL(){return OL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function JC(t){return{integerValue:""+t}}function ML(t,e){return dL(e)?JC(e):w0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function LL(t,e,n){return t instanceof Mf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&y0(s)&&(s=v0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wu?eI(t,e):t instanceof Hu?tI(t,e):function(i,s){const o=ZC(i,s),a=mw(o)+mw(i.Pe);return Ty(o)&&Ty(i.Pe)?JC(a):w0(i.serializer,a)}(t,e)}function DL(t,e,n){return t instanceof Wu?eI(t,e):t instanceof Hu?tI(t,e):n}function ZC(t,e){return t instanceof Lf?function(r){return Ty(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Mf extends Uh{}class Wu extends Uh{constructor(e){super(),this.elements=e}}function eI(t,e){const n=nI(e);for(const r of t.elements)n.some(i=>vi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hu extends Uh{constructor(e){super(),this.elements=e}}function tI(t,e){let n=nI(e);for(const r of t.elements)n=n.filter(i=>!vi(i,r));return{arrayValue:{values:n}}}class Lf extends Uh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function mw(t){return Yt(t.integerValue||t.doubleValue)}function nI(t){return x0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $L(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wu&&i instanceof Wu||r instanceof Hu&&i instanceof Hu?Ua(r.elements,i.elements,vi):r instanceof Lf&&i instanceof Lf?vi(r.Pe,i.Pe):r instanceof Mf&&i instanceof Mf}(t.transform,e.transform)}class FL{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wh{}function rI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S0(t.key,Or.none()):new pc(t.key,t.data,Or.none());{const n=t.data,r=tr.empty();let i=new Rn(xn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ws(t.key,r,new fr(i.toArray()),Or.none())}}function VL(t,e,n){t instanceof pc?function(i,s,o){const a=i.value.clone(),u=yw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(i,s,o){if(!Vd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(iI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pu(t,e,n,r){return t instanceof pc?function(s,o,a,u){if(!Vd(s.precondition,o))return a;const c=s.value.clone(),f=vw(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(s,o,a,u){if(!Vd(s.precondition,o))return a;const c=vw(s.fieldTransforms,u,o),f=o.data;return f.setAll(iI(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Vd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZC(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ua(r,i,(s,o)=>$L(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends Wh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends Wh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yw(t,e,n){const r=new Map;St(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DL(o,a,n[i]))}return r}function vw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LL(s,o,e))}return r}class S0 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BL extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=rI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,r)=>gw(n,r))&&Ua(this.baseMutations,e.baseMutations,(n,r)=>gw(n,r))}}class E0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length);let i=function(){return AL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new E0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,ut;function qL(t){switch(t){default:return We();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function sI(t){if(t===void 0)return Yi("GRPC error has no .code"),re.UNKNOWN;switch(t){case nn.OK:return re.OK;case nn.CANCELLED:return re.CANCELLED;case nn.UNKNOWN:return re.UNKNOWN;case nn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case nn.INTERNAL:return re.INTERNAL;case nn.UNAVAILABLE:return re.UNAVAILABLE;case nn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case nn.NOT_FOUND:return re.NOT_FOUND;case nn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case nn.ABORTED:return re.ABORTED;case nn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case nn.DATA_LOSS:return re.DATA_LOSS;default:return We()}}(ut=nn||(nn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new po([4294967295,4294967295],0);function xw(t){const e=KL().encode(t),n=new RC;return n.update(e),new Uint8Array(n.digest())}function _w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new po([n,r],0),new po([i,s],0)]}class T0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=po.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(GL)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xw(e),[r,i]=_w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new T0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=xw(e),[r,i]=_w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(qe.min(),i,new Ut(ft),Xi(),rt())}}class mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class oI{constructor(e,n){this.targetId=e,this.me=n}}class aI{constructor(e,n,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bw{constructor(){this.fe=0,this.ge=Sw(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),n=rt(),r=rt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We()}}),new mc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Sw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xi(),this.qe=ww(),this.Qe=new Ut(ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:We()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Iy(s))if(r===0){const o=new Ae(s.path);this.Ue(n,o,Vn.newNoDocument(o,qe.min()))}else St(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=To(r).toUint8Array()}catch(u){if(u instanceof $C)return Eo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new T0(o,i,s)}catch(u){return Eo(u instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Iy(a.target)){const u=new Ae(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Vn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=rt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Hh(e,n,this.Qe,this.ke,r);return this.ke=Xi(),this.qe=ww(),this.Qe=new Ut(ft),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new bw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rn(ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ww(){return new Ut(Ae.comparator)}function Sw(){return new Ut(Ae.comparator)}const YL={asc:"ASCENDING",desc:"DESCENDING"},XL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JL={and:"AND",or:"OR"};class ZL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Py(t,e){return t.useProto3Json||Fh(e)?e:{value:e}}function Df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eD(t,e){return Df(t,e.toTimestamp())}function pi(t){return St(!!t),qe.fromTimestamp(function(n){const r=Ls(n);return new dn(r.seconds,r.nanos)}(t))}function C0(t,e){return Ay(t,e).canonicalString()}function Ay(t,e){const n=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uI(t){const e=Ot.fromString(t);return St(pI(e)),e}function jy(t,e){return C0(t.databaseId,e.path)}function Bm(t,e){const n=uI(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(dI(n))}function cI(t,e){return C0(t.databaseId,e)}function tD(t){const e=uI(t);return e.length===4?Ot.emptyPath():dI(e)}function Oy(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dI(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ew(t,e,n){return{name:jy(t,e),fields:n.value.mapValue.fields}}function nD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(St(f===void 0||typeof f=="string"),bn.fromBase64String(f||"")):(St(f===void 0||f instanceof Buffer||f instanceof Uint8Array),bn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?re.UNKNOWN:sI(c.code);return new ye(f,c.message||"")}(o);n=new aI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bm(t,r.document.name),s=pi(r.document.updateTime),o=r.document.createTime?pi(r.document.createTime):qe.min(),a=new tr({mapValue:{fields:r.document.fields}}),u=Vn.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new zd(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bm(t,r.document),s=r.readTime?pi(r.readTime):qe.min(),o=Vn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bm(t,r.document),s=r.removedTargetIds||[];n=new zd([],s,i,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new HL(i,s),a=r.targetId;n=new oI(a,o)}}return n}function rD(t,e){let n;if(e instanceof pc)n={update:Ew(t,e.key,e.value)};else if(e instanceof S0)n={delete:jy(t,e.key)};else if(e instanceof Ws)n={update:Ew(t,e.key,e.data),updateMask:fD(e.fieldMask)};else{if(!(e instanceof BL))return We();n={verify:jy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Mf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw We()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:We()}(t,e.precondition)),n}function iD(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?pi(i.updateTime):pi(s);return o.isEqual(qe.min())&&(o=pi(s)),new FL(o,i.transformResults||[])}(n,e))):[]}function sD(t,e){return{documents:[cI(t,e.path)]}}function oD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cI(t,i);const s=function(c){if(c.length!==0)return hI(Zr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:na(m.field),direction:uD(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Py(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function aD(t){let e=tD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=fI(h);return m instanceof Zr&&BC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(E){return new Nf(ra(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Fh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(h){const m=!!h.before,S=h.values||[];return new Of(S,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,S=h.values||[];return new Of(S,m)}(n.endAt)),CL(e,i,o,s,a,"F",u,c)}function lD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ra(n.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ra(n.unaryFilter.field);return an.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ra(n.unaryFilter.field);return an.create(o,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(n){return an.create(ra(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zr.create(n.compositeFilter.filters.map(r=>fI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We()}}(n.compositeFilter.op))}(t):We()}function uD(t){return YL[t]}function cD(t){return XL[t]}function dD(t){return JL[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return xn.fromServerFormat(t.fieldPath)}function hI(t){return t instanceof an?function(n){if(n.op==="=="){if(cw(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(uw(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cw(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(uw(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:cD(n.op),value:n.value}}}(t):t instanceof Zr?function(n){const r=n.getFilters().map(i=>hI(i));return r.length===1?r[0]:{compositeFilter:{op:dD(n.op),filters:r}}}(t):We()}function fD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r,i,s=qe.min(),o=qe.min(),a=bn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.ct=e}}function pD(t){const e=aD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.un=new gD}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ms.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class gD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rn(Ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ka(0)}static kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pu(r.mutation,i,fr.empty(),dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Jl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xi();const o=hu(),a=function(){return hu()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ws)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),pu(f.mutation,c,f.mutation.getFieldMask(),dn.now())):o.set(c.key,fr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new vD(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hu();let i=new Ut((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||fr.empty();f=a.applyToLocalView(c,f),r.set(u,f);const h=(i.get(a.batchId)||rt()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,h=XC();f.forEach(m=>{if(!s.has(m)){const S=rI(n.get(m),r.get(m));S!==null&&h.set(m,S),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):oe.resolve(lo());let a=-1,u=s;return o.next(c=>oe.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?oe.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,rt())).next(f=>({batchId:a,changes:YC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let i=Jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Jl();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,u=>{const c=function(h,m){return new hc(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Vn.newInvalidDocument(f)))});let a=Jl();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&pu(f.mutation,c,fr.empty(),dn.now()),Bh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pi(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:pD(i.bundledQuery),readTime:pi(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.overlays=new Ut(Ae.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=lo(),s=n.length+1,o=new Ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ut((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=lo(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=lo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new WL(n,r));let s=this.Ir.get(n);s===void 0&&(s=rt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.Tr=new Rn(yn.Er),this.dr=new Rn(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ae(new Ot([])),r=new yn(n,e),i=new yn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ae(new Ot([])),r=new yn(n,e),i=new yn(n,e+1);let s=rt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ae.comparator(e.key,n.key)||ft(e.wr,n.wr)}static Ar(e,n){return ft(e.wr,n.wr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rn(yn.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new yn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rn(ft);return n.forEach(i=>{const s=new yn(i,0),o=new yn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const o=new yn(new Ae(s),0);let a=new Rn(ft);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){St(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,i=>{const s=new yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yn(n,0),i=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.Mr=e,this.docs=function(){return new Ut(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Xi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xi();const o=n.path,a=new Ae(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||aL(oL(f),r)<=0||(i.has(f.key)||Bh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){We()}Or(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TD(this)}getSize(e){return oe.resolve(this.size)}}class TD extends yD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.persistence=e,this.Nr=new cl(n=>_0(n),b0),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new I0,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.qr={},this.overlays={},this.Qr=new g0(0),this.Kr=!1,this.Kr=!0,this.$r=new wD,this.referenceDelegate=e(this),this.Ur=new CD(this),this.indexManager=new mD,this.remoteDocumentCache=function(i){return new ED(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hD(n),this.Gr=new _D(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new SD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new kD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kD extends uL{constructor(e){super(),this.currentSequenceNumber=e}}class k0{constructor(e){this.persistence=e,this.Jr=new I0,this.Yr=null}static Zr(e){return new k0(e)}get Xr(){if(this.Yr)return this.Yr;throw We()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,r=>{const i=Ae.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,qe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rt(),i=rt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new R0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jN()?8:cL(Un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new RD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ml()<=at.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(Ml()<=at.DEBUG&&Ce("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ml()<=at.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):oe.resolve())}Yi(e,n){if(pw(n))return oe.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ry(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=rt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Ry(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return pw(n)||i.isEqual(qe.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?oe.resolve(null):(Ml()<=at.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ta(n)),this.rs(e,o,n,sL(i,-1)).next(a=>a))})}ts(e,n){let r=new Rn(GC(e));return n.forEach((i,s)=>{Bh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ml()<=at.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ta(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ms.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ut(ft),this._s=new cl(s=>_0(s),b0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function jD(t,e,n,r){return new AD(t,e,n,r)}async function mI(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rt();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function OD(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const h=c.batch,m=h.keys();let S=oe.resolve();return m.forEach(E=>{S=S.next(()=>f.getEntry(u,E)).next(w=>{const I=c.docVersions.get(E);St(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),f.addEntry(w)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gI(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ND(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let S=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?S=S.withResumeToken(bn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):f.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(f.resumeToken,r)),i=i.insert(h,S),function(w,I,T){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,S,f)&&a.push(n.Ur.updateTargetData(s,S))});let u=Xi(),c=rt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(MD(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(qe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function MD(t,e,n){let r=rt(),i=rt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xi();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(qe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function LD(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DD(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ny(t,e,n){const r=Ke(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fc(o))throw o;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Tw(t,e,n){const r=Ke(t);let i=qe.min(),s=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const h=Ke(u),m=h._s.get(f);return m!==void 0?oe.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,o,hi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:qe.min(),n?s:rt())).next(a=>($D(r,kL(e),a),{documents:a,Ts:s})))}function $D(t,e,n){let r=t.us.get(e)||qe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Cw{constructor(){this.activeTargetIds=NL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FD{constructor(){this.so=new Cw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function Um(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class UD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Um(),u=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(Ce("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Eo("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=zD[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Um();return new Promise((o,a)=>{const u=new PC;u.setWithCredentials(!0),u.listenOnce(AC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $d.NO_ERROR:const f=u.getResponseJson();Ce(Ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case $d.TIMEOUT:Ce(Ln,`RPC '${e}' ${s} timed out`),a(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:const h=u.getStatus();if(Ce(Ln,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const E=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(T)>=0?T:re.UNKNOWN}(S.status);a(new ye(E,S.message))}else a(new ye(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ye(re.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Ce(Ln,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ce(Ln,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Um(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NC(),a=OC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Ce(Ln,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let m=!1,S=!1;const E=new BD({Io:I=>{S?Ce(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Ce(Ln,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Ce(Ln,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),w=(I,T,v)=>{I.listen(T,_=>{try{v(_)}catch(R){setTimeout(()=>{throw R},0)}})};return w(h,Xl.EventType.OPEN,()=>{S||(Ce(Ln,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),w(h,Xl.EventType.CLOSE,()=>{S||(S=!0,Ce(Ln,`RPC '${e}' stream ${i} transport closed`),E.So())}),w(h,Xl.EventType.ERROR,I=>{S||(S=!0,Eo(Ln,`RPC '${e}' stream ${i} transport errored:`,I),E.So(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),w(h,Xl.EventType.MESSAGE,I=>{var T;if(!S){const v=I.data[0];St(!!v);const _=v,R=_.error||((T=_[0])===null||T===void 0?void 0:T.error);if(R){Ce(Ln,`RPC '${e}' stream ${i} received error:`,R);const M=R.status;let N=function(y){const C=nn[y];if(C!==void 0)return sI(C)}(M),g=R.message;N===void 0&&(N=re.INTERNAL,g="Unknown error status: "+M+" with message "+R.message),S=!0,E.So(new ye(N,g)),h.close()}else Ce(Ln,`RPC '${e}' stream ${i} received:`,v),E.bo(v)}}),w(a,jC.STAT_EVENT,I=>{I.stat===Sy.PROXY?Ce(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Sy.NOPROXY&&Ce(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new ZL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WD extends vI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=nD(this.serializer,e),r=function(s){if(!("targetChange"in s))return qe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?qe.min():o.readTime?pi(o.readTime):qe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Oy(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Iy(u)?{documents:sD(s,u)}:{query:oD(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lI(s,o.resumeToken);const c=Py(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(qe.min())>0){a.readTime=Df(s,o.snapshotVersion.toTimestamp());const c=Py(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=lD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Oy(this.serializer),n.removeTarget=e,this.a_(n)}}class HD extends vI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=iD(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Oy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ay(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(re.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ay(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yi(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Vo(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ke(u);c.L_.add(4),await gc(c),c.q_.set("Unknown"),c.L_.delete(4),await Kh(c)}(this))})}),this.q_=new KD(r,i)}}async function Kh(t){if(Vo(t))for(const e of t.B_)await e(!0)}async function gc(t){for(const e of t.B_)await e(!1)}function xI(t,e){const n=Ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),O0(n)?j0(n):dl(n).r_()&&A0(n,e))}function P0(t,e){const n=Ke(t),r=dl(n);n.N_.delete(e),r.r_()&&_I(n,e),n.N_.size===0&&(r.r_()?r.o_():Vo(n)&&n.q_.set("Unknown"))}function A0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).A_(e)}function _I(t,e){t.Q_.xe(e),dl(t).R_(e)}function j0(t){t.Q_=new QL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.q_.v_()}function O0(t){return Vo(t)&&!dl(t).n_()&&t.N_.size>0}function Vo(t){return Ke(t).L_.size===0}function bI(t){t.Q_=void 0}async function QD(t){t.q_.set("Online")}async function YD(t){t.N_.forEach((e,n)=>{A0(t,e)})}async function XD(t,e){bI(t),O0(t)?(t.q_.M_(e),j0(t)):t.q_.set("Unknown")}async function JD(t,e,n){if(t.q_.set("Online"),e instanceof aI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(t,r)}else if(e instanceof zd?t.Q_.Ke(e):e instanceof oI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(qe.min()))try{const r=await gI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(bn.EMPTY_BYTE_STRING,f.snapshotVersion)),_I(s,u);const h=new xs(f.target,u,c,f.sequenceNumber);A0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await $f(t,r)}}async function $f(t,e,n){if(!fc(e))throw e;t.L_.add(1),await gc(t),t.q_.set("Offline"),n||(n=()=>gI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kh(t)})}function wI(t,e){return e().catch(n=>$f(t,n,e))}async function Gh(t){const e=Ke(t),n=Ds(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZD(e);)try{const i=await LD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,e3(e,i)}catch(i){await $f(e,i)}SI(e)&&EI(e)}function ZD(t){return Vo(t)&&t.O_.length<10}function e3(t,e){t.O_.push(e);const n=Ds(t);n.r_()&&n.V_&&n.m_(e.mutations)}function SI(t){return Vo(t)&&!Ds(t).n_()&&t.O_.length>0}function EI(t){Ds(t).start()}async function t3(t){Ds(t).p_()}async function n3(t){const e=Ds(t);for(const n of t.O_)e.m_(n.mutations)}async function r3(t,e,n){const r=t.O_.shift(),i=E0.from(r,e,n);await wI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gh(t)}async function i3(t,e){e&&Ds(t).V_&&await async function(r,i){if(function(o){return qL(o)&&o!==re.ABORTED}(i.code)){const s=r.O_.shift();Ds(r).s_(),await wI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gh(r)}}(t,e),SI(t)&&EI(t)}async function kw(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=Vo(n);n.L_.add(3),await gc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kh(n)}async function s3(t,e){const n=Ke(t);e?(n.L_.delete(2),await Kh(n)):e||(n.L_.add(2),await gc(n),n.q_.set("Unknown"))}function dl(t){return t.K_||(t.K_=function(n,r,i){const s=Ke(n);return s.w_(),new WD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:QD.bind(null,t),Ro:YD.bind(null,t),mo:XD.bind(null,t),d_:JD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),O0(t)?j0(t):t.q_.set("Unknown")):(await t.K_.stop(),bI(t))})),t.K_}function Ds(t){return t.U_||(t.U_=function(n,r,i){const s=Ke(n);return s.w_(),new HD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:t3.bind(null,t),mo:i3.bind(null,t),f_:n3.bind(null,t),g_:r3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gh(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new N0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),fc(t))return new ye(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new Ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.W_=new Ut(Ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):We():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ga(e,n,Ta.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class a3{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ke(n),s=i.queries;i.queries=Pw(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function Pw(){return new cl(t=>KC(t),zh)}async function L0(t,e){const n=Ke(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new o3,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=M0(o,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&$0(n)}async function D0(t,e){const n=Ke(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l3(t,e){const n=Ke(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&$0(n)}function u3(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function $0(t){t.Y_.forEach(e=>{e.next()})}var My,Aw;(Aw=My||(My={})).ea="default",Aw.Cache="cache";class F0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class CI{constructor(e){this.key=e}}class c3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=GC(e),this.Ra=new Ta(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Rw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),S=Bh(this.query,h)?h:null,E=!!m&&this.mutatedKeys.has(m.key),w=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;m&&S?m.data.isEqual(S.data)?E!==w&&(r.track({type:3,doc:S}),I=!0):this.ga(m,S)||(r.track({type:2,doc:S}),I=!0,(u&&this.Aa(S,u)>0||c&&this.Aa(S,c)<0)&&(a=!0)):!m&&S?(r.track({type:0,doc:S}),I=!0):m&&!S&&(r.track({type:1,doc:m}),I=!0,(u||c)&&(a=!0)),I&&(S?(o=o.add(S),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(S,E){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return w(S)-w(E)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Ga(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new CI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new TI(r))}),n}ba(e){this.Ta=e.Ts,this.da=rt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ga.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class d3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f3{constructor(e){this.key=e,this.va=!1}}class h3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cl(a=>KC(a),zh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ut(Ae.comparator),this.Na=new Map,this.La=new I0,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function p3(t,e,n=!0){const r=jI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await II(r,e,n,!0),i}async function m3(t,e){const n=jI(t);await II(n,e,!0,!1)}async function II(t,e,n,r){const i=await DD(t.localStore,hi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await g3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&xI(t.remoteStore,i),a}async function g3(t,e,n,r,i){t.Ka=(h,m,S)=>async function(w,I,T,v){let _=I.view.ma(T);_.ns&&(_=await Tw(w.localStore,I.query,!1).then(({documents:g})=>I.view.ma(g,_)));const R=v&&v.targetChanges.get(I.targetId),M=v&&v.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(_,w.isPrimaryClient,R,M);return Ow(w,I.targetId,N.wa),N.snapshot}(t,h,m,S);const s=await Tw(t.localStore,e,!0),o=new c3(e,s.Ts),a=o.ma(s.documents),u=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);Ow(t,n,c.wa);const f=new d3(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function y3(t,e,n){const r=Ke(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!zh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ny(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&P0(r.remoteStore,i.targetId),Ly(r,i.targetId)}).catch(dc)):(Ly(r,i.targetId),await Ny(r.localStore,i.targetId,!0))}async function v3(t,e){const n=Ke(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),P0(n.remoteStore,r.targetId))}async function x3(t,e,n){const r=C3(t);try{const i=await function(o,a){const u=Ke(o),c=dn.now(),f=a.reduce((S,E)=>S.add(E.key),rt());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let E=Xi(),w=rt();return u.cs.getEntries(S,f).next(I=>{E=I,E.forEach((T,v)=>{v.isValidDocument()||(w=w.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,E)).next(I=>{h=I;const T=[];for(const v of a){const _=zL(v,h.get(v.key).overlayedDocument);_!=null&&T.push(new Ws(v.key,_,FC(_.value.mapValue),Or.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,T,a)}).next(I=>{m=I;const T=I.applyToLocalDocumentSet(h,w);return u.documentOverlayCache.saveOverlays(S,I.batchId,T)})}).then(()=>({batchId:m.batchId,changes:YC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ut(ft)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await yc(r,i.changes),await Gh(r.remoteStore)}catch(i){const s=M0(i,"Failed to persist write");n.reject(s)}}async function kI(t,e){const n=Ke(t);try{const r=await ND(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?St(o.va):i.removedDocuments.size>0&&(St(o.va),o.va=!1))}),await yc(n,r,e)}catch(r){await dc(r)}}function jw(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ke(o);u.onlineState=a;let c=!1;u.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&$0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _3(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ut(Ae.comparator);o=o.insert(s,Vn.newNoDocument(s,qe.min()));const a=rt().add(s),u=new Hh(qe.min(),new Map,new Ut(ft),o,a);await kI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),V0(r)}else await Ny(r.localStore,e,!1).then(()=>Ly(r,e,n)).catch(dc)}async function b3(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await OD(n.localStore,e);PI(n,r,null),RI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yc(n,i)}catch(i){await dc(i)}}async function w3(t,e,n){const r=Ke(t);try{const i=await function(o,a){const u=Ke(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(St(h!==null),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);PI(r,e,n),RI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yc(r,i)}catch(i){await dc(i)}}function RI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PI(t,e,n){const r=Ke(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||AI(t,r)})}function AI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(P0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),V0(t))}function Ow(t,e,n){for(const r of n)r instanceof TI?(t.La.addReference(r.key,e),S3(t,r)):r instanceof CI?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||AI(t,r.key)):We()}function S3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),V0(t))}function V0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ae(Ot.fromString(e)),r=t.qa.next();t.Na.set(r,new f3(n)),t.Oa=t.Oa.insert(n,r),xI(t.remoteStore,new xs(hi(Vh(n.path)),r,"TargetPurposeLimboResolution",g0.oe))}}async function yc(t,e,n){const r=Ke(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=R0.Wi(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=Ke(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>oe.forEach(c,m=>oe.forEach(m.$i,S=>f.persistence.referenceDelegate.addReference(h,m.targetId,S)).next(()=>oe.forEach(m.Ui,S=>f.persistence.referenceDelegate.removeReference(h,m.targetId,S)))))}catch(h){if(!fc(h))throw h;Ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const S=f.os.get(m),E=S.snapshotVersion,w=S.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(m,w)}}}(r.localStore,s))}async function E3(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await mI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ye(re.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yc(n,r.hs)}}function T3(t,e){const n=Ke(t),r=n.Na.get(e);if(r&&r.va)return rt().add(r.key);{let i=rt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function jI(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.Ca.d_=l3.bind(null,e.eventManager),e.Ca.$a=u3.bind(null,e.eventManager),e}function C3(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w3.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jD(this.persistence,new PD,e.initialUser,this.serializer)}Ga(e){return new ID(k0.Zr,this.serializer)}Wa(e){return new FD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E3.bind(null,this.syncEngine),await s3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a3}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(s){return new UD(s)}(e.databaseInfo);return function(s,o,a,u){return new qD(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new GD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jw(this.syncEngine,n,0),function(){return Iw.D()?new Iw:new VD}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,f){const h=new h3(i,s,o,a,u,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ke(i);Ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await gc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dy.provider={build:()=>new Dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=M0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k3(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kw(e.remoteStore,i)),t._onlineComponents=e}async function k3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new Ff)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Hm(t,new Ff);return t._offlineComponents}async function OI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Nw(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await Nw(t,new Dy))),t._onlineComponents}function R3(t){return OI(t).then(e=>e.syncEngine)}async function Vf(t){const e=await OI(t),n=e.eventManager;return n.onListen=p3.bind(null,e.syncEngine),n.onUnlisten=y3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v3.bind(null,e.syncEngine),n}function P3(t,e,n={}){const r=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new z0({next:m=>{f.Za(),o.enqueueAndForget(()=>D0(s,h));const S=m.docs.has(a);!S&&m.fromCache?c.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&m.fromCache&&u&&u.source==="server"?c.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new F0(Vh(a.path),f,{includeMetadataChanges:!0,_a:!0});return L0(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}function A3(t,e,n={}){const r=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new z0({next:m=>{f.Za(),o.enqueueAndForget(()=>D0(s,h)),m.fromCache&&u.source==="server"?c.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new F0(a,f,{includeMetadataChanges:!0,_a:!0});return L0(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LI(t,e,n,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lw(t){if(!Ae.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dw(t){if(Ae.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(t);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LC;switch(r.type){case"firstParty":return new eL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mw.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),Mw.delete(n),r.terminate())}(this),Promise.resolve()}}function DI(t,e,n,r={}){var i;const s=(t=Yn(t,Yh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=$n.MOCK_USER;else{a=SC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $n(c)}t._authCredentials=new XM(new MC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Bi extends Hs{constructor(e,n,r){super(e,n,Vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Ae(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function Oe(t,e,...n){if(t=fn(t),MI("collection","path",e),t instanceof Yh){const r=Ot.fromString(e,...n);return Dw(r),new Bi(t,null,r)}{if(!(t instanceof Pn||t instanceof Bi))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return Dw(r),new Bi(t.firestore,null,r)}}function Ee(t,e,...n){if(t=fn(t),arguments.length===1&&(e=m0.newId()),MI("doc","path",e),t instanceof Yh){const r=Ot.fromString(e,...n);return Lw(r),new Pn(t,null,new Ae(r))}{if(!(t instanceof Pn||t instanceof Bi))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return Lw(r),new Pn(t.firestore,t instanceof Bi?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yI(this,"async_queue_retry"),this.Vu=()=>{const r=Wm();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new zi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fc(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=N0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&We()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Vw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class xi extends Yh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Fw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fw(e),this._firestoreClient=void 0,await e}}}function $I(t,e){const n=typeof t=="object"?t:h0(),r=typeof t=="string"?t:"(default)",i=$h(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_C("firestore");s&&DI(i,...s)}return i}function vc(t){if(t._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j3(t),t._firestoreClient}function j3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new hL(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,NI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new I3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(bn.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=/^__.*__$/;class N3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class FI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class B0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new B0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VI(this.Cu)&&O3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class M3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Qu(e,n,r,i=!1){return new B0({Cu:e,methodName:n,qu:r,path:xn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new M3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zI(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);U0("Data must be an object, but it was:",o,r);const a=BI(r,o);let u,c;if(s.merge)u=new fr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=$y(e,h,n);if(!o.contains(m))throw new ye(re.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);WI(f,m)||f.push(m)}u=new fr(f),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new N3(new tr(a),u,c)}class tp extends Xh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function L3(t,e,n,r){const i=t.Qu(1,e,n);U0("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();Fo(r,(u,c)=>{const f=W0(e,u,n);c=fn(c);const h=i.Nu(f);if(c instanceof tp)s.push(f);else{const m=_c(c,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new fr(s);return new FI(o,a,i.fieldTransforms)}function D3(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[$y(e,r,n)],u=[i];if(s.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push($y(e,s[m])),u.push(s[m+1]);const c=[],f=tr.empty();for(let m=a.length-1;m>=0;--m)if(!WI(c,a[m])){const S=a[m];let E=u[m];E=fn(E);const w=o.Nu(S);if(E instanceof tp)c.push(S);else{const I=_c(E,w);I!=null&&(c.push(S),f.set(S,I))}}const h=new fr(c);return new FI(f,h,o.fieldTransforms)}function $3(t,e,n,r=!1){return _c(n,t.Qu(r?4:3,e))}function _c(t,e){if(UI(t=fn(t)))return U0("Unsupported field value:",e,t),BI(t,e);if(t instanceof Xh)return function(r,i){if(!VI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=_c(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ML(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=dn.fromDate(r);return{timestampValue:Df(i.serializer,s)}}if(r instanceof dn){const s=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Df(i.serializer,s)}}if(r instanceof Jh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:lI(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return w0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qh(r)}`)}(t,e)}function BI(t,e){const n={};return DC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{const s=_c(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof Jh||t instanceof Io||t instanceof Pn||t instanceof Xh||t instanceof Zh)}function U0(t,e,n){if(!UI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $y(t,e,n){if((e=fn(e))instanceof xc)return e._internalPath;if(typeof e=="string")return W0(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const F3=new RegExp("[~\\*/\\[\\]]");function W0(t,e,n){if(e.search(F3)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xc(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ye(re.INVALID_ARGUMENT,a+t+u)}function WI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V3 extends HI{data(){return super.data()}}function H0(t,e){return typeof e=="string"?W0(t,e):e instanceof xc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q0{}class KI extends q0{}function _i(t,e,...n){let r=[];e instanceof q0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof np).length,a=s.filter(u=>u instanceof bc).length;if(o>1||o>0&&a>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bc extends KI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bc(e,n,r)}_apply(e){const n=this._parse(e);return GI(e._query,n),new Hs(e.firestore,e.converter,ky(e._query,n))}_parse(e){const n=ep(e.firestore);return function(s,o,a,u,c,f,h){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Bw(h,f);const S=[];for(const E of h)S.push(zw(u,s,E));m={arrayValue:{values:S}}}else m=zw(u,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Bw(h,f),m=$3(a,o,h,f==="in"||f==="not-in");return an.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ei(t,e,n){const r=e,i=H0("where",t);return bc._create(i,r,n)}class np extends q0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new np(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)GI(o,u),o=ky(o,u)}(e._query,n),new Hs(e.firestore,e.converter,ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zw(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qC(e)&&n.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!Ae.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lw(t,new Ae(r))}if(n instanceof Pn)return lw(t,n._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function Bw(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QI{convertValue(e,n="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw We()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Yt(o.doubleValue));return new Zh(s)}convertGeoPoint(e){return new Jh(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=v0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);St(pI(r));const i=new Wa(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return i.isEqual(n)||Yi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K0 extends HI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mu extends K0{data(e={}){return super.data(e)}}class G0{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mu(this._firestore,this._userDataWriter,r.key,r,new ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ya(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ya(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:z3(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){t=Yn(t,Pn);const e=Yn(t.firestore,xi);return P3(vc(e),t._key).then(n=>XI(e,t,n))}class Q0 extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function un(t){t=Yn(t,Hs);const e=Yn(t.firestore,xi),n=vc(e),r=new Q0(e);return qI(t._query),A3(n,t._query).then(i=>new G0(e,r,t,i))}function or(t,e,n){t=Yn(t,Pn);const r=Yn(t.firestore,xi),i=YI(t.converter,e,n);return wc(r,[zI(ep(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function rn(t,e,n,...r){t=Yn(t,Pn);const i=Yn(t.firestore,xi),s=ep(i);let o;return o=typeof(e=fn(e))=="string"||e instanceof xc?D3(s,"updateDoc",t._key,e,n,r):L3(s,"updateDoc",t._key,e),wc(i,[o.toMutation(t._key,Or.exists(!0))])}function Nr(t){return wc(Yn(t.firestore,xi),[new S0(t._key,Or.none())])}function ko(t,e){const n=Yn(t.firestore,xi),r=Ee(t),i=YI(t.converter,e);return wc(n,[zI(ep(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function Pt(t,...e){var n,r,i;t=fn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Vw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Vw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,c,f;if(t instanceof Pn)c=Yn(t.firestore,xi),f=Vh(t._key.path),u={next:h=>{e[o]&&e[o](XI(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Yn(t,Hs);c=Yn(h.firestore,xi),f=h._query;const m=new Q0(c);u={next:S=>{e[o]&&e[o](new G0(c,m,h,S))},error:e[o+1],complete:e[o+2]},qI(t._query)}return function(m,S,E,w){const I=new z0(w),T=new F0(S,I,E);return m.asyncQueue.enqueueAndForget(async()=>L0(await Vf(m),T)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>D0(await Vf(m),T))}}(vc(c),f,a,u)}function wc(t,e){return function(r,i){const s=new zi;return r.asyncQueue.enqueueAndForget(async()=>x3(await R3(r),i,s)),s.promise}(vc(t),e)}function XI(t,e,n){const r=n.docs.get(e._key),i=new Q0(t);return new K0(t,i,e._key,r,new ya(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ul=i})($o),wo(new Ns("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xi(new JM(r.getProvider("auth-internal")),new nL(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fi(rw,"4.7.3",e),fi(rw,"4.7.3","esm2017")})();const Y0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:QI,Bytes:Io,CollectionReference:Bi,DocumentReference:Pn,DocumentSnapshot:K0,FieldPath:xc,FieldValue:Xh,Firestore:xi,FirestoreError:ye,GeoPoint:Jh,Query:Hs,QueryCompositeFilterConstraint:np,QueryConstraint:KI,QueryDocumentSnapshot:mu,QueryFieldFilterConstraint:bc,QuerySnapshot:G0,SnapshotMetadata:ya,Timestamp:dn,VectorValue:Zh,_AutoId:m0,_ByteString:bn,_DatabaseId:Wa,_DocumentKey:Ae,_EmptyAuthCredentialsProvider:LC,_FieldPath:xn,_cast:Yn,_logWarn:Eo,_validateIsNotUsedTogether:LI,addDoc:ko,collection:Oe,connectFirestoreEmulator:DI,deleteDoc:Nr,doc:Ee,ensureFirestoreConfigured:vc,executeWrite:wc,getDoc:ln,getDocs:un,getFirestore:$I,onSnapshot:Pt,query:_i,setDoc:or,updateDoc:rn,where:ei},Symbol.toStringTag,{value:"Module"}));function X0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZI=JI,ek=new uc("auth","Firebase",JI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new d0("@firebase/auth");function B3(t,...e){Bf.logLevel<=at.WARN&&Bf.warn(`Auth (${$o}): ${t}`,...e)}function Bd(t,...e){Bf.logLevel<=at.ERROR&&Bf.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,...e){throw J0(t,...e)}function mi(t,...e){return J0(t,...e)}function tk(t,e,n){const r=Object.assign(Object.assign({},ZI()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return tk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ek.create(t,...e)}function Be(t,e,...n){if(!t)throw J0(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function Ji(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U3(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U3()||RN()||"connection"in navigator)?navigator.onLine:!0}function H3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=CN()||PN()}get(){return W3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Sc(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ks(t,e,n,r,i={}){return rk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return kN()||(c.referrerPolicy="no-referrer"),nk.fetch()(ik(t,t.config.apiHost,n,a),c)})}async function rk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q3),e);try{const i=new Q3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw gd(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tk(t,f,c);ti(t,f)}}catch(i){if(i instanceof wi)throw i;ti(t,"network-request-failed",{message:String(i)})}}async function Ec(t,e,n,r,i={}){const s=await Ks(t,e,n,r,i);return"mfaPendingCredential"in s&&ti(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ik(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Z0(t.config,i):`${t.config.apiScheme}://${i}`}function G3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),K3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mi(t,e,r);return i.customData._tokenResponse=n,i}function Ww(t){return t!==void 0&&t.enterprise!==void 0}class Y3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function X3(t,e){return Ks(t,"GET","/v2/recaptchaConfig",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function sk(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ok(t,e=!1){const n=fn(t),r=await n.getIdToken(e),i=ex(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gu(qm(i.auth_time)),issuedAtTime:gu(qm(i.iat)),expirationTime:gu(qm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qm(t){return Number(t)*1e3}function ex(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=vC(n);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hw(t){const e=ex(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&Z3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qu(t,sk(n,{idToken:r}));Be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lk(s.providerUserInfo):[],a=t6(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function ak(t){const e=fn(t);await Uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lk(t){return t.map(e=>{var{providerId:n}=e,r=X0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){const n=await rk(t,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ik(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r6(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=Hw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await n6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ca;return r&&(Be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $i{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=X0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ok(this,e)}reload(){return ak(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await qu(this,J3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:R,isAnonymous:M,providerData:N,stsTokenManager:g}=n;Be(_&&g,e,"internal-error");const p=Ca.fromJSON(this.name,g);Be(typeof _=="string",e,"internal-error"),ls(h,e.name),ls(m,e.name),Be(typeof R=="boolean",e,"internal-error"),Be(typeof M=="boolean",e,"internal-error"),ls(S,e.name),ls(E,e.name),ls(w,e.name),ls(I,e.name),ls(T,e.name),ls(v,e.name);const y=new $i({uid:_,auth:e,email:m,emailVerified:R,displayName:h,isAnonymous:M,photoURL:E,phoneNumber:S,tenantId:w,stsTokenManager:p,createdAt:T,lastLoginAt:v});return N&&Array.isArray(N)&&(y.providerData=N.map(C=>Object.assign({},C))),I&&(y._redirectEventId=I),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ca;i.updateFromServerResponse(n);const s=new $i({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ca;a.updateFromIdToken(r);const u=new $i({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Fi(t){Ji(t instanceof Function,"Expected a class definition");let e=qw.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uk.type="NONE";const zy=uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ud(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ud("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$i._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ia(Fi(zy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Fi(zy);const o=Ud(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=$i._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ia(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ia(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ck(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mk(e))return"Blackberry";if(gk(e))return"Webos";if(dk(e))return"Safari";if((e.includes("chrome/")||fk(e))&&!e.includes("edge/"))return"Chrome";if(pk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ck(t=Un()){return/firefox\//i.test(t)}function dk(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fk(t=Un()){return/crios\//i.test(t)}function hk(t=Un()){return/iemobile/i.test(t)}function pk(t=Un()){return/android/i.test(t)}function mk(t=Un()){return/blackberry/i.test(t)}function gk(t=Un()){return/webos/i.test(t)}function tx(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i6(t=Un()){var e;return tx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s6(){return AN()&&document.documentMode===10}function yk(t=Un()){return tx(t)||pk(t)||gk(t)||mk(t)||/windows phone/i.test(t)||hk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e=[]){let n;switch(t){case"Browser":n=Kw(Un());break;case"Worker":n=`${Kw(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=6;class u6{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new o6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sk(this,{idToken:e}),r=await $i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ui(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Ui(this));const n=e?fn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a6(this),n=new u6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zo(t){return fn(t)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=FN(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d6(t){rp=t}function xk(t){return rp.loadJS(t)}function f6(){return rp.recaptchaEnterpriseScript}function h6(){return rp.gapiScript}function p6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const m6="recaptcha-enterprise",g6="NO_RECAPTCHA";class y6{constructor(e){this.type=m6,this.auth=zo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{X3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Y3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Ww(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(g6)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ww(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=f6();u.length!==0&&(u+=a),xk(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Qw(t,e,n,r=!1){const i=new y6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function By(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Qw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Qw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){const n=$h(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pf(s,e??{}))return i;ti(i,"already-initialized")}return n.initialize({options:e})}function v6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bk(t,e,n){const r=zo(t);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=wk(e),{host:o,port:a}=x6(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),_6()}function wk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x6(t){const e=wk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Yw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Yw(o)}}}function Yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function b6(t,e){return Ks(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function E6(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends ip{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,n,"signInWithPassword",w6);case"emailLink":return S6(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,r,"signUpPassword",b6);case"emailLink":return E6(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="http://localhost";class $s extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=X0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $s(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ka(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ka(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ka(e,n)}buildRequest(){const e={requestUri:T6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I6(t){const e=Ql(Yl(t)).link,n=e?Ql(Yl(e)).deep_link_id:null,r=Ql(Yl(t)).deep_link_id;return(r?Ql(Yl(r)).link:null)||r||n||e||t}class sp{constructor(e){var n,r,i,s,o,a;const u=Ql(Yl(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=C6((i=u.mode)!==null&&i!==void 0?i:null);Be(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=I6(e);try{return new sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return Qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sp.parseLink(n);return Be(r,"argument-error"),Qa._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Sk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Tc{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Tc{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Tc{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return Ec(t,"POST","/v1/accounts:signUp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $i._fromIdTokenResponse(e,r,i),o=Xw(r);return new Ro({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Xw(r);return new Ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends wi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wf(e,n,r,i)}}function Ek(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,s,e,r):s})}async function R6(t,e,n=!1){const r=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e,n=!1){const{auth:r}=t;if(ui(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const s=await qu(t,Ek(r,i,e,t),n);Be(s.idToken,r,"internal-error");const o=ex(s.idToken);Be(o,r,"internal-error");const{sub:a}=o;return Be(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ti(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(t,e,n=!1){if(ui(t.app))return Promise.reject(Ui(t));const r="signIn",i=await Ek(t,r,e),s=await Ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ck(t,e){return Tk(zo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t){const e=zo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eu(t,e,n){if(ui(t.app))return Promise.reject(Ui(t));const r=zo(t),o=await By(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k6).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Ik(t),u}),a=await Ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kk(t,e,n){return ui(t.app)?Promise.reject(Ui(t)):Ck(fn(t),Bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ik(t),r})}function Rk(t,e,n,r){return fn(t).onIdTokenChanged(e,n,r)}function Pk(t,e,n){return fn(t).beforeAuthStateChanged(e,n)}function Dr(t,e,n,r){return fn(t).onAuthStateChanged(e,n,r)}function Ak(t){return fn(t).signOut()}const Hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=1e3,j6=10;class Ok extends jk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);s6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},A6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ok.type="LOCAL";const Nk=Ok;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk extends jk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mk.type="SESSION";const nx=Mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new op(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await O6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}op.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=rx("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function M6(t){gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function L6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $6(){return Lk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firebaseLocalStorageDb",F6=1,qf="firebaseLocalStorage",$k="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ap(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function V6(){const t=indexedDB.deleteDatabase(Dk);return new Cc(t).toPromise()}function Uy(){const t=indexedDB.open(Dk,F6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qf,{keyPath:$k})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qf)?e(r):(r.close(),await V6(),e(await Uy()))})})}async function Jw(t,e,n){const r=ap(t,!0).put({[$k]:e,value:n});return new Cc(r).toPromise()}async function z6(t,e){const n=ap(t,!1).get(e),r=await new Cc(n).toPromise();return r===void 0?null:r.value}function Zw(t,e){const n=ap(t,!0).delete(e);return new Cc(n).toPromise()}const B6=800,U6=3;class Fk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=op._getInstance($6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L6(),!this.activeServiceWorker)return;this.sender=new N6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uy();return await Jw(e,Hf,"1"),await Zw(e,Hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ap(i,!1).getAll();return new Cc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fk.type="LOCAL";const Vk=Fk;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t,e){return e?Fi(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H6(t){return Tk(t.auth,new ix(t),t.bypassAuthState)}function q6(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),P6(n,new ix(t),t.bypassAuthState)}async function K6(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),R6(n,new ix(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H6;case"linkViaPopup":case"linkViaRedirect":return K6;case"reauthViaPopup":case"reauthViaRedirect":return q6;default:ti(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new Sc(2e3,1e4);class va extends zk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=rx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G6.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="pendingRedirect",Wd=new Map;class Y6 extends zk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await X6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X6(t,e){const n=e5(e),r=Z6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J6(t,e){Wd.set(t._key(),e)}function Z6(t){return Fi(t._redirectPersistence)}function e5(t){return Ud(Q6,t.config.apiKey,t.name)}async function t5(t,e,n=!1){if(ui(t.app))return Promise.reject(Ui(t));const r=zo(t),i=W6(r,e),o=await new Y6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=10*60*1e3;class r5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n5&&this.cachedEventUids.clear(),this.cachedEventUids.has(e1(e))}saveEventToCache(e){this.cachedEventUids.add(e1(e)),this.lastProcessedEventTime=Date.now()}}function e1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e={}){return Ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a5=/^https?/;async function l5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s5(t);for(const n of e)try{if(u5(n))return}catch{}ti(t,"unauthorized-domain")}function u5(t){const e=Fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a5.test(n))return!1;if(o5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new Sc(3e4,6e4);function t1(){const t=gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d5(t){return new Promise((e,n)=>{var r,i,s;function o(){t1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t1(),n(mi(t,"network-request-failed"))},timeout:c5.get()})}if(!((i=(r=gi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gi().gapi)===null||s===void 0)&&s.load)o();else{const a=p6("iframefcb");return gi()[a]=()=>{gapi.load?o():n(mi(t,"network-request-failed"))},xk(`${h6()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function f5(t){return Hd=Hd||d5(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Sc(5e3,15e3),p5="__/auth/iframe",m5="emulator/auth/iframe",g5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v5(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z0(e,m5):`https://${t.config.authDomain}/${p5}`,r={apiKey:e.apiKey,appName:t.name,v:$o},i=y5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cc(r).slice(1)}`}async function x5(t){const e=await f5(t),n=gi().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:v5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=mi(t,"network-request-failed"),a=gi().setTimeout(()=>{s(o)},h5.get());function u(){gi().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b5=500,w5=600,S5="_blank",E5="http://localhost";class n1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T5(t,e,n,r=b5,i=w5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},_5),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Un().toLowerCase();n&&(a=fk(c)?S5:n),ck(c)&&(e=e||E5,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[S,E])=>`${m}${S}=${E},`,"");if(i6(c)&&a!=="_self")return C5(e||"",a),new n1(null);const h=window.open(e||"",a,f);Be(h,t,"popup-blocked");try{h.focus()}catch{}return new n1(h)}function C5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="__/auth/handler",k5="emulator/auth/handler",R5=encodeURIComponent("fac");async function r1(t,e,n,r,i,s){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(e instanceof Sk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$N(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Tc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${R5}=${encodeURIComponent(u)}`:"";return`${P5(t)}?${cc(a).slice(1)}${c}`}function P5({config:t}){return t.emulator?Z0(t,k5):`https://${t.authDomain}/${I5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class A5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nx,this._completeRedirectFn=t5,this._overrideRedirectResult=J6}async _openPopup(e,n,r,i){var s;Ji((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await r1(e,n,r,Fy(),i);return T5(e,o,rx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await r1(e,n,r,Fy(),i);return M6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ji(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x5(e),r=new r5(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Km];o!==void 0&&n(!!o),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yk()||dk()||tx()}}const Uk=A5;var i1="@firebase/auth",s1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N5(t){wo(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vk(t)},c=new c6(r,i,s,u);return v6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wo(new Ns("auth-internal",e=>{const n=zo(e.getProvider("auth").getImmediate());return(r=>new j5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(i1,s1,O5(t)),fi(i1,s1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=5*60,L5=wC("authIdTokenMaxAge")||M5;let o1=null;const D5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L5)return;const i=n==null?void 0:n.token;o1!==i&&(o1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zn(t=h0()){const e=$h(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_k(t,{popupRedirectResolver:Uk,persistence:[Vk,Nk,nx]}),r=wC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=D5(s.toString());Pk(n,o,()=>o(n.currentUser)),Rk(n,a=>o(a))}}const i=xC("auth");return i&&bk(n,`http://${i}`),n}function $5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}d6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N5("Browser");const Wk=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:sp,AuthCredential:ip,EmailAuthCredential:Qa,EmailAuthProvider:Bo,FacebookAuthProvider:Pi,GithubAuthProvider:ji,GoogleAuthProvider:Ai,OAuthCredential:$s,TwitterAuthProvider:Oi,beforeAuthStateChanged:Pk,browserLocalPersistence:Nk,browserPopupRedirectResolver:Uk,browserSessionPersistence:nx,connectAuthEmulator:bk,createUserWithEmailAndPassword:eu,getAuth:zn,getIdTokenResult:ok,inMemoryPersistence:zy,indexedDBLocalPersistence:Vk,initializeAuth:_k,onAuthStateChanged:Dr,onIdTokenChanged:Rk,prodErrorMap:ZI,reload:ak,signInWithCredential:Ck,signInWithEmailAndPassword:kk,signOut:Ak},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firebasestorage.googleapis.com",F5="storageBucket",V5=2*60*1e3,z5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends wi{constructor(e,n,r=0){super(Gm(e),`Firebase Storage: ${n} (${Gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Si.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bi||(bi={}));function Gm(t){return"storage/"+t}function B5(){const t="An unknown error occurred, please check the error payload for server response.";return new Si(bi.UNKNOWN,t)}function U5(){return new Si(bi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W5(){return new Si(bi.CANCELED,"User canceled the upload/download.")}function H5(t){return new Si(bi.INVALID_URL,"Invalid URL '"+t+"'.")}function q5(t){return new Si(bi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a1(t){return new Si(bi.INVALID_ARGUMENT,t)}function qk(){return new Si(bi.APP_DELETED,"The Firebase app was deleted.")}function K5(t){return new Si(bi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qr.makeFromUrl(e,n)}catch{return new Qr(e,"")}if(r.path==="")return r;throw q5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",S=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},w=n===Hk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp(`^https?://${w}/${i}/${I}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:S,indices:E,postModify:c},{regex:T,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<_.length;R++){const M=_[R],N=M.regex.exec(e);if(N){const g=N[M.indices.bucket];let p=N[M.indices.path];p||(p=""),r=new Qr(g,p),M.postModify(r);break}}if(r==null)throw H5(e);return r}}class G5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function f(...I){c||(c=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(S,u())},I)}function m(){s&&clearTimeout(s)}function S(I,...T){if(c){m();return}if(I){m(),f.call(null,I,...T);return}if(u()||o){m(),f.call(null,I,...T);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let E=!1;function w(I){E||(E=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function Y5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){return t!==void 0}function l1(t,e,n,r){if(r<e)throw a1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw a1(`Invalid value for '${t}'. Expected ${n} or less.`)}function J5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Kf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Kf||(Kf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i,s,o,a,u,c,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Kf.NO_ERROR,u=s.getStatus();if(!a||Z5(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Kf.ABORT;r(!1,new yd(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new yd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());X5(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=B5();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?qk():W5();o(u)}else{const u=U5();o(u)}};this.canceled_?n(!1,new yd(!1,null,!0)):this.backoffId_=Q5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function t4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function n4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function i4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function s4(t,e,n,r,i,s,o=!0){const a=J5(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return r4(c,e),t4(c,n),n4(c,s),i4(c,r),new e4(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function a4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gf(e,n)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a4(this._location.path)}get storage(){return this._service}get parent(){const e=o4(this._location.path);if(e===null)return null;const n=new Qr(this._location.bucket,e);return new Gf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K5(e)}}function u1(t,e){const n=e==null?void 0:e[F5];return n==null?null:Qr.makeFromBucketSpec(n,t)}function l4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:SC(i,t.app.options.projectId))}class u4{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Hk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V5,this._maxUploadRetryTime=z5,this._requests=new Set,i!=null?this._bucket=Qr.makeFromBucketSpec(i,this._host):this._bucket=u1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=u1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new G5(qk());{const o=s4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const c1="@firebase/storage",d1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="storage";function c4(t=h0(),e){t=fn(t);const r=$h(t,Kk).getImmediate({identifier:e}),i=_C("storage");return i&&d4(r,...i),r}function d4(t,e,n,r={}){l4(t,e,n,r)}function f4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new u4(n,r,i,e,$o)}function h4(){wo(new Ns(Kk,f4,"PUBLIC").setMultipleInstances(!0)),fi(c1,d1,""),fi(c1,d1,"esm2017")}h4();const p4={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},lp=CC(p4),ee=$I(lp),no=zn(lp);c4(lp);const m4=Object.freeze(Object.defineProperty({__proto__:null,app:lp,auth:no,db:ee},Symbol.toStringTag,{value:"Module"}));function g4(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function y4(){const[t,e]=b.useState([]),[n,r]=b.useState(null),[i,s]=b.useState(""),o=Us();b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),b.useEffect(()=>{async function c(){const h=(await un(Oe(ee,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}c()},[]);const u=t.map(c=>{let f=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(f=g4(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:f}}).sort((c,f)=>c.distance-f.distance).filter(c=>{var f;return(f=c.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>s(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:u.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&o(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?" Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),u.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}function Po(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const v4=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(null,arguments)}function x4(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _4(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var b4=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_4(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=x4(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dn="-ms-",Qf="-moz-",mt="-webkit-",Gk="comm",sx="rule",ox="decl",w4="@import",Qk="@keyframes",S4="@layer",E4=Math.abs,up=String.fromCharCode,T4=Object.assign;function C4(t,e){return In(t,0)^45?(((e<<2^In(t,0))<<2^In(t,1))<<2^In(t,2))<<2^In(t,3):0}function Yk(t){return t.trim()}function I4(t,e){return(t=e.exec(t))?t[0]:t}function gt(t,e,n){return t.replace(e,n)}function Wy(t,e){return t.indexOf(e)}function In(t,e){return t.charCodeAt(e)|0}function Ku(t,e,n){return t.slice(e,n)}function oi(t){return t.length}function ax(t){return t.length}function vd(t,e){return e.push(t),t}function k4(t,e){return t.map(e).join("")}var cp=1,Ya=1,Xk=0,ar=0,sn=0,fl="";function dp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:cp,column:Ya,length:o,return:""}}function Ll(t,e){return T4(dp("",null,null,"",null,null,0),t,{length:-t.length},e)}function R4(){return sn}function P4(){return sn=ar>0?In(fl,--ar):0,Ya--,sn===10&&(Ya=1,cp--),sn}function pr(){return sn=ar<Xk?In(fl,ar++):0,Ya++,sn===10&&(Ya=1,cp++),sn}function yi(){return In(fl,ar)}function qd(){return ar}function Ic(t,e){return Ku(fl,t,e)}function Gu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jk(t){return cp=Ya=1,Xk=oi(fl=t),ar=0,[]}function Zk(t){return fl="",t}function Kd(t){return Yk(Ic(ar-1,Hy(t===91?t+2:t===40?t+1:t)))}function A4(t){for(;(sn=yi())&&sn<33;)pr();return Gu(t)>2||Gu(sn)>3?"":" "}function j4(t,e){for(;--e&&pr()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return Ic(t,qd()+(e<6&&yi()==32&&pr()==32))}function Hy(t){for(;pr();)switch(sn){case t:return ar;case 34:case 39:t!==34&&t!==39&&Hy(sn);break;case 40:t===41&&Hy(t);break;case 92:pr();break}return ar}function O4(t,e){for(;pr()&&t+sn!==57;)if(t+sn===84&&yi()===47)break;return"/*"+Ic(e,ar-1)+"*"+up(t===47?t:pr())}function N4(t){for(;!Gu(yi());)pr();return Ic(t,ar)}function M4(t){return Zk(Gd("",null,null,null,[""],t=Jk(t),0,[0],t))}function Gd(t,e,n,r,i,s,o,a,u){for(var c=0,f=0,h=o,m=0,S=0,E=0,w=1,I=1,T=1,v=0,_="",R=i,M=s,N=r,g=_;I;)switch(E=v,v=pr()){case 40:if(E!=108&&In(g,h-1)==58){Wy(g+=gt(Kd(v),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:g+=Kd(v);break;case 9:case 10:case 13:case 32:g+=A4(E);break;case 92:g+=j4(qd()-1,7);continue;case 47:switch(yi()){case 42:case 47:vd(L4(O4(pr(),qd()),e,n),u);break;default:g+="/"}break;case 123*w:a[c++]=oi(g)*T;case 125*w:case 59:case 0:switch(v){case 0:case 125:I=0;case 59+f:T==-1&&(g=gt(g,/\f/g,"")),S>0&&oi(g)-h&&vd(S>32?h1(g+";",r,n,h-1):h1(gt(g," ","")+";",r,n,h-2),u);break;case 59:g+=";";default:if(vd(N=f1(g,e,n,c,f,i,a,_,R=[],M=[],h),s),v===123)if(f===0)Gd(g,e,N,N,R,s,h,a,M);else switch(m===99&&In(g,3)===110?100:m){case 100:case 108:case 109:case 115:Gd(t,N,N,r&&vd(f1(t,N,N,0,0,i,a,_,i,R=[],h),M),i,M,h,a,r?R:M);break;default:Gd(g,N,N,N,[""],M,0,a,M)}}c=f=S=0,w=T=1,_=g="",h=o;break;case 58:h=1+oi(g),S=E;default:if(w<1){if(v==123)--w;else if(v==125&&w++==0&&P4()==125)continue}switch(g+=up(v),v*w){case 38:T=f>0?1:(g+="\f",-1);break;case 44:a[c++]=(oi(g)-1)*T,T=1;break;case 64:yi()===45&&(g+=Kd(pr())),m=yi(),f=h=oi(_=g+=N4(qd())),v++;break;case 45:E===45&&oi(g)==2&&(w=0)}}return s}function f1(t,e,n,r,i,s,o,a,u,c,f){for(var h=i-1,m=i===0?s:[""],S=ax(m),E=0,w=0,I=0;E<r;++E)for(var T=0,v=Ku(t,h+1,h=E4(w=o[E])),_=t;T<S;++T)(_=Yk(w>0?m[T]+" "+v:gt(v,/&\f/g,m[T])))&&(u[I++]=_);return dp(t,e,n,i===0?sx:a,u,c,f)}function L4(t,e,n){return dp(t,e,n,Gk,up(R4()),Ku(t,2,-2),0)}function h1(t,e,n,r){return dp(t,e,n,ox,Ku(t,0,r),Ku(t,r+1,-1),r)}function Ra(t,e){for(var n="",r=ax(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function D4(t,e,n,r){switch(t.type){case S4:if(t.children.length)break;case w4:case ox:return t.return=t.return||t.value;case Gk:return"";case Qk:return t.return=t.value+"{"+Ra(t.children,r)+"}";case sx:t.value=t.props.join(",")}return oi(n=Ra(t.children,r))?t.return=t.value+"{"+n+"}":""}function $4(t){var e=ax(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function F4(t){return function(e){e.root||(e=e.return)&&t(e)}}function eR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var V4=function(e,n,r){for(var i=0,s=0;i=s,s=yi(),i===38&&s===12&&(n[r]=1),!Gu(s);)pr();return Ic(e,ar)},z4=function(e,n){var r=-1,i=44;do switch(Gu(i)){case 0:i===38&&yi()===12&&(n[r]=1),e[r]+=V4(ar-1,n,r);break;case 2:e[r]+=Kd(i);break;case 4:if(i===44){e[++r]=yi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=up(i)}while(i=pr());return e},B4=function(e,n){return Zk(z4(Jk(e),n))},p1=new WeakMap,U4=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!p1.get(r))&&!i){p1.set(e,!0);for(var s=[],o=B4(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var f=0;f<a.length;f++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[f]):a[f]+" "+o[u]}}},W4=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function tR(t,e){switch(C4(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+Qf+t+Dn+t+t;case 6828:case 4268:return mt+t+Dn+t+t;case 6165:return mt+t+Dn+"flex-"+t+t;case 5187:return mt+t+gt(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Dn+"flex-$1$2")+t;case 5443:return mt+t+Dn+"flex-item-"+gt(t,/flex-|-self/,"")+t;case 4675:return mt+t+Dn+"flex-line-pack"+gt(t,/align-content|flex-|-self/,"")+t;case 5548:return mt+t+Dn+gt(t,"shrink","negative")+t;case 5292:return mt+t+Dn+gt(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+gt(t,"-grow","")+mt+t+Dn+gt(t,"grow","positive")+t;case 4554:return mt+gt(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return gt(gt(gt(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return gt(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return gt(gt(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4095:case 3583:case 4068:case 2532:return gt(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oi(t)-1-e>6)switch(In(t,e+1)){case 109:if(In(t,e+4)!==45)break;case 102:return gt(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+Qf+(In(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wy(t,"stretch")?tR(gt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(In(t,e+1)!==115)break;case 6444:switch(In(t,oi(t)-3-(~Wy(t,"!important")&&10))){case 107:return gt(t,":",":"+mt)+t;case 101:return gt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(In(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Dn+"$2box$3")+t}break;case 5936:switch(In(t,e+11)){case 114:return mt+t+Dn+gt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+Dn+gt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+Dn+gt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mt+t+Dn+t+t}return t}var H4=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case ox:e.return=tR(e.value,e.length);break;case Qk:return Ra([Ll(e,{value:gt(e.value,"@","@"+mt)})],i);case sx:if(e.length)return k4(e.props,function(s){switch(I4(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ra([Ll(e,{props:[gt(s,/:(read-\w+)/,":"+Qf+"$1")]})],i);case"::placeholder":return Ra([Ll(e,{props:[gt(s,/:(plac\w+)/,":"+mt+"input-$1")]}),Ll(e,{props:[gt(s,/:(plac\w+)/,":"+Qf+"$1")]}),Ll(e,{props:[gt(s,/:(plac\w+)/,Dn+"input-$1")]})],i)}return""})}},q4=[H4],nR=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var I=w.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||q4,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var I=w.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)s[I[T]]=!0;a.push(w)});var u,c=[U4,W4];{var f,h=[D4,F4(function(w){f.insert(w)})],m=$4(c.concat(i,h)),S=function(I){return Ra(M4(I),m)};u=function(I,T,v,_){f=v,S(I?I+"{"+T.styles+"}":T.styles),_&&(E.inserted[T.name]=!0)}}var E={key:n,sheet:new b4({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return E.sheet.hydrate(a),E},rR={exports:{}},Et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wn=typeof Symbol=="function"&&Symbol.for,lx=wn?Symbol.for("react.element"):60103,ux=wn?Symbol.for("react.portal"):60106,fp=wn?Symbol.for("react.fragment"):60107,hp=wn?Symbol.for("react.strict_mode"):60108,pp=wn?Symbol.for("react.profiler"):60114,mp=wn?Symbol.for("react.provider"):60109,gp=wn?Symbol.for("react.context"):60110,cx=wn?Symbol.for("react.async_mode"):60111,yp=wn?Symbol.for("react.concurrent_mode"):60111,vp=wn?Symbol.for("react.forward_ref"):60112,xp=wn?Symbol.for("react.suspense"):60113,K4=wn?Symbol.for("react.suspense_list"):60120,_p=wn?Symbol.for("react.memo"):60115,bp=wn?Symbol.for("react.lazy"):60116,G4=wn?Symbol.for("react.block"):60121,Q4=wn?Symbol.for("react.fundamental"):60117,Y4=wn?Symbol.for("react.responder"):60118,X4=wn?Symbol.for("react.scope"):60119;function _r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lx:switch(t=t.type,t){case cx:case yp:case fp:case pp:case hp:case xp:return t;default:switch(t=t&&t.$$typeof,t){case gp:case vp:case bp:case _p:case mp:return t;default:return e}}case ux:return e}}}function iR(t){return _r(t)===yp}Et.AsyncMode=cx;Et.ConcurrentMode=yp;Et.ContextConsumer=gp;Et.ContextProvider=mp;Et.Element=lx;Et.ForwardRef=vp;Et.Fragment=fp;Et.Lazy=bp;Et.Memo=_p;Et.Portal=ux;Et.Profiler=pp;Et.StrictMode=hp;Et.Suspense=xp;Et.isAsyncMode=function(t){return iR(t)||_r(t)===cx};Et.isConcurrentMode=iR;Et.isContextConsumer=function(t){return _r(t)===gp};Et.isContextProvider=function(t){return _r(t)===mp};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lx};Et.isForwardRef=function(t){return _r(t)===vp};Et.isFragment=function(t){return _r(t)===fp};Et.isLazy=function(t){return _r(t)===bp};Et.isMemo=function(t){return _r(t)===_p};Et.isPortal=function(t){return _r(t)===ux};Et.isProfiler=function(t){return _r(t)===pp};Et.isStrictMode=function(t){return _r(t)===hp};Et.isSuspense=function(t){return _r(t)===xp};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fp||t===yp||t===pp||t===hp||t===xp||t===K4||typeof t=="object"&&t!==null&&(t.$$typeof===bp||t.$$typeof===_p||t.$$typeof===mp||t.$$typeof===gp||t.$$typeof===vp||t.$$typeof===Q4||t.$$typeof===Y4||t.$$typeof===X4||t.$$typeof===G4)};Et.typeOf=_r;rR.exports=Et;var J4=rR.exports,sR=J4,Z4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oR={};oR[sR.ForwardRef]=Z4;oR[sR.Memo]=e$;var t$=!0;function aR(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var dx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||t$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},fx=function(e,n,r){dx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function n$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var r$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i$=/[A-Z]|^ms/g,s$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lR=function(e){return e.charCodeAt(1)===45},m1=function(e){return e!=null&&typeof e!="boolean"},Qm=eR(function(t){return lR(t)?t:t.replace(i$,"-$&").toLowerCase()}),g1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(s$,function(r,i,s){return ai={name:i,styles:s,next:ai},i})}return r$[e]!==1&&!lR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Qu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ai={name:i.name,styles:i.styles,next:ai},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ai={name:o.name,styles:o.styles,next:ai},o=o.next;var a=s.styles+";";return a}return o$(t,e,n)}case"function":{if(t!==void 0){var u=ai,c=n(t);return ai=u,Qu(t,e,c)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function o$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Qu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":m1(a)&&(r+=Qm(s)+":"+g1(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)m1(o[u])&&(r+=Qm(s)+":"+g1(s,o[u])+";");else{var c=Qu(t,e,o);switch(s){case"animation":case"animationName":{r+=Qm(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var y1=/label:\s*([^\s;{]+)\s*(;|$)/g,ai;function kc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ai=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Qu(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Qu(n,e,t[a]),r){var u=s;i+=u[a]}y1.lastIndex=0;for(var c="",f;(f=y1.exec(i))!==null;)c+="-"+f[1];var h=n$(i)+c;return{name:h,styles:i,next:ai}}var a$=function(e){return e()},uR=nf.useInsertionEffect?nf.useInsertionEffect:!1,cR=uR||a$,v1=uR||b.useLayoutEffect,dR=b.createContext(typeof HTMLElement<"u"?nR({key:"css"}):null),l$=dR.Provider,hx=function(e){return b.forwardRef(function(n,r){var i=b.useContext(dR);return e(n,i,r)})},hl=b.createContext({}),px={}.hasOwnProperty,qy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",u$=function(e,n){var r={};for(var i in n)px.call(n,i)&&(r[i]=n[i]);return r[qy]=e,r},c$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return dx(n,r,i),cR(function(){return fx(n,r,i)}),null},d$=hx(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[qy],s=[r],o="";typeof t.className=="string"?o=aR(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=kc(s,void 0,b.useContext(hl));o+=e.key+"-"+a.name;var u={};for(var c in t)px.call(t,c)&&c!=="css"&&c!==qy&&(u[c]=t[c]);return u.className=o,n&&(u.ref=n),b.createElement(b.Fragment,null,b.createElement(c$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),b.createElement(i,u))}),f$=d$,Ym={exports:{}},x1;function fR(){return x1||(x1=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Ym)),Ym.exports}fR();var _1=function(e,n){var r=arguments;if(n==null||!px.call(n,"css"))return b.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=f$,s[1]=u$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return b.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_1||(_1={}));var h$=hx(function(t,e){var n=t.styles,r=kc([n],void 0,b.useContext(hl)),i=b.useRef();return v1(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),v1(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&fx(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function hR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return kc(e)}function wp(){var t=hR.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var p$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,m$=eR(function(t){return p$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),g$=m$,y$=function(e){return e!=="theme"},b1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?g$:y$},w1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},v$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return dx(n,r,i),cR(function(){return fx(n,r,i)}),null},x$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=w1(e,n,r),u=a||b1(i),c=!u("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var S=f.length,E=1;E<S;E++)h.push(f[E],m[E])}var w=hx(function(I,T,v){var _=c&&I.as||i,R="",M=[],N=I;if(I.theme==null){N={};for(var g in I)N[g]=I[g];N.theme=b.useContext(hl)}typeof I.className=="string"?R=aR(T.registered,M,I.className):I.className!=null&&(R=I.className+" ");var p=kc(h.concat(M),T.registered,N);R+=T.key+"-"+p.name,o!==void 0&&(R+=" "+o);var y=c&&a===void 0?b1(_):u,C={};for(var O in I)c&&O==="as"||y(O)&&(C[O]=I[O]);return C.className=R,v&&(C.ref=v),b.createElement(b.Fragment,null,b.createElement(v$,{cache:T,serialized:p,isStringTag:typeof _=="string"}),b.createElement(_,C))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=h,w.__emotion_forwardProp=a,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(I,T){var v=t(I,$({},n,T,{shouldForwardProp:w1(w,T,!0)}));return v.apply(void 0,h)},w}},_$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ky=x$.bind(null);_$.forEach(function(t){Ky[t]=Ky(t)});function b$(t,e){const n=nR({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Xm=new Map;function w$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=b.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&Xm.has(s))return Xm.get(s);const o=b$(e,n);return Xm.set(s,o),o},[e,n]);return e||n?l.jsx(l$,{value:i,children:r}):r}function S$(t){return t==null||Object.keys(t).length===0}function pR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(S$(i)?n:i):e;return l.jsx(h$,{styles:r})}function mx(t,e){return Ky(t,e)}const mR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},S1=[];function Yf(t){return S1[0]=t,kc(S1)}const E$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:pR,StyledEngineProvider:w$,ThemeContext:hl,css:hR,default:mx,internal_processStyles:mR,internal_serializeStyles:Yf,keyframes:wp},Symbol.toStringTag,{value:"Module"}));function Pe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ni(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gR(t){if(b.isValidElement(t)||!Ni(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=gR(t[n])}),e}function mr(t,e,n={clone:!0}){const r=n.clone?$({},t):t;return Ni(t)&&Ni(e)&&Object.keys(e).forEach(i=>{b.isValidElement(e[i])?r[i]=e[i]:Ni(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ni(t[i])?r[i]=mr(t[i],e[i],n):n.clone?r[i]=Ni(e[i])?gR(e[i]):e[i]:r[i]=e[i]}),r}const T$=Object.freeze(Object.defineProperty({__proto__:null,default:mr,isPlainObject:Ni},Symbol.toStringTag,{value:"Module"})),C$=["values","unit","step"],I$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function yR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Pe(t,C$),s=I$(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,S){const E=o.indexOf(S);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(E!==-1&&typeof e[o[E]]=="number"?e[o[E]]:S)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function h(m){const S=o.indexOf(m);return S===0?a(o[1]):S===o.length-1?u(o[S]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return $({keys:o,values:s,up:a,down:u,between:c,only:f,not:h,unit:n},i)}const k$={borderRadius:4};function yu(t,e){return e?mr(t,e,{clone:!1}):t}const gx={xs:0,sm:600,md:900,lg:1200,xl:1536},E1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${gx[t]}px)`};function $r(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||E1;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||E1;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||gx).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function R$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function T1(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function P$(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Sp({values:t,breakpoints:e,base:n}){const r=n||P$(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Xe(t){if(typeof t!="string")throw new Error(Po(7));return t.charAt(0).toUpperCase()+t.slice(1)}const A$=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"}));function Xa(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Xf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Xa(t,n)||r,e&&(i=e(i,r,t)),i}function Jt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=Xa(u,r)||{};return $r(o,a,h=>{let m=Xf(c,i,h);return h===m&&typeof h=="string"&&(m=Xf(c,i,`${e}${h==="default"?"":Xe(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function j$(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const O$={m:"margin",p:"padding"},N$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},C1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},M$=j$(t=>{if(t.length>2)if(C1[t])t=C1[t];else return[t];const[e,n]=t.split(""),r=O$[e],i=N$[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),yx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],vx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...yx,...vx];function Rc(t,e,n,r){var i;const s=(i=Xa(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function vR(t){return Rc(t,"spacing",8)}function Pc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function L$(t,e){return n=>t.reduce((r,i)=>(r[i]=Pc(e,n),r),{})}function D$(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=M$(n),s=L$(i,r),o=t[n];return $r(t,o,s)}function xR(t,e){const n=vR(t.theme);return Object.keys(t).map(r=>D$(t,e,r,n)).reduce(yu,{})}function qt(t){return xR(t,yx)}qt.propTypes={};qt.filterProps=yx;function Kt(t){return xR(t,vx)}Kt.propTypes={};Kt.filterProps=vx;function $$(t=8){if(t.mui)return t;const e=vR({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Ep(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?yu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Rr(t){return typeof t!="number"?t:`${t}px solid`}function Vr(t,e){return Jt({prop:t,themeKey:"borders",transform:e})}const F$=Vr("border",Rr),V$=Vr("borderTop",Rr),z$=Vr("borderRight",Rr),B$=Vr("borderBottom",Rr),U$=Vr("borderLeft",Rr),W$=Vr("borderColor"),H$=Vr("borderTopColor"),q$=Vr("borderRightColor"),K$=Vr("borderBottomColor"),G$=Vr("borderLeftColor"),Q$=Vr("outline",Rr),Y$=Vr("outlineColor"),Tp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Rc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Pc(e,r)});return $r(t,t.borderRadius,n)}return null};Tp.propTypes={};Tp.filterProps=["borderRadius"];Ep(F$,V$,z$,B$,U$,W$,H$,q$,K$,G$,Tp,Q$,Y$);const Cp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({gap:Pc(e,r)});return $r(t,t.gap,n)}return null};Cp.propTypes={};Cp.filterProps=["gap"];const Ip=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({columnGap:Pc(e,r)});return $r(t,t.columnGap,n)}return null};Ip.propTypes={};Ip.filterProps=["columnGap"];const kp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Rc(t.theme,"spacing",8),n=r=>({rowGap:Pc(e,r)});return $r(t,t.rowGap,n)}return null};kp.propTypes={};kp.filterProps=["rowGap"];const X$=Jt({prop:"gridColumn"}),J$=Jt({prop:"gridRow"}),Z$=Jt({prop:"gridAutoFlow"}),eF=Jt({prop:"gridAutoColumns"}),tF=Jt({prop:"gridAutoRows"}),nF=Jt({prop:"gridTemplateColumns"}),rF=Jt({prop:"gridTemplateRows"}),iF=Jt({prop:"gridTemplateAreas"}),sF=Jt({prop:"gridArea"});Ep(Cp,Ip,kp,X$,J$,Z$,eF,tF,nF,rF,iF,sF);function Pa(t,e){return e==="grey"?e:t}const oF=Jt({prop:"color",themeKey:"palette",transform:Pa}),aF=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Pa}),lF=Jt({prop:"backgroundColor",themeKey:"palette",transform:Pa});Ep(oF,aF,lF);function cr(t){return t<=1&&t!==0?`${t*100}%`:t}const uF=Jt({prop:"width",transform:cr}),xx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||gx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:cr(n)}};return $r(t,t.maxWidth,e)}return null};xx.filterProps=["maxWidth"];const cF=Jt({prop:"minWidth",transform:cr}),dF=Jt({prop:"height",transform:cr}),fF=Jt({prop:"maxHeight",transform:cr}),hF=Jt({prop:"minHeight",transform:cr});Jt({prop:"size",cssProperty:"width",transform:cr});Jt({prop:"size",cssProperty:"height",transform:cr});const pF=Jt({prop:"boxSizing"});Ep(uF,xx,cF,dF,fF,hF,pF);const Ac={border:{themeKey:"borders",transform:Rr},borderTop:{themeKey:"borders",transform:Rr},borderRight:{themeKey:"borders",transform:Rr},borderBottom:{themeKey:"borders",transform:Rr},borderLeft:{themeKey:"borders",transform:Rr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Rr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Tp},color:{themeKey:"palette",transform:Pa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Pa},backgroundColor:{themeKey:"palette",transform:Pa},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Cp},rowGap:{style:kp},columnGap:{style:Ip},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:cr},maxWidth:{style:xx},minWidth:{transform:cr},height:{transform:cr},maxHeight:{transform:cr},minHeight:{transform:cr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function mF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function gF(t,e){return typeof t=="function"?t(e):t}function _R(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:f,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=Xa(i,c)||{};return h?h(o):$r(o,r,E=>{let w=Xf(m,f,E);return E===w&&typeof E=="string"&&(w=Xf(m,f,`${n}${E==="default"?"":Xe(E)}`,E)),u===!1?w:{[u]:w}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:Ac;function u(c){let f=c;if(typeof c=="function")f=c(s);else if(typeof c!="object")return c;if(!f)return null;const h=R$(s.breakpoints),m=Object.keys(h);let S=h;return Object.keys(f).forEach(E=>{const w=gF(f[E],s);if(w!=null)if(typeof w=="object")if(a[E])S=yu(S,t(E,w,s,a));else{const I=$r({theme:s},w,T=>({[E]:T}));mF(I,w)?S[E]=e({sx:w,theme:s,nested:!0}):S=yu(S,I)}else S=yu(S,t(E,w,s,a))}),!o&&s.modularCssLayers?{"@layer sx":T1(m,S)}:T1(m,S)}return Array.isArray(i)?i.map(u):u(i)}return e}const pl=_R();pl.filterProps=["sx"];function bR(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const yF=["breakpoints","palette","spacing","shape"];function jc(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Pe(t,yF),a=yR(n),u=$$(i);let c=mr({breakpoints:a,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:u,shape:$({},k$,s)},o);return c.applyStyles=bR,c=e.reduce((f,h)=>mr(f,h),c),c.unstable_sxConfig=$({},Ac,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return pl({sx:h,theme:this})},c}const vF=Object.freeze(Object.defineProperty({__proto__:null,default:jc,private_createBreakpoints:yR,unstable_applyStyles:bR},Symbol.toStringTag,{value:"Module"}));function xF(t){return Object.keys(t).length===0}function _x(t=null){const e=b.useContext(hl);return!e||xF(e)?t:e}const _F=jc();function Rp(t=_F){return _x(t)}function Jm(t){const e=Yf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function wR({styles:t,themeId:e,defaultTheme:n={}}){const r=Rp(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>Jm(typeof o=="function"?o(i):o)):s=Jm(s)),l.jsx(pR,{styles:s})}const bF=["sx"],wF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Ac;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Pp(t){const{sx:e}=t,n=Pe(t,bF),{systemProps:r,otherProps:i}=wF(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ni(a)?$({},r,a):r}:s=$({},r,e),$({},i,{sx:s})}const SF=Object.freeze(Object.defineProperty({__proto__:null,default:pl,extendSxProp:Pp,unstable_createStyleFunctionSx:_R,unstable_defaultSxConfig:Ac},Symbol.toStringTag,{value:"Module"})),I1=t=>t,EF=()=>{let t=I1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=I1}}},SR=EF(),TF=["className","component"];function CF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=mx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(pl);return b.forwardRef(function(u,c){const f=Rp(n),h=Pp(u),{className:m,component:S="div"}=h,E=Pe(h,TF);return l.jsx(s,$({as:S,ref:c,className:Fe(m,i?i(r):r),theme:e&&f[e]||f},E))})}const IF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function xt(t,e,n="Mui"){const r=IF[e];return r?`${n}-${r}`:`${SR.generate(t)}-${e}`}function ht(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=xt(t,i,n)}),r}var ER={exports:{}},It={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=Symbol.for("react.transitional.element"),wx=Symbol.for("react.portal"),Ap=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Op=Symbol.for("react.profiler"),Np=Symbol.for("react.consumer"),Mp=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Vp=Symbol.for("react.lazy"),kF=Symbol.for("react.view_transition"),RF=Symbol.for("react.client.reference");function zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bx:switch(t=t.type,t){case Ap:case Op:case jp:case Dp:case $p:case kF:return t;default:switch(t=t&&t.$$typeof,t){case Mp:case Lp:case Vp:case Fp:return t;case Np:return t;default:return e}}case wx:return e}}}It.ContextConsumer=Np;It.ContextProvider=Mp;It.Element=bx;It.ForwardRef=Lp;It.Fragment=Ap;It.Lazy=Vp;It.Memo=Fp;It.Portal=wx;It.Profiler=Op;It.StrictMode=jp;It.Suspense=Dp;It.SuspenseList=$p;It.isContextConsumer=function(t){return zr(t)===Np};It.isContextProvider=function(t){return zr(t)===Mp};It.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bx};It.isForwardRef=function(t){return zr(t)===Lp};It.isFragment=function(t){return zr(t)===Ap};It.isLazy=function(t){return zr(t)===Vp};It.isMemo=function(t){return zr(t)===Fp};It.isPortal=function(t){return zr(t)===wx};It.isProfiler=function(t){return zr(t)===Op};It.isStrictMode=function(t){return zr(t)===jp};It.isSuspense=function(t){return zr(t)===Dp};It.isSuspenseList=function(t){return zr(t)===$p};It.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ap||t===Op||t===jp||t===Dp||t===$p||typeof t=="object"&&t!==null&&(t.$$typeof===Vp||t.$$typeof===Fp||t.$$typeof===Mp||t.$$typeof===Np||t.$$typeof===Lp||t.$$typeof===RF||t.getModuleId!==void 0)};It.typeOf=zr;ER.exports=It;var k1=ER.exports;const PF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function TR(t){const e=`${t}`.match(PF);return e&&e[1]||""}function CR(t,e=""){return t.displayName||t.name||TR(t)||e}function R1(t,e,n){const r=CR(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function AF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return CR(t,"Component");if(typeof t=="object")switch(t.$$typeof){case k1.ForwardRef:return R1(t,t.render,"ForwardRef");case k1.Memo:return R1(t,t.type,"memo");default:return}}}const jF=Object.freeze(Object.defineProperty({__proto__:null,default:AF,getFunctionName:TR},Symbol.toStringTag,{value:"Module"})),OF=["ownerState"],NF=["variants"],MF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function LF(t){return Object.keys(t).length===0}function DF(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Zm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function P1(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const $F=jc(),FF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function xd({defaultTheme:t,theme:e,themeId:n}){return LF(e)?t:e[n]||e}function VF(t){return t?(e,n)=>n[t]:null}function Qd(t,e,n){let{ownerState:r}=e,i=Pe(e,OF);const s=typeof t=="function"?t($({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Qd(o,$({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=Pe(s,NF);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props($({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style($({ownerState:r},i,r)):c.style;u.push(n?P1(Yf(h),n):h)}}),u}return n?P1(Yf(s),n):s}function zF(t={}){const{themeId:e,defaultTheme:n=$F,rootShouldForwardProp:r=Zm,slotShouldForwardProp:i=Zm}=t,s=o=>pl($({},o,{theme:xd($({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{mR(o,N=>N.filter(g=>!(g!=null&&g.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=VF(FF(c))}=a,S=Pe(a,MF),E=u&&u.startsWith("Mui")||c?"components":"custom",w=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let T,v=Zm;c==="Root"||c==="root"?v=r:c?v=i:DF(o)&&(v=void 0);const _=mx(o,$({shouldForwardProp:v,label:T},S)),R=N=>typeof N=="function"&&N.__emotion_real!==N||Ni(N)?g=>{const p=xd({theme:g.theme,defaultTheme:n,themeId:e});return Qd(N,$({},g,{theme:p}),p.modularCssLayers?E:void 0)}:N,M=(N,...g)=>{let p=R(N);const y=g?g.map(R):[];u&&m&&y.push(j=>{const P=xd($({},j,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const B=P.components[u].styleOverrides,F={};return Object.entries(B).forEach(([U,z])=>{F[U]=Qd(z,$({},j,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(j,F)}),u&&!w&&y.push(j=>{var P;const B=xd($({},j,{defaultTheme:n,themeId:e})),F=B==null||(P=B.components)==null||(P=P[u])==null?void 0:P.variants;return Qd({variants:F},$({},j,{theme:B}),B.modularCssLayers?"theme":void 0)}),I||y.push(s);const C=y.length-g.length;if(Array.isArray(N)&&C>0){const j=new Array(C).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const O=_(p,...y);return o.muiName&&(O.muiName=o.muiName),O};return _.withConfig&&(M.withConfig=_.withConfig),M}}const BF=zF();function Yu(t,e){const n=$({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=$({},s),Object.keys(i).forEach(o=>{n[r][o]=Yu(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function UF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Yu(e.components[n].defaultProps,r)}function WF({props:t,name:e,defaultTheme:n,themeId:r}){let i=Rp(n);return r&&(i=i[r]||i),UF({theme:i,name:e,props:t})}const Zi=typeof window<"u"?b.useLayoutEffect:b.useEffect;function HF(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const qF=Object.freeze(Object.defineProperty({__proto__:null,default:HF},Symbol.toStringTag,{value:"Module"}));function A1(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function IR(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function eg(t,e){var n,r;return b.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function gr(t){return t&&t.ownerDocument||document}function Ao(t){return gr(t).defaultView||window}function Gy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let j1=0;function KF(t){const[e,n]=b.useState(t),r=t||e;return b.useEffect(()=>{e==null&&(j1+=1,n(`mui-${j1}`))},[e]),r}const O1=nf.useId;function Sx(t){if(O1!==void 0){const e=O1();return t??e}return KF(t)}function N1({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=b.useRef(t!==void 0),[s,o]=b.useState(e),a=i?t:s,u=b.useCallback(c=>{i||o(c)},[]);return[a,u]}function uo(t){const e=b.useRef(t);return Zi(()=>{e.current=t}),b.useRef((...n)=>(0,e.current)(...n)).current}function Wn(...t){return b.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Gy(n,e)})},t)}const M1={};function GF(t,e){const n=b.useRef(M1);return n.current===M1&&(n.current=t(e)),n}const QF=[];function YF(t){b.useEffect(t,QF)}class zp{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new zp}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function kR(){const t=GF(zp.create).current;return YF(t.disposeEffect),t}let Bp=!0,Qy=!1;const XF=new zp,JF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZF(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&JF[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function eV(t){t.metaKey||t.altKey||t.ctrlKey||(Bp=!0)}function tg(){Bp=!1}function tV(){this.visibilityState==="hidden"&&Qy&&(Bp=!0)}function nV(t){t.addEventListener("keydown",eV,!0),t.addEventListener("mousedown",tg,!0),t.addEventListener("pointerdown",tg,!0),t.addEventListener("touchstart",tg,!0),t.addEventListener("visibilitychange",tV,!0)}function rV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Bp||ZF(e)}function RR(){const t=b.useCallback(i=>{i!=null&&nV(i.ownerDocument)},[]),e=b.useRef(!1);function n(){return e.current?(Qy=!0,XF.start(100,()=>{Qy=!1}),e.current=!1,!0):!1}function r(i){return rV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function PR(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Tt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function Jf(t){return typeof t=="string"}function iV(t,e,n){return t===void 0||Jf(t)?e:$({},e,{ownerState:$({},e.ownerState,n)})}function AR(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function L1(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function sV(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const S=Fe(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),E=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),w=$({},n,i,r);return S.length>0&&(w.className=S),Object.keys(E).length>0&&(w.style=E),{props:w,internalRef:void 0}}const o=AR($({},i,r)),a=L1(r),u=L1(i),c=e(o),f=Fe(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=$({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=$({},c,n,u,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function oV(t,e,n){return typeof t=="function"?t(e,n):t}const aV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ja(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Pe(t,aV),a=s?{}:oV(r,i),{props:u,internalRef:c}=sV($({},o,{externalSlotProps:a})),f=Wn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return iV(n,$({},u,{ref:f}),i)}function Oc(t){if(parseInt(b.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const jR=b.createContext(null);function OR(){return b.useContext(jR)}const lV=typeof Symbol=="function"&&Symbol.for,uV=lV?Symbol.for("mui.nested"):"__THEME_NESTED__";function cV(t,e){return typeof e=="function"?e(t):$({},t,e)}function dV(t){const{children:e,theme:n}=t,r=OR(),i=b.useMemo(()=>{const s=r===null?n:cV(r,n);return s!=null&&(s[uV]=r!==null),s},[n,r]);return l.jsx(jR.Provider,{value:i,children:e})}const fV=["value"],NR=b.createContext();function hV(t){let{value:e}=t,n=Pe(t,fV);return l.jsx(NR.Provider,$({value:e??!0},n))}const pV=()=>{const t=b.useContext(NR);return t??!1},MR=b.createContext(void 0);function mV({value:t,children:e}){return l.jsx(MR.Provider,{value:t,children:e})}function gV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Yu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Yu(i,r):r}function yV({props:t,name:e}){const n=b.useContext(MR);return gV({props:t,name:e,theme:{components:n}})}function vV(t){const e=_x(),n=Sx()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Zi(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,s.prepend(c)}else{var u;(u=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||u.remove()}},[i,n]),i?l.jsx(wR,{styles:i}):null}const D1={};function $1(t,e,n,r=!1){return b.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?$({},e,{[t]:s}):s;return r?()=>o:o}return t?$({},e,{[t]:n}):$({},e,n)},[t,e,n,r])}function xV(t){const{children:e,theme:n,themeId:r}=t,i=_x(D1),s=OR()||D1,o=$1(r,i,n),a=$1(r,s,n,!0),u=o.direction==="rtl",c=vV(o);return l.jsx(dV,{theme:a,children:l.jsx(hl.Provider,{value:o,children:l.jsx(hV,{value:u,children:l.jsxs(mV,{value:o==null?void 0:o.components,children:[c,e]})})})})}const _V=["className","component","disableGutters","fixed","maxWidth","classes"],bV=jc(),wV=BF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Xe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),SV=t=>WF({props:t,name:"MuiContainer",defaultTheme:bV}),EV=(t,e)=>{const n=u=>xt(e,u),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${Xe(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Tt(a,n,r)};function TV(t={}){const{createStyledComponent:e=wV,useThemeProps:n=SV,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((u,c)=>{const f=c,h=o.breakpoints.values[f];return h!==0&&(u[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),u},{}),({theme:o,ownerState:a})=>$({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return b.forwardRef(function(a,u){const c=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:S=!1,maxWidth:E="lg"}=c,w=Pe(c,_V),I=$({},c,{component:h,disableGutters:m,fixed:S,maxWidth:E}),T=EV(I,r);return l.jsx(i,$({as:h,ownerState:I,className:Fe(T.root,f),ref:u},w))})}var Nc={},LR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(LR);var DR=LR.exports,ng={exports:{}},F1;function CV(){return F1||(F1=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ng)),ng.exports}const IV=es(E$),kV=es(T$),RV=es(A$),PV=es(jF),AV=es(vF),jV=es(SF);var ml=DR;Object.defineProperty(Nc,"__esModule",{value:!0});var OV=Nc.default=qV;Nc.shouldForwardProp=Yd;Nc.systemDefaultTheme=void 0;var Tr=ml(fR()),Yy=ml(CV()),Zf=VV(IV),NV=kV;ml(RV);ml(PV);var MV=ml(AV),LV=ml(jV);const DV=["ownerState"],$V=["variants"],FV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $R(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return($R=function(r){return r?n:e})(t)}function VV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=$R(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function zV(t){return Object.keys(t).length===0}function BV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Yd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function V1(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const UV=Nc.systemDefaultTheme=(0,MV.default)(),WV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function _d({defaultTheme:t,theme:e,themeId:n}){return zV(e)?t:e[n]||e}function HV(t){return t?(e,n)=>n[t]:null}function Xd(t,e,n){let{ownerState:r}=e,i=(0,Yy.default)(e,DV);const s=typeof t=="function"?t((0,Tr.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Xd(o,(0,Tr.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=(0,Yy.default)(s,$V);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props((0,Tr.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style((0,Tr.default)({ownerState:r},i,r)):c.style;u.push(n?V1((0,Zf.internal_serializeStyles)(h),n):h)}}),u}return n?V1((0,Zf.internal_serializeStyles)(s),n):s}function qV(t={}){const{themeId:e,defaultTheme:n=UV,rootShouldForwardProp:r=Yd,slotShouldForwardProp:i=Yd}=t,s=o=>(0,LV.default)((0,Tr.default)({},o,{theme:_d((0,Tr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,Zf.internal_processStyles)(o,N=>N.filter(g=>!(g!=null&&g.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=HV(WV(c))}=a,S=(0,Yy.default)(a,FV),E=u&&u.startsWith("Mui")||c?"components":"custom",w=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let T,v=Yd;c==="Root"||c==="root"?v=r:c?v=i:BV(o)&&(v=void 0);const _=(0,Zf.default)(o,(0,Tr.default)({shouldForwardProp:v,label:T},S)),R=N=>typeof N=="function"&&N.__emotion_real!==N||(0,NV.isPlainObject)(N)?g=>{const p=_d({theme:g.theme,defaultTheme:n,themeId:e});return Xd(N,(0,Tr.default)({},g,{theme:p}),p.modularCssLayers?E:void 0)}:N,M=(N,...g)=>{let p=R(N);const y=g?g.map(R):[];u&&m&&y.push(j=>{const P=_d((0,Tr.default)({},j,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const B=P.components[u].styleOverrides,F={};return Object.entries(B).forEach(([U,z])=>{F[U]=Xd(z,(0,Tr.default)({},j,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(j,F)}),u&&!w&&y.push(j=>{var P;const B=_d((0,Tr.default)({},j,{defaultTheme:n,themeId:e})),F=B==null||(P=B.components)==null||(P=P[u])==null?void 0:P.variants;return Xd({variants:F},(0,Tr.default)({},j,{theme:B}),B.modularCssLayers?"theme":void 0)}),I||y.push(s);const C=y.length-g.length;if(Array.isArray(N)&&C>0){const j=new Array(C).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const O=_(p,...y);return o.muiName&&(O.muiName=o.muiName),O};return _.withConfig&&(M.withConfig=_.withConfig),M}}function KV(t,e){return $({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Zt={};const GV=es(v4),QV=es(qF);var FR=DR;Object.defineProperty(Zt,"__esModule",{value:!0});var Ar=Zt.alpha=UR;Zt.blend=lz;Zt.colorChannel=void 0;var YV=Zt.darken=Tx;Zt.decomposeColor=Fr;Zt.emphasize=WR;var XV=Zt.getContrastRatio=rz;Zt.getLuminance=eh;Zt.hexToRgb=VR;Zt.hslToRgb=BR;var JV=Zt.lighten=Cx;Zt.private_safeAlpha=iz;Zt.private_safeColorChannel=void 0;Zt.private_safeDarken=sz;Zt.private_safeEmphasize=az;Zt.private_safeLighten=oz;Zt.recomposeColor=gl;Zt.rgbToHex=nz;var z1=FR(GV),ZV=FR(QV);function Ex(t,e=0,n=1){return(0,ZV.default)(t,e,n)}function VR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ez(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Fr(t){if(t.type)return t;if(t.charAt(0)==="#")return Fr(VR(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,z1.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,z1.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const zR=t=>{const e=Fr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Zt.colorChannel=zR;const tz=(t,e)=>{try{return zR(t)}catch{return t}};Zt.private_safeColorChannel=tz;function gl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function nz(t){if(t.indexOf("#")===0)return t;const{values:e}=Fr(t);return`#${e.map((n,r)=>ez(r===3?Math.round(255*n):n)).join("")}`}function BR(t){t=Fr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,f=(c+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),gl({type:a,values:u})}function eh(t){t=Fr(t);let e=t.type==="hsl"||t.type==="hsla"?Fr(BR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function rz(t,e){const n=eh(t),r=eh(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function UR(t,e){return t=Fr(t),e=Ex(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,gl(t)}function iz(t,e,n){try{return UR(t,e)}catch{return t}}function Tx(t,e){if(t=Fr(t),e=Ex(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return gl(t)}function sz(t,e,n){try{return Tx(t,e)}catch{return t}}function Cx(t,e){if(t=Fr(t),e=Ex(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return gl(t)}function oz(t,e,n){try{return Cx(t,e)}catch{return t}}function WR(t,e=.15){return eh(t)>.5?Tx(t,e):Cx(t,e)}function az(t,e,n){try{return WR(t,e)}catch{return t}}function lz(t,e,n,r=1){const i=(u,c)=>Math.round((u**(1/r)*(1-n)+c**(1/r)*n)**r),s=Fr(t),o=Fr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return gl({type:"rgb",values:a})}const Xu={black:"#000",white:"#fff"},uz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Go={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Qo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Dl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Yo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Xo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Jo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cz=["mode","contrastThreshold","tonalOffset"],B1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xu.white,default:Xu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rg={text:{primary:Xu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function U1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=JV(t.main,i):e==="dark"&&(t.dark=YV(t.main,s)))}function dz(t="light"){return t==="dark"?{main:Yo[200],light:Yo[50],dark:Yo[400]}:{main:Yo[700],light:Yo[400],dark:Yo[800]}}function fz(t="light"){return t==="dark"?{main:Go[200],light:Go[50],dark:Go[400]}:{main:Go[500],light:Go[300],dark:Go[700]}}function hz(t="light"){return t==="dark"?{main:Qo[500],light:Qo[300],dark:Qo[700]}:{main:Qo[700],light:Qo[400],dark:Qo[800]}}function pz(t="light"){return t==="dark"?{main:Xo[400],light:Xo[300],dark:Xo[700]}:{main:Xo[700],light:Xo[500],dark:Xo[900]}}function mz(t="light"){return t==="dark"?{main:Jo[400],light:Jo[300],dark:Jo[700]}:{main:Jo[800],light:Jo[500],dark:Jo[900]}}function gz(t="light"){return t==="dark"?{main:Dl[400],light:Dl[300],dark:Dl[700]}:{main:"#ed6c02",light:Dl[500],dark:Dl[900]}}function yz(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Pe(t,cz),s=t.primary||dz(e),o=t.secondary||fz(e),a=t.error||hz(e),u=t.info||pz(e),c=t.success||mz(e),f=t.warning||gz(e);function h(w){return XV(w,rg.text.primary)>=n?rg.text.primary:B1.text.primary}const m=({color:w,name:I,mainShade:T=500,lightShade:v=300,darkShade:_=700})=>{if(w=$({},w),!w.main&&w[T]&&(w.main=w[T]),!w.hasOwnProperty("main"))throw new Error(Po(11,I?` (${I})`:"",T));if(typeof w.main!="string")throw new Error(Po(12,I?` (${I})`:"",JSON.stringify(w.main)));return U1(w,"light",v,r),U1(w,"dark",_,r),w.contrastText||(w.contrastText=h(w.main)),w},S={dark:rg,light:B1};return mr($({common:$({},Xu),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:uz,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},S[e]),i)}const vz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xz(t){return Math.round(t*1e5)/1e5}const W1={textTransform:"uppercase"},H1='"Roboto", "Helvetica", "Arial", sans-serif';function _z(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=H1,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,m=Pe(n,vz),S=i/14,E=h||(T=>`${T/c*S}rem`),w=(T,v,_,R,M)=>$({fontFamily:r,fontWeight:T,fontSize:E(v),lineHeight:_},r===H1?{letterSpacing:`${xz(R/v)}em`}:{},M,f),I={h1:w(s,96,1.167,-1.5),h2:w(s,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(a,14,1.75,.4,W1),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,W1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mr($({htmlFontSize:c,pxToRem:E,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},I),m,{clone:!1})}const bz=.2,wz=.14,Sz=.12;function Mt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${bz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Sz})`].join(",")}const Ez=["none",Mt(0,2,1,-1,0,1,1,0,0,1,3,0),Mt(0,3,1,-2,0,2,2,0,0,1,5,0),Mt(0,3,3,-2,0,3,4,0,0,1,8,0),Mt(0,2,4,-1,0,4,5,0,0,1,10,0),Mt(0,3,5,-1,0,5,8,0,0,1,14,0),Mt(0,3,5,-1,0,6,10,0,0,1,18,0),Mt(0,4,5,-2,0,7,10,1,0,2,16,1),Mt(0,5,5,-3,0,8,10,1,0,3,14,2),Mt(0,5,6,-3,0,9,12,1,0,3,16,2),Mt(0,6,6,-3,0,10,14,1,0,4,18,3),Mt(0,6,7,-4,0,11,15,1,0,4,20,3),Mt(0,7,8,-4,0,12,17,2,0,5,22,4),Mt(0,7,8,-4,0,13,19,2,0,5,24,4),Mt(0,7,9,-4,0,14,21,2,0,5,26,4),Mt(0,8,9,-5,0,15,22,2,0,6,28,5),Mt(0,8,10,-5,0,16,24,2,0,6,30,5),Mt(0,8,11,-5,0,17,26,2,0,6,32,5),Mt(0,9,11,-5,0,18,28,2,0,7,34,6),Mt(0,9,12,-6,0,19,29,2,0,7,36,6),Mt(0,10,13,-6,0,20,31,3,0,8,38,7),Mt(0,10,13,-6,0,21,33,3,0,8,40,7),Mt(0,10,14,-6,0,22,35,3,0,8,42,7),Mt(0,11,14,-7,0,23,36,3,0,9,44,8),Mt(0,11,15,-7,0,24,38,3,0,9,46,8)],Tz=["duration","easing","delay"],Cz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Iz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q1(t){return`${Math.round(t)}ms`}function kz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Rz(t){const e=$({},Cz,t.easing),n=$({},Iz,t.duration);return $({getAutoHeightDuration:kz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return Pe(s,Tz),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:q1(o)} ${a} ${typeof u=="string"?u:q1(u)}`).join(",")}},t,{easing:e,duration:n})}const Pz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Az=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ix(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Pe(t,Az);if(t.vars&&t.generateCssVars===void 0)throw new Error(Po(18));const a=yz(r),u=jc(t);let c=mr(u,{mixins:KV(u.breakpoints,n),palette:a,shadows:Ez.slice(),typography:_z(a,s),transitions:Rz(i),zIndex:$({},Pz)});return c=mr(c,o),c=e.reduce((f,h)=>mr(f,h),c),c.unstable_sxConfig=$({},Ac,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return pl({sx:h,theme:this})},c}const kx=Ix(),Za="$$material";function HR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Br=t=>HR(t)&&t!=="classes",De=OV({themeId:Za,defaultTheme:kx,rootShouldForwardProp:Br});function _t(t){return yV(t)}const jz=TV({createStyledComponent:De("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Xe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>_t({props:t,name:"MuiContainer"})});function Oz(t){return xt("MuiTypography",t)}ht("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Nz=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Mz=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Xe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Tt(a,Oz,o)},Lz=De("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Xe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>$({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),K1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Dz={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$z=t=>Dz[t]||t,bt=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiTypography"}),i=$z(r.color),s=Pp($({},r,{color:i})),{align:o="inherit",className:a,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:S=K1}=s,E=Pe(s,Nz),w=$({},s,{align:o,color:i,className:a,component:u,gutterBottom:c,noWrap:f,paragraph:h,variant:m,variantMapping:S}),I=u||(h?"p":S[m]||K1[m])||"span",T=Mz(w);return l.jsx(Lz,$({as:I,ref:n,ownerState:w,className:Fe(T.root,a)},E))});function Xy(t,e){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xy(t,e)}function qR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xy(t,e)}const G1={disabled:!1},th=me.createContext(null);var Fz=function(e){return e.scrollTop},tu="unmounted",ro="exited",io="entering",ia="entered",Jy="exiting",Ei=function(t){qR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=ro,s.appearStatus=io):u=ia:r.unmountOnExit||r.mountOnEnter?u=tu:u=ro,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===tu?{status:ro}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==io&&o!==ia&&(s=io):(o===io||o===ia)&&(s=Jy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===io){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:dd.findDOMNode(this);o&&Fz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ro&&this.setState({status:tu})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[dd.findDOMNode(this),a],c=u[0],f=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||G1.disabled){this.safeSetState({status:ia},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:io},function(){s.props.onEntering(c,f),s.onTransitionEnd(m,function(){s.safeSetState({status:ia},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:dd.findDOMNode(this);if(!s||G1.disabled){this.safeSetState({status:ro},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Jy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ro},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:dd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===tu)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Pe(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return me.createElement(th.Provider,{value:null},typeof o=="function"?o(i,a):me.cloneElement(me.Children.only(o),a))},e}(me.Component);Ei.contextType=th;Ei.propTypes={};function Zo(){}Ei.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zo,onEntering:Zo,onEntered:Zo,onExit:Zo,onExiting:Zo,onExited:Zo};Ei.UNMOUNTED=tu;Ei.EXITED=ro;Ei.ENTERING=io;Ei.ENTERED=ia;Ei.EXITING=Jy;function Vz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rx(t,e){var n=function(s){return e&&b.isValidElement(s)?e(s):s},r=Object.create(null);return t&&b.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function zz(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function co(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Bz(t,e){return Rx(t.children,function(n){return b.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:co(n,"appear",t),enter:co(n,"enter",t),exit:co(n,"exit",t)})})}function Uz(t,e,n){var r=Rx(t.children),i=zz(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(b.isValidElement(o)){var a=s in e,u=s in r,c=e[s],f=b.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=b.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:co(o,"exit",t),enter:co(o,"enter",t)}):!u&&a&&!f?i[s]=b.cloneElement(o,{in:!1}):u&&a&&b.isValidElement(c)&&(i[s]=b.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:co(o,"exit",t),enter:co(o,"enter",t)}))}}),i}var Wz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Hz={component:"div",childFactory:function(e){return e}},Px=function(t){qR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Vz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?Bz(i,a):Uz(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Rx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=$({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Pe(i,["component","childFactory"]),u=this.state.contextValue,c=Wz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?me.createElement(th.Provider,{value:u},c):me.createElement(th.Provider,{value:u},me.createElement(s,a,c))},e}(me.Component);Px.propTypes={};Px.defaultProps=Hz;function qz(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:c}=t,[f,h]=b.useState(!1),m=Fe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),S={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},E=Fe(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),b.useEffect(()=>{if(!a&&u!=null){const w=setTimeout(u,c);return()=>{clearTimeout(w)}}},[u,a,c]),l.jsx("span",{className:m,style:S,children:l.jsx("span",{className:E})})}const Cr=ht("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Kz=["center","classes","className"];let Up=t=>t,Q1,Y1,X1,J1;const Zy=550,Gz=80,Qz=wp(Q1||(Q1=Up`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Yz=wp(Y1||(Y1=Up`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Xz=wp(X1||(X1=Up`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Jz=De("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Zz=De(qz,{name:"MuiTouchRipple",slot:"Ripple"})(J1||(J1=Up`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Cr.rippleVisible,Qz,Zy,({theme:t})=>t.transitions.easing.easeInOut,Cr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Cr.child,Cr.childLeaving,Yz,Zy,({theme:t})=>t.transitions.easing.easeInOut,Cr.childPulsate,Xz,({theme:t})=>t.transitions.easing.easeInOut),eB=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Pe(r,Kz),[u,c]=b.useState([]),f=b.useRef(0),h=b.useRef(null);b.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const m=b.useRef(!1),S=kR(),E=b.useRef(null),w=b.useRef(null),I=b.useCallback(R=>{const{pulsate:M,rippleX:N,rippleY:g,rippleSize:p,cb:y}=R;c(C=>[...C,l.jsx(Zz,{classes:{ripple:Fe(s.ripple,Cr.ripple),rippleVisible:Fe(s.rippleVisible,Cr.rippleVisible),ripplePulsate:Fe(s.ripplePulsate,Cr.ripplePulsate),child:Fe(s.child,Cr.child),childLeaving:Fe(s.childLeaving,Cr.childLeaving),childPulsate:Fe(s.childPulsate,Cr.childPulsate)},timeout:Zy,pulsate:M,rippleX:N,rippleY:g,rippleSize:p},f.current)]),f.current+=1,h.current=y},[s]),T=b.useCallback((R={},M={},N=()=>{})=>{const{pulsate:g=!1,center:p=i||M.pulsate,fakeElement:y=!1}=M;if((R==null?void 0:R.type)==="mousedown"&&m.current){m.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(m.current=!0);const C=y?null:w.current,O=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,P,B;if(p||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)j=Math.round(O.width/2),P=Math.round(O.height/2);else{const{clientX:F,clientY:U}=R.touches&&R.touches.length>0?R.touches[0]:R;j=Math.round(F-O.left),P=Math.round(U-O.top)}if(p)B=Math.sqrt((2*O.width**2+O.height**2)/3),B%2===0&&(B+=1);else{const F=Math.max(Math.abs((C?C.clientWidth:0)-j),j)*2+2,U=Math.max(Math.abs((C?C.clientHeight:0)-P),P)*2+2;B=Math.sqrt(F**2+U**2)}R!=null&&R.touches?E.current===null&&(E.current=()=>{I({pulsate:g,rippleX:j,rippleY:P,rippleSize:B,cb:N})},S.start(Gz,()=>{E.current&&(E.current(),E.current=null)})):I({pulsate:g,rippleX:j,rippleY:P,rippleSize:B,cb:N})},[i,I,S]),v=b.useCallback(()=>{T({},{pulsate:!0})},[T]),_=b.useCallback((R,M)=>{if(S.clear(),(R==null?void 0:R.type)==="touchend"&&E.current){E.current(),E.current=null,S.start(0,()=>{_(R,M)});return}E.current=null,c(N=>N.length>0?N.slice(1):N),h.current=M},[S]);return b.useImperativeHandle(n,()=>({pulsate:v,start:T,stop:_}),[v,T,_]),l.jsx(Jz,$({className:Fe(Cr.root,s.root,o),ref:w},a,{children:l.jsx(Px,{component:null,exit:!0,children:u})}))});function tB(t){return xt("MuiButtonBase",t)}const nB=ht("MuiButtonBase",["root","disabled","focusVisible"]),rB=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],iB=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Tt({root:["root",e&&"disabled",n&&"focusVisible"]},tB,i);return n&&r&&(o.root+=` ${r}`),o},sB=De("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),KR=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:S="a",onBlur:E,onClick:w,onContextMenu:I,onDragLeave:T,onFocus:v,onFocusVisible:_,onKeyDown:R,onKeyUp:M,onMouseDown:N,onMouseLeave:g,onMouseUp:p,onTouchEnd:y,onTouchMove:C,onTouchStart:O,tabIndex:j=0,TouchRippleProps:P,touchRippleRef:B,type:F}=r,U=Pe(r,rB),z=b.useRef(null),D=b.useRef(null),V=Wn(D,B),{isFocusVisibleRef:W,onFocus:G,onBlur:Q,ref:J}=RR(),[se,he]=b.useState(!1);c&&se&&he(!1),b.useImperativeHandle(i,()=>({focusVisible:()=>{he(!0),z.current.focus()}}),[]);const[ge,q]=b.useState(!1);b.useEffect(()=>{q(!0)},[]);const ie=ge&&!f&&!c;b.useEffect(()=>{se&&m&&!f&&ge&&D.current.pulsate()},[f,m,se,ge]);function H(Te,yt,kt=h){return uo(Ye=>(yt&&yt(Ye),!kt&&D.current&&D.current[Te](Ye),!0))}const le=H("start",N),Z=H("stop",I),ne=H("stop",T),fe=H("stop",p),pe=H("stop",Te=>{se&&Te.preventDefault(),g&&g(Te)}),ve=H("start",O),_e=H("stop",y),Qe=H("stop",C),be=H("stop",Te=>{Q(Te),W.current===!1&&he(!1),E&&E(Te)},!1),Ve=uo(Te=>{z.current||(z.current=Te.currentTarget),G(Te),W.current===!0&&(he(!0),_&&_(Te)),v&&v(Te)}),ke=()=>{const Te=z.current;return u&&u!=="button"&&!(Te.tagName==="A"&&Te.href)},Ge=b.useRef(!1),it=uo(Te=>{m&&!Ge.current&&se&&D.current&&Te.key===" "&&(Ge.current=!0,D.current.stop(Te,()=>{D.current.start(Te)})),Te.target===Te.currentTarget&&ke()&&Te.key===" "&&Te.preventDefault(),R&&R(Te),Te.target===Te.currentTarget&&ke()&&Te.key==="Enter"&&!c&&(Te.preventDefault(),w&&w(Te))}),lt=uo(Te=>{m&&Te.key===" "&&D.current&&se&&!Te.defaultPrevented&&(Ge.current=!1,D.current.stop(Te,()=>{D.current.pulsate(Te)})),M&&M(Te),w&&Te.target===Te.currentTarget&&ke()&&Te.key===" "&&!Te.defaultPrevented&&w(Te)});let Ne=u;Ne==="button"&&(U.href||U.to)&&(Ne=S);const pt={};Ne==="button"?(pt.type=F===void 0?"button":F,pt.disabled=c):(!U.href&&!U.to&&(pt.role="button"),c&&(pt["aria-disabled"]=c));const Ie=Wn(n,J,z),Ue=$({},r,{centerRipple:s,component:u,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:j,focusVisible:se}),Me=iB(Ue);return l.jsxs(sB,$({as:Ne,className:Fe(Me.root,a),ownerState:Ue,onBlur:be,onClick:w,onContextMenu:Z,onFocus:Ve,onKeyDown:it,onKeyUp:lt,onMouseDown:le,onMouseLeave:pe,onMouseUp:fe,onDragLeave:ne,onTouchEnd:_e,onTouchMove:Qe,onTouchStart:ve,ref:Ie,tabIndex:c?-1:j,type:F},pt,U,{children:[o,ie?l.jsx(eB,$({ref:V,center:s},P)):null]}))});function oB(t){return xt("MuiButton",t)}const bd=ht("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),aB=b.createContext({}),lB=b.createContext(void 0),uB=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],cB=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Xe(e)}`,`size${Xe(i)}`,`${s}Size${Xe(i)}`,`color${Xe(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Xe(i)}`],endIcon:["icon","endIcon",`iconSize${Xe(i)}`]},u=Tt(a,oB,o);return $({},o,u)},GR=t=>$({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),dB=De(KR,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Xe(n.color)}`],e[`size${Xe(n.size)}`],e[`${n.variant}Size${Xe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return $({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ar(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ar(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ar(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${bd.focusVisible}`]:$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${bd.disabled}`]:$({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Ar(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${bd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${bd.disabled}`]:{boxShadow:"none"}}),fB=De("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Xe(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},GR(t))),hB=De("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Xe(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},GR(t))),mo=b.forwardRef(function(e,n){const r=b.useContext(aB),i=b.useContext(lB),s=Yu(r,e),o=_t({props:s,name:"MuiButton"}),{children:a,color:u="primary",component:c="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:S=!1,endIcon:E,focusVisibleClassName:w,fullWidth:I=!1,size:T="medium",startIcon:v,type:_,variant:R="text"}=o,M=Pe(o,uB),N=$({},o,{color:u,component:c,disabled:h,disableElevation:m,disableFocusRipple:S,fullWidth:I,size:T,type:_,variant:R}),g=cB(N),p=v&&l.jsx(fB,{className:g.startIcon,ownerState:N,children:v}),y=E&&l.jsx(hB,{className:g.endIcon,ownerState:N,children:E}),C=i||"";return l.jsxs(dB,$({ownerState:N,className:Fe(r.className,g.root,f,C),component:c,disabled:h,focusRipple:!S,focusVisibleClassName:Fe(g.focusVisible,w),ref:n,type:_},M,{classes:g,children:[p,a,y]}))}),Z1=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Ax(){const t=Rp(kx);return t[Za]||t}function pB(t){return xt("MuiPaper",t)}ht("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mB=["className","component","elevation","square","variant"],gB=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Tt(s,pB,i)},yB=De("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return $({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&$({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ar("#fff",Z1(e.elevation))}, ${Ar("#fff",Z1(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),jx=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:u="elevation"}=r,c=Pe(r,mB),f=$({},r,{component:s,elevation:o,square:a,variant:u}),h=gB(f);return l.jsx(yB,$({as:s,ownerState:f,className:Fe(h.root,i),ref:n},c))}),vB=["theme"];function xB(t){let{theme:e}=t,n=Pe(t,vB);const r=e[Za];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=$({},r,{vars:null}):e&&!e.vars&&(i=$({},e,{vars:null}))),l.jsx(xV,$({},n,{themeId:r?Za:void 0,theme:i}))}const _B=ht("MuiBox",["root"]),bB=Ix(),Tn=CF({themeId:Za,defaultTheme:bB,defaultClassName:_B.root,generateClassName:SR.generate}),wB=["onChange","maxRows","minRows","style","value"];function wd(t){return parseInt(t,10)||0}const SB={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function EB(t){for(const e in t)return!1;return!0}function eS(t){return EB(t)||t.outerHeightStyle===0&&!t.overflowing}const TB=b.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,u=Pe(e,wB),{current:c}=b.useRef(a!=null),f=b.useRef(null),h=Wn(n,f),m=b.useRef(null),S=b.useRef(null),E=b.useCallback(()=>{const _=f.current,R=S.current;if(!_||!R)return;const N=Ao(_).getComputedStyle(_);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=N.width,R.value=_.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const g=N.boxSizing,p=wd(N.paddingBottom)+wd(N.paddingTop),y=wd(N.borderBottomWidth)+wd(N.borderTopWidth),C=R.scrollHeight;R.value="x";const O=R.scrollHeight;let j=C;s&&(j=Math.max(Number(s)*O,j)),i&&(j=Math.min(Number(i)*O,j)),j=Math.max(j,O);const P=j+(g==="border-box"?p+y:0),B=Math.abs(j-C)<=1;return{outerHeightStyle:P,overflowing:B}},[i,s,e.placeholder]),w=uo(()=>{const _=f.current,R=E();if(!_||!R||eS(R))return!1;const M=R.outerHeightStyle;return m.current!=null&&m.current!==M}),I=b.useCallback(()=>{const _=f.current,R=E();if(!_||!R||eS(R))return;const M=R.outerHeightStyle;m.current!==M&&(m.current=M,_.style.height=`${M}px`),_.style.overflow=R.overflowing?"hidden":""},[E]),T=b.useRef(-1);Zi(()=>{const _=IR(I),R=f==null?void 0:f.current;if(!R)return;const M=Ao(R);M.addEventListener("resize",_);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{w()&&(N.unobserve(R),cancelAnimationFrame(T.current),I(),T.current=requestAnimationFrame(()=>{N.observe(R)}))}),N.observe(R)),()=>{_.clear(),cancelAnimationFrame(T.current),M.removeEventListener("resize",_),N&&N.disconnect()}},[E,I,w]),Zi(()=>{I()});const v=_=>{c||I(),r&&r(_)};return l.jsxs(b.Fragment,{children:[l.jsx("textarea",$({value:a,onChange:v,ref:h,rows:s,style:o},u)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:$({},SB.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function yl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Ox=b.createContext(void 0);function vl(){return b.useContext(Ox)}function QR(t){return l.jsx(wR,$({},t,{defaultTheme:kx,themeId:Za}))}function tS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function nh(t,e=!1){return t&&(tS(t.value)&&t.value!==""||e&&tS(t.defaultValue)&&t.defaultValue!=="")}function CB(t){return t.startAdornment}function IB(t){return xt("MuiInputBase",t)}const el=ht("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),kB=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Wp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Xe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Hp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},RB=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:u,hiddenLabel:c,multiline:f,readOnly:h,size:m,startAdornment:S,type:E}=t,w={root:["root",`color${Xe(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${Xe(m)}`,f&&"multiline",S&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",E==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",S&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return Tt(w,IB,e)},qp=De("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Wp})(({theme:t,ownerState:e})=>$({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${el.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&$({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Kp=De("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Hp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=$({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${el.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${el.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),PB=l.jsx(QR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Nx=b.forwardRef(function(e,n){var r;const i=_t({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:u,components:c={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:S,endAdornment:E,fullWidth:w=!1,id:I,inputComponent:T="input",inputProps:v={},inputRef:_,maxRows:R,minRows:M,multiline:N=!1,name:g,onBlur:p,onChange:y,onClick:C,onFocus:O,onKeyDown:j,onKeyUp:P,placeholder:B,readOnly:F,renderSuffix:U,rows:z,slotProps:D={},slots:V={},startAdornment:W,type:G="text",value:Q}=i,J=Pe(i,kB),se=v.value!=null?v.value:Q,{current:he}=b.useRef(se!=null),ge=b.useRef(),q=b.useCallback(Me=>{},[]),ie=Wn(ge,_,v.ref,q),[H,le]=b.useState(!1),Z=vl(),ne=yl({props:i,muiFormControl:Z,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ne.focused=Z?Z.focused:H,b.useEffect(()=>{!Z&&m&&H&&(le(!1),p&&p())},[Z,m,H,p]);const fe=Z&&Z.onFilled,pe=Z&&Z.onEmpty,ve=b.useCallback(Me=>{nh(Me)?fe&&fe():pe&&pe()},[fe,pe]);Zi(()=>{he&&ve({value:se})},[se,ve,he]);const _e=Me=>{if(ne.disabled){Me.stopPropagation();return}O&&O(Me),v.onFocus&&v.onFocus(Me),Z&&Z.onFocus?Z.onFocus(Me):le(!0)},Qe=Me=>{p&&p(Me),v.onBlur&&v.onBlur(Me),Z&&Z.onBlur?Z.onBlur(Me):le(!1)},be=(Me,...Te)=>{if(!he){const yt=Me.target||ge.current;if(yt==null)throw new Error(Po(1));ve({value:yt.value})}v.onChange&&v.onChange(Me,...Te),y&&y(Me,...Te)};b.useEffect(()=>{ve(ge.current)},[]);const Ve=Me=>{ge.current&&Me.currentTarget===Me.target&&ge.current.focus(),C&&C(Me)};let ke=T,Ge=v;N&&ke==="input"&&(z?Ge=$({type:void 0,minRows:z,maxRows:z},Ge):Ge=$({type:void 0,maxRows:R,minRows:M},Ge),ke=TB);const it=Me=>{ve(Me.animationName==="mui-auto-fill-cancel"?ge.current:{value:"x"})};b.useEffect(()=>{Z&&Z.setAdornedStart(!!W)},[Z,W]);const lt=$({},i,{color:ne.color||"primary",disabled:ne.disabled,endAdornment:E,error:ne.error,focused:ne.focused,formControl:Z,fullWidth:w,hiddenLabel:ne.hiddenLabel,multiline:N,size:ne.size,startAdornment:W,type:G}),Ne=RB(lt),pt=V.root||c.Root||qp,Ie=D.root||f.root||{},Ue=V.input||c.Input||Kp;return Ge=$({},Ge,(r=D.input)!=null?r:f.input),l.jsxs(b.Fragment,{children:[!S&&PB,l.jsxs(pt,$({},Ie,!Jf(pt)&&{ownerState:$({},lt,Ie.ownerState)},{ref:n,onClick:Ve},J,{className:Fe(Ne.root,Ie.className,u,F&&"MuiInputBase-readOnly"),children:[W,l.jsx(Ox.Provider,{value:null,children:l.jsx(Ue,$({ownerState:lt,"aria-invalid":ne.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:ne.disabled,id:I,onAnimationStart:it,name:g,placeholder:B,readOnly:F,required:ne.required,rows:z,value:se,onKeyDown:j,onKeyUp:P,type:G},Ge,!Jf(Ue)&&{as:ke,ownerState:$({},lt,Ge.ownerState)},{ref:ie,className:Fe(Ne.input,Ge.className,F&&"MuiInputBase-readOnly"),onBlur:Qe,onChange:be,onFocus:_e}))}),E,U?U($({},ne,{startAdornment:W})):null]}))]})});function AB(t){return xt("MuiInput",t)}const $l=$({},el,ht("MuiInput",["root","underline","input"])),jB=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],OB=t=>{const{classes:e,disableUnderline:n}=t,i=Tt({root:["root",!n&&"underline"],input:["input"]},AB,e);return $({},e,i)},NB=De(qp,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Wp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),$({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$l.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$l.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$l.disabled}, .${$l.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${$l.disabled}:before`]:{borderBottomStyle:"dotted"}})}),MB=De(Kp,{name:"MuiInput",slot:"Input",overridesResolver:Hp})({}),Mx=b.forwardRef(function(e,n){var r,i,s,o;const a=_t({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:S=!1,slotProps:E,slots:w={},type:I="text"}=a,T=Pe(a,jB),v=OB(a),R={root:{ownerState:{disableUnderline:u}}},M=E??f?mr(E??f,R):R,N=(r=(i=w.root)!=null?i:c.Root)!=null?r:NB,g=(s=(o=w.input)!=null?o:c.Input)!=null?s:MB;return l.jsx(Nx,$({slots:{root:N,input:g},slotProps:M,fullWidth:h,inputComponent:m,multiline:S,ref:n,type:I},T,{classes:v}))});Mx.muiName="Input";function LB(t){return xt("MuiFilledInput",t)}const Js=$({},el,ht("MuiFilledInput",["root","underline","input"])),DB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],$B=t=>{const{classes:e,disableUnderline:n}=t,i=Tt({root:["root",!n&&"underline"],input:["input"]},LB,e);return $({},e,i)},FB=De(qp,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Wp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Js.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Js.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Js.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Js.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Js.disabled}, .${Js.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Js.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&$({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),VB=De(Kp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Hp})(({theme:t,ownerState:e})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Lx=b.forwardRef(function(e,n){var r,i,s,o;const a=_t({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:S,slots:E={},type:w="text"}=a,I=Pe(a,DB),T=$({},a,{fullWidth:f,inputComponent:h,multiline:m,type:w}),v=$B(a),_={root:{ownerState:T},input:{ownerState:T}},R=S??c?mr(_,S??c):_,M=(r=(i=E.root)!=null?i:u.Root)!=null?r:FB,N=(s=(o=E.input)!=null?o:u.Input)!=null?s:VB;return l.jsx(Nx,$({slots:{root:M,input:N},componentsProps:R,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:w},I,{classes:v}))});Lx.muiName="Input";var nS;const zB=["children","classes","className","label","notched"],BB=De("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Br})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),UB=De("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Br})(({ownerState:t,theme:e})=>$({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function WB(t){const{className:e,label:n,notched:r}=t,i=Pe(t,zB),s=n!=null&&n!=="",o=$({},t,{notched:r,withLabel:s});return l.jsx(BB,$({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(UB,{ownerState:o,children:s?l.jsx("span",{children:n}):nS||(nS=l.jsx("span",{className:"notranslate",children:""}))})}))}function HB(t){return xt("MuiOutlinedInput",t)}const us=$({},el,ht("MuiOutlinedInput",["root","notchedOutline","input"])),qB=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],KB=t=>{const{classes:e}=t,r=Tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},HB,e);return $({},e,r)},GB=De(qp,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Wp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${us.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${us.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${us.focused} .${us.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${us.error} .${us.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${us.disabled} .${us.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&$({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),QB=De(WB,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),YB=De(Kp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Hp})(({theme:t,ownerState:e})=>$({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Dx=b.forwardRef(function(e,n){var r,i,s,o,a;const u=_t({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:S=!1,notched:E,slots:w={},type:I="text"}=u,T=Pe(u,qB),v=KB(u),_=vl(),R=yl({props:u,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M=$({},u,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:_,fullWidth:f,hiddenLabel:R.hiddenLabel,multiline:S,size:R.size,type:I}),N=(r=(i=w.root)!=null?i:c.Root)!=null?r:GB,g=(s=(o=w.input)!=null?o:c.Input)!=null?s:YB;return l.jsx(Nx,$({slots:{root:N,input:g},renderSuffix:p=>l.jsx(QB,{ownerState:M,className:v.notchedOutline,label:m!=null&&m!==""&&R.required?a||(a=l.jsxs(b.Fragment,{children:[m,"","*"]})):m,notched:typeof E<"u"?E:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:S,ref:n,type:I},T,{classes:$({},v,{notchedOutline:null})}))});Dx.muiName="Input";function XB(t){return xt("MuiFormLabel",t)}const vu=ht("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),JB=["children","className","color","component","disabled","error","filled","focused","required"],ZB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,u={root:["root",`color${Xe(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Tt(u,XB,e)},e8=De("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${vu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${vu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${vu.error}`]:{color:(t.vars||t).palette.error.main}})),t8=De("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${vu.error}`]:{color:(t.vars||t).palette.error.main}})),n8=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Pe(r,JB),u=vl(),c=yl({props:r,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]}),f=$({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=ZB(f);return l.jsxs(e8,$({as:o,ownerState:f,className:Fe(h.root,s),ref:n},a,{children:[i,c.required&&l.jsxs(t8,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))});function r8(t){return xt("MuiInputLabel",t)}ht("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const i8=["disableAnimation","margin","shrink","variant","className"],s8=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Xe(r)}`,o],asterisk:[a&&"asterisk"]},c=Tt(u,r8,e);return $({},e,c)},o8=De(n8,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${vu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),a8=b.forwardRef(function(e,n){const r=_t({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Pe(r,i8),u=vl();let c=s;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);const f=yl({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),h=$({},r,{disableAnimation:i,formControl:u,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=s8(h);return l.jsx(o8,$({"data-shrink":c,ownerState:h,ref:n,className:Fe(m.root,o)},a,{classes:m}))});function l8(t){return xt("MuiFormControl",t)}ht("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const u8=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],c8=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Xe(n)}`,r&&"fullWidth"]};return Tt(i,l8,e)},d8=De("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,e[`margin${Xe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),YR=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:u=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:S="none",required:E=!1,size:w="medium",variant:I="outlined"}=r,T=Pe(r,u8),v=$({},r,{color:o,component:a,disabled:u,error:c,fullWidth:h,hiddenLabel:m,margin:S,required:E,size:w,variant:I}),_=c8(v),[R,M]=b.useState(()=>{let P=!1;return i&&b.Children.forEach(i,B=>{if(!eg(B,["Input","Select"]))return;const F=eg(B,["Select"])?B.props.input:B;F&&CB(F.props)&&(P=!0)}),P}),[N,g]=b.useState(()=>{let P=!1;return i&&b.Children.forEach(i,B=>{eg(B,["Input","Select"])&&(nh(B.props,!0)||nh(B.props.inputProps,!0))&&(P=!0)}),P}),[p,y]=b.useState(!1);u&&p&&y(!1);const C=f!==void 0&&!u?f:p;let O;const j=b.useMemo(()=>({adornedStart:R,setAdornedStart:M,color:o,disabled:u,error:c,filled:N,focused:C,fullWidth:h,hiddenLabel:m,size:w,onBlur:()=>{y(!1)},onEmpty:()=>{g(!1)},onFilled:()=>{g(!0)},onFocus:()=>{y(!0)},registerEffect:O,required:E,variant:I}),[R,o,u,c,N,C,h,m,O,E,w,I]);return l.jsx(Ox.Provider,{value:j,children:l.jsx(d8,$({as:a,ownerState:v,className:Fe(_.root,s),ref:n},T,{children:i}))})});function f8(t){return xt("MuiFormHelperText",t)}const rS=ht("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var iS;const h8=["children","className","component","disabled","error","filled","focused","margin","required","variant"],p8=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:u}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${Xe(r)}`,n&&"contained",a&&"focused",o&&"filled",u&&"required"]};return Tt(c,f8,e)},m8=De("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Xe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${rS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${rS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),g8=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Pe(r,h8),u=vl(),c=yl({props:r,muiFormControl:u,states:["variant","size","disabled","error","filled","focused","required"]}),f=$({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=p8(f);return l.jsx(m8,$({as:o,ownerState:f,className:Fe(h.root,s),ref:n},a,{children:i===" "?iS||(iS=l.jsx("span",{className:"notranslate",children:""})):i}))}),ev=b.createContext({});function y8(t){return xt("MuiList",t)}ht("MuiList",["root","padding","dense","subheader"]);const v8=["children","className","component","dense","disablePadding","subheader"],x8=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Tt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},y8,e)},_8=De("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),b8=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:u=!1,subheader:c}=r,f=Pe(r,v8),h=b.useMemo(()=>({dense:a}),[a]),m=$({},r,{component:o,dense:a,disablePadding:u}),S=x8(m);return l.jsx(ev.Provider,{value:h,children:l.jsxs(_8,$({as:o,className:Fe(S.root,s),ref:n,ownerState:m},f,{children:[c,i]}))})}),w8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ig(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function sS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function XR(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Fl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const u=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!XR(a,s)||u)a=i(t,a,n);else return a.focus(),!0}return!1}const S8=b.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Pe(e,w8),S=b.useRef(null),E=b.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Zi(()=>{i&&S.current.focus()},[i]),b.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:R})=>{const M=!S.current.style.width;if(_.clientHeight<S.current.clientHeight&&M){const N=`${PR(gr(_))}px`;S.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=N,S.current.style.width=`calc(100% + ${N})`}return S.current}}),[]);const w=_=>{const R=S.current,M=_.key,N=gr(R).activeElement;if(M==="ArrowDown")_.preventDefault(),Fl(R,N,c,u,ig);else if(M==="ArrowUp")_.preventDefault(),Fl(R,N,c,u,sS);else if(M==="Home")_.preventDefault(),Fl(R,null,c,u,ig);else if(M==="End")_.preventDefault(),Fl(R,null,c,u,sS);else if(M.length===1){const g=E.current,p=M.toLowerCase(),y=performance.now();g.keys.length>0&&(y-g.lastTime>500?(g.keys=[],g.repeating=!0,g.previousKeyMatched=!0):g.repeating&&p!==g.keys[0]&&(g.repeating=!1)),g.lastTime=y,g.keys.push(p);const C=N&&!g.repeating&&XR(N,g);g.previousKeyMatched&&(C||Fl(R,N,!1,u,ig,g))?_.preventDefault():g.previousKeyMatched=!1}f&&f(_)},I=Wn(S,n);let T=-1;b.Children.forEach(o,(_,R)=>{if(!b.isValidElement(_)){T===R&&(T+=1,T>=o.length&&(T=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||T===-1)&&(T=R),T===R&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(T+=1,T>=o.length&&(T=-1))});const v=b.Children.map(o,(_,R)=>{if(R===T){const M={};return s&&(M.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(M.tabIndex=0),b.cloneElement(_,M)}return _});return l.jsx(b8,$({role:"menu",ref:I,className:a,onKeyDown:w,tabIndex:i?0:-1},m,{children:v}))}),JR=t=>t.scrollTop;function rh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const E8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tv(t){return`scale(${t}, ${t**2})`}const T8={entering:{opacity:1,transform:tv(1)},entered:{opacity:1,transform:"none"}},sg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ZR=b.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:c,onEntering:f,onExit:h,onExited:m,onExiting:S,style:E,timeout:w="auto",TransitionComponent:I=Ei}=e,T=Pe(e,E8),v=kR(),_=b.useRef(),R=Ax(),M=b.useRef(null),N=Wn(M,Oc(s),n),g=F=>U=>{if(F){const z=M.current;U===void 0?F(z):F(z,U)}},p=g(f),y=g((F,U)=>{JR(F);const{duration:z,delay:D,easing:V}=rh({style:E,timeout:w,easing:o},{mode:"enter"});let W;w==="auto"?(W=R.transitions.getAutoHeightDuration(F.clientHeight),_.current=W):W=z,F.style.transition=[R.transitions.create("opacity",{duration:W,delay:D}),R.transitions.create("transform",{duration:sg?W:W*.666,delay:D,easing:V})].join(","),u&&u(F,U)}),C=g(c),O=g(S),j=g(F=>{const{duration:U,delay:z,easing:D}=rh({style:E,timeout:w,easing:o},{mode:"exit"});let V;w==="auto"?(V=R.transitions.getAutoHeightDuration(F.clientHeight),_.current=V):V=U,F.style.transition=[R.transitions.create("opacity",{duration:V,delay:z}),R.transitions.create("transform",{duration:sg?V:V*.666,delay:sg?z:z||V*.333,easing:D})].join(","),F.style.opacity=0,F.style.transform=tv(.75),h&&h(F)}),P=g(m),B=F=>{w==="auto"&&v.start(_.current||0,F),r&&r(M.current,F)};return l.jsx(I,$({appear:i,in:a,nodeRef:M,onEnter:y,onEntered:C,onEntering:p,onExit:j,onExited:P,onExiting:O,addEndListener:B,timeout:w==="auto"?null:w},T,{children:(F,U)=>b.cloneElement(s,$({style:$({opacity:0,transform:tv(.75),visibility:F==="exited"&&!a?"hidden":void 0},T8[F],E,s.props.style),ref:N},U))}))});ZR.muiSupportAuto=!0;function C8(t){const e=gr(t);return e.body===t?Ao(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function oS(t){return parseInt(Ao(t).getComputedStyle(t).paddingRight,10)||0}function I8(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function aS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,u=!I8(o);a&&u&&xu(o,i)})}function og(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function k8(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(C8(r)){const o=PR(gr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${oS(r)+o}px`;const a=gr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${oS(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=gr(r).body;else{const o=r.parentElement,a=Ao(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function R8(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class P8{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&xu(e.modalRef,!1);const i=R8(n);aS(n,e.mount,e.modalRef,i,!0);const s=og(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=og(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=k8(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=og(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&xu(e.modalRef,n),aS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&xu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const A8=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function j8(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function O8(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function N8(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||O8(t))}function M8(t){const e=[],n=[];return Array.from(t.querySelectorAll(A8)).forEach((r,i)=>{const s=j8(r);s===-1||!N8(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function L8(){return!0}function D8(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=M8,isEnabled:o=L8,open:a}=t,u=b.useRef(!1),c=b.useRef(null),f=b.useRef(null),h=b.useRef(null),m=b.useRef(null),S=b.useRef(!1),E=b.useRef(null),w=Wn(Oc(e),E),I=b.useRef(null);b.useEffect(()=>{!a||!E.current||(S.current=!n)},[n,a]),b.useEffect(()=>{if(!a||!E.current)return;const _=gr(E.current);return E.current.contains(_.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),S.current&&E.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[a]),b.useEffect(()=>{if(!a||!E.current)return;const _=gr(E.current),R=g=>{I.current=g,!(r||!o()||g.key!=="Tab")&&_.activeElement===E.current&&g.shiftKey&&(u.current=!0,f.current&&f.current.focus())},M=()=>{const g=E.current;if(g===null)return;if(!_.hasFocus()||!o()||u.current){u.current=!1;return}if(g.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==f.current)return;if(_.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!S.current)return;let p=[];if((_.activeElement===c.current||_.activeElement===f.current)&&(p=s(E.current)),p.length>0){var y,C;const O=!!((y=I.current)!=null&&y.shiftKey&&((C=I.current)==null?void 0:C.key)==="Tab"),j=p[0],P=p[p.length-1];typeof j!="string"&&typeof P!="string"&&(O?P.focus():j.focus())}else g.focus()};_.addEventListener("focusin",M),_.addEventListener("keydown",R,!0);const N=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(N),_.removeEventListener("focusin",M),_.removeEventListener("keydown",R,!0)}},[n,r,i,o,a,s]);const T=_=>{h.current===null&&(h.current=_.relatedTarget),S.current=!0,m.current=_.target;const R=e.props.onFocus;R&&R(_)},v=_=>{h.current===null&&(h.current=_.relatedTarget),S.current=!0};return l.jsxs(b.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),b.cloneElement(e,{ref:w,onFocus:T}),l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:f,"data-testid":"sentinelEnd"})]})}function $8(t){return typeof t=="function"?t():t}const F8=b.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=b.useState(null),u=Wn(b.isValidElement(r)?Oc(r):null,n);if(Zi(()=>{s||a($8(i)||document.body)},[i,s]),Zi(()=>{if(o&&!s)return Gy(n,o),()=>{Gy(n,null)}},[n,o,s]),s){if(b.isValidElement(r)){const c={ref:u};return b.cloneElement(r,c)}return l.jsx(b.Fragment,{children:r})}return l.jsx(b.Fragment,{children:o&&a0.createPortal(r,o)})}),V8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],z8={entering:{opacity:1},entered:{opacity:1}},B8=b.forwardRef(function(e,n){const r=Ax(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:S,onExited:E,onExiting:w,style:I,timeout:T=i,TransitionComponent:v=Ei}=e,_=Pe(e,V8),R=b.useRef(null),M=Wn(R,Oc(a),n),N=B=>F=>{if(B){const U=R.current;F===void 0?B(U):B(U,F)}},g=N(m),p=N((B,F)=>{JR(B);const U=rh({style:I,timeout:T,easing:u},{mode:"enter"});B.style.webkitTransition=r.transitions.create("opacity",U),B.style.transition=r.transitions.create("opacity",U),f&&f(B,F)}),y=N(h),C=N(w),O=N(B=>{const F=rh({style:I,timeout:T,easing:u},{mode:"exit"});B.style.webkitTransition=r.transitions.create("opacity",F),B.style.transition=r.transitions.create("opacity",F),S&&S(B)}),j=N(E),P=B=>{s&&s(R.current,B)};return l.jsx(v,$({appear:o,in:c,nodeRef:R,onEnter:p,onEntered:y,onEntering:g,onExit:O,onExited:j,onExiting:C,addEndListener:P,timeout:T},_,{children:(B,F)=>b.cloneElement(a,$({style:$({opacity:0,visibility:B==="exited"&&!c?"hidden":void 0},z8[B],I,a.props.style),ref:M},F))}))});function U8(t){return xt("MuiBackdrop",t)}ht("MuiBackdrop",["root","invisible"]);const W8=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],H8=t=>{const{classes:e,invisible:n}=t;return Tt({root:["root",n&&"invisible"]},U8,e)},q8=De("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),K8=b.forwardRef(function(e,n){var r,i,s;const o=_t({props:e,name:"MuiBackdrop"}),{children:a,className:u,component:c="div",components:f={},componentsProps:h={},invisible:m=!1,open:S,slotProps:E={},slots:w={},TransitionComponent:I=B8,transitionDuration:T}=o,v=Pe(o,W8),_=$({},o,{component:c,invisible:m}),R=H8(_),M=(r=E.root)!=null?r:h.root;return l.jsx(I,$({in:S,timeout:T},v,{children:l.jsx(q8,$({"aria-hidden":!0},M,{as:(i=(s=w.root)!=null?s:f.Root)!=null?i:c,className:Fe(R.root,u,M==null?void 0:M.className),ownerState:$({},_,M==null?void 0:M.ownerState),classes:R,ref:n,children:a}))}))});function G8(t){return typeof t=="function"?t():t}function Q8(t){return t?t.props.hasOwnProperty("in"):!1}const Y8=new P8;function X8(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Y8,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:u,onClose:c,open:f,rootRef:h}=t,m=b.useRef({}),S=b.useRef(null),E=b.useRef(null),w=Wn(E,h),[I,T]=b.useState(!f),v=Q8(u);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const R=()=>gr(S.current),M=()=>(m.current.modalRef=E.current,m.current.mount=S.current,m.current),N=()=>{i.mount(M(),{disableScrollLock:r}),E.current&&(E.current.scrollTop=0)},g=uo(()=>{const U=G8(e)||R().body;i.add(M(),U),E.current&&N()}),p=b.useCallback(()=>i.isTopModal(M()),[i]),y=uo(U=>{S.current=U,U&&(f&&p()?N():E.current&&xu(E.current,_))}),C=b.useCallback(()=>{i.remove(M(),_)},[_,i]);b.useEffect(()=>()=>{C()},[C]),b.useEffect(()=>{f?g():(!v||!s)&&C()},[f,C,v,s,g]);const O=U=>z=>{var D;(D=U.onKeyDown)==null||D.call(U,z),!(z.key!=="Escape"||z.which===229||!p())&&(n||(z.stopPropagation(),c&&c(z,"escapeKeyDown")))},j=U=>z=>{var D;(D=U.onClick)==null||D.call(U,z),z.target===z.currentTarget&&c&&c(z,"backdropClick")};return{getRootProps:(U={})=>{const z=AR(t);delete z.onTransitionEnter,delete z.onTransitionExited;const D=$({},z,U);return $({role:"presentation"},D,{onKeyDown:O(D),ref:w})},getBackdropProps:(U={})=>{const z=U;return $({"aria-hidden":!0},z,{onClick:j(z),open:f})},getTransitionProps:()=>{const U=()=>{T(!1),o&&o()},z=()=>{T(!0),a&&a(),s&&C()};return{onEnter:A1(U,u==null?void 0:u.props.onEnter),onExited:A1(z,u==null?void 0:u.props.onExited)}},rootRef:w,portalRef:y,isTopModal:p,exited:I,hasTransition:v}}function J8(t){return xt("MuiModal",t)}ht("MuiModal",["root","hidden","backdrop"]);const Z8=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],eU=t=>{const{open:e,exited:n,classes:r}=t;return Tt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},J8,r)},tU=De("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>$({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),nU=De(K8,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),rU=b.forwardRef(function(e,n){var r,i,s,o,a,u;const c=_t({name:"MuiModal",props:e}),{BackdropComponent:f=nU,BackdropProps:h,className:m,closeAfterTransition:S=!1,children:E,container:w,component:I,components:T={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:R=!1,disableEscapeKeyDown:M=!1,disablePortal:N=!1,disableRestoreFocus:g=!1,disableScrollLock:p=!1,hideBackdrop:y=!1,keepMounted:C=!1,onBackdropClick:O,open:j,slotProps:P,slots:B}=c,F=Pe(c,Z8),U=$({},c,{closeAfterTransition:S,disableAutoFocus:_,disableEnforceFocus:R,disableEscapeKeyDown:M,disablePortal:N,disableRestoreFocus:g,disableScrollLock:p,hideBackdrop:y,keepMounted:C}),{getRootProps:z,getBackdropProps:D,getTransitionProps:V,portalRef:W,isTopModal:G,exited:Q,hasTransition:J}=X8($({},U,{rootRef:n})),se=$({},U,{exited:Q}),he=eU(se),ge={};if(E.props.tabIndex===void 0&&(ge.tabIndex="-1"),J){const{onEnter:fe,onExited:pe}=V();ge.onEnter=fe,ge.onExited=pe}const q=(r=(i=B==null?void 0:B.root)!=null?i:T.Root)!=null?r:tU,ie=(s=(o=B==null?void 0:B.backdrop)!=null?o:T.Backdrop)!=null?s:f,H=(a=P==null?void 0:P.root)!=null?a:v.root,le=(u=P==null?void 0:P.backdrop)!=null?u:v.backdrop,Z=Ja({elementType:q,externalSlotProps:H,externalForwardedProps:F,getSlotProps:z,additionalProps:{ref:n,as:I},ownerState:se,className:Fe(m,H==null?void 0:H.className,he==null?void 0:he.root,!se.open&&se.exited&&(he==null?void 0:he.hidden))}),ne=Ja({elementType:ie,externalSlotProps:le,additionalProps:h,getSlotProps:fe=>D($({},fe,{onClick:pe=>{O&&O(pe),fe!=null&&fe.onClick&&fe.onClick(pe)}})),className:Fe(le==null?void 0:le.className,h==null?void 0:h.className,he==null?void 0:he.backdrop),ownerState:se});return!C&&!j&&(!J||Q)?null:l.jsx(F8,{ref:W,container:w,disablePortal:N,children:l.jsxs(q,$({},Z,{children:[!y&&f?l.jsx(ie,$({},ne)):null,l.jsx(D8,{disableEnforceFocus:R,disableAutoFocus:_,disableRestoreFocus:g,isEnabled:G,open:j,children:b.cloneElement(E,ge)})]}))})});function iU(t){return xt("MuiPopover",t)}ht("MuiPopover",["root","paper"]);const sU=["onEntering"],oU=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],aU=["slotProps"];function lS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function uS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function cS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ag(t){return typeof t=="function"?t():t}const lU=t=>{const{classes:e}=t;return Tt({root:["root"],paper:["paper"]},iU,e)},uU=De(rU,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),eP=De(jx,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cU=b.forwardRef(function(e,n){var r,i,s;const o=_t({props:e,name:"MuiPopover"}),{action:a,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:S,container:E,elevation:w=8,marginThreshold:I=16,open:T,PaperProps:v={},slots:_,slotProps:R,transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:N=ZR,transitionDuration:g="auto",TransitionProps:{onEntering:p}={},disableScrollLock:y=!1}=o,C=Pe(o.TransitionProps,sU),O=Pe(o,oU),j=(r=R==null?void 0:R.paper)!=null?r:v,P=b.useRef(),B=Wn(P,j.ref),F=$({},o,{anchorOrigin:c,anchorReference:h,elevation:w,marginThreshold:I,externalPaperSlotProps:j,transformOrigin:M,TransitionComponent:N,transitionDuration:g,TransitionProps:C}),U=lU(F),z=b.useCallback(()=>{if(h==="anchorPosition")return f;const fe=ag(u),ve=(fe&&fe.nodeType===1?fe:gr(P.current).body).getBoundingClientRect();return{top:ve.top+lS(ve,c.vertical),left:ve.left+uS(ve,c.horizontal)}},[u,c.horizontal,c.vertical,f,h]),D=b.useCallback(fe=>({vertical:lS(fe,M.vertical),horizontal:uS(fe,M.horizontal)}),[M.horizontal,M.vertical]),V=b.useCallback(fe=>{const pe={width:fe.offsetWidth,height:fe.offsetHeight},ve=D(pe);if(h==="none")return{top:null,left:null,transformOrigin:cS(ve)};const _e=z();let Qe=_e.top-ve.vertical,be=_e.left-ve.horizontal;const Ve=Qe+pe.height,ke=be+pe.width,Ge=Ao(ag(u)),it=Ge.innerHeight-I,lt=Ge.innerWidth-I;if(I!==null&&Qe<I){const Ne=Qe-I;Qe-=Ne,ve.vertical+=Ne}else if(I!==null&&Ve>it){const Ne=Ve-it;Qe-=Ne,ve.vertical+=Ne}if(I!==null&&be<I){const Ne=be-I;be-=Ne,ve.horizontal+=Ne}else if(ke>lt){const Ne=ke-lt;be-=Ne,ve.horizontal+=Ne}return{top:`${Math.round(Qe)}px`,left:`${Math.round(be)}px`,transformOrigin:cS(ve)}},[u,h,z,D,I]),[W,G]=b.useState(T),Q=b.useCallback(()=>{const fe=P.current;if(!fe)return;const pe=V(fe);pe.top!==null&&(fe.style.top=pe.top),pe.left!==null&&(fe.style.left=pe.left),fe.style.transformOrigin=pe.transformOrigin,G(!0)},[V]);b.useEffect(()=>(y&&window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)),[u,y,Q]);const J=(fe,pe)=>{p&&p(fe,pe),Q()},se=()=>{G(!1)};b.useEffect(()=>{T&&Q()}),b.useImperativeHandle(a,()=>T?{updatePosition:()=>{Q()}}:null,[T,Q]),b.useEffect(()=>{if(!T)return;const fe=IR(()=>{Q()}),pe=Ao(u);return pe.addEventListener("resize",fe),()=>{fe.clear(),pe.removeEventListener("resize",fe)}},[u,T,Q]);let he=g;g==="auto"&&!N.muiSupportAuto&&(he=void 0);const ge=E||(u?gr(ag(u)).body:void 0),q=(i=_==null?void 0:_.root)!=null?i:uU,ie=(s=_==null?void 0:_.paper)!=null?s:eP,H=Ja({elementType:ie,externalSlotProps:$({},j,{style:W?j.style:$({},j.style,{opacity:0})}),additionalProps:{elevation:w,ref:B},ownerState:F,className:Fe(U.paper,j==null?void 0:j.className)}),le=Ja({elementType:q,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ge,open:T},ownerState:F,className:Fe(U.root,S)}),{slotProps:Z}=le,ne=Pe(le,aU);return l.jsx(q,$({},ne,!Jf(q)&&{slotProps:Z,disableScrollLock:y},{children:l.jsx(N,$({appear:!0,in:T,onEntering:J,onExited:se,timeout:he},C,{children:l.jsx(ie,$({},H,{children:m}))}))}))});function dU(t){return xt("MuiMenu",t)}ht("MuiMenu",["root","paper","list"]);const fU=["onEntering"],hU=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],pU={vertical:"top",horizontal:"right"},mU={vertical:"top",horizontal:"left"},gU=t=>{const{classes:e}=t;return Tt({root:["root"],paper:["paper"],list:["list"]},dU,e)},yU=De(cU,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vU=De(eP,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xU=De(S8,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),_U=b.forwardRef(function(e,n){var r,i;const s=_t({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:u,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:S={},PopoverClasses:E,transitionDuration:w="auto",TransitionProps:{onEntering:I}={},variant:T="selectedMenu",slots:v={},slotProps:_={}}=s,R=Pe(s.TransitionProps,fU),M=Pe(s,hU),N=pV(),g=$({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:f,onEntering:I,PaperProps:S,transitionDuration:w,TransitionProps:R,variant:T}),p=gU(g),y=o&&!c&&m,C=b.useRef(null),O=(D,V)=>{C.current&&C.current.adjustStyleForScrollbar(D,{direction:N?"rtl":"ltr"}),I&&I(D,V)},j=D=>{D.key==="Tab"&&(D.preventDefault(),h&&h(D,"tabKeyDown"))};let P=-1;b.Children.map(a,(D,V)=>{b.isValidElement(D)&&(D.props.disabled||(T==="selectedMenu"&&D.props.selected||P===-1)&&(P=V))});const B=(r=v.paper)!=null?r:vU,F=(i=_.paper)!=null?i:S,U=Ja({elementType:v.root,externalSlotProps:_.root,ownerState:g,className:[p.root,u]}),z=Ja({elementType:B,externalSlotProps:F,ownerState:g,className:p.paper});return l.jsx(yU,$({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?pU:mU,slots:{paper:B,root:v.root},slotProps:{root:U,paper:z},open:m,ref:n,transitionDuration:w,TransitionProps:$({onEntering:O},R),ownerState:g},M,{classes:E,children:l.jsx(xU,$({onKeyDown:j,actions:C,autoFocus:o&&(P===-1||c),autoFocusItem:y,variant:T},f,{className:Fe(p.list,f.className),children:a}))}))});function bU(t){return xt("MuiNativeSelect",t)}const $x=ht("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),wU=["className","disabled","error","IconComponent","inputRef","variant"],SU=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Xe(n)}`,s&&"iconOpen",r&&"disabled"]};return Tt(a,bU,e)},tP=({ownerState:t,theme:e})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${$x.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),EU=De("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Br,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${$x.multiple}`]:e.multiple}]}})(tP),nP=({ownerState:t,theme:e})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${$x.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),TU=De("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Xe(n.variant)}`],n.open&&e.iconOpen]}})(nP),CU=b.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:u="standard"}=e,c=Pe(e,wU),f=$({},e,{disabled:i,variant:u,error:s}),h=SU(f);return l.jsxs(b.Fragment,{children:[l.jsx(EU,$({ownerState:f,className:Fe(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:l.jsx(TU,{as:o,ownerState:f,className:h.icon})]})});function IU(t){return xt("MuiSelect",t)}const Vl=ht("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var dS;const kU=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],RU=De("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Vl.select}`]:e.select},{[`&.${Vl.select}`]:e[n.variant]},{[`&.${Vl.error}`]:e.error},{[`&.${Vl.multiple}`]:e.multiple}]}})(tP,{[`&.${Vl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),PU=De("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Xe(n.variant)}`],n.open&&e.iconOpen]}})(nP),AU=De("input",{shouldForwardProp:t=>HR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function fS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function jU(t){return t==null||typeof t=="string"&&!t.trim()}const OU=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Xe(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Tt(a,IU,e)},NU=b.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:S,error:E=!1,IconComponent:w,inputRef:I,labelId:T,MenuProps:v={},multiple:_,name:R,onBlur:M,onChange:N,onClose:g,onFocus:p,onOpen:y,open:C,readOnly:O,renderValue:j,SelectDisplayProps:P={},tabIndex:B,value:F,variant:U="standard"}=e,z=Pe(e,kU),[D,V]=N1({controlled:F,default:h,name:"Select"}),[W,G]=N1({controlled:C,default:f,name:"Select"}),Q=b.useRef(null),J=b.useRef(null),[se,he]=b.useState(null),{current:ge}=b.useRef(C!=null),[q,ie]=b.useState(),H=Wn(n,I),le=b.useCallback(we=>{J.current=we,we&&he(we)},[]),Z=se==null?void 0:se.parentNode;b.useImperativeHandle(H,()=>({focus:()=>{J.current.focus()},node:Q.current,value:D}),[D]),b.useEffect(()=>{f&&W&&se&&!ge&&(ie(a?null:Z.clientWidth),J.current.focus())},[se,a]),b.useEffect(()=>{o&&J.current.focus()},[o]),b.useEffect(()=>{if(!T)return;const we=gr(J.current).getElementById(T);if(we){const tt=()=>{getSelection().isCollapsed&&J.current.focus()};return we.addEventListener("click",tt),()=>{we.removeEventListener("click",tt)}}},[T]);const ne=(we,tt)=>{we?y&&y(tt):g&&g(tt),ge||(ie(a?null:Z.clientWidth),G(we))},fe=we=>{we.button===0&&(we.preventDefault(),J.current.focus(),ne(!0,we))},pe=we=>{ne(!1,we)},ve=b.Children.toArray(u),_e=we=>{const tt=ve.find(He=>He.props.value===we.target.value);tt!==void 0&&(V(tt.props.value),N&&N(we,tt))},Qe=we=>tt=>{let He;if(tt.currentTarget.hasAttribute("tabindex")){if(_){He=Array.isArray(D)?D.slice():[];const br=D.indexOf(we.props.value);br===-1?He.push(we.props.value):He.splice(br,1)}else He=we.props.value;if(we.props.onClick&&we.props.onClick(tt),D!==He&&(V(He),N)){const br=tt.nativeEvent||tt,ns=new br.constructor(br.type,br);Object.defineProperty(ns,"target",{writable:!0,value:{value:He,name:R}}),N(ns,we)}_||ne(!1,tt)}},be=we=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),ne(!0,we))},Ve=se!==null&&W,ke=we=>{!Ve&&M&&(Object.defineProperty(we,"target",{writable:!0,value:{value:D,name:R}}),M(we))};delete z["aria-invalid"];let Ge,it;const lt=[];let Ne=!1;(nh({value:D})||S)&&(j?Ge=j(D):Ne=!0);const pt=ve.map(we=>{if(!b.isValidElement(we))return null;let tt;if(_){if(!Array.isArray(D))throw new Error(Po(2));tt=D.some(He=>fS(He,we.props.value)),tt&&Ne&&lt.push(we.props.children)}else tt=fS(D,we.props.value),tt&&Ne&&(it=we.props.children);return b.cloneElement(we,{"aria-selected":tt?"true":"false",onClick:Qe(we),onKeyUp:He=>{He.key===" "&&He.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(He)},role:"option",selected:tt,value:void 0,"data-value":we.props.value})});Ne&&(_?lt.length===0?Ge=null:Ge=lt.reduce((we,tt,He)=>(we.push(tt),He<lt.length-1&&we.push(", "),we),[]):Ge=it);let Ie=q;!a&&ge&&se&&(Ie=Z.clientWidth);let Ue;typeof B<"u"?Ue=B:Ue=m?null:0;const Me=P.id||(R?`mui-component-select-${R}`:void 0),Te=$({},e,{variant:U,value:D,open:Ve,error:E}),yt=OU(Te),kt=$({},v.PaperProps,(r=v.slotProps)==null?void 0:r.paper),Ye=Sx();return l.jsxs(b.Fragment,{children:[l.jsx(RU,$({ref:le,tabIndex:Ue,role:"combobox","aria-controls":Ye,"aria-disabled":m?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[T,Me].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:be,onMouseDown:m||O?null:fe,onBlur:ke,onFocus:p},P,{ownerState:Te,className:Fe(P.className,yt.select,c),id:Me,children:jU(Ge)?dS||(dS=l.jsx("span",{className:"notranslate",children:""})):Ge})),l.jsx(AU,$({"aria-invalid":E,value:Array.isArray(D)?D.join(","):D,name:R,ref:Q,"aria-hidden":!0,onChange:_e,tabIndex:-1,disabled:m,className:yt.nativeInput,autoFocus:o,ownerState:Te},z)),l.jsx(PU,{as:w,className:yt.icon,ownerState:Te}),l.jsx(_U,$({id:`menu-${R||""}`,anchorEl:Z,open:Ve,onClose:pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:$({"aria-labelledby":T,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Ye},v.MenuListProps),slotProps:$({},v.slotProps,{paper:$({},kt,{style:$({minWidth:Ie},kt!=null?kt.style:null)})}),children:pt}))]})});function MU(t){return xt("MuiSvgIcon",t)}ht("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const LU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],DU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Xe(e)}`,`fontSize${Xe(n)}`]};return Tt(i,MU,r)},$U=De("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Xe(n.color)}`],e[`fontSize${Xe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,c,f,h,m,S,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(S=(t.vars||t).palette)==null||(S=S.action)==null?void 0:S.active,disabled:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.disabled,inherit:void 0}[e.color]}}),nv=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,S=Pe(r,LU),E=b.isValidElement(i)&&i.type==="svg",w=$({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:E}),I={};f||(I.viewBox=m);const T=DU(w);return l.jsxs($U,$({as:a,className:Fe(T.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,S,E&&i.props,{ownerState:w,children:[E?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});nv.muiName="SvgIcon";function FU(t,e){function n(r,i){return l.jsx(nv,$({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=nv.muiName,b.memo(b.forwardRef(n))}const VU=FU(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zU=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],BU=["root"],UU=t=>{const{classes:e}=t;return e},Fx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Br(t)&&t!=="variant",slot:"Root"},WU=De(Mx,Fx)(""),HU=De(Dx,Fx)(""),qU=De(Lx,Fx)(""),Vx=b.forwardRef(function(e,n){const r=_t({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:f=VU,id:h,input:m,inputProps:S,label:E,labelId:w,MenuProps:I,multiple:T=!1,native:v=!1,onClose:_,onOpen:R,open:M,renderValue:N,SelectDisplayProps:g,variant:p="outlined"}=r,y=Pe(r,zU),C=v?CU:NU,O=vl(),j=yl({props:r,muiFormControl:O,states:["variant","error"]}),P=j.variant||p,B=$({},r,{variant:P,classes:o}),F=UU(B),U=Pe(F,BU),z=m||{standard:l.jsx(WU,{ownerState:B}),outlined:l.jsx(HU,{label:E,ownerState:B}),filled:l.jsx(qU,{ownerState:B})}[P],D=Wn(n,Oc(z));return l.jsx(b.Fragment,{children:b.cloneElement(z,$({inputComponent:C,inputProps:$({children:s,error:j.error,IconComponent:f,variant:P,type:void 0,multiple:T},v?{id:h}:{autoWidth:i,defaultOpen:u,displayEmpty:c,labelId:w,MenuProps:I,onClose:_,onOpen:R,open:M,renderValue:N,SelectDisplayProps:$({id:h},g)},S,{classes:S?mr(U,S.classes):U},m?m.props.inputProps:{})},(T&&v||c)&&P==="outlined"?{notched:!0}:{},{ref:D,className:Fe(z.props.className,a,F.root)},!m&&{variant:P},y))})});Vx.muiName="Select";function KU(t){return xt("MuiTextField",t)}ht("MuiTextField",["root"]);const GU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],QU={standard:Mx,filled:Lx,outlined:Dx},YU=t=>{const{classes:e}=t;return Tt({root:["root"]},KU,e)},XU=De(YR,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cs=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:u="primary",defaultValue:c,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:S=!1,helperText:E,id:w,InputLabelProps:I,inputProps:T,InputProps:v,inputRef:_,label:R,maxRows:M,minRows:N,multiline:g=!1,name:p,onBlur:y,onChange:C,onFocus:O,placeholder:j,required:P=!1,rows:B,select:F=!1,SelectProps:U,type:z,value:D,variant:V="outlined"}=r,W=Pe(r,GU),G=$({},r,{autoFocus:s,color:u,disabled:f,error:h,fullWidth:S,multiline:g,required:P,select:F,variant:V}),Q=YU(G),J={};V==="outlined"&&(I&&typeof I.shrink<"u"&&(J.notched=I.shrink),J.label=R),F&&((!U||!U.native)&&(J.id=void 0),J["aria-describedby"]=void 0);const se=Sx(w),he=E&&se?`${se}-helper-text`:void 0,ge=R&&se?`${se}-label`:void 0,q=QU[V],ie=l.jsx(q,$({"aria-describedby":he,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:S,multiline:g,name:p,rows:B,maxRows:M,minRows:N,type:z,value:D,id:se,inputRef:_,onBlur:y,onChange:C,onFocus:O,placeholder:j,inputProps:T},J,v));return l.jsxs(XU,$({className:Fe(Q.root,a),disabled:f,error:h,fullWidth:S,ref:n,required:P,color:u,variant:V,ownerState:G},W,{children:[R!=null&&R!==""&&l.jsx(a8,$({htmlFor:se,id:ge},I,{children:R})),F?l.jsx(Vx,$({"aria-describedby":he,id:se,labelId:ge,value:D,input:ie},U,{children:o})):ie,E&&l.jsx(g8,$({id:he},m,{children:E}))]}))});function JU(t){return xt("MuiCard",t)}ht("MuiCard",["root"]);const ZU=["className","raised"],e9=t=>{const{classes:e}=t;return Tt({root:["root"]},JU,e)},t9=De(jx,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Jd=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Pe(r,ZU),a=$({},r,{raised:s}),u=e9(a);return l.jsx(t9,$({className:Fe(u.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function n9(t){return xt("MuiCardContent",t)}ht("MuiCardContent",["root"]);const r9=["className","component"],i9=t=>{const{classes:e}=t;return Tt({root:["root"]},n9,e)},s9=De("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Zd=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Pe(r,r9),a=$({},r,{component:s}),u=i9(a);return l.jsx(s9,$({as:s,className:Fe(u.root,i),ownerState:a,ref:n},o))});function o9(t){return xt("MuiCardMedia",t)}ht("MuiCardMedia",["root","media","img"]);const a9=["children","className","component","image","src","style"],l9=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Tt({root:["root",n&&"media",r&&"img"]},o9,e)},u9=De("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>$({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),c9=["video","audio","picture","iframe","img"],d9=["picture","img"],hS=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:u,style:c}=r,f=Pe(r,a9),h=c9.indexOf(o)!==-1,m=!h&&a?$({backgroundImage:`url("${a}")`},c):c,S=$({},r,{component:o,isMediaComponent:h,isImageComponent:d9.indexOf(o)!==-1}),E=l9(S);return l.jsx(u9,$({className:Fe(E.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:S,src:h?a||u:void 0},f,{children:i}))});var rP={},iP={},Gp={},sP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(sP);var f9="Expected a function",pS=NaN,h9="[object Symbol]",p9=/^\s+|\s+$/g,m9=/^[-+]0x[0-9a-f]+$/i,g9=/^0b[01]+$/i,y9=/^0o[0-7]+$/i,v9=parseInt,x9=typeof Wl=="object"&&Wl&&Wl.Object===Object&&Wl,_9=typeof self=="object"&&self&&self.Object===Object&&self,b9=x9||_9||Function("return this")(),w9=Object.prototype,S9=w9.toString,E9=Math.max,T9=Math.min,lg=function(){return b9.Date.now()};function C9(t,e,n){var r,i,s,o,a,u,c=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(f9);e=mS(e)||0,rv(n)&&(f=!!n.leading,h="maxWait"in n,s=h?E9(mS(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function S(N){var g=r,p=i;return r=i=void 0,c=N,o=t.apply(p,g),o}function E(N){return c=N,a=setTimeout(T,e),f?S(N):o}function w(N){var g=N-u,p=N-c,y=e-g;return h?T9(y,s-p):y}function I(N){var g=N-u,p=N-c;return u===void 0||g>=e||g<0||h&&p>=s}function T(){var N=lg();if(I(N))return v(N);a=setTimeout(T,w(N))}function v(N){return a=void 0,m&&r?S(N):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function R(){return a===void 0?o:v(lg())}function M(){var N=lg(),g=I(N);if(r=arguments,i=this,u=N,g){if(a===void 0)return E(u);if(h)return a=setTimeout(T,e),S(u)}return a===void 0&&(a=setTimeout(T,e)),o}return M.cancel=_,M.flush=R,M}function rv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function I9(t){return!!t&&typeof t=="object"}function k9(t){return typeof t=="symbol"||I9(t)&&S9.call(t)==h9}function mS(t){if(typeof t=="number")return t;if(k9(t))return pS;if(rv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(p9,"");var n=g9.test(t);return n||y9.test(t)?v9(t.slice(2),n?2:8):m9.test(t)?pS:+t}var R9=C9,oP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oP);var Qp=oP.exports,de={},zx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(b);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(zx);Object.defineProperty(de,"__esModule",{value:!0});de.checkSpecKeys=de.checkNavigable=de.changeSlide=de.canUseDOM=de.canGoNext=void 0;de.clamp=lP;de.extractObject=void 0;de.filterSettings=W9;de.validSettings=de.swipeStart=de.swipeMove=de.swipeEnd=de.slidesOnRight=de.slidesOnLeft=de.slideHandler=de.siblingDirection=de.safePreventDefault=de.lazyStartIndex=de.lazySlidesOnRight=de.lazySlidesOnLeft=de.lazyEndIndex=de.keyHandler=de.initializedState=de.getWidth=de.getTrackLeft=de.getTrackCSS=de.getTrackAnimateCSS=de.getTotalSlides=de.getSwipeDirection=de.getSlideCount=de.getRequiredLazySlides=de.getPreClones=de.getPostClones=de.getOnDemandLazySlides=de.getNavigableIndexes=de.getHeight=void 0;var P9=aP(b),A9=aP(zx);function aP(t){return t&&t.__esModule?t:{default:t}}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){j9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j9(t,e,n){return(e=O9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t){var e=N9(t,"string");return Ju(e)=="symbol"?e:e+""}function N9(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lP(t,e,n){return Math.max(e,Math.min(t,n))}var Aa=de.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},uP=de.getOnDemandLazySlides=function(e){for(var n=[],r=cP(e),i=dP(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};de.getRequiredLazySlides=function(e){for(var n=[],r=cP(e),i=dP(e),s=r;s<i;s++)n.push(s);return n};var cP=de.lazyStartIndex=function(e){return e.currentSlide-M9(e)},dP=de.lazyEndIndex=function(e){return e.currentSlide+L9(e)},M9=de.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},L9=de.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},iv=de.getWidth=function(e){return e&&e.offsetWidth||0},fP=de.getHeight=function(e){return e&&e.offsetHeight||0},hP=de.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},pP=de.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};de.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};de.initializedState=function(e){var n=P9.default.Children.count(e.children),r=e.listRef,i=Math.ceil(iv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(iv(s)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var c=r&&fP(r.querySelector('[data-index="0"]')),f=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],S=uP(Lt(Lt({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(S);var E={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(E.autoplaying="playing"),E};de.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoad,c=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,S=e.useCSS,E=e.lazyLoadedList;if(n&&r)return{};var w=o,I,T,v,_={},R={},M=s?o:lP(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?w=o+a:o>=a&&(w=o-a),u&&E.indexOf(w)<0&&(E=E.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:E,targetSlide:w},R={animating:!1,targetSlide:w}}else I=w,w<0?(I=w+a,s?a%h!==0&&(I=a-a%h):I=0):!pP(e)&&w>c?w=I=c:f&&w>=a?(w=s?a:a-1,I=s?0:a-1):w>=a&&(I=w-a,s?a%h!==0&&(I=0):I=a-m),!s&&w+m>=a&&(I=a-m),T=sh(Lt(Lt({},e),{},{slideIndex:w})),v=sh(Lt(Lt({},e),{},{slideIndex:I})),s||(T===v&&(w=I),T=v),u&&(E=E.concat(uP(Lt(Lt({},e),{},{currentSlide:w})))),S?(_={animating:!0,currentSlide:I,trackStyle:mP(Lt(Lt({},e),{},{left:T})),lazyLoadedList:E,targetSlide:M},R={animating:!1,currentSlide:I,trackStyle:ih(Lt(Lt({},e),{},{left:v})),swipeLeft:null,targetSlide:M}):_={currentSlide:I,trackStyle:ih(Lt(Lt({},e),{},{left:v})),lazyLoadedList:E,targetSlide:M};return{state:_,nextState:R}};de.changeSlide=function(e,n){var r,i,s,o,a,u=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,S=e.lazyLoad,E=e.infinite;if(o=f%u!==0,r=o?0:(f-h)%u,n.message==="previous")s=r===0?u:c-r,a=h-s,S&&!E&&(i=h-s,a=i===-1?f-1:i),E||(a=m-u);else if(n.message==="next")s=r===0?u:r,a=h+s,S&&!E&&(a=(h+u)%f+r),E||(a=m+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,E){var w=V9(Lt(Lt({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-f:a<n.currentSlide&&w==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};de.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};de.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Aa(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};de.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,c=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,S=n.swiped,E=n.swiping,w=n.slideCount,I=n.slidesToScroll,T=n.infinite,v=n.touchObject,_=n.swipeEvent,R=n.listHeight,M=n.listWidth;if(!r){if(i)return Aa(e);s&&o&&a&&Aa(e);var N,g={},p=sh(n);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var y=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!a&&!E&&y>10)return{scrolling:!0};a&&(v.swipeLength=y);var C=(u?-1:1)*(v.curX>v.startX?1:-1);a&&(C=v.curY>v.startY?1:-1);var O=Math.ceil(w/I),j=hP(n.touchObject,a),P=v.swipeLength;return T||(c===0&&(j==="right"||j==="down")||c+1>=O&&(j==="left"||j==="up")||!pP(n)&&(j==="left"||j==="up"))&&(P=v.swipeLength*f,h===!1&&m&&(m(j),g.edgeDragged=!0)),!S&&_&&(_(j),g.swiped=!0),s?N=p+P*(R/M)*C:u?N=p-P*C:N=p+P*C,a&&(N=p+P*C),g=Lt(Lt({},g),{},{touchObject:v,swipeLeft:N,trackStyle:ih(Lt(Lt({},n),{},{left:N}))}),Math.abs(v.curX-v.startX)<Math.abs(v.curY-v.startY)*.8||v.swipeLength>10&&(g.swiping=!0,Aa(e)),g}};de.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,S=n.targetSlide,E=n.currentSlide,w=n.infinite;if(!r)return i&&Aa(e),{};var I=u?c/a:o/a,T=hP(s,u),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return v;if(s.swipeLength>I){Aa(e),m&&m(T);var _,R,M=w?E:S;switch(T){case"left":case"up":R=M+vS(n),_=f?yS(n,R):R,v.currentDirection=0;break;case"right":case"down":R=M-vS(n),_=f?yS(n,R):R,v.currentDirection=1;break;default:_=M}v.triggerSlideHandler=_}else{var N=sh(n);v.trackStyle=mP(Lt(Lt({},n),{},{left:N}))}return v};var D9=de.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},yS=de.checkNavigable=function(e,n){var r=D9(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},vS=de.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+fP(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+iv(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},Bx=de.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},ih=de.getTrackCSS=function(e){Bx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=F9(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Lt(Lt({},s),{},{WebkitTransform:o,transform:a,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},mP=de.getTrackAnimateCSS=function(e){Bx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=ih(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},sh=de.getTrackLeft=function(e){if(e.unslick)return 0;Bx(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,S=e.fade,E=e.vertical,w=0,I,T,v=0;if(S||e.slideCount===1)return 0;var _=0;if(i?(_=-ef(e),o%u!==0&&n+u>o&&(_=-(n>o?a-(n-o):o%u)),s&&(_+=parseInt(a/2))):(o%u!==0&&n+u>o&&(_=a-o%u),s&&(_=parseInt(a/2))),w=_*c,v=_*m,E?I=n*m*-1+v:I=n*c*-1+w,h===!0){var R,M=r&&r.node;if(R=n+ef(e),T=M&&M.childNodes[R],I=T?T.offsetLeft*-1:0,s===!0){R=i?n+ef(e):n,T=M&&M.children[R],I=0;for(var N=0;N<R;N++)I-=M&&M.children[N]&&M.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=T&&(f-T.offsetWidth)/2}}return I},ef=de.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},$9=de.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},F9=de.getTotalSlides=function(e){return e.slideCount===1?1:ef(e)+e.slideCount+$9(e)},V9=de.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+z9(e)?"left":"right":e.targetSlide<e.currentSlide-B9(e)?"right":"left"},z9=de.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},B9=de.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};de.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var U9=de.validSettings=Object.keys(A9.default);function W9(t){return U9.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.Track=void 0;var hs=gP(b),ug=gP(Qp),Sd=de;function gP(t){return t&&t.__esModule?t:{default:t}}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(null,arguments)}function H9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vP(r.key),r)}}function K9(t,e,n){return e&&q9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ov(t,e)}function Q9(t){var e=yP();return function(){var n,r=oh(t);if(e){var i=oh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y9(this,n)}}function Y9(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return av(t)}function av(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yP=function(){return!!t})()}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lv(t,e,n){return(e=vP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vP(t){var e=X9(t,"string");return tl(e)=="symbol"?e:e+""}function X9(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},J9=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},dg=function(e,n){return e.key||n},Z9=function(e){var n,r=[],i=[],s=[],o=hs.default.Children.count(e.children),a=(0,Sd.lazyStartIndex)(e),u=(0,Sd.lazyEndIndex)(e);return hs.default.Children.forEach(e.children,function(c,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=c:h=hs.default.createElement("div",null);var S=J9(Zn(Zn({},e),{},{index:f})),E=h.props.className||"",w=cg(Zn(Zn({},e),{},{index:f}));if(r.push(hs.default.cloneElement(h,{key:"original"+dg(h,f),"data-index":f,className:(0,ug.default)(w,E),tabIndex:"-1","aria-hidden":!w["slick-active"],style:Zn(Zn({outline:"none"},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,Sd.getPreClones)(e)&&(n=-I,n>=a&&(h=c),w=cg(Zn(Zn({},e),{},{index:n})),i.push(hs.default.cloneElement(h,{key:"precloned"+dg(h,n),"data-index":n,tabIndex:"-1",className:(0,ug.default)(w,E),"aria-hidden":!w["slick-active"],style:Zn(Zn({},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,Sd.getPostClones)(e)&&(n=o+f,n<u&&(h=c),w=cg(Zn(Zn({},e),{},{index:n})),s.push(hs.default.cloneElement(h,{key:"postcloned"+dg(h,n),"data-index":n,tabIndex:"-1",className:(0,ug.default)(w,E),"aria-hidden":!w["slick-active"],style:Zn(Zn({},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};Yp.Track=function(t){G9(n,t);var e=Q9(n);function n(){var r;H9(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),lv(av(r),"node",null),lv(av(r),"handleRef",function(a){r.node=a}),r}return K9(n,[{key:"render",value:function(){var i=Z9(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,u=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:u};return hs.default.createElement("div",sv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(hs.default.PureComponent);var Xp={};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}Object.defineProperty(Xp,"__esModule",{value:!0});Xp.Dots=void 0;var Ed=xP(b),eW=xP(Qp),_S=de;function xP(t){return t&&t.__esModule?t:{default:t}}function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){nW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nW(t,e,n){return(e=_P(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_P(r.key),r)}}function sW(t,e,n){return e&&iW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _P(t){var e=oW(t,"string");return nl(e)=="symbol"?e:e+""}function oW(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}function uv(t,e){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},uv(t,e)}function lW(t){var e=bP();return function(){var n,r=ah(t);if(e){var i=ah(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uW(this,n)}}function uW(t,e){if(e&&(nl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cW(t)}function cW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}var dW=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};Xp.Dots=function(t){aW(n,t);var e=lW(n);function n(){return rW(this,n),e.apply(this,arguments)}return sW(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,S=dW({slideCount:h,slidesToScroll:c,slidesToShow:f,infinite:u}),E={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},w=[],I=0;I<S;I++){var T=(I+1)*c-1,v=u?T:(0,_S.clamp)(T,0,h-1),_=v-(c-1),R=u?_:(0,_S.clamp)(_,0,h-1),M=(0,eW.default)({"slick-active":u?m>=R&&m<=v:m===R}),N={message:"dots",index:I,slidesToScroll:c,currentSlide:m},g=this.clickHandler.bind(this,N);w=w.concat(Ed.default.createElement("li",{key:I,className:M},Ed.default.cloneElement(this.props.customPaging(I),{onClick:g})))}return Ed.default.cloneElement(this.props.appendDots(w),tW({className:this.props.dotsClass},E))}}]),n}(Ed.default.PureComponent);var rl={};function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}Object.defineProperty(rl,"__esModule",{value:!0});rl.PrevArrow=rl.NextArrow=void 0;var ja=SP(b),wP=SP(Qp),fW=de;function SP(t){return t&&t.__esModule?t:{default:t}}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(null,arguments)}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){hW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hW(t,e,n){return(e=CP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CP(r.key),r)}}function TP(t,e,n){return e&&pW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CP(t){var e=mW(t,"string");return il(e)=="symbol"?e:e+""}function mW(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cv(t,e)}function kP(t){var e=RP();return function(){var n,r=ch(t);if(e){var i=ch(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gW(this,n)}}function gW(t,e){if(e&&(il(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yW(t)}function yW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(t)}rl.PrevArrow=function(t){IP(n,t);var e=kP(n);function n(){return EP(this,n),e.apply(this,arguments)}return TP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,wP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=ja.default.cloneElement(this.props.prevArrow,uh(uh({},o),a)):u=ja.default.createElement("button",lh({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(ja.default.PureComponent);rl.NextArrow=function(t){IP(n,t);var e=kP(n);function n(){return EP(this,n),e.apply(this,arguments)}return TP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,fW.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,wP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=ja.default.cloneElement(this.props.nextArrow,uh(uh({},o),a)):u=ja.default.createElement("button",lh({key:"1",type:"button"},o)," ","Next"),u}}]),n}(ja.default.PureComponent);var PP=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),dv=typeof window<"u"&&typeof document<"u"&&window.document===document,dh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),vW=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(dh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),xW=2;function _W(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){vW(s)}function a(){var u=Date.now();if(n){if(u-i<xW)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var bW=20,wW=["top","right","bottom","left","width","height","size","weight"],SW=typeof MutationObserver<"u",EW=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_W(this.refresh.bind(this),bW)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!dv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),SW?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!dv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=wW.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),AP=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},sl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||dh},jP=Jp(0,0,0,0);function fh(t){return parseFloat(t)||0}function SS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+fh(s)},0)}function TW(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=fh(o)}return n}function CW(t){var e=t.getBBox();return Jp(0,0,e.width,e.height)}function IW(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return jP;var r=sl(t).getComputedStyle(t),i=TW(r),s=i.left+i.right,o=i.top+i.bottom,a=fh(r.width),u=fh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=SS(r,"left","right")+s),Math.round(u+o)!==n&&(u-=SS(r,"top","bottom")+o)),!RW(t)){var c=Math.round(a+s)-e,f=Math.round(u+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return Jp(i.left,i.top,a,u)}var kW=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof sl(t).SVGGraphicsElement}:function(t){return t instanceof sl(t).SVGElement&&typeof t.getBBox=="function"}}();function RW(t){return t===sl(t).document.documentElement}function PW(t){return dv?kW(t)?CW(t):IW(t):jP}function AW(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return AP(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Jp(t,e,n,r){return{x:t,y:e,width:n,height:r}}var jW=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Jp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=PW(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),OW=function(){function t(e,n){var r=AW(n);AP(this,{target:e,contentRect:r})}return t}(),NW=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new PP,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new jW(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new OW(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),OP=typeof WeakMap<"u"?new WeakMap:new PP,NP=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=EW.getInstance(),r=new NW(e,n,this);OP.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){NP.prototype[t]=function(){var e;return(e=OP.get(this))[t].apply(e,arguments)}});var MW=function(){return typeof dh.ResizeObserver<"u"?dh.ResizeObserver:NP}();const LW=Object.freeze(Object.defineProperty({__proto__:null,default:MW},Symbol.toStringTag,{value:"Module"})),DW=es(LW);Object.defineProperty(Gp,"__esModule",{value:!0});Gp.InnerSlider=void 0;var qn=Mc(b),$W=Mc(sP),FW=Mc(R9),VW=Mc(Qp),Ft=de,zW=Yp,BW=Xp,ES=rl,UW=Mc(DW);function Mc(t){return t&&t.__esModule?t:{default:t}}function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(null,arguments)}function WW(t,e){if(t==null)return{};var n,r,i=HW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(r){Ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LP(r.key),r)}}function GW(t,e,n){return e&&KW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fv(t,e)}function fv(t,e){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fv(t,e)}function YW(t){var e=MP();return function(){var n,r=ph(t);if(e){var i=ph(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XW(this,n)}}function XW(t,e){if(e&&(jo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}function Ze(t,e,n){return(e=LP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LP(t){var e=JW(t,"string");return jo(e)=="symbol"?e:e+""}function JW(t,e){if(jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Gp.InnerSlider=function(t){QW(n,t);var e=YW(n);function n(r){var i;qW(this,n),i=e.call(this,r),Ze(Je(i),"listRefHandler",function(o){return i.list=o}),Ze(Je(i),"trackRefHandler",function(o){return i.track=o}),Ze(Je(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Ft.getHeight)(o)+"px"}}),Ze(Je(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Ft.getOnDemandLazySlides)(ze(ze({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ze({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new UW.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Ze(Je(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Ze(Je(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Ft.getOnDemandLazySlides)(ze(ze({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(u,c,function(){i.state.currentSlide>=qn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:qn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Ze(Je(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,FW.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Ze(Je(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Ze(Je(i),"updateState",function(o,a,u){var c=(0,Ft.initializedState)(o);o=ze(ze(ze({},o),c),{},{slideIndex:c.currentSlide});var f=(0,Ft.getTrackLeft)(o);o=ze(ze({},o),{},{left:f});var h=(0,Ft.getTrackCSS)(o);(a||qn.default.Children.count(i.props.children)!==qn.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,u)}),Ze(Je(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,u=[],c=(0,Ft.getPreClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,Ft.getPostClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(g){u.push(g.props.style.width),o+=g.props.style.width});for(var h=0;h<c;h++)a+=u[u.length-1-h],o+=u[u.length-1-h];for(var m=0;m<f;m++)o+=u[m];for(var S=0;S<i.state.currentSlide;S++)a+=u[S];var E={width:o+"px",left:-a+"px"};if(i.props.centerMode){var w="".concat(u[i.state.currentSlide],"px");E.left="calc(".concat(E.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:E}}var I=qn.default.Children.count(i.props.children),T=ze(ze(ze({},i.props),i.state),{},{slideCount:I}),v=(0,Ft.getPreClones)(T)+(0,Ft.getPostClones)(T)+I,_=100/i.props.slidesToShow*v,R=100/v,M=-R*((0,Ft.getPreClones)(T)+i.state.currentSlide)*_/100;i.props.centerMode&&(M+=(100-R*_/100)/2);var N={width:_+"%",left:M+"%"};return{slideWidth:R+"%",trackStyle:N}}),Ze(Je(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,u=0;Array.prototype.forEach.call(o,function(c){var f=function(){return++u&&u>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(m){h(m),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=f,c.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Ze(Je(i),"progressiveLazyLoad",function(){for(var o=[],a=ze(ze({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,Ft.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,Ft.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Ze(Je(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,f=u.beforeChange,h=u.onLazyLoad,m=u.speed,S=u.afterChange,E=i.state.currentSlide,w=(0,Ft.slideHandler)(ze(ze(ze({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=w.state,T=w.nextState;if(I){f&&f(E,I.currentSlide);var v=I.lazyLoadedList.filter(function(_){return i.state.lazyLoadedList.indexOf(_)<0});h&&v.length>0&&h(v),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),S&&S(E),delete i.animationEndCallback),i.setState(I,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),T&&(i.animationEndCallback=setTimeout(function(){var _=T.animating,R=WW(T,["animating"]);i.setState(R,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:_})},10)),S&&S(I.currentSlide),delete i.animationEndCallback})},m))})}}),Ze(Je(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=ze(ze({},i.props),i.state),c=(0,Ft.changeSlide)(u,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),Ze(Je(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Ze(Je(i),"keyHandler",function(o){var a=(0,Ft.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Ze(Je(i),"selectHandler",function(o){i.changeSlide(o)}),Ze(Je(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),Ze(Je(i),"enableBodyScroll",function(){window.ontouchmove=null}),Ze(Je(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Ft.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Ze(Je(i),"swipeMove",function(o){var a=(0,Ft.swipeMove)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Ze(Je(i),"swipeEnd",function(o){var a=(0,Ft.swipeEnd)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),Ze(Je(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Ze(Je(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Ze(Je(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Ze(Je(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Ze(Je(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Ft.canGoNext)(ze(ze({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Ze(Je(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Ze(Je(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Ze(Je(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Ze(Je(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Ze(Je(i),"render",function(){var o=(0,VW.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ze(ze({},i.props),i.state),u=(0,Ft.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=ze(ze({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Ft.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=ze(ze({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=qn.default.createElement(BW.Dots,h)}var S,E,w=(0,Ft.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=i.changeSlide,i.props.arrows&&(S=qn.default.createElement(ES.PrevArrow,w),E=qn.default.createElement(ES.NextArrow,w));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var T=null;i.props.vertical===!1?i.props.centerMode===!0&&(T={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(T={padding:i.props.centerPadding+" 0px"});var v=ze(ze({},I),T),_=i.props.touchMove,R={className:"slick-list",style:v,onClick:i.clickHandler,onMouseDown:_?i.swipeStart:null,onMouseMove:i.state.dragging&&_?i.swipeMove:null,onMouseUp:_?i.swipeEnd:null,onMouseLeave:i.state.dragging&&_?i.swipeEnd:null,onTouchStart:_?i.swipeStart:null,onTouchMove:i.state.dragging&&_?i.swipeMove:null,onTouchEnd:_?i.touchEnd:null,onTouchCancel:i.state.dragging&&_?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(R={className:"slick-list"},M={className:o,style:i.props.style}),qn.default.createElement("div",M,i.props.unslick?"":S,qn.default.createElement("div",hh({ref:i.listRefHandler},R),qn.default.createElement(zW.Track,hh({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":E,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=ze(ze({},$W.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:qn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ze(ze({},i.state),s),i}return GW(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var u=a[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(jo(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){s=!0;break}}return s||qn.default.Children.count(this.props.children)!==qn.default.Children.count(i.children)}}]),n}(qn.default.Component);var ZW=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},e7=ZW,t7=e7,n7=function(t){var e=/[height|width]$/;return e.test(t)},CS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=t7(r),n7(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},r7=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=CS(n),r<t.length-1&&(e+=", ")}),e):CS(t)},i7=r7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(b),n=Gp,r=o(i7),i=o(zx),s=de;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a(p)}function u(){return u=Object.assign?Object.assign.bind():function(p){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var O in C)({}).hasOwnProperty.call(C,O)&&(p[O]=C[O])}return p},u.apply(null,arguments)}function c(p,y){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(p);y&&(O=O.filter(function(j){return Object.getOwnPropertyDescriptor(p,j).enumerable})),C.push.apply(C,O)}return C}function f(p){for(var y=1;y<arguments.length;y++){var C=arguments[y]!=null?arguments[y]:{};y%2?c(Object(C),!0).forEach(function(O){M(p,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):c(Object(C)).forEach(function(O){Object.defineProperty(p,O,Object.getOwnPropertyDescriptor(C,O))})}return p}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function m(p,y){for(var C=0;C<y.length;C++){var O=y[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,N(O.key),O)}}function S(p,y,C){return y&&m(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&w(p,y)}function w(p,y){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C},w(p,y)}function I(p){var y=_();return function(){var C,O=R(p);if(y){var j=R(this).constructor;C=Reflect.construct(O,arguments,j)}else C=O.apply(this,arguments);return T(this,C)}}function T(p,y){if(y&&(a(y)=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(p)}function v(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function _(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!p})()}function R(p){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},R(p)}function M(p,y,C){return(y=N(y))in p?Object.defineProperty(p,y,{value:C,enumerable:!0,configurable:!0,writable:!0}):p[y]=C,p}function N(p){var y=g(p,"string");return a(y)=="symbol"?y:y+""}function g(p,y){if(a(p)!="object"||!p)return p;var C=p[Symbol.toPrimitive];if(C!==void 0){var O=C.call(p,y);if(a(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}t.default=function(p){E(C,p);var y=I(C);function C(O){var j;return h(this,C),j=y.call(this,O),M(v(j),"innerSliderRefHandler",function(P){return j.innerSlider=P}),M(v(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(v(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(v(j),"slickGoTo",function(P){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(P,B)}),M(v(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(v(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return S(C,[{key:"media",value:function(j,P){var B=window.matchMedia(j),F=function(z){var D=z.matches;D&&P()};B.addListener(F),this._responsiveMediaHandlers.push({mql:B,query:j,listener:F})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var P=this.props.responsive.map(function(F){return F.breakpoint});P.sort(function(F,U){return F-U}),P.forEach(function(F,U){var z;U===0?z=(0,r.default)({minWidth:0,maxWidth:F}):z=(0,r.default)({minWidth:P[U-1]+1,maxWidth:F}),(0,s.canUseDOM)()&&j.media(z,function(){j.setState({breakpoint:F})})});var B=(0,r.default)({minWidth:P.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(B,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){j.mql.removeListener(j.listener)})}},{key:"render",value:function(){var j=this,P,B;this.state.breakpoint?(B=this.props.responsive.filter(function(se){return se.breakpoint===j.state.breakpoint}),P=B[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),B[0].settings)):P=f(f({},i.default),this.props),P.centerMode&&(P.slidesToScroll>1,P.slidesToScroll=1),P.fade&&(P.slidesToShow>1,P.slidesToScroll>1,P.slidesToShow=1,P.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),P.variableWidth&&(P.rows>1||P.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),P.variableWidth=!1);for(var U=[],z=null,D=0;D<F.length;D+=P.rows*P.slidesPerRow){for(var V=[],W=D;W<D+P.rows*P.slidesPerRow;W+=P.slidesPerRow){for(var G=[],Q=W;Q<W+P.slidesPerRow&&(P.variableWidth&&F[Q].props.style&&(z=F[Q].props.style.width),!(Q>=F.length));Q+=1)G.push(e.default.cloneElement(F[Q],{key:100*D+10*W+Q,tabIndex:-1,style:{width:"".concat(100/P.slidesPerRow,"%"),display:"inline-block"}}));V.push(e.default.createElement("div",{key:10*D+W},G))}P.variableWidth?U.push(e.default.createElement("div",{key:D,style:{width:z}},V)):U.push(e.default.createElement("div",{key:D},V))}if(P==="unslick"){var J="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:J},F)}else U.length<=P.slidesToShow&&(P.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(P)),U)}}]),C}(e.default.Component)})(iP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(iP);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(rP);const tf=mh(rP);function s7({onClick:t}){return l.jsx(mo,{variant:"contained",color:"primary",onClick:t,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Support Chat",children:l.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})}const o7=[{name:"Ada O.",text:"Pharmastack made it so easy to get my medicines delivered. Fast, reliable, and affordable!",avatar:"https://randomuser.me/api/portraits/men/76.jpg",city:"Lagos"},{name:"Chinedu E.",text:"I love the variety and the prices. Customer support is top notch!",avatar:"https://randomuser.me/api/portraits/men/77.jpg",city:"Abuja"},{name:"Fatima S.",text:"I found rare medicines here that I couldn't get anywhere else. Highly recommend!",avatar:"https://randomuser.me/api/portraits/women/77.jpg",city:"Kano"},{name:"Tunde A.",text:"The pharmacy partners are trustworthy and the delivery is always on time.",avatar:"https://randomuser.me/api/portraits/men/75.jpg",city:"Ibadan"}];function a7(){const t=typeof window<"u"&&window.innerWidth<=600,e={dots:!0,infinite:!0,speed:500,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,arrows:!1,responsive:[{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!1,variableWidth:!1}}]};return l.jsx("div",{style:{maxWidth:900,margin:"0 auto",padding:t?"12px 0":"32px 0"},children:l.jsx(tf,{...e,children:o7.map((n,r)=>l.jsxs("div",{style:{padding:t?12:24,background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #c7d2fe22",margin:t?"0 2px":"0 8px",minHeight:t?120:180,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("div",{style:{fontSize:t?15:18,fontWeight:600,color:"#2d3748",marginBottom:8},children:n.name}),l.jsx("div",{style:{fontSize:t?12:15,color:"#6366f1",marginBottom:8},children:n.city}),l.jsxs("div",{style:{fontSize:t?13:16,color:"#222",fontStyle:"italic"},children:["",n.text,""]})]},r))})})}function l7(t){return xt("MuiLink",t)}const u7=ht("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),DP={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},c7=t=>DP[t]||t,d7=({theme:t,ownerState:e})=>{const n=c7(e.color),r=Xa(t,`palette.${n}`,!1)||e.color,i=Xa(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Ar(r,.4)},f7=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],h7=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${Xe(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Tt(s,l7,e)},p7=De(bt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Xe(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>$({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&$({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:d7({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${u7.focusVisible}`]:{outline:"auto"}})),zl=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiLink"}),{className:i,color:s="primary",component:o="a",onBlur:a,onFocus:u,TypographyClasses:c,underline:f="always",variant:h="inherit",sx:m}=r,S=Pe(r,f7),{isFocusVisibleRef:E,onBlur:w,onFocus:I,ref:T}=RR(),[v,_]=b.useState(!1),R=Wn(n,T),M=y=>{w(y),E.current===!1&&_(!1),a&&a(y)},N=y=>{I(y),E.current===!0&&_(!0),u&&u(y)},g=$({},r,{color:s,component:o,focusVisible:v,underline:f,variant:h}),p=h7(g);return l.jsx(p7,$({color:s,className:Fe(p.root,i),classes:c,component:o,onBlur:M,onFocus:N,ref:R,ownerState:g,variant:h,sx:[...Object.keys(DP).includes(s)?[]:[{color:s}],...Array.isArray(m)?m:[m]]},S))});function m7(){return l.jsxs(Tn,{component:"footer",sx:{width:"100%",bgcolor:"#f4f6fa",borderTop:"1px solid #e0e7ef",py:3,mt:8,display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",px:{xs:2,sm:6},fontSize:15},children:[l.jsxs(bt,{color:"primary",fontWeight:700,children:["Pharmastack  ",new Date().getFullYear()]}),l.jsxs(Tn,{sx:{display:"flex",gap:3,mt:{xs:2,sm:0}},children:[l.jsx(zl,{href:"/",underline:"hover",color:"inherit",children:"Home"}),l.jsx(zl,{href:"/shop",underline:"hover",color:"inherit",children:"Shop"}),l.jsx(zl,{href:"/store",underline:"hover",color:"inherit",children:"Pharmacies"}),l.jsx(zl,{href:"/auth",underline:"hover",color:"inherit",children:"Login"}),l.jsx(zl,{href:"mailto:pharmastack@gmail.com",underline:"hover",color:"inherit",children:"Contact"})]})]})}function g7(){b.useEffect(()=>{const v=Pt(Oe(ee,"products"),_=>{const R=_.docs.map(M=>({id:M.id,...M.data()}));S(R)});return()=>v()},[]);const t={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},e={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,centerMode:!0,centerPadding:"60px",responsive:[{breakpoint:1200,settings:{slidesToShow:1,centerPadding:"40px"}},{breakpoint:900,settings:{slidesToShow:1,centerPadding:"20px"}},{breakpoint:600,settings:{slidesToShow:1,centerPadding:"10px"}}]},[n,r]=b.useState([]),[i,s]=b.useState([]),o=i;b.useEffect(()=>{const v=Pt(Oe(ee,"users"),_=>{const R=[],M=new Set;_.docs.forEach(N=>{const g=N.data();g.businessSlug&&!M.has(g.businessSlug)&&(R.push({name:g.businessName||g.businessSlug,img:g.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",rating:g.rating||4.5,slug:g.businessSlug}),M.add(g.businessSlug))}),s(R)});return()=>v()},[]);const a={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},[u,c]=b.useState(null),[f,h]=b.useState(""),[m,S]=b.useState([]),[E,w]=b.useState(""),I=Us();b.useEffect(()=>{const v=Pt(Oe(ee,"products"),_=>{const R=new Set;_.docs.forEach(M=>{const N=M.data().class;N&&typeof N=="string"&&N.trim()&&R.add(N.trim())}),r(Array.from(R).sort())});return()=>v()},[]),b.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude};c(_),localStorage.setItem("customerLocation",JSON.stringify(_))},v=>{h("Location access denied. Please enable location services.")})},[]);const T=v=>{v.preventDefault(),E.trim()?I(`/shop?search=${encodeURIComponent(E.trim())}`):I("/shop")};return l.jsxs(jz,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0},children:[l.jsxs(jx,{elevation:3,sx:{p:5,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, #f4f6fa 60%, #e0e7ff 100%)"},children:[l.jsx(bt,{variant:"h3",component:"h1",fontWeight:700,color:"primary",gutterBottom:!0,children:" Welcome to Pharmastack"}),l.jsx(bt,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Making Medicine Accessible, Findable, and Available to All."}),l.jsxs(Tn,{sx:{position:"relative",background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderLeft:"6px solid #6366f1",borderRadius:3,p:2.5,my:2.5,boxShadow:"0 2px 12px #c7d2fe22",color:"#2d3748",fontSize:18,fontWeight:500,textAlign:"center",letterSpacing:.1,lineHeight:1.6,maxWidth:600,mx:"auto",overflow:"hidden"},children:[l.jsx("span",{style:{color:"#6366f1",fontWeight:700,fontSize:20,display:"block",marginBottom:4},children:"Our Mission"}),l.jsx("span",{style:{position:"relative",zIndex:1},children:"We are solving the problem of inequitable access to medicines by building a digital map of real-time medicine availabilitya connected ecosystem ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."}),l.jsx("span",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,background:"linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 40%, rgba(255,255,255,0.2) 60%, rgba(255,255,255,0) 100%)",transform:"translateX(-100%)",animation:"gloss-move 7s cubic-bezier(.4,.6,.6,1) infinite"}}),l.jsx("style",{children:`
              @keyframes gloss-move {
                0% { transform: translateX(-100%); }
                60% { transform: translateX(120%); }
                100% { transform: translateX(120%); }
              }
            `})]}),l.jsx(Tn,{my:3,children:u?l.jsxs(bt,{variant:"body1",color:"secondary",children:[" Your location: ",l.jsxs("b",{children:[u.lat.toFixed(4),", ",u.lng.toFixed(4)]})]}):l.jsx(bt,{variant:"body2",color:"text.disabled",children:f||"Detecting your location..."})}),l.jsxs(Tn,{component:"form",onSubmit:T,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2,mt:6,mb:2},children:[l.jsx(cs,{variant:"outlined",placeholder:"Search drugs...",value:E,onChange:v=>w(v.target.value),sx:{width:320,background:"#fff",borderRadius:2},size:"medium"}),l.jsx(mo,{type:"submit",variant:"contained",color:"primary",size:"large",sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Search"})]}),l.jsx(Tn,{sx:{mb:3,background:"#f8fafc",borderRadius:2,minHeight:220,px:1,py:2},children:m.length===0?null:l.jsx(tf,{...t,children:m.map((v,_)=>l.jsx(Tn,{sx:{px:1},children:l.jsxs(Jd,{sx:{height:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2},children:[l.jsx(hS,{component:"img",image:v.image||"/default-medicine.png",alt:v.name,sx:{width:130,height:130,objectFit:"contain",mb:1}}),l.jsx(Zd,{sx:{p:0},children:l.jsx(bt,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center"},children:v.name||"Unnamed"})})]})},v.id||_))})}),l.jsx(bt,{variant:"h5",color:"primary",sx:{mt:6,mb:2,fontWeight:600},children:"Drug Classes"}),l.jsx(Tn,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2},children:l.jsx(tf,{...e,children:n.map(v=>{const _=m.find(R=>R.class&&R.class.trim()===v);return l.jsx(Tn,{children:l.jsxs(Jd,{sx:{width:160,height:160,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)",background:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)",background:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>I(`/shop?category=${encodeURIComponent(v)}`),children:[_&&l.jsx(Tn,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:_.image||"/default-medicine.png",alt:_.name||v,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(Zd,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(bt,{variant:"h6",fontWeight:900,sx:{color:"#3730a3",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"1.1rem",lineHeight:1.1},children:v})})]})},v)})})}),l.jsx(bt,{variant:"h5",color:"primary",sx:{mt:4,mb:2,fontWeight:600},children:"Find Medicines at Retail Prices"}),l.jsx(Tn,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:o.length===0?null:l.jsx(tf,{...a,children:o.map(v=>l.jsx(Tn,{sx:{px:1},children:l.jsxs(Jd,{sx:{minWidth:180,maxWidth:200,mx:1,borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>I(`/store/${v.slug}`),children:[l.jsx(hS,{component:"img",height:"80",image:v.img,alt:v.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(Zd,{sx:{textAlign:"center",pb:2},children:[l.jsx(bt,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:v.name}),l.jsxs(bt,{variant:"body2",color:"text.secondary",children:[" ",v.rating]}),l.jsx(mo,{size:"small",variant:"outlined",color:"primary",sx:{mt:1,borderRadius:2},onClick:_=>{_.stopPropagation(),I(`/store/${v.slug}`)},children:"Shop Now"})]})]})},v.slug))})}),l.jsx(mo,{component:Ba,to:"/store",size:"large",variant:"contained",color:"secondary",sx:{px:5,py:2,fontWeight:"bold",fontSize:"1.2em",borderRadius:3,boxShadow:3,mt:4,background:"linear-gradient(90deg,#7c3aed,#4f46e5)",color:"#fff","&:hover":{background:"linear-gradient(90deg,#4f46e5,#7c3aed)"}},children:" Find a pharmacy store near you"})]}),l.jsx(a7,{}),l.jsx(s7,{onClick:()=>alert("Support chat coming soon!")}),l.jsx(m7,{})]})}const y7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function Ht(){return typeof window<"u"&&window.innerWidth<=600}function v7(){const[t,e]=b.useState(!1),{slug:n}=Lh(),[r,i]=b.useState(null),[s,o]=b.useState([]),[a,u]=b.useState([]),[c,f]=b.useState(""),[h,m]=b.useState(null),[S,E]=b.useState(null),[w,I]=b.useState(""),[T,v]=b.useState(!0),_=zn(),R=(g,p,y,C)=>{const O=z=>z*Math.PI/180,P=O(y-g),B=O(C-p),F=Math.sin(P/2)**2+Math.cos(O(g))*Math.cos(O(y))*Math.sin(B/2)**2;return 6371*(2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F)))},M=g=>{const C=g*1.64,O=Math.max(1,Math.round(C/25*60));return{drivingKm:C,minutes:O}};b.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(g=>{const p={lat:g.coords.latitude,lng:g.coords.longitude};E(p);const y=_.currentUser;if(y){const C=Ee(ee,"users",y.uid);ln(C).then(O=>{const j=O.data();j&&j.role==="customer"&&or(C,{lat:p.lat,lng:p.lng},{merge:!0})})}},()=>E("denied"))},[_]),b.useEffect(()=>{const g=Dr(_,p=>{i(p)});return()=>g()},[_]),b.useEffect(()=>{v(!0);const g=Pt(Oe(ee,"products"),async p=>{const C=(await Promise.all(p.docs.map(async O=>{var P,B;const j={id:O.id,...O.data()};if(j.ownerId){const F=Ee(ee,"users",j.ownerId),U=await ln(F);if(U.exists()){const z=U.data();j.businessName=z.businessName||"Unknown Pharmacy",j.ownerSlug=z.slug||null,j.ownerRole=z.role||null,(P=z.location)!=null&&P.latitude&&((B=z.location)!=null&&B.longitude)&&(j.businessLat=z.location.latitude,j.businessLng=z.location.longitude),j.businessState=z.businessState||z.state||""}}return j}))).filter(O=>O.ownerRole!=="distributor");o(C),v(!1)});return()=>g()},[]),b.useEffect(()=>{if(s.length===0)return;let g=n?s.filter(U=>U.ownerSlug===n):s;w&&(g=g.filter(U=>U.businessState===w));const p={};for(const U of g){const z=(U.normalizedName||U.name||"").toLowerCase().trim();p[z]||(p[z]=[]),p[z].push(U)}const y=Object.values(p).map(U=>(S&&S!=="denied"&&(U=U.map(z=>{if(z.businessLat&&z.businessLng){const D=R(S.lat,S.lng,z.businessLat,z.businessLng),{minutes:V}=M(D);return{...z,minutesAway:V}}return{...z,minutesAway:1/0}}),U.sort((z,D)=>z.minutesAway-D.minutesAway)),U)).flat(),C=(U="")=>U.toLowerCase().trim().replace(/\s+/g," "),O={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=C(c),P=(O[j]||j).split(" "),B=(U,z)=>U.includes(z)||z.length>3&&U.startsWith(z.slice(0,3))||z.length>3&&U.endsWith(z.slice(-3)),F=y.filter(U=>{const z=C(U.name),D=C(U.ingredient),V=C(U.class);return P.some(W=>z.includes(W)||D.includes(W)||V.includes(W)||B(z,W)||B(D,W)||B(V,W))});u(F)},[s,S,c,n]);const N=async g=>{if(!r)return alert("Please log in first");let p={...g};if((!p.businessPhone||!p.businessWhatsapp)&&p.ownerId)try{const P=Ee(ee,"users",p.ownerId),B=await ln(P);if(B.exists()){const F=B.data();p.businessPhone=F.businessPhone||"",p.businessWhatsapp=F.businessWhatsapp||""}}catch{}const y=Ee(ee,"carts",r.uid),C=await ln(y);let O=C.exists()?C.data().items||[]:[];const j=O.findIndex(P=>P.name===p.name);j>=0?O[j].quantity+=1:O.push({...p,quantity:1}),await or(y,{items:O}),m(g.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return console.log("Visible medicines:",a.map(g=>g.businessName)),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:Ht()?"10px 2vw":"30px",position:"relative",fontFamily:"Inter, Arial, sans-serif"},children:[t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsxs("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:Ht()?22:32,marginBottom:8,letterSpacing:1},children:[" ",n?`${n}'s Pharmacy`:"All Medicine Listings"]}),!n&&l.jsx("div",{style:{color:"#6366f1",fontSize:18,marginBottom:18,fontWeight:500},children:"Browse and compare all medications. Sort by closest to you and price."}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:Ht()?8:16,margin:Ht()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(244,246,251,0.95)",padding:Ht()?"6px 0":"12px 0",borderRadius:12,boxShadow:"0 2px 8px #c7d2fe22"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:g=>f(g.target.value),style:{padding:Ht()?"8px":"12px",width:"100%",maxWidth:Ht()?"98vw":"400px",borderRadius:"10px",border:"1.5px solid #b3b3e7",fontSize:Ht()?15:17,background:"#f9f9ff",boxShadow:"0 1px 4px #c7d2fe22"}}),l.jsxs("select",{value:w,onChange:g=>I(g.target.value),style:{padding:Ht()?"8px":"12px",borderRadius:10,border:"1.5px solid #b3b3e7",fontSize:Ht()?15:17,minWidth:Ht()?120:180,background:"#f9f9ff",color:"#222",outline:"none",boxShadow:"0 1px 4px #c7d2fe22"},children:[l.jsx("option",{value:"",children:"Sort by state"}),y7.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),T?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:Ht()?"1fr":"repeat(auto-fill, minmax(260px, 1fr))",gap:Ht()?"14px":"28px",marginTop:18},children:a.map(g=>l.jsxs("div",{style:{border:"1.5px solid #e0e7ff",padding:Ht()?"10px 6px 10px 6px":"18px 16px 16px 16px",borderRadius:"16px",background:"#fff",boxShadow:"0 2px 12px #c7d2fe22",position:"relative",minHeight:Ht()?"180px":"240px",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch"},onMouseEnter:p=>{Ht()||(p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-4px) scale(1.03)")},onMouseLeave:p=>{Ht()||(p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none")},children:[g.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),g.isPOM&&l.jsx("span",{style:{position:"absolute",top:g.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),g.image?l.jsx("img",{src:g.image,alt:g.name,style:{width:"100%",height:Ht()?"90px":"150px",objectFit:"cover",borderRadius:"10px",marginBottom:Ht()?"6px":"10px",background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:Ht()?90:150,borderRadius:10,marginBottom:Ht()?6:10,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:Ht()?16:22,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:19,color:"#2d3748",marginBottom:2},children:g.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:15,color:"#6366f1",margin:0},children:l.jsx("em",{children:g.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:14,color:"#64748b",margin:"4px 0 0 0"},children:["Class: ",g.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:16,color:"#059669",fontWeight:700,margin:"6px 0 0 0"},children:["",g.price!==void 0?g.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555",margin:"6px 0 0 0"},children:[" ",g.ownerSlug?l.jsx("a",{href:`/store/${g.ownerSlug}`,style:{color:"#7c3aed",textDecoration:"underline",cursor:"pointer",fontWeight:500},children:g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"}):g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>N(g),style:{marginTop:"12px",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",disabled:typeof N!="function",children:"Add to Cart"}),g.minutesAway&&g.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:"600",margin:"8px 0 0 0"},children:g.minutesAway<=1?" Right here":` ~${g.minutesAway} mins away`}),h===g.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},g.id))})]})}function $P(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState(0),[o,a]=b.useState(!1),[u,c]=b.useState({}),[f,h]=b.useState([]),[m,S]=b.useState(null),E=zn(),w=Us();b.useEffect(()=>{t&&ln(Ee(ee,"users",t.uid)).then(N=>{N.exists()&&S(N.data())})},[t]),b.useEffect(()=>{const N=Array.from(new Set(n.filter(g=>g.registeredOnly&&g.ownerId).map(g=>g.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const g of f)await or(Ee(ee,"businessRegistrations",`${g}_${t.uid}`),{distributorId:g,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===g),status:"pending",date:new Date().toISOString()});Se.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};b.useEffect(()=>Dr(E,g=>{e(g),g&&T(g.uid)}),[E]);const T=async N=>{try{const g=Ee(ee,"carts",N),p=await ln(g);p.exists()?r(p.data().items||[]):r([])}catch(g){console.error("Error loading cart:",g)}},v=async(N,g)=>{try{await or(Ee(ee,"carts",N),{items:g})}catch(p){console.error("Error saving cart:",p)}};b.useEffect(()=>{const N=n.reduce((g,p)=>g+p.price*(p.quantity||1),0);s(N)},[n]);const _=N=>{if(!t)return Se.error("Please login first");const g=[...n],p=g.findIndex(y=>y.name===N.name);p>=0?g[p].quantity+=1:g.push({...N,quantity:1}),r(g),v(t.uid,g)},R=N=>{if(!t)return Se.error("Please login first");const g=[...n],p=g.findIndex(y=>y.name===N);p>=0&&(g[p].quantity>1?g[p].quantity-=1:g.splice(p,1)),r(g),v(t.uid,g)},M=()=>{if(!t)return Se.error("Please login to proceed to payment");if(n.length===0)return Se.info("Cart is empty");w("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:" Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,g)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",g+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>_(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>R(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},g)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,g)=>N+(g.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",i]}),!o&&l.jsx("button",{onClick:M,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const x7=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function _7(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState("Pending"),[o,a]=b.useState({}),u=zn();if(b.useEffect(()=>{const E=Dr(u,w=>{if(e(w),w){const I=_i(Oe(ee,"orders"),ei("userId","==",w.uid)),T=Pt(I,v=>{const _=v.docs.map(R=>({id:R.id,...R.data()}));_.sort((R,M)=>new Date(M.date)-new Date(R.date)),r(_)});return()=>T()}});return()=>E()},[u]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const c=async E=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=Ee(ee,"orders",E);await rn(I,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},f=E=>{a(w=>({...w,[E]:!w[E]}))},h=E=>E.reduce((w,I)=>w+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],S=m.reduce((E,w)=>(w==="Processing"?E[w]=n.filter(I=>{const T=I.status||"Pending";return T==="Processing"||T==="In-Progress"}):E[w]=n.filter(I=>(I.status||"Pending")===w),E),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:" Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(E=>{var w;return l.jsxs("button",{onClick:()=>s(E),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===E?"#007bff":"#eee",color:i===E?"#fff":"#000",fontWeight:i===E?"bold":"normal"},children:[E," (",((w=S[E])==null?void 0:w.length)||0,")"]},E)})}),S[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):S[i].map(E=>{var w;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",x7(E.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),E.items&&E.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(E.items.reduce((I,T)=>{const v=T.businessName||"Unknown",_=T.businessPhone||T.phoneNumber||"N/A",R=T.businessWhatsapp||T.whatsappNumber||"N/A";return I.set(v+"__"+_+"__"+R,{name:v,phone:_,whatsapp:R}),I},new Map).values()).map(({name:I,phone:T,whatsapp:v})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",T&&T!=="N/A"?l.jsxs("a",{href:`tel:${T}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",v&&v!=="N/A"?l.jsxs("a",{href:`https://wa.me/${v.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:v}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+T+v))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",E.assignedAgentName||E.riderName||E.riderId||E.assignedAgentId||"Not assigned",(E.assignedAgentName||E.riderName||E.riderId||E.assignedAgentId)&&(E.agentPhoneNumber||E.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",E.agentPhoneNumber?l.jsxs("a",{href:`tel:${E.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:E.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",E.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${E.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:E.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(E.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[E.id]?"#ede9fe":"#7c3aed",color:o[E.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[E.id]?"0 2px 8px #ede9fe":"none"},children:o[E.id]?"Hide Items":"View Items"}),o[E.id]&&((w=E.items)==null?void 0:w.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:E.items.map((I,T)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,onError:v=>{v.target.onerror=null,v.target.src="/pharmastack-logo.png"},alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name,"  ",I.price," x ",I.quantity||1]})]},T))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",h(E.items||[])]}),(E.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>c(E.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},E.id)})]})}const b7="modulepreload",w7=function(t){return"/medcins/"+t},IS={},Oa=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=w7(u),u in IS)return;IS[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":b7,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,S)=>{h.addEventListener("load",m),h.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},S7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function E7(){const t=Us(),[e,n]=b.useState(null),[r,i]=b.useState(""),[s,o]=b.useState(""),[a,u]=b.useState(""),[c,f]=b.useState(""),[h,m]=b.useState(""),[S,E]=b.useState(""),[w,I]=b.useState(""),[T,v]=b.useState(!1),[_,R]=b.useState(!1),[M,N]=b.useState(!1),[g,p]=b.useState({}),[y,C]=b.useState(!1),O={},[j,P]=b.useState(""),[B,F]=b.useState(""),[U,z]=b.useState(""),[D,V]=b.useState(""),[W,G]=b.useState(""),[Q,J]=b.useState(""),[se,he]=b.useState(""),[ge,q]=b.useState(""),[ie,H]=b.useState(""),[le,Z]=b.useState(""),[ne,fe]=b.useState(""),[pe,ve]=b.useState(""),[_e,Qe]=b.useState(null),[be,Ve]=b.useState(!1),[ke,Ge]=b.useState(null),[it,lt]=b.useState(!1),[Ne,pt]=b.useState(""),[Ie,Ue]=b.useState("");me.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const Me=async()=>{try{if(!ge||!ie){alert("Please provide distributor name and license number.");return}const X=await captureDistributorLocation();if(!X){alert(" Location required to complete distributor signup.");return}const A=(await eu(no,r,s)).user,te=await yt(ge),ue={email:A.email,role:"distributor",businessName:ge,licenseNumber:ie,location:X,slug:te,businessSlug:te,createdAt:new Date().toISOString()};await kt(A.uid,ue),n({...A,...ue}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${te}`),R(!1),q(""),H(""),Qe(null)}catch(X){console.error("Distributor signup error:",X),alert(X.message||"Distributor signup failed")}},Te=X=>X.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),yt=async X=>{let Le=Te(X);const A=Oe(ee,"users");let te=Le,ue=1;for(;;){const $e=_i(A,ei("slug","==",te));if((await un($e)).empty)break;te=`${Le}${ue++}`}return te},kt=async(X,Le)=>{console.log("Writing user doc for:",X,Le),await or(Ee(ee,"users",X),Le)},Ye=async()=>{try{if(!U||!D||!W){alert("Please provide address, state, and city.");return}const Le=(await eu(no,r,s)).user,A={email:Le.email,role:"customer",address:U,state:D,city:W,landmark:Q,createdAt:new Date().toISOString()};await kt(Le.uid,A),n({...Le,...A}),alert(" Customer signup successful!")}catch(X){console.error("Customer signup error:",X),alert(X.message)}},we=async()=>navigator.geolocation?(lt(!0),new Promise((X,Le)=>{navigator.geolocation.getCurrentPosition(A=>{const te={latitude:A.coords.latitude,longitude:A.coords.longitude};Ge(te),lt(!1),X(te)},A=>{lt(!1),alert(" Location access denied or unavailable."),Le(A)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),tt=async()=>{try{if(!a||!se||!c){alert("Please provide business name, address, and license number.");return}const X=await we();if(!X){alert(" Location required to complete business signup.");return}const A=(await eu(no,r,s)).user;console.log("Business user created:",A.uid);const te=await yt(a);console.log("Generated unique slug:",te);const ue={email:A.email,role:"medicine-manager",businessName:a,address:c,city:S,state:h,landmark:w,licenseNumber:se,location:X,lat:X.latitude,lng:X.longitude,slug:te,businessSlug:te,businessPhone:Ne,businessWhatsapp:Ie,createdAt:new Date().toISOString()};await kt(A.uid,ue),console.log("Firestore user record created for business:",ue),n({...A,...ue}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${te}`),v(!1),u(""),f(""),he(""),Ge(null)}catch(X){console.error("Business signup error:",X),alert(X.message||"Business signup failed")}},He=async()=>{try{const Le=(await kk(no,r,s)).user,A=await ln(Ee(ee,"users",Le.uid));A.exists()?(n({...Le,...A.data()}),A.data().role==="delivery-agent"&&A.data().slug&&t(`/agent/${A.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...Le}))}catch(X){console.error("Login error:",X),alert(X.message||"Login failed")}},br=async()=>{await Ak(no),n(null)},ns=async()=>{try{C(!0);const X=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const vt of X)if(!g[vt]){alert(`Please fill the ${vt} field.`),C(!1);return}const A=(await eu(no,g.email,s)).user,te=await yt(g.companyName),ue={...g,role:"delivery-agent",slug:te,createdAt:new Date().toISOString()};await kt(A.uid,ue);const $e={companyName:g.companyName,phoneNumber:g.phoneNumber,whatsappNumber:g.whatsappNumber,rcNumber:g.rcNumber,businessAddress:g.businessAddress,email:g.email,coverageArea:g.coverageArea,operatingHours:g.operatingHours,logoUrl:g.logoUrl,state:g.state,city:g.city,landmark:g.landmark,userId:A.uid,createdAt:new Date().toISOString(),slug:te},{addDoc:st,collection:nt}=await Oa(async()=>{const{addDoc:vt,collection:Re}=await Promise.resolve().then(()=>Y0);return{addDoc:vt,collection:Re}},void 0);await st(nt(ee,"deliveryAgents"),$e),n({...A,...ue}),alert(" Delivery agent signup successful!"),N(!1),p(O)}catch(X){console.error("Delivery agent signup error:",X),alert(X.message||"Delivery agent signup failed")}finally{C(!1)}},[Gs,wr]=b.useState(!1),[ni,Sr]=b.useState("customer"),rs=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:" Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:br,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:Gs?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:ni,onChange:X=>Sr(X.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:rs.map(X=>l.jsx("option",{value:X.key,children:X.label},X.key))})}),ni==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:j,onChange:X=>P(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:B,onChange:X=>F(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:U,onChange:X=>z(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:D,onChange:X=>V(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:W,onChange:X=>G(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:Q,onChange:X=>J(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:X=>i(X.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:X=>o(X.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Ye,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>wr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ke&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ke.latitude.toFixed(5),", ",ke.longitude.toFixed(5)]})]}),ni==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:X=>u(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:c,onChange:X=>f(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:se,onChange:X=>he(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:X=>m(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),S7.map(X=>l.jsx("option",{value:X,children:X},X))]}),l.jsx("input",{type:"text",placeholder:"City",value:S,onChange:X=>E(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:w,onChange:X=>I(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:Ne,onChange:X=>pt(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:Ie,onChange:X=>Ue(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:X=>i(X.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:X=>o(X.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:tt,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>wr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ke&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ke.latitude.toFixed(5),", ",ke.longitude.toFixed(5)]})]}),ni==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:ge,onChange:X=>q(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ie,onChange:X=>H(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:le,onChange:X=>Z(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:ne,onChange:X=>fe(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:pe,onChange:X=>ve(X.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:X=>i(X.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:X=>o(X.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Me,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:be,children:be?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>wr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),_e&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",_e.latitude.toFixed(5),", ",_e.longitude.toFixed(5)]})]}),ni==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:g.companyName,onChange:X=>p(Le=>({...Le,companyName:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:g.phoneNumber,onChange:X=>p(Le=>({...Le,phoneNumber:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:g.whatsappNumber,onChange:X=>p(Le=>({...Le,whatsappNumber:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:g.rcNumber,onChange:X=>p(Le=>({...Le,rcNumber:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:g.businessAddress,onChange:X=>p(Le=>({...Le,businessAddress:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:g.state,onChange:X=>p(Le=>({...Le,state:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:g.city,onChange:X=>p(Le=>({...Le,city:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:g.landmark,onChange:X=>p(Le=>({...Le,landmark:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:g.coverageArea,onChange:X=>p(Le=>({...Le,coverageArea:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:g.operatingHours,onChange:X=>p(Le=>({...Le,operatingHours:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:g.logoUrl,onChange:X=>p(Le=>({...Le,logoUrl:X.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:g.email,onChange:X=>p(Le=>({...Le,email:X.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:X=>o(X.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:ns,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:y,children:y?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>wr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:X=>i(X.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:X=>o(X.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:He,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>wr(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var FP={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Wl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,c={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(y){var C=M(y);C.chunkSize=parseInt(C.chunkSize),y.step||y.chunk||(C.chunkSize=null),this._handle=new w(C),(this._handle.streamer=this)._config=C}).call(this,p),this.parseChunk=function(y,C){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let P=this._config.newline;P||(j=this._config.quoteChar||'"',P=this._handle.guessLineEndings(y,j)),y=[...y.split(P).slice(O)].join(P)}this.isFirstChunk&&g(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(y))!==void 0&&(y=j),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+y,j=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(y=j.meta.cursor,O=(this._finished||(this._partialLine=O.substring(y-this._baseIndex),this._baseIndex=y),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:j,workerId:c.WORKER_ID,finished:O});else if(g(this._config.chunk)&&!C){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!O||!g(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(y){g(this._config.error)?this._config.error(y):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:y,finished:!1})}}function h(p){var y;(p=p||{}).chunkSize||(p.chunkSize=c.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),s||(y.onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var C,O=this._config.downloadRequestHeaders;for(C in O)y.setRequestHeader(C,O[C])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,y.setRequestHeader("Range","bytes="+this._start+"-"+j));try{y.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize||y.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(y),this.parseChunk(y.responseText)))},this._chunkError=function(C){C=y.statusText||C,this._sendError(new Error(C))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=c.LocalChunkSize),f.call(this,p);var y,C,O=typeof FileReader<"u";this.stream=function(j){this._input=j,C=j.slice||j.webkitSlice||j.mozSlice,O?((y=new FileReader).onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),j=C.call(j,this._start,P)),y.readAsText(j,this._config.encoding));O||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(y.error)}}function S(p){var y;f.call(this,p=p||{}),this.stream=function(C){return y=C,this._nextChunk()},this._nextChunk=function(){var C,O;if(!this._finished)return C=this._config.chunkSize,y=C?(O=y.substring(0,C),y.substring(C)):(O=y,""),this._finished=!y,this.parseChunk(O)}}function E(p){f.call(this,p=p||{});var y=[],C=!0,O=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):C=!0},this._streamData=N(function(j){try{y.push(typeof j=="string"?j:j.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(P){this._streamError(P)}},this),this._streamError=N(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=N(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(p){var y,C,O,j,P=Math.pow(2,53),B=-P,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,D=0,V=0,W=!1,G=!1,Q=[],J={data:[],errors:[],meta:{}};function se(ie){return p.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function he(){if(J&&O&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),O=!1),p.skipEmptyLines&&(J.data=J.data.filter(function(ne){return!se(ne)})),ge()){let ne=function(fe,pe){g(p.transformHeader)&&(fe=p.transformHeader(fe,pe)),Q.push(fe)};var Z=ne;if(J)if(Array.isArray(J.data[0])){for(var ie=0;ge()&&ie<J.data.length;ie++)J.data[ie].forEach(ne);J.data.splice(0,1)}else J.data.forEach(ne)}function H(ne,fe){for(var pe=p.header?{}:[],ve=0;ve<ne.length;ve++){var _e=ve,Qe=ne[ve],Qe=((be,Ve)=>(ke=>(p.dynamicTypingFunction&&p.dynamicTyping[ke]===void 0&&(p.dynamicTyping[ke]=p.dynamicTypingFunction(ke)),(p.dynamicTyping[ke]||p.dynamicTyping)===!0))(be)?Ve==="true"||Ve==="TRUE"||Ve!=="false"&&Ve!=="FALSE"&&((ke=>{if(F.test(ke)&&(ke=parseFloat(ke),B<ke&&ke<P))return 1})(Ve)?parseFloat(Ve):U.test(Ve)?new Date(Ve):Ve===""?null:Ve):Ve)(_e=p.header?ve>=Q.length?"__parsed_extra":Q[ve]:_e,Qe=p.transform?p.transform(Qe,_e):Qe);_e==="__parsed_extra"?(pe[_e]=pe[_e]||[],pe[_e].push(Qe)):pe[_e]=Qe}return p.header&&(ve>Q.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+ve,V+fe):ve<Q.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+ve,V+fe)),pe}var le;J&&(p.header||p.dynamicTyping||p.transform)&&(le=1,!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(H),le=J.data.length):J.data=H(J.data,0),p.header&&J.meta&&(J.meta.fields=Q),V+=le)}function ge(){return p.header&&Q.length===0}function q(ie,H,le,Z){ie={type:ie,code:H,message:le},Z!==void 0&&(ie.row=Z),J.errors.push(ie)}g(p.step)&&(j=p.step,p.step=function(ie){J=ie,ge()?he():(he(),J.data.length!==0&&(D+=ie.data.length,p.preview&&D>p.preview?C.abort():(J.data=J.data[0],j(J,z))))}),this.parse=function(ie,H,le){var Z=p.quoteChar||'"',Z=(p.newline||(p.newline=this.guessLineEndings(ie,Z)),O=!1,p.delimiter?g(p.delimiter)&&(p.delimiter=p.delimiter(ie),J.meta.delimiter=p.delimiter):((Z=((ne,fe,pe,ve,_e)=>{var Qe,be,Ve,ke;_e=_e||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ge=0;Ge<_e.length;Ge++){for(var it,lt=_e[Ge],Ne=0,pt=0,Ie=0,Ue=(Ve=void 0,new T({comments:ve,delimiter:lt,newline:fe,preview:10}).parse(ne)),Me=0;Me<Ue.data.length;Me++)pe&&se(Ue.data[Me])?Ie++:(it=Ue.data[Me].length,pt+=it,Ve===void 0?Ve=it:0<it&&(Ne+=Math.abs(it-Ve),Ve=it));0<Ue.data.length&&(pt/=Ue.data.length-Ie),(be===void 0||Ne<=be)&&(ke===void 0||ke<pt)&&1.99<pt&&(be=Ne,Qe=lt,ke=pt)}return{successful:!!(p.delimiter=Qe),bestDelimiter:Qe}})(ie,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=Z.bestDelimiter:(O=!0,p.delimiter=c.DefaultDelimiter),J.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&Z.preview++,y=ie,C=new T(Z),J=C.parse(y,H,le),he(),W?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,C.abort(),y=g(p.chunk)?"":y.substring(C.getCharIndex())},this.resume=function(){z.streamer._halted?(W=!1,z.streamer.parseChunk(y,!0)):setTimeout(z.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,C.abort(),J.meta.aborted=!0,g(p.complete)&&p.complete(J),y=""},this.guessLineEndings=function(ne,Z){ne=ne.substring(0,1048576);var Z=new RegExp(I(Z)+"([^]*?)"+I(Z),"gm"),le=(ne=ne.replace(Z,"")).split("\r"),Z=ne.split(`
`),ne=1<Z.length&&Z[0].length<le[0].length;if(le.length===1||ne)return`
`;for(var fe=0,pe=0;pe<le.length;pe++)le[pe][0]===`
`&&fe++;return fe>=le.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(p){var y=(p=p||{}).delimiter,C=p.newline,O=p.comments,j=p.step,P=p.preview,B=p.fastMode,F=null,U=!1,z=p.quoteChar==null?'"':p.quoteChar,D=z;if(p.escapeChar!==void 0&&(D=p.escapeChar),(typeof y!="string"||-1<c.BAD_DELIMITERS.indexOf(y))&&(y=","),O===y)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var V=0,W=!1;this.parse=function(G,Q,J){if(typeof G!="string")throw new Error("Input must be a string");var se=G.length,he=y.length,ge=C.length,q=O.length,ie=g(j),H=[],le=[],Z=[],ne=V=0;if(!G)return Ne();if(B||B!==!1&&G.indexOf(z)===-1){for(var fe=G.split(C),pe=0;pe<fe.length;pe++){if(Z=fe[pe],V+=Z.length,pe!==fe.length-1)V+=C.length;else if(J)return Ne();if(!O||Z.substring(0,q)!==O){if(ie){if(H=[],ke(Z.split(y)),pt(),W)return Ne()}else ke(Z.split(y));if(P&&P<=pe)return H=H.slice(0,P),Ne(!0)}}return Ne()}for(var ve=G.indexOf(y,V),_e=G.indexOf(C,V),Qe=new RegExp(I(D)+I(z),"g"),be=G.indexOf(z,V);;)if(G[V]===z)for(be=V,V++;;){if((be=G.indexOf(z,be+1))===-1)return J||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:H.length,index:V}),it();if(be===se-1)return it(G.substring(V,be).replace(Qe,z));if(z===D&&G[be+1]===D)be++;else if(z===D||be===0||G[be-1]!==D){ve!==-1&&ve<be+1&&(ve=G.indexOf(y,be+1));var Ve=Ge((_e=_e!==-1&&_e<be+1?G.indexOf(C,be+1):_e)===-1?ve:Math.min(ve,_e));if(G.substr(be+1+Ve,he)===y){Z.push(G.substring(V,be).replace(Qe,z)),G[V=be+1+Ve+he]!==z&&(be=G.indexOf(z,V)),ve=G.indexOf(y,V),_e=G.indexOf(C,V);break}if(Ve=Ge(_e),G.substring(be+1+Ve,be+1+Ve+ge)===C){if(Z.push(G.substring(V,be).replace(Qe,z)),lt(be+1+Ve+ge),ve=G.indexOf(y,V),be=G.indexOf(z,V),ie&&(pt(),W))return Ne();if(P&&H.length>=P)return Ne(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:H.length,index:V}),be++}}else if(O&&Z.length===0&&G.substring(V,V+q)===O){if(_e===-1)return Ne();V=_e+ge,_e=G.indexOf(C,V),ve=G.indexOf(y,V)}else if(ve!==-1&&(ve<_e||_e===-1))Z.push(G.substring(V,ve)),V=ve+he,ve=G.indexOf(y,V);else{if(_e===-1)break;if(Z.push(G.substring(V,_e)),lt(_e+ge),ie&&(pt(),W))return Ne();if(P&&H.length>=P)return Ne(!0)}return it();function ke(Ie){H.push(Ie),ne=V}function Ge(Ie){var Ue=0;return Ue=Ie!==-1&&(Ie=G.substring(be+1,Ie))&&Ie.trim()===""?Ie.length:Ue}function it(Ie){return J||(Ie===void 0&&(Ie=G.substring(V)),Z.push(Ie),V=se,ke(Z),ie&&pt()),Ne()}function lt(Ie){V=Ie,ke(Z),Z=[],_e=G.indexOf(C,V)}function Ne(Ie){if(p.header&&!Q&&H.length&&!U){var Ue=H[0],Me=Object.create(null),Te=new Set(Ue);let yt=!1;for(let kt=0;kt<Ue.length;kt++){let Ye=Ue[kt];if(Me[Ye=g(p.transformHeader)?p.transformHeader(Ye,kt):Ye]){let we,tt=Me[Ye];for(;we=Ye+"_"+tt,tt++,Te.has(we););Te.add(we),Ue[kt]=we,Me[Ye]++,yt=!0,(F=F===null?{}:F)[we]=Ye}else Me[Ye]=1,Ue[kt]=Ye;Te.add(Ye)}yt&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:H,errors:le,meta:{delimiter:y,linebreak:C,aborted:W,truncated:!!Ie,cursor:ne+(Q||0),renamedHeaders:F}}}function pt(){j(Ne()),H=[],le=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return V}}function v(p){var y=p.data,C=a[y.workerId],O=!1;if(y.error)C.userError(y.error,y.file);else if(y.results&&y.results.data){var j={abort:function(){O=!0,_(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(g(C.userStep)){for(var P=0;P<y.results.data.length&&(C.userStep({data:y.results.data[P],errors:y.results.errors,meta:y.results.meta},j),!O);P++);delete y.results}else g(C.userChunk)&&(C.userChunk(y.results,j,y.file),delete y.results)}y.finished&&!O&&_(y.workerId,y.results)}function _(p,y){var C=a[p];g(C.userComplete)&&C.userComplete(y),C.terminate(),delete a[p]}function R(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var y,C=Array.isArray(p)?[]:{};for(y in p)C[y]=M(p[y]);return C}function N(p,y){return function(){p.apply(y,arguments)}}function g(p){return typeof p=="function"}return c.parse=function(p,y){var C=(y=y||{}).dynamicTyping||!1;if(g(C)&&(y.dynamicTypingFunction=C,C={}),y.dynamicTyping=C,y.transform=!!g(y.transform)&&y.transform,!y.worker||!c.WORKERS_SUPPORTED)return C=null,c.NODE_STREAM_INPUT,typeof p=="string"?(p=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(p),C=new(y.download?h:S)(y)):p.readable===!0&&g(p.read)&&g(p.on)?C=new E(y):(r.File&&p instanceof File||p instanceof Object)&&(C=new m(y)),C.stream(p);(C=(()=>{var O;return!!c.WORKERS_SUPPORTED&&(O=(()=>{var j=r.URL||r.webkitURL||null,P=n.toString();return c.BLOB_URL||(c.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=v,O.id=u++,a[O.id]=O)})()).userStep=y.step,C.userChunk=y.chunk,C.userComplete=y.complete,C.userError=y.error,y.step=g(y.step),y.chunk=g(y.chunk),y.complete=g(y.complete),y.error=g(y.error),delete y.worker,C.postMessage({input:p,config:y,workerId:C.id})},c.unparse=function(p,y){var C=!1,O=!0,j=",",P=`\r
`,B='"',F=B+B,U=!1,z=null,D=!1,V=((()=>{if(typeof y=="object"){if(typeof y.delimiter!="string"||c.BAD_DELIMITERS.filter(function(Q){return y.delimiter.indexOf(Q)!==-1}).length||(j=y.delimiter),typeof y.quotes!="boolean"&&typeof y.quotes!="function"&&!Array.isArray(y.quotes)||(C=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(U=y.skipEmptyLines),typeof y.newline=="string"&&(P=y.newline),typeof y.quoteChar=="string"&&(B=y.quoteChar),typeof y.header=="boolean"&&(O=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");z=y.columns}y.escapeChar!==void 0&&(F=y.escapeChar+B),y.escapeFormulae instanceof RegExp?D=y.escapeFormulae:typeof y.escapeFormulae=="boolean"&&y.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(B),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return W(null,p,U);if(typeof p[0]=="object")return W(z||Object.keys(p[0]),p,U)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||z),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),W(p.fields||[],p.data||[],U);throw new Error("Unable to serialize unrecognized input");function W(Q,J,se){var he="",ge=(typeof Q=="string"&&(Q=JSON.parse(Q)),typeof J=="string"&&(J=JSON.parse(J)),Array.isArray(Q)&&0<Q.length),q=!Array.isArray(J[0]);if(ge&&O){for(var ie=0;ie<Q.length;ie++)0<ie&&(he+=j),he+=G(Q[ie],ie);0<J.length&&(he+=P)}for(var H=0;H<J.length;H++){var le=(ge?Q:J[H]).length,Z=!1,ne=ge?Object.keys(J[H]).length===0:J[H].length===0;if(se&&!ge&&(Z=se==="greedy"?J[H].join("").trim()==="":J[H].length===1&&J[H][0].length===0),se==="greedy"&&ge){for(var fe=[],pe=0;pe<le;pe++){var ve=q?Q[pe]:pe;fe.push(J[H][ve])}Z=fe.join("").trim()===""}if(!Z){for(var _e=0;_e<le;_e++){0<_e&&!ne&&(he+=j);var Qe=ge&&q?Q[_e]:_e;he+=G(J[H][Qe],_e)}H<J.length-1&&(!se||0<le&&!ne)&&(he+=P)}}return he}function G(Q,J){var se,he;return Q==null?"":Q.constructor===Date?JSON.stringify(Q).slice(1,25):(he=!1,D&&typeof Q=="string"&&D.test(Q)&&(Q="'"+Q,he=!0),se=Q.toString().replace(V,F),(he=he||C===!0||typeof C=="function"&&C(Q,J)||Array.isArray(C)&&C[J]||((ge,q)=>{for(var ie=0;ie<q.length;ie++)if(-1<ge.indexOf(q[ie]))return!0;return!1})(se,c.BAD_DELIMITERS)||-1<se.indexOf(j)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?B+se+B:se)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=w,c.NetworkStreamer=h,c.FileStreamer=m,c.StringStreamer=S,c.ReadableStreamStreamer=E,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var y=p.config||{},C=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var B=0;B<this.files.length;B++)C.push({file:this.files[B],inputElem:this,instanceConfig:i.extend({},y)})}),O(),this;function O(){if(C.length===0)g(p.complete)&&p.complete();else{var P,B,F,U,z=C[0];if(g(p.before)){var D=p.before(z.file,z.inputElem);if(typeof D=="object"){if(D.action==="abort")return P="AbortError",B=z.file,F=z.inputElem,U=D.reason,void(g(p.error)&&p.error({name:P},B,F,U));if(D.action==="skip")return void j();typeof D.config=="object"&&(z.instanceConfig=i.extend(z.instanceConfig,D.config))}else if(D==="skip")return void j()}var V=z.instanceConfig.complete;z.instanceConfig.complete=function(W){g(V)&&V(W,z.file,z.inputElem),j()},c.parse(z.file,z.instanceConfig)}}function j(){C.splice(0,1),O()}}),o&&(r.onmessage=function(p){p=p.data,c.WORKER_ID===void 0&&p&&(c.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=c.parse(p.input,p.config))&&r.postMessage({workerId:c.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(S.prototype=Object.create(S.prototype)).constructor=S,(E.prototype=Object.create(f.prototype)).constructor=E,c})})(FP);var T7=FP.exports;const VP=mh(T7),fg=["name","ingredient","class","price","image"];function C7(){const[t,e]=b.useState(""),[n,r]=b.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=b.useState(null);if(b.useEffect(()=>{Oa(async()=>{const{getAuth:F,onAuthStateChanged:U}=await Promise.resolve().then(()=>Wk);return{getAuth:F,onAuthStateChanged:U}},void 0).then(({getAuth:F,onAuthStateChanged:U})=>{const z=F();U(z,async D=>{if(D){const{getDoc:V,doc:W}=await Oa(async()=>{const{getDoc:Q,doc:J}=await Promise.resolve().then(()=>Y0);return{getDoc:Q,doc:J}},void 0),G=await V(W(ee,"users",D.uid));a(G.exists()?G.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[u,c]=b.useState(null),[f,h]=b.useState(null),[m,S]=b.useState([]),[E,w]=b.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,T]=b.useState(null),[v,_]=b.useState([]),[R,M]=b.useState([]),N=m.filter(F=>{var z,D,V;const U=t.toLowerCase();return((z=F.name)==null?void 0:z.toLowerCase().includes(U))||((D=F.ingredient)==null?void 0:D.toLowerCase().includes(U))||((V=F.class)==null?void 0:V.toLowerCase().includes(U))}),g=zn();b.useEffect(()=>{const F=Dr(g,async U=>{if(U){c(U);try{const z=await ln(Ee(ee,"users",U.uid));z.exists()?h(z.data()):h({role:"customer"})}catch(z){console.error("Error fetching user doc:",z),h({role:"customer"})}}else c(null),h(null)});return()=>F()},[g]),b.useEffect(()=>{if(!u)return;const F=Pt(Oe(ee,"products"),U=>{const z=U.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.ownerId===u.uid);S(z)});return()=>F()},[u]),b.useEffect(()=>{if(!u)return;const F=Pt(Oe(ee,"batches"),U=>{const z=U.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.uploadedBy===u.uid);M(z)});return()=>F()},[u]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),y=async F=>{if(F.preventDefault(),!u)return Se.error("Please log in first");if(!f)return Se.info("Loading user data...");const{name:U,ingredient:z,class:D,price:V,image:W}=E;if(!U||!z||!D||!V)return Se.warn("Please fill all required fields");const G=parseInt(V,10);if(isNaN(G)||G<0)return Se.warn("Price must be a positive number");const{ownerSlug:Q,businessName:J}=p(),se=(f==null?void 0:f.pharmacist)||null;try{I?(await rn(Ee(ee,"products",I),{name:U,ingredient:z,class:D,price:G,image:W||"",ownerSlug:Q||"",businessName:J||"",isPOM:!!E.isPOM,registeredOnly:!!E.registeredOnly,pharmacist:se||null}),T(null)):await ko(Oe(ee,"products"),{name:U,ingredient:z,class:D,price:G,image:W||"",ownerId:u.uid,ownerSlug:Q||"",businessName:J||"",isPOM:!!E.isPOM,registeredOnly:!!E.registeredOnly,pharmacist:se||null}),w({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(he){console.error(he),Se.error("Error saving medicine")}},C=F=>{const U=F.target.files[0];U&&VP.parse(U,{header:!0,skipEmptyLines:!0,complete:z=>{const D=z.data.map(V=>{const W={};return fg.forEach(G=>W[G]=V[G]||(G==="price"?0:"N/A")),W});_(D)}})},O=async()=>{if(!v.length)return Se.info("No CSV data to upload");if(!u)return Se.error("Please log in first");if(!f)return Se.info("Loading user data...");const F=Ee(Oe(ee,"batches")),U=[],{ownerSlug:z,businessName:D}=p(),V=(f==null?void 0:f.pharmacist)||null;for(let W of v)try{const G=await ko(Oe(ee,"products"),{name:W.name,ingredient:W.ingredient,class:W.class,price:parseInt(W.price,10)||0,image:W.image==="N/A"?"":W.image,batchId:F.id,ownerId:u.uid,ownerSlug:z||"",businessName:D||"",isPOM:!!W.isPOM,pharmacist:V||null});U.push(G.id)}catch(G){console.error("CSV upload error for row:",W,G)}try{await or(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:u.uid,date:new Date().toISOString(),medicineIds:U})}catch(W){console.error("Failed to create batch doc:",W)}alert(` ${U.length} medicines uploaded`),Se.success(` ${U.length} medicines uploaded`),_([])},j=F=>{w({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),T(F.id),r("add")},P=async F=>{if(window.confirm("Delete this medicine?"))try{await Nr(Ee(ee,"products",F.id)),Se.success("Medicine deleted.")}catch(U){console.error(U),Se.error("Error deleting medicine")}},B=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let U of F.medicineIds)await Nr(Ee(ee,"products",U));await Nr(Ee(ee,"batches",F.id)),Se.success("Batch deleted.")}catch(U){console.error(U),Se.error("Error deleting batch")}};return u?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",u.email]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:y,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:E.name,onChange:F=>w({...E,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:E.ingredient,onChange:F=>w({...E,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:E.class,onChange:F=>w({...E,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:E.price,onChange:F=>w({...E,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:E.image,onChange:F=>w({...E,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:E.isPOM,onChange:F=>w({...E,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{T(null),w({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:C,style:{marginBottom:"10px"}}),v.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:fg.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:v.map((F,U)=>l.jsx("tr",{children:fg.map(z=>l.jsx("td",{children:F[z]},z))},U))})]}),l.jsx("button",{onClick:O,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),R.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:R.map(F=>{var U;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((U=F.medicineIds)==null?void 0:U.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>B(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>j(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>P(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(I7,{userId:u.uid})]})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function I7({userId:t}){const[e,n]=me.useState(null),[r,i]=me.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=me.useState(!1),[a,u]=me.useState(!1);me.useEffect(()=>{const h=Ee(ee,"users",t);ln(h).then(m=>{const S=m.data();S&&S.pharmacist&&(n(S.pharmacist),i({...S.pharmacist}),o(!0))})},[t]);const c=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),u(!0),await rn(Ee(ee,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),u(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:c,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:c,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:c,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:c,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:c,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:c,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:c,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}const k7=(t,e)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),R7=t=>$({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),P7=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var u;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(u=a.palette)==null?void 0:u.mode}});let i=$({html:k7(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:$({margin:0},R7(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function A7(t){const e=_t({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(b.Fragment,{children:[l.jsx(QR,{styles:i=>P7(i,r)}),n]})}function j7(t){return xt("MuiDivider",t)}const kS=ht("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),O7=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],N7=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:u}=t;return Tt({root:["root",e&&"absolute",u,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},j7,r)},M7=De("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Ar(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>$({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>$({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),L7=De("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>$({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),zP=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:u=!1,light:c=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:S="fullWidth"}=r,E=Pe(r,O7),w=$({},r,{absolute:i,component:a,flexItem:u,light:c,orientation:f,role:h,textAlign:m,variant:S}),I=N7(w);return l.jsx(M7,$({as:a,className:Fe(I.root,o),role:h,ref:n,ownerState:w},E,{children:s?l.jsx(L7,{className:I.wrapper,ownerState:w,children:s}):null}))});zP.muiSkipListHighlight=!0;const RS=b.createContext();function D7(t){return xt("MuiGrid",t)}const $7=[0,1,2,3,4,5,6,7,8,9,10],F7=["column-reverse","column","row-reverse","row"],V7=["nowrap","wrap-reverse","wrap"],Bl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Zu=ht("MuiGrid",["root","container","item","zeroMinWidth",...$7.map(t=>`spacing-xs-${t}`),...F7.map(t=>`direction-xs-${t}`),...V7.map(t=>`wrap-xs-${t}`),...Bl.map(t=>`grid-xs-${t}`),...Bl.map(t=>`grid-sm-${t}`),...Bl.map(t=>`grid-md-${t}`),...Bl.map(t=>`grid-lg-${t}`),...Bl.map(t=>`grid-xl-${t}`)]),z7=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Na(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function B7({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Sp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const u=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${u} + ${Na(f)})`;c={flexBasis:h,maxWidth:h}}}s=$({flexBasis:u,flexGrow:0,maxWidth:u},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function U7({theme:t,ownerState:e}){const n=Sp({values:e.direction,breakpoints:t.breakpoints.values});return $r({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Zu.item}`]={maxWidth:"none"}),i})}function BP({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function W7({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Sp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=BP({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${Na(f)}`,[`& > .${Zu.item}`]:{paddingTop:Na(f)}}:(c=o)!=null&&c.includes(u)?{}:{marginTop:0,[`& > .${Zu.item}`]:{paddingTop:0}}})}return i}function H7({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Sp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=BP({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${Na(f)})`,marginLeft:`-${Na(f)}`,[`& > .${Zu.item}`]:{paddingLeft:Na(f)}}:(c=o)!=null&&c.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${Zu.item}`]:{paddingLeft:0}}})}return i}function q7(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const K7=De("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:u,breakpoints:c}=n;let f=[];r&&(f=q7(o,c,e));const h=[];return c.forEach(m=>{const S=n[m];S&&h.push(e[`grid-${m}-${String(S)}`])}),[e.root,r&&e.container,s&&e.item,u&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>$({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),U7,W7,H7,B7);function G7(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Q7=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:u}=t;let c=[];n&&(c=G7(s,u));const f=[];u.forEach(m=>{const S=t[m];S&&f.push(`grid-${m}-${String(S)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return Tt(h,D7,e)},tn=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiGrid"}),{breakpoints:i}=Ax(),s=Pp(r),{className:o,columns:a,columnSpacing:u,component:c="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:S,spacing:E=0,wrap:w="wrap",zeroMinWidth:I=!1}=s,T=Pe(s,z7),v=S||E,_=u||E,R=b.useContext(RS),M=f?a||12:R,N={},g=$({},T);i.keys.forEach(C=>{T[C]!=null&&(N[C]=T[C],delete g[C])});const p=$({},s,{columns:M,container:f,direction:h,item:m,rowSpacing:v,columnSpacing:_,wrap:w,zeroMinWidth:I,spacing:E},N,{breakpoints:i.keys}),y=Q7(p);return l.jsx(RS.Provider,{value:M,children:l.jsx(K7,$({ownerState:p,className:Fe(y.root,o),as:c,ref:n},g))})}),PS=ht("MuiListItemIcon",["root","alignItemsFlexStart"]),AS=ht("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Y7(t){return xt("MuiMenuItem",t)}const Ul=ht("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),X7=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],J7=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Z7=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,u=Tt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Y7,o);return $({},o,u)},eH=De(KR,{shouldForwardProp:t=>Br(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:J7})(({theme:t,ownerState:e})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ul.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ar(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ul.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ar(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ul.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ar(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ar(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ul.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ul.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${kS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${kS.inset}`]:{marginLeft:52},[`& .${AS.root}`]:{marginTop:0,marginBottom:0},[`& .${AS.inset}`]:{paddingLeft:36},[`& .${PS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${PS.root} svg`]:{fontSize:"1.25rem"}}))),jS=b.forwardRef(function(e,n){const r=_t({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:u=!1,focusVisibleClassName:c,role:f="menuitem",tabIndex:h,className:m}=r,S=Pe(r,X7),E=b.useContext(ev),w=b.useMemo(()=>({dense:o||E.dense||!1,disableGutters:u}),[E.dense,o,u]),I=b.useRef(null);Zi(()=>{i&&I.current&&I.current.focus()},[i]);const T=$({},r,{dense:w.dense,divider:a,disableGutters:u}),v=Z7(r),_=Wn(I,n);let R;return r.disabled||(R=h!==void 0?h:-1),l.jsx(ev.Provider,{value:w,children:l.jsx(eH,$({ref:_,role:f,tabIndex:R,component:s,focusVisibleClassName:Fe(v.focusVisible,c),className:Fe(v.root,m)},S,{ownerState:T,classes:v}))})});var ec=function(){return ec=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ec.apply(this,arguments)};function Ux(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Td=[];function tH(){var t="https://js.paystack.co/v1/inline.js",e=b.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return b.useEffect(function(){if(Td.includes(t))r({loaded:!0,error:!1});else{Td.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Td.indexOf(t);a>=0&&Td.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var nH=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function UP(t){var e=tH(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,u=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var c=ec(ec({},t),o),f=c.publicKey,h=c.firstname,m=c.lastname,S=c.phone,E=c.email,w=c.amount,I=c.reference,T=c.metadata,v=T===void 0?{}:T,_=c.currency,R=_===void 0?"NGN":_,M=c.channels,N=c.label,g=N===void 0?"":N,p=c.plan,y=p===void 0?"":p,C=c.quantity,O=C===void 0?"":C,j=c.subaccount,P=j===void 0?"":j,B=c.transaction_charge,F=B===void 0?0:B,U=c.bearer,z=U===void 0?"account":U,D=c.split,V=c.split_code;if(n){var W={callback:a||function(){return null},onClose:u||function(){return null},key:f,ref:I,email:E,firstname:h,lastname:m,phone:S,amount:w,currency:R,plan:y,quantity:O,channels:M,subaccount:P,transaction_charge:F,bearer:z,label:g,metadata:v,split:D,split_code:V,"data-custom-button":c["data-custom-button"]||""};nH(W)}}return b.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var rH=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=Ux(t,["text","className","children","onSuccess","onClose"]),a=UP(o);return me.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},WP=b.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),iH=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=Ux(t,["children","onSuccess","onClose"]),s=UP(i);return me.createElement(WP.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},sH=function(t){var e=t.children,n=t.ref,r=b.useContext(WP),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,u=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:u,ref:n})};b.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=Ux(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return me.createElement(iH,ec({},s,{onSuccess:o,onClose:a}),me.createElement(sH,{ref:e},n))});async function oH(t){if(!t)return null;const e=_i(Oe(ee,"coupons"),ei("code","==",t)),n=await un(e);return n.empty?null:n.docs[0].data()}function aH(){var z,D;const[t,e]=b.useState(""),[n,r]=b.useState(null),[i,s]=b.useState(""),o=zn(),a=Us(),u=Do(),[c,f]=b.useState(null),[h,m]=b.useState(((z=u.state)==null?void 0:z.cart)||[]),[S,E]=b.useState(((D=u.state)==null?void 0:D.total)||0),[w,I]=b.useState("standard"),[T,v]=b.useState(500),[_,R]=b.useState(1e3),[M,N]=b.useState(S+T),[g,p]=b.useState({name:"",phone:"",address:"",city:"",state:"",instructions:""}),y="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";b.useEffect(()=>Dr(o,async W=>{if(!W)return a("/auth");if(f(W),h.length===0){const G=Ee(ee,"carts",W.uid),Q=await ln(G);if(Q.exists()){const J=Q.data().items||[];m(J);const se=J.reduce((he,ge)=>he+ge.price*(ge.quantity||1),0);E(se),N(se+T)}}}),[o,h.length,T,a]),b.useEffect(()=>{let V=h.some(J=>J.isPOM)?500:0,W=T,G=S,Q=0;n&&(n.removePOM&&(V=0),n.removeDelivery&&(W=0),n.percent>0&&(Q=Math.round((G+V+W)*(n.percent/100)))),R(V),N(G+V+W-Q)},[S,T,h,n]),b.useEffect(()=>{v(w==="standard"?500:3e3)},[w]);const C=async()=>{s("");const V=await oH(t.trim().toUpperCase());V?(r(V),s("")):(r(null),s("Invalid coupon code"))},O=()=>["name","phone","address","city","state"].every(W=>{var G;return(G=g[W])==null?void 0:G.trim()}),j={reference:new Date().getTime().toString(),email:c==null?void 0:c.email,amount:M*100,publicKey:y},P=async V=>{if(!c||h.length===0)return;const W=Ee(Oe(ee,"orders"));await or(W,{userId:c.uid,items:h,subtotal:S,deliveryFee:T,pomFee:_,total:M,status:"Processing",date:new Date().toISOString(),paymentReference:(V==null?void 0:V.reference)||"COUPON_FREE",deliveryInfo:g,coupon:n||null,deliveryType:w}),await or(Ee(ee,"carts",c.uid),{items:[]}),m([]),E(0),N(0),Se.success(" Payment successful! Order created."),h.some(G=>G.isPOM)?a("/medinterface"):a("/orders")},B=()=>{Se.info("Payment cancelled.")},F=V=>{p({...g,[V.target.name]:V.target.value})},U=()=>{alert(" Please complete all delivery information before proceeding.")};return c?l.jsx(Tn,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(Jd,{children:l.jsxs(Zd,{children:[l.jsx(bt,{variant:"h5",fontWeight:700,gutterBottom:!0,children:" Checkout"}),h.length===0?l.jsx(bt,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(bt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Order Summary"}),l.jsx(Tn,{sx:{mb:2},children:h.map((V,W)=>l.jsxs(Tn,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(bt,{children:[V.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",V.quantity||1]})]}),l.jsxs(bt,{fontWeight:500,children:["",V.price*(V.quantity||1)]})]},W))}),l.jsxs(tn,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(tn,{item:!0,xs:7,children:l.jsx(bt,{children:"Subtotal:"})}),l.jsx(tn,{item:!0,xs:5,children:l.jsxs(bt,{fontWeight:500,children:["",S]})}),l.jsx(tn,{item:!0,xs:7,children:l.jsx(bt,{children:"Delivery Type:"})}),l.jsx(tn,{item:!0,xs:5,children:l.jsx(YR,{fullWidth:!0,size:"small",children:l.jsxs(Vx,{value:w,onChange:V=>I(V.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(jS,{value:"standard",children:"Standard (1-2 days) - 500"}),l.jsx(jS,{value:"express",children:"Express (30mins-3hrs) - 3000"})]})})}),l.jsx(tn,{item:!0,xs:7,children:l.jsx(bt,{children:"Delivery Fee:"})}),l.jsx(tn,{item:!0,xs:5,children:l.jsxs(bt,{fontWeight:500,children:["",n!=null&&n.removeDelivery?0:T]})}),l.jsx(tn,{item:!0,xs:7,children:l.jsx(bt,{color:_>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(tn,{item:!0,xs:5,children:l.jsxs(bt,{fontWeight:500,color:_>0?"error":"inherit",children:["",n!=null&&n.removePOM?0:_]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(tn,{item:!0,xs:7,children:l.jsx(bt,{color:"primary",children:"Discount:"})}),l.jsx(tn,{item:!0,xs:5,children:l.jsxs(bt,{color:"primary",children:["-",Math.round((S+_+(n!=null&&n.removeDelivery?0:T))*(n.percent/100))]})})]}),l.jsx(tn,{item:!0,xs:7,children:l.jsx(bt,{fontWeight:700,children:"Grand Total:"})}),l.jsx(tn,{item:!0,xs:5,children:l.jsxs(bt,{fontWeight:700,children:["",M]})})]}),l.jsxs(Tn,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(cs,{size:"small",label:"Coupon code",value:t,onChange:V=>e(V.target.value),sx:{mr:1,flex:1}}),l.jsx(mo,{variant:"outlined",onClick:C,children:"Apply"})]}),i&&l.jsx(Alert,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(Alert,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(zP,{sx:{my:3}}),l.jsx(bt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Delivery Information"}),l.jsxs(tn,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(tn,{item:!0,xs:12,sm:6,children:l.jsx(cs,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:g.name,onChange:F})}),l.jsx(tn,{item:!0,xs:12,sm:6,children:l.jsx(cs,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:g.phone,onChange:F})}),l.jsx(tn,{item:!0,xs:12,children:l.jsx(cs,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:g.address,onChange:F})}),l.jsx(tn,{item:!0,xs:12,sm:6,children:l.jsx(cs,{fullWidth:!0,size:"small",label:"City",name:"city",value:g.city,onChange:F})}),l.jsx(tn,{item:!0,xs:12,sm:6,children:l.jsx(cs,{fullWidth:!0,size:"small",label:"State",name:"state",value:g.state,onChange:F})}),l.jsx(tn,{item:!0,xs:12,children:l.jsx(cs,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:g.instructions,onChange:F,multiline:!0,minRows:2})})]}),l.jsx(Tn,{sx:{mt:2,textAlign:"center"},children:O()?M>0?l.jsx(rH,{text:"Pay Now ",className:"paystack-button",...j,callback:P,close:B,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(mo,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>P({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(mo,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:U,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function lH(){const[t,e]=b.useState([]),[n,r]=b.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=b.useState(null);b.useEffect(()=>{const c=Pt(Oe(ee,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>c()},[]);const o=async c=>{if(c.preventDefault(),!n.code)return alert("Coupon code required");i?(await rn(Ee(ee,"coupons",i),n),s(null)):await ko(Oe(ee,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=c=>{r({code:c.code,percent:c.percent,removePOM:!!c.removePOM,removeDelivery:!!c.removeDelivery}),s(c.id)},u=async c=>{window.confirm("Delete coupon?")&&await Nr(Ee(ee,"coupons",c))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:c=>r({...n,code:c.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:c=>r({...n,percent:parseInt(c.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:c=>r({...n,removePOM:c.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:c=>r({...n,removeDelivery:c.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(c=>l.jsxs("tr",{children:[l.jsx("td",{children:c.code}),l.jsxs("td",{children:[c.percent,"%"]}),l.jsx("td",{children:c.removePOM?"Removed":"-"}),l.jsx("td",{children:c.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(c),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>u(c.id),children:"Delete"})]})]},c.id))})]})]})}function uH(){const[t,e]=b.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=b.useState([]),[i,s]=b.useState(null),[o,a]=b.useState({}),[u,c]=b.useState(!1),[f,h]=b.useState("");b.useEffect(()=>{const v=Pt(Oe(ee,"deliveryAgents"),_=>{r(_.docs.map(R=>({id:R.id,...R.data()})))});return()=>v()},[]),b.useEffect(()=>{async function v(){const _=_i(Oe(ee,"deliveryAgents"));(await un(_)).forEach(async M=>{typeof M.data().approved>"u"&&await Ee(ee,"deliveryAgents",M.id).update({approved:!1})})}v()},[]);const m=v=>{a({...o,[v.target.name]:v.target.value})},S=v=>{s(v.id),a(v)},E=async v=>{await rn(Ee(ee,"deliveryAgents",v),o),s(null),a({})},w=async v=>{window.confirm("Delete this delivery agent?")&&await Nr(Ee(ee,"deliveryAgents",v))},I=async v=>{c(!0),h(""),await rn(Ee(ee,"deliveryAgents",v),{approved:!0}),c(!1),h("Agent approved and now visible to public.")},T=async v=>{c(!0),h(""),await rn(Ee(ee,"deliveryAgents",v),{approved:!1}),c(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[u&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(v=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===v.id?l.jsxs("form",{onSubmit:_=>{_.preventDefault(),E(v.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(me.Fragment,{children:[l.jsx("img",{src:v.logoUrl,alt:v.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:v.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:v.businessAddress}),l.jsxs("div",{children:["RC Number: ",v.rcNumber]}),l.jsxs("div",{children:["Phone: ",v.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",v.whatsappNumber]}),l.jsxs("div",{children:["Email: ",v.email]}),l.jsxs("div",{children:["Coverage: ",v.coverageArea]}),l.jsxs("div",{children:["Hours: ",v.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>S(v),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>w(v.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!v.approved&&l.jsx("button",{onClick:()=>I(v.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),v.approved&&l.jsx("button",{onClick:()=>T(v.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),v.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},v.id))]})})}function cH(){const[t,e]=b.useState([]);b.useEffect(()=>{(async()=>{try{const te=await un(Oe(ee,"deliveryAgents"));e(te.docs.map(ue=>({id:ue.id,...ue.data()})))}catch{e([])}})()},[]);const[n,r]=b.useState({}),i=async(A,te)=>{try{const ue=t.find(st=>st.id===te),$e=(ue==null?void 0:ue.userId)||"";await rn(Ee(ee,"orders",A),{riderId:$e,assignedAgentId:$e,assignedAgentName:ue?ue.companyName||ue.name||ue.email||ue.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(st=>({...st,[A]:!1})),Se.success("Order reassigned successfully.")}catch{Se.error("Failed to reassign order.")}},s=async A=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await rn(Ee(ee,"orders",A.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),Se.success("Order cancelled.")}catch{Se.error("Failed to cancel order.")}},[o,a]=b.useState({pending:!0,completed:!0,cancelled:!0}),[u,c]=b.useState(""),[f,h]=b.useState(""),[m,S]=b.useState(""),[E,w]=b.useState(""),[I,T]=b.useState({}),[v,_]=b.useState({}),M=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,g]=me.useState(null);if(b.useEffect(()=>{Oa(async()=>{const{getAuth:A,onAuthStateChanged:te}=await Promise.resolve().then(()=>Wk);return{getAuth:A,onAuthStateChanged:te}},void 0).then(({getAuth:A,onAuthStateChanged:te})=>{const ue=A();te(ue,async $e=>{if($e){const{getDoc:st,doc:nt}=await Oa(async()=>{const{getDoc:ot,doc:Er}=await Promise.resolve().then(()=>Y0);return{getDoc:ot,doc:Er}},void 0),{db:vt}=await Oa(async()=>{const{db:ot}=await Promise.resolve().then(()=>m4);return{db:ot}},void 0),Re=await st(nt(vt,"users",$e.uid));g(Re.exists()?Re.data().role:null)}else g(null)})})},[]),M||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,y]=b.useState([]);b.useEffect(()=>{const A=Pt(Oe(ee,"businessRegistrations"),te=>{y(te.docs.map(ue=>({id:ue.id,...ue.data()})))});return()=>A()},[]);const C=async(A,te)=>{if(await rn(Ee(ee,"businessRegistrations",A.id),{status:te}),te==="declined"){const ue=_i(Oe(ee,"orders"),ei("userId","==",A.businessId),ei("items","array-contains-any",A.cart)),$e=await un(ue);for(const st of $e.docs)await rn(Ee(ee,"orders",st.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}Se.info(`Registration ${te}`)},[O,j]=b.useState(""),[P,B]=b.useState(""),[F,U]=b.useState(""),[z,D]=b.useState(""),[V,W]=b.useState(""),G=()=>{let A=X;O&&(A=A.filter(Re=>new Date(Re.completedAt||Re.date)>=new Date(O))),P&&(A=A.filter(Re=>new Date(Re.completedAt||Re.date)<=new Date(P))),F&&(A=A.filter(Re=>Re.medicVerifiedBy===F)),z&&(A=A.filter(Re=>Re.items&&Re.items.some(ot=>ot.name&&ot.name.toLowerCase().includes(z.toLowerCase())))),V==="true"&&(A=A.filter(Re=>Re.items&&Re.items.some(ot=>ot.isPOM))),V==="false"&&(A=A.filter(Re=>Re.items&&!Re.items.some(ot=>ot.isPOM)));const te=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],ue=A.map(Re=>[Re.id,new Date(Re.completedAt||Re.date).toLocaleString(),He[Re.userId]&&He[Re.userId].email?He[Re.userId].email:Re.userId,Re.medicVerifiedBy?(Ie.concat(Me).find(ot=>ot.id===Re.medicVerifiedBy)||{}).name||Re.medicVerifiedBy:"",Re.total||Sr(Re.items||[]),Re.items?Re.items.map(ot=>`${ot.name} (${ot.quantity||1})`).join("; "):"",Re.items?Re.items.filter(ot=>ot.isPOM).map(ot=>ot.name).join("; "):""]),$e=[te,...ue].map(Re=>Re.map(ot=>`"${String(ot).replace(/"/g,'""')}"`).join(",")).join(`\r
`),st=new Blob([$e],{type:"text/csv"}),nt=URL.createObjectURL(st),vt=document.createElement("a");vt.href=nt,vt.download=`orders_${Date.now()}.csv`,document.body.appendChild(vt),vt.click(),document.body.removeChild(vt),URL.revokeObjectURL(nt)},[Q,J]=b.useState(""),[se,he]=b.useState(null),[ge,q]=b.useState(null),[ie,H]=b.useState([]),[le,Z]=b.useState([]),[ne,fe]=b.useState(""),[pe,ve]=b.useState([]),[_e,Qe]=b.useState([]),[be,Ve]=b.useState("products"),[ke,Ge]=b.useState({}),[it,lt]=b.useState(null),[Ne,pt]=b.useState(!0),[Ie,Ue]=b.useState([]),[Me,Te]=b.useState([]),[yt,kt]=b.useState(""),[Ye,we]=b.useState("date-desc"),tt=zn();b.useEffect(()=>{const A=Dr(tt,async te=>{if(te){he(te);const ue=await ln(Ee(ee,"users",te.uid));q(ue.exists()?ue.data():{role:"customer"})}else he(null),q(null)});return()=>A()},[tt]),b.useEffect(()=>{const A=Pt(Oe(ee,"products"),ue=>H(ue.docs.map($e=>({id:$e.id,...$e.data()})))),te=Pt(Oe(ee,"batches"),ue=>{Z(ue.docs.map($e=>({id:$e.id,...$e.data()}))),pt(!1)});return()=>{A(),te()}},[]),b.useEffect(()=>{if(!ge)return;const A=Pt(Oe(ee,"users"),te=>ve(te.docs.map(ue=>({id:ue.id,...ue.data()}))));return()=>A()},[ge]),b.useEffect(()=>{const A=Pt(Oe(ee,"orders"),te=>{const ue=te.docs.map($e=>({id:$e.id,...$e.data()}));ue.sort(($e,st)=>new Date(st.date)-new Date($e.date)),Qe(ue)});return()=>A()},[]);const He={};pe.forEach(A=>He[A.id]=A);const br=async A=>{if(window.confirm(`Delete medicine: ${A.name}?`))try{await Nr(Ee(ee,"products",A.id)),Se.success("Medicine deleted.")}catch(te){console.error(te),Se.error("Error deleting medicine")}},ns=async A=>{if(window.confirm(`Delete batch: ${A.name}?`))try{for(let te of A.medicineIds)await Nr(Ee(ee,"products",te));await Nr(Ee(ee,"batches",A.id))}catch(te){console.error(te),alert("Error deleting batch")}},Gs=async(A,te)=>{try{await rn(Ee(ee,"users",A),{role:te}),alert("Role updated!")}catch(ue){console.error(ue),alert("Error updating role")}},wr=A=>Ge(te=>({...te,[A]:!te[A]}));b.useEffect(()=>{un(Oe(ee,"verifyMedics")).then(A=>{Ue(A.docs.map(te=>({id:te.id,...te.data(),type:"Prescription Verification"})))}),un(Oe(ee,"consultMedics")).then(A=>{Te(A.docs.map(te=>({id:te.id,...te.data(),type:"Consultation"})))})},[]);const ni=async A=>{var $e;const te=($e=A.items)==null?void 0:$e.some(st=>st.isPOM);let ue=null;if(te){if(!Q)return alert("Select a verifying medic before completing POM order.");ue=Q}window.confirm("Mark order as completed?")&&(await rn(Ee(ee,"orders",A.id),{status:"Completed",completedBy:se.uid,completedAt:new Date().toISOString(),medicVerifiedBy:ue||null}),alert(" Order marked completed"),J(""))},Sr=A=>A.reduce((te,ue)=>te+ue.price*(ue.quantity||1),0);if(!se)return l.jsx("p",{children:"Please log in to access admin."});if(!ge)return l.jsx("p",{children:"Loading user data..."});if(ge.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(Ne)return l.jsx("p",{children:"Loading dashboard..."});const rs=_e.filter(A=>A.status==="Processing"||A.status==="In-Progress").filter(A=>{var ue,$e;if(!yt)return!0;const te=yt.toLowerCase();return(((ue=He[A.userId])==null?void 0:ue.email)||A.userId).toLowerCase().includes(te)||(($e=A.items)==null?void 0:$e.some(st=>st.name.toLowerCase().includes(te)))}).sort((A,te)=>Ye==="date-desc"?new Date(te.date)-new Date(A.date):Ye==="date-asc"?new Date(A.date)-new Date(te.date):Ye==="amount-desc"?(te.total||0)-(A.total||0):Ye==="amount-asc"?(A.total||0)-(te.total||0):0),X=_e.filter(A=>A.status==="Completed"),Le=X.filter(A=>{var ue,$e;if(!yt)return!0;const te=yt.toLowerCase();return(((ue=He[A.userId])==null?void 0:ue.email)||A.userId).toLowerCase().includes(te)||(($e=A.items)==null?void 0:$e.some(st=>st.name.toLowerCase().includes(te)))}).sort((A,te)=>Ye==="date-desc"?new Date(te.completedAt||te.date)-new Date(A.completedAt||A.date):Ye==="date-asc"?new Date(A.completedAt||A.date)-new Date(te.completedAt||te.date):Ye==="amount-desc"?(te.total||0)-(A.total||0):Ye==="amount-asc"?(A.total||0)-(te.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((A,te)=>{var ue,$e,st,nt,vt;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((ue=A.businessInfo)==null?void 0:ue.businessName)||A.businessId]}),l.jsxs("p",{children:["Email: ",(($e=A.businessInfo)==null?void 0:$e.email)||""]}),l.jsxs("p",{children:["Phone: ",((st=A.businessInfo)==null?void 0:st.phone)||""]}),l.jsxs("p",{children:["Address: ",((nt=A.businessInfo)==null?void 0:nt.address)||""]}),l.jsxs("p",{children:["Products: ",(vt=A.cart)==null?void 0:vt.map(Re=>Re.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:A.status})]}),A.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>C(A,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>C(A,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},A.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>Ve("products"),style:ea(be==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>Ve("users"),style:ea(be==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>Ve("orders"),style:ea(be==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>Ve("medics"),style:ea(be==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>Ve("deliveryagents"),style:ea(be==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>Ve("coupons"),style:ea(be==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",se.email]}),be==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(uH,{})]})]})]}),be==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:ne,onChange:A=>fe(A.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),le.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:hg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:le.filter(A=>{var ue;return ne?(((ue=He[A.uploadedBy])==null?void 0:ue.businessName)||"").toLowerCase().includes(ne.toLowerCase()):!0}).map(A=>{var te,ue;return l.jsxs("tr",{style:pg,children:[l.jsx("td",{children:A.name}),l.jsx("td",{children:new Date(A.date).toLocaleString()}),l.jsx("td",{children:((te=He[A.uploadedBy])==null?void 0:te.businessName)||A.uploadedBy}),l.jsx("td",{children:((ue=A.medicineIds)==null?void 0:ue.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>ns(A),children:"Delete"})})]},A.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:u||"",onChange:A=>c(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:A=>h(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:A=>S(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(ie.map(A=>A.class).filter(Boolean))].sort().map(A=>l.jsx("option",{value:A,children:A},A))]}),l.jsxs("select",{value:E||"",onChange:A=>w(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(ie.map(A=>A.ownerId).filter(Boolean))].map(A=>{var te;return l.jsx("option",{value:A,children:((te=He[A])==null?void 0:te.businessName)||A},A)})]})]}),ie.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:hg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ie.filter(A=>{var te,ue;return!(u&&!((te=A.name)!=null&&te.toLowerCase().includes(u.toLowerCase()))||f&&!((ue=A.ingredient)!=null&&ue.toLowerCase().includes(f.toLowerCase()))||m&&A.class!==m||E&&A.ownerId!==E)}).map(A=>{var te;return l.jsxs("tr",{style:pg,children:[l.jsx("td",{children:A.name}),l.jsx("td",{children:A.ingredient}),l.jsx("td",{children:A.class}),l.jsx("td",{children:A.price}),l.jsx("td",{children:((te=He[A.ownerId])==null?void 0:te.businessName)||A.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>br(A),children:"Delete"})})]},A.id)})})]})]}),be==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),pe.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:hg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:pe.map(A=>l.jsxs("tr",{style:pg,children:[l.jsx("td",{children:A.email}),l.jsx("td",{children:A.role}),l.jsx("td",{children:l.jsxs("select",{value:A.role||"customer",onChange:te=>Gs(A.id,te.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>lt(A),children:"View Details"})})]},A.id))})]}),it&&l.jsx(dH,{user:it,medicines:ie.filter(A=>A.ownerId===it.id),orders:_e.filter(A=>A.userId===it.id),onClose:()=>lt(null)})]}),be==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(A=>({...A,pending:!A.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"":""})," Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:yt,onChange:A=>kt(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Ye,onChange:A=>we(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:A=>j(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:A=>B(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>U(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Me].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:z,onChange:A=>D(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:A=>W(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:G,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),rs.length===0?l.jsx("p",{children:"No pending orders."}):rs.map(A=>{var ri,Hn,en,Qt,Ti;const te=(ri=A.items)==null?void 0:ri.some(je=>je.isPOM),ue=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",$e=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,st=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let nt="N/A",vt=null,Re=null;if(A.businessId&&He[A.businessId]){const je=He[A.businessId];nt=`${je.address||""}, ${je.city||""}, ${je.state||""}`,vt=je.lat||null,Re=je.lng||null}const ot=ke[A.id]?I[A.id]?A.items:(Hn=A.items)==null?void 0:Hn.slice(0,3):[],Er=A.items&&A.items.length>3;return l.jsxs("div",{style:mg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>wr(A.id),children:ke[A.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((en=He[A.userId])==null?void 0:en.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ue]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",$e&&st?`${$e}, ${st}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",nt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",vt&&Re?`${vt}, ${Re}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const je=A.riderId||A.assignedAgentId;let $t=null;return je&&He[je]?($t=He[je],`${$t.companyName||$t.name||$t.email||je}${$t.phoneNumber||$t.whatsappNumber?` (${[$t.phoneNumber,$t.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):je&&t.length?($t=t.find(Uo=>Uo.id===je),$t?`${$t.companyName||$t.name||$t.id}${$t.phoneNumber||$t.whatsappNumber?` (${[$t.phoneNumber,$t.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:je):je||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(je=>({...je,[A.id]:!je[A.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[A.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:je=>{je.target.value&&i(A.id,je.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(je=>l.jsxs("option",{value:je.id,children:[je.companyName||je.name||je.email||je.id,je.phoneNumber||je.whatsappNumber?` (${[je.phoneNumber,je.whatsappNumber].filter(Boolean).join(" / ")})`:""]},je.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!A.riderId&&!A.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):A.status==="cancelled"&&A.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):A.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):A.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(A.riderId||A.assignedAgentId)&&A.status!=="Completed"&&A.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):A.status]})]}),ke[A.id]&&((Qt=A.items)==null?void 0:Qt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[A.id]?"none":120,overflowY:Er&&!I[A.id]?"hidden":"auto",marginBottom:4},children:ot.map((je,$t)=>l.jsxs("li",{children:[je.name," - ",je.price," x ",je.quantity||1]},$t))}),Er&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>T(je=>({...je,[A.id]:!je[A.id]})),children:I[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",Sr(A.items||[]),te&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),te&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:Q,onChange:je=>J(je.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Ie,...Me].map(je=>l.jsxs("option",{value:je.id,children:[je.name," (",je.profession,") - ",je.type]},je.id))]})]}),l.jsx("button",{onClick:()=>ni(A),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(A),children:"Cancel Order"}),A.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(A.completedAt).toLocaleString(),l.jsx("br",{}),A.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Ti=Ie.find(je=>je.id===A.medicVerifiedBy))==null?void 0:Ti.name)||A.medicVerifiedBy]})]})]},A.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(A=>({...A,completed:!A.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"":""})," Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:yt,onChange:A=>kt(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Ye,onChange:A=>we(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:A=>j(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:A=>B(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>U(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Me].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:z,onChange:A=>D(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:A=>W(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:G,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Le.length===0?l.jsx("p",{children:"No completed orders found."}):Le.map(A=>{var Er,ri,Hn,en;const te=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",ue=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,$e=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let st="N/A",nt=null,vt=null;if(A.businessId&&He[A.businessId]){const Qt=He[A.businessId];st=`${Qt.address||""}, ${Qt.city||""}, ${Qt.state||""}`,nt=Qt.lat||null,vt=Qt.lng||null}const Re=ke[A.id]?v[A.id]?A.items:(Er=A.items)==null?void 0:Er.slice(0,3):[],ot=A.items&&A.items.length>3;return l.jsxs("div",{style:mg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.completedAt||A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>wr(A.id),children:ke[A.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((ri=He[A.userId])==null?void 0:ri.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&$e?`${ue}, ${$e}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&vt?`${nt}, ${vt}`:"N/A"]}),ke[A.id]&&((Hn=A.items)==null?void 0:Hn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[A.id]?"none":120,overflowY:ot&&!v[A.id]?"hidden":"auto",marginBottom:4},children:Re.map((Qt,Ti)=>l.jsxs("li",{children:[Qt.name," - ",Qt.price," x ",Qt.quantity||1]},Ti))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(Qt=>({...Qt,[A.id]:!Qt[A.id]})),children:v[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",A.total||Sr(A.items||[])]}),A.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((en=Ie.concat(Me).find(Qt=>Qt.id===A.medicVerifiedBy))==null?void 0:en.name)||A.medicVerifiedBy]}),A.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(A.completedAt).toLocaleString()]})]},A.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(A=>({...A,cancelled:!A.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"":""})," Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:yt,onChange:A=>kt(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Ye,onChange:A=>we(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:A=>j(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:A=>B(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>U(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Me].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:z,onChange:A=>D(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:A=>W(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:G,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),_e.filter(A=>A.status==="cancelled"&&A.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):_e.filter(A=>A.status==="cancelled"&&A.cancelledBy==="admin").map(A=>{var Er,ri,Hn;const te=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",ue=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,$e=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let st="N/A",nt=null,vt=null;if(A.businessId&&He[A.businessId]){const en=He[A.businessId];st=`${en.address||""}, ${en.city||""}, ${en.state||""}`,nt=en.lat||null,vt=en.lng||null}const Re=ke[A.id]?v[A.id]?A.items:(Er=A.items)==null?void 0:Er.slice(0,3):[],ot=A.items&&A.items.length>3;return l.jsxs("div",{style:mg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.cancelledAt||A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>wr(A.id),children:ke[A.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((ri=He[A.userId])==null?void 0:ri.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&$e?`${ue}, ${$e}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&vt?`${nt}, ${vt}`:"N/A"]}),ke[A.id]&&((Hn=A.items)==null?void 0:Hn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[A.id]?"none":120,overflowY:ot&&!v[A.id]?"hidden":"auto",marginBottom:4},children:Re.map((en,Qt)=>l.jsxs("li",{children:[en.name," - ",en.price," x ",en.quantity||1]},Qt))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(en=>({...en,[A.id]:!en[A.id]})),children:v[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",A.total||Sr(A.items||[])]}),A.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(A.cancelledAt).toLocaleString()]})]},A.id)})]})]})]}),be==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(fH,{})]}),be==="coupons"&&l.jsx(lH,{})]})}const ea=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),hg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},pg={borderBottom:"1px solid #eee"},mg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function dH({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function fH(){const[t,e]=me.useState([]),[n,r]=me.useState([]),[i,s]=me.useState([]),[o,a]=me.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[u,c]=me.useState(!1),[f,h]=me.useState(null);me.useEffect(()=>{(async()=>{const I=await un(Oe(ee,"verifyMedics"));e(I.docs.map(R=>({id:R.id,...R.data()})));const T=await un(Oe(ee,"consultMedics"));r(T.docs.map(R=>({id:R.id,...R.data()})));const v=await un(Oe(ee,"users")),_=[];v.docs.forEach(R=>{const M=R.data();M.role==="medicine-manager"&&M.pharmacist&&_.push({...M.pharmacist,id:R.id,online:!0})}),s(_)})()},[]);const m=async(w,I)=>{await rn(Ee(ee,w==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),w==="verify"?e(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_)):r(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_))},S=w=>{a({...o,[w.target.name]:w.target.value})},E=async w=>{w.preventDefault(),c(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(v=>v.trim()),whatsapp:o.whatsapp},T=o.section==="verify"?"verifyMedics":"consultMedics";f?await rn(Ee(ee,T,f.id),I):await ko(Oe(ee,T),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),c(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:E,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:S,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:S,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:S,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:S,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:S,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:S,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:S,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:S,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:u,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((w,I)=>(I.online===!0)-(w.online===!0)).map(w=>{let I=[];return Array.isArray(w.languages)?I=w.languages:typeof w.languages=="string"&&(I=w.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",w),title:w.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:w.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:w.photo,alt:w.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:w.name})}),l.jsx("div",{children:w.profession}),l.jsxs("div",{children:["Pharmacy: ",w.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",w.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${w.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:w.id,section:"verify"}),a({section:"verify",photo:w.photo,name:w.name,profession:w.profession,license:w.license,pharmacyName:w.pharmacyName,languages:Array.isArray(w.languages)?w.languages.join(", "):w.languages,whatsapp:w.whatsapp})},children:"Edit"})]},w.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((w,I)=>(I.online===!0)-(w.online===!0)).map(w=>{let I=[];return Array.isArray(w.languages)?I=w.languages:typeof w.languages=="string"&&(I=w.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",w),title:w.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:w.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:w.photo,alt:w.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:w.name})}),l.jsx("div",{children:w.profession}),l.jsxs("div",{children:["License: ",w.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${w.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:w.id,section:"consult"}),a({section:"consult",photo:w.photo,name:w.name,profession:w.profession,license:w.license,languages:Array.isArray(w.languages)?w.languages.join(", "):w.languages,whatsapp:w.whatsapp})},children:"Edit"})]},w.id)})})]})}function hH(){const{slug:t}=Lh();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx($P,{storeSlug:t})]})}function pH(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),i=()=>{if(!(h!=null&&h.pharmacist))return null;const{name:y,photo:C,whatsapp:O}=h.pharmacist;return l.jsxs("button",{onClick:()=>{O&&window.open(`https://wa.me/${O}`,"_blank")},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:j=>j.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:j=>j.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[C&&l.jsx("img",{src:C,alt:y,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Talk to ",y]})},[s,o]=b.useState(null),[a,u]=b.useState(null),c=zn(),{slug:f}=Lh(),[h,m]=b.useState(null),[S,E]=b.useState(!0),[w,I]=b.useState([]),[T,v]=b.useState([]),[_,R]=b.useState(""),[M,N]=b.useState(null),g=(y,C,O,j)=>{const P=V=>V*Math.PI/180,F=P(O-y),U=P(j-C),z=Math.sin(F/2)**2+Math.cos(P(y))*Math.cos(P(O))*Math.sin(U/2)**2;return 6371*(2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)))},p=y=>{const j=y*1.64,P=Math.max(1,Math.round(j/25*60));return{drivingKm:j,minutes:P}};return b.useEffect(()=>{const y=Dr(c,C=>{o(C)});return()=>y()},[c]),b.useEffect(()=>{if(!h)return;const y=Pt(Oe(ee,"orders"),C=>{const P=C.docs.map(B=>({id:B.id,...B.data()})).filter(B=>Array.isArray(B.items)&&B.items.some(F=>F.ownerId===h.uid)).filter(B=>!t.includes(B.id));P.length>0&&(P.forEach(B=>{Se.info(` New order received! Order ID: ${B.id}`)}),e(B=>[...B,...P.map(F=>F.id)]))});return()=>y()},[h,t]),b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(y=>N({lat:y.coords.latitude,lng:y.coords.longitude}),()=>N(null))},[]),b.useEffect(()=>{if(!f)return;E(!0),(async()=>{const C=_i(Oe(ee,"users"),ei("slug","==",f)),O=await un(C);if(O.empty)m(null);else{const j=O.docs[0];m({uid:j.id,...j.data()})}E(!1)})()},[f]),b.useEffect(()=>{if(!h)return;const y=_i(Oe(ee,"products"),ei("ownerId","==",h.uid)),C=Pt(y,O=>{const j=O.docs.map(P=>({id:P.id,...P.data()}));I(j)});return()=>C()},[h]),b.useEffect(()=>{if(!w)return;const y=(B="")=>B.toLowerCase().trim().replace(/\s+/g," "),C={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},O=y(_),j=(C[O]||O).split(" "),P=w.map(B=>{var F,U;if(M&&((F=h.location)!=null&&F.latitude)&&((U=h.location)!=null&&U.longitude)){const z=g(M.lat,M.lng,h.location.latitude,h.location.longitude),{minutes:D}=p(z);return{...B,minutesAway:D}}return{...B,minutesAway:1/0}}).filter(B=>{const F=y(B.name),U=y(B.ingredient),z=y(B.class);return j.some(D=>F.includes(D)||U.includes(D)||z.includes(D))}).sort((B,F)=>B.minutesAway-F.minutesAway);v(P)},[w,_,M,h]),S?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):h===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(i,{}),l.jsxs("h2",{children:[" ",(h==null?void 0:h.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:_,onChange:y=>R(y.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),T.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:T.map(y=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[y.image&&l.jsx("img",{src:y.image,alt:y.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:y.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:y.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",y.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",y.price!==void 0?y.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",h!=null&&h.businessName&&h.businessName.trim()?h.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!s)return alert("Please log in first");const C=Ee(ee,"carts",s.uid),O=await ln(C);let j=O.exists()?O.data().items||[]:[];const P=j.findIndex(B=>B.name===y.name);P>=0?j[P].quantity+=1:j.push({...y,quantity:1}),await or(C,{items:j}),u(y.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),a===y.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),y.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:y.minutesAway<=1?" Right here":` ~${y.minutesAway} mins away`})]},y.id))})]})}function hn(){return typeof window<"u"&&window.innerWidth<=600}function mH(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState("");if(b.useEffect(()=>{async function a(){const u=await un(Oe(ee,"users")),c=[];u.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&c.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(c),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:hn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:hn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{fontSize:hn()?15:16,width:hn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:hn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:hn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:hn()?14:32},children:o.map(a=>l.jsxs(Ba,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:hn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:hn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:hn()?50:80,height:hn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:hn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:hn()?50:80,height:hn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:hn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:hn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:hn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:hn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:hn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const gH=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},yH=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},OS=["admin","medicine-manager","distributor"],NS=["admin","distributor"];function vH(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState("shop"),[o,a]=b.useState([]),[u,c]=b.useState([]),[f,h]=b.useState(""),[m,S]=b.useState(null),[E,w]=b.useState(null);b.useEffect(()=>{if(!navigator.geolocation){S("denied");return}navigator.geolocation.getCurrentPosition(_=>S({lat:_.coords.latitude,lng:_.coords.longitude}),()=>S("denied"))},[]),b.useEffect(()=>{const _=Pt(Oe(ee,"products"),async R=>{const M=await Promise.all(R.docs.map(async N=>{var p,y;const g={id:N.id,...N.data()};if(g.ownerId){const C=Ee(ee,"users",g.ownerId),O=await ln(C);if(O.exists()){const j=O.data();g.businessName=j.businessName||"Unknown Distributor",g.ownerSlug=j.slug||null,g.ownerRole=j.role||null,(p=j.location)!=null&&p.latitude&&((y=j.location)!=null&&y.longitude)&&(g.businessLat=j.location.latitude,g.businessLng=j.location.longitude)}}return g}));a(M.filter(N=>N.ownerRole==="distributor"))});return()=>_()},[]),b.useEffect(()=>{if(o.length===0)return;let _=o;if(f.trim()){const R=f.toLowerCase();_=o.filter(M=>M.name&&M.name.toLowerCase().includes(R)||M.ingredient&&M.ingredient.toLowerCase().includes(R)||M.class&&M.class.toLowerCase().includes(R))}m&&m!=="denied"&&(_=_.map(R=>{if(R.businessLat&&R.businessLng){const M=gH(m.lat,m.lng,R.businessLat,R.businessLng),{minutes:N}=yH(M);return{...R,minutesAway:N}}return{...R,minutesAway:1/0}}),_.sort((R,M)=>R.minutesAway-M.minutesAway)),c(_)},[o,f,m]);const I=async _=>{if(!t)return alert("Please login first");try{const R=Ee(ee,"carts",t.uid),M=await ln(R);let N=[];M.exists()&&(N=M.data().items||[]);const g=N.findIndex(p=>p.id===_.id);g>=0?N[g].quantity+=1:N.push({..._,quantity:1}),await or(R,{items:N}),w(`Added ${_.name} to cart!`),setTimeout(()=>w(null),1500)}catch{alert("Error adding to cart")}};if(b.useEffect(()=>{const _=zn(),R=Dr(_,async M=>{if(!M){e(null),r(null);return}e(M);const N=Ee(ee,"users",M.uid),g=await ln(N);r(g.exists()?g.data().role:null)});return()=>R()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!OS.includes(n)&&!NS.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const T=OS.includes(n),v=NS.includes(n);return i==="shop"&&!T||i==="add"&&!v?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[T&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),v&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&T&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:_=>h(_.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),E&&l.jsx("div",{style:{color:"green",marginBottom:10},children:E}),u.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:u.map(_=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[_.registeredOnly&&_.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),_.image&&l.jsx("img",{src:_.image,alt:_.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:_.name}),l.jsx("p",{children:l.jsx("em",{children:_.ingredient})}),l.jsxs("p",{children:["Class: ",_.class]}),l.jsxs("p",{children:["Price: ",_.price]}),Array.isArray(_.moqs)&&_.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",_.moqs.map((R,M)=>l.jsx("span",{style:{marginRight:8},children:R.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",_.businessName]}),_.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:_.minutesAway<=1?" Right here":` ~${_.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(_),children:"Add to Cart"})]},_.id))})]}),i==="add"&&v&&l.jsx(xH,{user:t,role:n})]})}function xH({user:t,role:e}){const[n,r]=me.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=me.useState([]),[o,a]=me.useState(!1);me.useEffect(()=>{if(e!=="distributor")return;const D=Pt(Oe(ee,"businessRegistrations"),V=>{s(V.docs.filter(W=>W.data().distributorId===t.uid&&W.data().status==="approved").map(W=>W.data()))});return()=>D()},[t,e]);const u=(D,V)=>{const W=n.moqs.map((G,Q)=>Q===D?{type:V.target.value}:G);r({...n,moqs:W})},c=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=D=>{r({...n,moqs:n.moqs.filter((V,W)=>W!==D)})},[h,m]=me.useState(null),[S,E]=me.useState([]),[w,I]=me.useState([]),[T,v]=me.useState([]),[_,R]=me.useState(!1),[M,N]=me.useState(null),[g,p]=me.useState(null);me.useEffect(()=>{if(!t)return;const D=Pt(Oe(ee,"products"),V=>{let W=V.docs.map(G=>({id:G.id,...G.data()}));y()||(W=W.filter(G=>G.ownerId===t.uid)),E(W)});return()=>D()},[t]),me.useEffect(()=>{if(!t)return;const D=Pt(Oe(ee,"batches"),V=>{let W=V.docs.map(G=>({id:G.id,...G.data()}));y()||(W=W.filter(G=>G.uploadedBy===t.uid)),I(W)});return()=>D()},[t]);function y(){var D;return(D=t==null?void 0:t.email)==null?void 0:D.includes("admin")}const C=D=>r({...n,[D.target.name]:D.target.value}),O=async()=>{const D=!n.registeredOnly;if(r({...n,registeredOnly:D}),e==="distributor"&&(t!=null&&t.uid)){const V=Oe(ee,"products"),W=await getDocs(V),G=[];W.docs.forEach(Q=>{if(Q.data().ownerId===t.uid){const se={registeredOnly:D};D?se.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:se.registeredUniqueId=null,G.push(updateDoc(Ee(ee,"products",Q.id),se))}}),await Promise.all(G),window.location.reload()}},j=async D=>{D.preventDefault(),R(!0),p(null),N(null);try{let V=e,W=null,G=null;if(e==="distributor"){const J=Ee(ee,"users",t.uid),se=await ln(J);se.exists()&&(W=se.data().slug||se.data().businessSlug||null),n.registeredOnly&&(G=`${t.uid}_${Date.now()}`)}const Q={...n,ownerId:t.uid,ownerRole:V,ownerSlug:W};G&&(Q.registeredUniqueId=G),h?(await or(Ee(ee,"products",h),Q,{merge:!0}),m(null),N("Medicine updated!")):(await ko(Oe(ee,"products"),Q),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}R(!1)},P=D=>{r({name:D.name,ingredient:D.ingredient,class:D.class,price:D.price,image:D.image||"",moqs:D.moqs||[{type:"sachet",value:"",price:""}]}),m(D.id)},B=async D=>{if(window.confirm("Delete this medicine?")){R(!0);try{await Nr(Ee(ee,"products",D.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}R(!1)}},F=D=>{const V=D.target.files[0];V&&VP.parse(V,{header:!0,skipEmptyLines:!0,complete:W=>{v(W.data)},error:()=>p("Failed to parse CSV")})},U=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!T.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),R(!1);return}R(!0),p(null),N(null);const D=Ee(Oe(ee,"batches")),V=[];let W=e,G=null;if(e==="distributor"){const Q=Ee(ee,"users",t.uid),J=await ln(Q);J.exists()&&(G=J.data().slug||J.data().businessSlug||null)}for(let Q of T)try{let J=[];if(Q.moqs)try{J=JSON.parse(Q.moqs)}catch{}let se=null;e==="distributor"&&Q.registeredOnly===!0&&(se=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const he=await ko(Oe(ee,"products"),{name:Q.name,ingredient:Q.ingredient,class:Q.class,price:parseInt(Q.price,10)||0,image:Q.image||"",batchId:D.id,ownerId:t.uid,ownerRole:W,ownerSlug:G,moqs:J,registeredOnly:!!Q.registeredOnly,...se?{registeredUniqueId:se}:{}});V.push(he.id)}catch{}await or(D,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:V}),N(`${V.length} medicines uploaded`),v([]),R(!1)},z=async D=>{if(window.confirm("Delete this batch and its medicines?")){R(!0);try{for(let V of D.medicineIds)await Nr(Ee(ee,"products",V));await Nr(Ee(ee,"batches",D.id)),N("Batch deleted")}catch{p("Error deleting batch")}R(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(D=>!D),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((D,V)=>{var W,G,Q;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((W=D.businessInfo)==null?void 0:W.businessName)||D.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((G=D.businessInfo)==null?void 0:G.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((Q=D.businessInfo)==null?void 0:Q.phone)||""})]},V)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:j,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:C,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:C,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:C,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:C,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:C,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:O,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((D,V)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:D.type,onChange:W=>u(V,W),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(V),style:{color:"red"},children:""})]},V)),l.jsx("button",{type:"button",onClick:c,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:_,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),T.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:U,disabled:_,children:["Submit CSV (",T.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",y()&&"(All Users)"]}),S.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:S.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:D.ingredient}),l.jsx("td",{children:D.class}),l.jsx("td",{children:D.price}),l.jsx("td",{children:Array.isArray(D.moqs)&&D.moqs.length>0?D.moqs.map((V,W)=>l.jsx("span",{style:{marginRight:8},children:V.type},W)):"-"}),l.jsx("td",{children:D.image&&l.jsx("img",{src:D.image,alt:D.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>P(D),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>B(D),children:"Delete"})]})]},D.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",y()&&"(All Users)"]}),w.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:w.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:new Date(D.date).toLocaleString()}),l.jsx("td",{children:D.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>z(D),children:"Delete Batch"})})]},D.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),g&&l.jsx("div",{style:{color:"red",marginTop:10},children:g})]})}function MS({medics:t}){return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((e,n)=>(n.online===!0)-(e.online===!0)).map(e=>{let n=[];return Array.isArray(e.languages)?n=e.languages:typeof e.languages=="string"&&(n=e.languages.split(",").map(r=>r.trim()).filter(Boolean)),l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:()=>window.open(`https://wa.me/${e.whatsapp}`,"_blank"),children:[l.jsx("span",{title:e.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:e.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:e.photo,alt:e.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:e.name}),l.jsx("div",{children:e.profession}),e.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:e.pharmacyName}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",n.join(", ")]})]},e.id)})})}function _H(){const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState("verify"),[o,a]=b.useState("");return b.useEffect(()=>{(async()=>{let f=(await un(Oe(ee,"verifyMedics"))).docs.map(S=>({id:S.id,...S.data()}));(await un(Oe(ee,"users"))).docs.forEach(S=>{const E=S.data();E.role==="medicine-manager"&&E.pharmacist&&f.push({...E.pharmacist,id:S.id,online:!0})}),e(f);const m=await un(Oe(ee,"consultMedics"));r(m.docs.map(S=>({id:S.id,...S.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:" Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:u=>a(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(MS,{medics:t.filter(u=>{var m,S;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((S=u.pharmacyName)==null?void 0:S.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(MS,{medics:n.filter(u=>{var m,S;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((S=u.pharmacyName)==null?void 0:S.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]})]})}const As=()=>typeof window<"u"&&window.innerWidth<=600,gg="/pharmastack-logo.png",LS="pharmastack-config",yg="navbarLogoUrl";function bH(t){return t==="admin"}const wH={background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderBottom:"1px solid #e0e7ff",boxShadow:"0 2px 8px #c7d2fe22",position:"sticky",top:0,zIndex:1e3,width:"100%"},SH=()=>({maxWidth:1200,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:As()?"0 8px":"0 24px",height:As()?54:70,flexWrap:As()?"wrap":"nowrap"}),EH={display:"flex",alignItems:"center",height:"100%",marginLeft:0},TH=()=>({display:"flex",alignItems:"center",gap:As()?8:24,flexGrow:1,justifyContent:"center",flexWrap:As()?"wrap":"nowrap",fontSize:As()?13:16}),CH={display:"flex",alignItems:"center",gap:10,justifyContent:"flex-end",minWidth:120},IH={color:"#2d3748",textDecoration:"none",fontWeight:600,fontSize:As()?13:16,padding:As()?"6px 8px":"8px 14px",borderRadius:8,transition:"background 0.2s, color 0.2s"},kH={color:"#014d4e",borderBottom:"2px solid #014d4e"},DS={fontWeight:900,fontSize:22,color:"#6366f1",letterSpacing:1.2,display:"flex",alignItems:"center",gap:8,textDecoration:"none"},$S={height:120,display:"block",objectFit:"contain",cursor:"pointer",borderRadius:5,background:"transparent"};function Hr({to:t,children:e,...n}){const i=Do().pathname===t;return l.jsx(Ba,{to:t,style:{...IH,...i?kH:{}},...n,children:e})}function RH(){var v,_;const[t,e]=b.useState(!1),[n,r]=b.useState(gg),[i,s]=b.useState(!1),o=b.useRef(),a=((v=zn().currentUser)==null?void 0:v.email)||"",u=((_=a[0])==null?void 0:_.toUpperCase())||"?";b.useEffect(()=>{(async()=>{try{const M=await ln(Ee(ee,"config",LS));M.exists()&&M.data()[yg]?r(M.data()[yg]):r(gg)}catch{r(gg)}})()},[]);const c=async R=>{const M=R.target.files&&R.target.files[0];if(M){s(!0);try{const N=new FileReader;N.onload=async g=>{const p=g.target.result;await or(Ee(ee,"config",LS),{[yg]:p},{merge:!0}),r(p),s(!1)},N.readAsDataURL(M)}catch{alert("Logo upload failed. Please try again."),s(!1)}}};Us();const[f,h]=b.useState(0),[m,S]=b.useState(null);b.useEffect(()=>{const R=zn();let M=null;const N=Dr(R,g=>{if(M&&M(),g){const p=Ee(ee,"carts",g.uid);M=Pt(p,y=>{if(y.exists()){const C=y.data().items||[];h(C.length)}else h(0)})}else h(0)});return()=>{N(),M&&M()}},[]);const I=Do().pathname.match(/^\/store\/([^\/]+)/),T=I?I[1]:null;return b.useEffect(()=>{const R=zn(),M=Dr(R,async N=>{if(N){const g=await ln(Ee(ee,"users",N.uid));S(g.exists()?g.data().role:null)}else S(null)});return()=>M()},[]),l.jsx("nav",{style:wH,children:l.jsxs("div",{style:SH(),children:[l.jsx("div",{style:EH,children:bH(m)?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"file",accept:"image/*",ref:o,style:{display:"none"},onChange:c,disabled:i}),l.jsx(Ba,{to:"/",style:DS,onClick:R=>{R.preventDefault(),i||o.current.click()},children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:{...$S,border:i?"2px solid #fbbf24":"2px dashed #b3e5fc",opacity:i?.5:1},title:i?"Uploading...":"Click to upload new logo"})})]}):l.jsx(Ba,{to:"/",style:DS,children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:$S})})}),l.jsx("div",{style:TH(),children:m!=="delivery-agent"&&l.jsxs(l.Fragment,{children:[T?l.jsxs(l.Fragment,{children:[l.jsx(Hr,{to:`/store/${T}`,children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Hr,{to:`/store/${T}/cart`,children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Hr,{to:"/shop",children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Hr,{to:"/cart",children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}),l.jsx(Hr,{to:"/orders",children:"Orders"}),m!=="medicine-manager"&&l.jsx(Hr,{to:"/medinterface",children:"Medinterface"}),!T&&m&&m!=="customer"&&l.jsxs(l.Fragment,{children:[(m==="medicine-manager"||m==="admin"||m==="delivery-agent")&&l.jsx(Hr,{to:"/add-medicine",children:"Add Medicine"}),m==="admin"&&l.jsx(Hr,{to:"/admin",children:"Admin"}),(m==="delivery-agent"||m==="admin")&&l.jsx(Hr,{to:"/agents",children:"All Agents"})]})]})}),l.jsx("div",{style:CH,children:m?l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("div",{onClick:()=>e(!t),style:{width:38,height:38,borderRadius:"50%",background:"#00796b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},title:a,children:u}),l.jsx("button",{onClick:async()=>{await zn().signOut(),window.location.href="/pharmastack/#/auth"},style:{width:38,height:38,borderRadius:"50%",background:"#e53935",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",border:"none",marginLeft:0,cursor:"pointer",fontSize:18,boxShadow:"0 2px 6px rgba(0,0,0,0.1)",transition:"background 0.2s"},title:"Sign Out",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M13.5 13.5L17 10M17 10L13.5 6.5M17 10H7",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round"})]})})]}),t&&l.jsxs("div",{style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:a}),l.jsx("button",{onClick:async()=>{await zn().signOut(),window.location.href="/pharmastack/#/auth"},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Hr,{to:"/auth",children:"Login"}),l.jsx(Hr,{to:"/auth",children:"Signup"})]})})]})})}function PH(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState("");function o(q){if(!i.trim())return q;const ie=i.trim().toLowerCase();return q.filter(H=>{var _e,Qe,be,Ve,ke,Ge,it,lt,Ne,pt,Ie,Ue,Me,Te,yt,kt;const le=(((_e=S[H.userId])==null?void 0:_e.email)||"").toLowerCase(),Z=(H.items&&H.items[0]&&((Qe=c[H.items[0].ownerId])==null?void 0:Qe.name)||"").toLowerCase(),ne=((((be=H.deliveryInfo)==null?void 0:be.address)||"")+" "+(((Ve=H.deliveryInfo)==null?void 0:Ve.city)||"")+" "+(((ke=H.deliveryInfo)==null?void 0:ke.state)||"")).toLowerCase(),fe=H.items&&H.items[0]&&((((Ge=c[H.items[0].ownerId])==null?void 0:Ge.address)||"")+" "+(((it=c[H.items[0].ownerId])==null?void 0:it.city)||"")+" "+(((lt=c[H.items[0].ownerId])==null?void 0:lt.state)||"")).toLowerCase()||"",pe=[(Ne=H.deliveryInfo)==null?void 0:Ne.lat,(pt=H.deliveryInfo)==null?void 0:pt.lng,(Me=c[(Ue=(Ie=H.items)==null?void 0:Ie[0])==null?void 0:Ue.ownerId])==null?void 0:Me.lat,(kt=c[(yt=(Te=H.items)==null?void 0:Te[0])==null?void 0:yt.ownerId])==null?void 0:kt.lng].filter(Boolean).join(",").toLowerCase(),ve=(H.items||[]).map(Ye=>Ye.name).join(", ").toLowerCase();return le.includes(ie)||Z.includes(ie)||ne.includes(ie)||fe.includes(ie)||pe.includes(ie)||ve.includes(ie)})}const[a,u]=me.useState("processing"),[c,f]=b.useState({});b.useEffect(()=>{const q=Pt(Oe(ee,"users"),ie=>{const H={};ie.docs.forEach(le=>{const Z=le.data();Z.role==="medicine-manager"&&(H[le.id]={name:Z.businessName||le.id,address:Z.businessAddress||Z.address||"-",lat:Z.lat||Z.latitude||null,lng:Z.lng||Z.longitude||null})}),f(H)});return()=>q()},[]);const[h,m]=b.useState(!0);b.useEffect(()=>{const q=zn(),ie=Dr(q,H=>{e(H),m(!1)});return()=>ie()},[]),b.useEffect(()=>{if(h||!t)return;const q=Pt(Oe(ee,"orders"),ie=>{const Z=ie.docs.map(ne=>({id:ne.id,...ne.data()})).filter(ne=>ne.status==="Processing"&&!ne.assignedAgentId&&ne.deliveryType&&ne.deliveryType.toLowerCase()==="express").filter(ne=>!n.includes(ne.id));Z.length>0&&(Z.forEach(ne=>{Se.info(` New express delivery order! Order ID: ${ne.id}`)}),r(ne=>[...ne,...Z.map(fe=>fe.id)]))});return()=>q()},[h,t,n]);const[S,E]=b.useState({});b.useEffect(()=>{const q=Pt(Oe(ee,"users"),ie=>{const H={};ie.docs.forEach(le=>{const Z=le.data();H[le.id]=Z.email||le.id}),E(H)});return()=>q()},[]);const[w,I]=b.useState([]),[T,v]=b.useState([]),[_,R]=b.useState([]),[M,N]=b.useState(()=>{const q=localStorage.getItem("agentCanceledOrders");return q?JSON.parse(q):[]}),[g,p]=b.useState({}),[y,C]=b.useState({}),[O,j]=b.useState(null),{slug:P}=Lh(),[B,F]=b.useState(null),[U,z]=b.useState(!1),[D,V]=b.useState(!0),[W,G]=b.useState("availability");b.useEffect(()=>{if(h||!t)return;const q=Pt(Oe(ee,"orders"),ie=>{const H=ie.docs.map(le=>({id:le.id,...le.data()}));I(H.filter(le=>le.status==="Completed"&&le.assignedAgentId===t.uid)),R(H.filter(le=>le.status==="In-Progress"&&le.assignedAgentId===t.uid)),v(H.filter(le=>le.status==="Processing"&&!le.assignedAgentId&&!M.some(Z=>Z.id===le.id)&&le.deliveryType&&le.deliveryType.toLowerCase()==="express"))});return()=>q()},[h,t,M]);const Q=async q=>{j(q);try{await rn(Ee(ee,"orders",q),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:B.slug,assignedAgentName:B.companyName,companyName:B.companyName,agentPhoneNumber:B.phoneNumber||"",agentWhatsappNumber:B.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),Se.success("Order accepted!")}catch{Se.error("Failed to accept order")}j(null)},J=async q=>{try{await rn(Ee(ee,"orders",q),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),Se.success("Order marked as delivered!")}catch{Se.error("Failed to mark as delivered")}},se=async q=>{try{await rn(Ee(ee,"orders",q),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),Se.info("Order moved back to processing.")}catch{Se.error("Failed to move order back to processing")}},he=q=>{const ie=T.find(H=>H.id===q)||_.find(H=>H.id===q);ie&&(N(H=>{const le=[...H,ie];return localStorage.setItem("agentCanceledOrders",JSON.stringify(le)),le}),u("canceled"))};b.useEffect(()=>{const q=ie=>{ie.key==="agentCanceledOrders"&&N(ie.newValue?JSON.parse(ie.newValue):[])};return window.addEventListener("storage",q),()=>window.removeEventListener("storage",q)},[]);const ge=async()=>{if(B){z(!0);try{const q=Ee(ee,"deliveryAgents",B.id);await rn(q,{available:!B.available}),F({...B,available:!B.available}),Se.success("Availability updated.")}catch{Se.error("Failed to update availability")}z(!1)}};return b.useEffect(()=>{async function q(){V(!0);const H=(await un(Oe(ee,"deliveryAgents"))).docs.map(ne=>ne.data());console.log("All agent slugs:",H.map(ne=>ne.slug));const le=_i(Oe(ee,"deliveryAgents"),ei("slug","==",P),ei("approved","==",!0)),Z=await un(le);Z.empty?F(null):F({id:Z.docs[0].id,...Z.docs[0].data()}),V(!1)}q()},[P]),D||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):B?!t||t.uid!==B.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:B.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:B.companyName}),l.jsxs("div",{children:["Phone: ",B.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",B.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",B.rcNumber]}),l.jsxs("div",{children:["Address: ",B.businessAddress]}),l.jsxs("div",{children:["Email: ",B.email]}),l.jsxs("div",{children:["Coverage: ",B.coverageArea]}),l.jsxs("div",{children:["Hours: ",B.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:W==="availability"?"2px solid #1976d2":"1px solid #ccc",background:W==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>G("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:W==="orders"?"2px solid #1976d2":"1px solid #ccc",background:W==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>G("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[W==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",B.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:ge,disabled:U,children:B.available?"Set Not Available":"Set Available"})]})]}),W==="orders"&&(B.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:q=>s(q.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>u("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>u("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>u("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>u("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(M).map(q=>{var ie;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const H=c[q.items[0].ownerId],le=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:H.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),H.lat&&H.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||S[q.userId]||q.userId}),(()=>{const H=q.deliveryInfo||{},le=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),H.lat&&H.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]}):S[q.userId]&&S[q.userId].lat&&S[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[q.userId].lat,", ",S[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ie=q.items)==null?void 0:ie.map(H=>`${H.name} x${H.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},q.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(T).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(T).map(q=>{var ie;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof q.deliveryType," | ",JSON.stringify(q.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const H=c[q.items[0].ownerId],le=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:H.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),H.lat&&H.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||S[q.userId]||q.userId}),(()=>{const H=q.deliveryInfo||{},le=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;let ne=H.lat,fe=H.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),ne&&fe?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ne,", ",fe]}):S[q.userId]&&S[q.userId].lat&&S[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[q.userId].lat,", ",S[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ie=q.items)==null?void 0:ie.map(H=>`${H.name} x${H.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>Q(q.id),disabled:O===q.id,children:O===q.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>he(q.id),children:"Cancel Order"})]})]},q.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(_).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(_).map(q=>{var Z;const ie=!!g[q.id],H=!!y[q.id],le=async()=>{await J(q.id),p(ne=>({...ne,[q.id]:!0})),C(ne=>({...ne,[q.id]:!0})),setTimeout(()=>C(ne=>({...ne,[q.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const ne=c[q.items[0].ownerId],fe=`${ne.address||""}, ${ne.city||""}, ${ne.state||""}`,pe=!ne.address&&!ne.city&&!ne.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:ne.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:pe?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):fe}),ne.lat&&ne.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",ne.lat,", ",ne.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||S[q.userId]||q.userId}),(()=>{const ne=q.deliveryInfo||{},fe=`${ne.address||""}, ${ne.city||""}, ${ne.state||""}`,pe=!ne.address&&!ne.city&&!ne.state;let ve=ne.lat,_e=ne.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:pe?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):fe}),ve&&_e?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ve,", ",_e]}):S[q.userId]&&S[q.userId].lat&&S[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[q.userId].lat,", ",S[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(Z=q.items)==null?void 0:Z.map(ne=>`${ne.name} x${ne.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ie?"not-allowed":"pointer",opacity:ie?.5:1},onClick:le,disabled:ie,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ie?"not-allowed":"pointer",opacity:ie?.5:1},onClick:()=>se(q.id),disabled:ie,children:"Failed"})]}),H&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),ie&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},q.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(w).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(w).map(q=>{var ie;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const H=c[q.items[0].ownerId],le=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:H.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),H.lat&&H.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||S[q.userId]||q.userId}),(()=>{const H=q.deliveryInfo||{},le=`${H.address||""}, ${H.city||""}, ${H.state||""}`,Z=!H.address&&!H.city&&!H.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),H.lat&&H.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",H.lat,", ",H.lng]}):S[q.userId]&&S[q.userId].lat&&S[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[q.userId].lat,", ",S[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ie=q.items)==null?void 0:ie.map(H=>`${H.name} x${H.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",q.completedAt?new Date(q.completedAt).toLocaleString():"-"]})]},q.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function FS(){const[t,e]=b.useState([]),[n,r]=b.useState(!0);return b.useEffect(()=>{async function i(){r(!0);const s=_i(Oe(ee,"deliveryAgents"),ei("approved","==",!0)),o=await un(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(Ba,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const AH=Ix({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});wg.createRoot(document.getElementById("root")).render(l.jsx(me.StrictMode,{children:l.jsxs(xB,{theme:AH,children:[l.jsx(A7,{}),l.jsx(pN,{children:l.jsxs(l.Fragment,{children:[l.jsx(RH,{}),l.jsx(jH,{}),l.jsxs(aN,{children:[l.jsx(gn,{path:"/agent/:slug",element:l.jsx(PH,{})}),l.jsx(gn,{path:"/agents",element:l.jsx(FS,{})}),l.jsx(gn,{path:"/",element:l.jsx(g7,{})}),l.jsx(gn,{path:"/shop",element:l.jsx(v7,{})}),l.jsx(gn,{path:"/cart",element:l.jsx($P,{})}),l.jsx(gn,{path:"/auth",element:l.jsx(E7,{})}),l.jsx(gn,{path:"/orders",element:l.jsx(_7,{})}),l.jsx(gn,{path:"/add-medicine",element:l.jsx(C7,{})}),l.jsx(gn,{path:"/payment",element:l.jsx(aH,{})}),l.jsx(gn,{path:"/admin",element:l.jsx(cH,{})}),l.jsx(gn,{path:"/store",element:l.jsx(mH,{})}),l.jsx(gn,{path:"/store/:slug",element:l.jsx(pH,{})}),l.jsx(gn,{path:"/store/:slug/cart",element:l.jsx(hH,{})}),l.jsx(gn,{path:"/restock",element:l.jsx(vH,{})}),l.jsx(gn,{path:"/medinterface",element:l.jsx(_H,{})}),l.jsx(gn,{path:"/businesses",element:l.jsx(y4,{})}),l.jsx(gn,{path:"/agents",element:l.jsx(FS,{})})]}),l.jsx(f2,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function jH(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=Us();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
